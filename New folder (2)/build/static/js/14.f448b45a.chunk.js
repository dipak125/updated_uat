(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[14],{1178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(a(398)),r=d(a(1179)),l=d(a(400)),o=d(a(401)),c=d(a(402));function d(e){return e&&e.__esModule?e:{default:e}}var s={code:"en-GB",formatDistance:n.default,formatLong:r.default,formatRelative:l.default,localize:o.default,match:c.default,options:{weekStartsOn:1,firstWeekContainsDate:4}};t.default=s,e.exports=t.default},1179:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=a(399))&&n.__esModule?n:{default:n};var l={date:(0,r.default)({formats:{full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:(0,r.default)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,r.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=l,e.exports=t.default},1344:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a.n(n),l=a(72),o=a(12),c=a(949),d=a(0),s=a.n(d),i=a(31),u=a(903),m=a(904),p=a(913),f=a(375),_=(a(95),a(19)),b=a.n(_),g=a(34),v=a(918),h=a(7),E=a(20),y=a(26),M=a(10),w=a(3),O=a.n(w),j=(a(48),a(2)),D=a(1),N=a(41),S=a.n(N),F=a(1178),Y=a.n(F);Object(N.registerLocale)("enGb",Y.a);var C={start_date:new Date,end_date:new Date,report_range:1},H=D.object().shape({start_date:D.date().required("Please Select date or Month"),account_list:D.string().required("please choose account")}),A=function(e){return O()(e).format("DD-MM-YYYY HH:mm:ss")},x=function(e,t,a,n){return t.prev_balance+t.credit},T=function(e,t,a,n){return t.prev_balance+t.credit-t.debit};t.default=Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))((function(e){var t="",a=Object(d.useRef)("table"),n=Object(d.useState)({search_flag:1,Account_list:[],user_id:"",total:[],policyHolder:[],size:"",download:0,download_path:""}),_=Object(c.a)(n,2),E=_[0],y=_[1];Object(d.useEffect)((function(){var e=new FormData,t=new M.a,a=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",n=a?JSON.parse(t.decrypt(a.user)):"";e.append("user_id",n.master_user_id),h.a.post("acd/acd-accounts",e).then((function(e){y(Object(o.a)(Object(o.a)({},E),{},{Account_list:e.data.data}))})).catch((function(e){return console.log("err")}))}),[]);var w=E.search_flag,D=function(e,t,a){var n=E.search_flag;if(1==n){var r=e,l=e;t("start_date"),a("start_date",r),t("end_date"),a("end_date",l)}else if(2==n){var o=e,c=new Date(O()(o).add(6,"day"));t("start_date"),a("start_date",o),t("end_date"),a("end_date",c)}else if(3==n){var d=e,s=d.getMonth()+1;if(1==s||3==s||5==s||7==s||8==s||10==s||12==s)s=31;else if(2!=s)s=30;else{var i=d.getFullYear();s=i%4==0?29:28,console.log("leep",i%4,i)}var u=new Date(O()(d).add(s-1,"day"));t("start_date"),a("start_date",d),t("end_date"),a("end_date",u)}else{var m=(new Date).getFullYear(),p=new Date("".concat(m," ").concat(e," 01")),f=new Date(p.getFullYear(),p.getMonth()+1,0);t("start_date"),a("start_date",p),t("end_date"),a("end_date",f)}},N={page:parseInt(E.page?E.page:1),sizePerPage:10,paginationShowsTotal:function(e,t,a){return e=e||0,t=t||0,a=a||0,s.a.createElement("p",{style:{color:"blue"}},"From ".concat(e," to ").concat(t," , total is ").concat(a))},prePage:"Prev",nextPage:"Next",hideSizePerPage:!0,remote:!0,showTotal:!0,onPageChange:function(e,t){var a=10*e-10;y(Object(o.a)(Object(o.a)({},E),{},{policyHolder:E.total.slice(a,a+10),page:e}))}},F=function(){var a=Object(l.a)(r.a.mark((function a(){var n,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t?(n="".concat(t),e.loadingStart(),(l=document.createElement("a")).style.display="none",l.href=n,document.body.appendChild(l),l.click(),e.loadingStop()):b()("Unable to download");case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return s.a.createElement(i.a,null,s.a.createElement("div",{className:"page-wrapper"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("aside",{className:"left-sidebar"},s.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},s.a.createElement(g.a,null))),s.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox breakin"},s.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),s.a.createElement("div",{className:"contBox m-b-45 tickedTable"},s.a.createElement("h4",{className:"text-center mt-3 mb-3"},"ACD Account report"),s.a.createElement(j.e,{initialValues:C,onSubmit:function(e){if(1==E.download){var a=new FormData;a.append("user_id",E.user_id),a.append("from_date",O()(e.start_date).format("YYYY-MM-DD")),a.append("to_date",O()(e.end_date).format("YYYY-MM-DD")),h.a.post("acd/acd-statement-download",a).then((function(e){t=e.data.data.uploded_path,F()})).catch((function(e){console.log("error")})),y(Object(o.a)(Object(o.a)({},E),{},{download:0}))}else{var n=new FormData;n.append("user_id",E.user_id),n.append("from_date",O()(e.start_date).format("YYYY-MM-DD")),n.append("to_date",O()(e.end_date).format("YYYY-MM-DD")),h.a.post("acd/acd-statement",n).then((function(e){y(Object(o.a)(Object(o.a)({},E),{},{total:e.data.data,size:e.data.data.length,policyHolder:e.data.data.slice(0,10)}))})).catch((function(e){}))}},validationSchema:H},(function(e){var t=e.values,a=e.errors,n=e.setFieldValue,r=e.setFieldTouched,l=(e.isValid,e.isSubmitting,e.touched);e.submitForm;return console.log("touched",a),s.a.createElement(j.d,null,s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:6,md:5,lg:5},s.a.createElement(p.a,{className:"dashboard-date"},s.a.createElement("div",{className:"formSection"},s.a.createElement(j.b,{name:"report_range",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.report_range?t.report_range:"",onChange:function(e){r("report_range"),n("report_range",e.target.value),function(e,t,a){t("start_date"),a("start_date"),y(1==e?Object(o.a)(Object(o.a)({},E),{},{search_flag:1}):2==e?Object(o.a)(Object(o.a)({},E),{},{search_flag:2}):3==e?Object(o.a)(Object(o.a)({},E),{},{search_flag:3}):Object(o.a)(Object(o.a)({},E),{},{search_flag:4}))}(e.target.value,n,r)}},s.a.createElement("option",{value:"1"},"Daily"),s.a.createElement("option",{value:"2"},"Weekly"),s.a.createElement("option",{value:"3"},"DateMonth"),s.a.createElement("option",{value:"4"},"Monthly")),a.report_range&&l.report_range?s.a.createElement("span",{className:"errorMsg"},a.report_range):null))),s.a.createElement(m.a,{sm:6,md:5,lg:6},s.a.createElement(p.a,{className:"dashboard-date"},"4"!=t.report_range?s.a.createElement("div",null,s.a.createElement(S.a,{name:"start_date",locale:"enGb",selected:t.start_date,dateFormat:"yyyy MMM dd",dropdownMode:"select",showMonthDropdown:3==w,className:"datePckr inputfs12",startDate:t.start_date,endDate:t.end_date,selectsRange:!0,disabledKeyboardNavigation:!0,onChange:function(e){D(e,r,n)}}),(a.start_date&&l.start_date,s.a.createElement("span",{className:"errorMsg"},a.start_date))):s.a.createElement("div",{className:"formSection"},s.a.createElement(j.b,{name:"report_month",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.report_month,onChange:function(e){r("report_month"),n("report_month",e.target.value),D(e.target.value,r,n)}},s.a.createElement("option",{value:""},"Select Month"),s.a.createElement("option",{value:"1"},"January"),s.a.createElement("option",{value:"2"},"February"),s.a.createElement("option",{value:"3"},"March"),s.a.createElement("option",{value:"4"},"April"),s.a.createElement("option",{value:"5"},"May"),s.a.createElement("option",{value:"6"},"June"),s.a.createElement("option",{value:"7"},"July"),s.a.createElement("option",{value:"8"},"August"),s.a.createElement("option",{value:"9"},"September"),s.a.createElement("option",{value:"10"},"October"),s.a.createElement("option",{value:"11"},"November"),s.a.createElement("option",{value:"12"},"December")),a.start_date&&l.start_date?s.a.createElement("span",{className:"errorMsg"},a.start_date):null)),s.a.createElement(f.a,{type:"submit"},"Fetch")," \xa0\xa0",s.a.createElement(f.a,{type:"submit",onClick:function(){return E.download=1}},"Download")),s.a.createElement(m.a,{sm:6,md:5,lg:5},s.a.createElement(p.a,{className:"dashboard-date"},s.a.createElement("div",{className:"formSection"},s.a.createElement(j.b,{name:"account_list",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.account_list?t.account_list:"",onChange:function(e){r("account_list"),n("account_list",e.target.value),y(Object(o.a)(Object(o.a)({},E),{},{user_id:e.target.value}))}},s.a.createElement("option",{value:""},"Select account no"),E.Account_list&&E.Account_list.map((function(e){return s.a.createElement("option",{value:e.user_id},"".concat(e.account_number," (").concat(e.intermediary_name,")"))}))),a.account_list&&l.account_list?s.a.createElement("span",{className:"errorMsg"},a.account_list):null)))))})),s.a.createElement("br",null),s.a.createElement("br",null),E.policyHolder?s.a.createElement("div",{className:"customInnerTable dataTableCustom"},s.a.createElement(v.BootstrapTable,{ref:a,data:E.policyHolder,pagination:!0,options:N,remote:!0,fetchInfo:{dataTotalSize:E.size},wrapperClasses:"table-responsive"},s.a.createElement(v.TableHeaderColumn,{width:"195px",dataField:"created_at",dataAlign:"center",dataFormat:A,isKey:!0},"Date"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"prev_balance",dataAlign:"center"},"Balance"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"credit",dataAlign:"center"},"Amount Added"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"title",dataAlign:"center",dataFormat:x},"Total"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"debit",dataAlign:"center"},"Policy Amount"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"batch_no",dataAlign:"center"},"Batch No"),s.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"title",dataAlign:"center",dataFormat:T},"Avilable Balance"))):null))))))}))},949:function(e,t,a){"use strict";var n=a(250);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(d){r=!0,l=d}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))}}]);