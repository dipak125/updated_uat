(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8,9],{1009:function(e,t,a){"use strict";var n=a(5),r=a(11),l=a(27),c=a.n(l),i=(a(931),a(0)),s=a.n(i),o=a(100),m=a(32),u=a(243),d=a(928),p=a(69),f=a(242),v=a(74),E=a(240),b=a(83),g=a(922),h=function(){},y=s.a.forwardRef((function(e,t){var a,l,c=e.as,o=void 0===c?"ul":c,m=e.onSelect,u=e.activeKey,d=e.role,y=e.onKeyDown,k=Object(r.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),N=Object(f.a)(),S=Object(i.useRef)(!1),x=Object(i.useContext)(b.a),O=Object(i.useContext)(g.a);O&&(d=d||"tablist",u=O.activeKey,a=O.getControlledId,l=O.getControllerId);var _=Object(i.useRef)(null),w=function(e){var t=_.current;if(!t)return null;var a=Object(p.a)(t,"[data-rb-event-key]:not(.disabled)"),n=t.querySelector(".active");if(!n)return null;var r=a.indexOf(n);if(-1===r)return null;var l=r+e;return l>=a.length&&(l=0),l<0&&(l=a.length-1),a[l]},j=function(e,t){null!=e&&(m&&m(e,t),x&&x(e,t))};Object(i.useEffect)((function(){if(_.current&&S.current){var e=_.current.querySelector("[data-rb-event-key].active");e&&e.focus()}S.current=!1}));var C=Object(v.a)(t,_);return s.a.createElement(b.a.Provider,{value:j},s.a.createElement(E.a.Provider,{value:{role:d,activeKey:Object(b.b)(u),getControlledId:a||h,getControllerId:l||h}},s.a.createElement(o,Object(n.a)({},k,{onKeyDown:function(e){var t;switch(y&&y(e),e.key){case"ArrowLeft":case"ArrowUp":t=w(-1);break;case"ArrowRight":case"ArrowDown":t=w(1);break;default:return}t&&(e.preventDefault(),j(t.dataset.rbEventKey,e),S.current=!0,N())},ref:C,role:d}))))})),k=s.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,i=e.children,o=e.as,u=void 0===o?"div":o,d=Object(r.a)(e,["bsPrefix","className","children","as"]);return a=Object(m.a)(a,"nav-item"),s.a.createElement(u,Object(n.a)({},d,{ref:t,className:c()(l,a)}),i)}));k.displayName="NavItem";var N=k,S=a(140),x=a(35),O=(a(79),s.a.forwardRef((function(e,t){var a=e.active,l=e.className,o=e.eventKey,m=e.onSelect,u=e.onClick,d=e.as,p=Object(r.a)(e,["active","className","eventKey","onSelect","onClick","as"]),f=Object(b.b)(o,p.href),v=Object(i.useContext)(b.a),g=Object(i.useContext)(E.a),h=a;if(g){p.role||"tablist"!==g.role||(p.role="tab");var y=g.getControllerId(f),k=g.getControlledId(f);p["data-rb-event-key"]=f,p.id=y||p.id,p["aria-controls"]=k||p["aria-controls"],h=null==a&&null!=f?g.activeKey===f:a}"tab"===p.role&&(p.disabled&&(p.tabIndex=-1,p["aria-disabled"]=!0),p["aria-selected"]=h);var N=Object(x.a)((function(e){u&&u(e),null!=f&&(m&&m(f,e),v&&v(f,e))}));return s.a.createElement(d,Object(n.a)({},p,{ref:t,onClick:N,className:c()(l,h&&"active")}))})));O.defaultProps={disabled:!1};var _=O,w={disabled:!1,as:S.a},j=s.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.disabled,i=e.className,o=e.href,u=e.eventKey,d=e.onSelect,p=e.as,f=Object(r.a)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return a=Object(m.a)(a,"nav-link"),s.a.createElement(_,Object(n.a)({},f,{href:o,ref:t,eventKey:u,as:p,disabled:l,onSelect:d,className:c()(i,a,l&&"disabled")}))}));j.displayName="NavLink",j.defaultProps=w;var C=j,I=s.a.forwardRef((function(e,t){var a,l,p,f=Object(o.a)(e,{activeKey:"onSelect"}),v=f.as,E=void 0===v?"div":v,b=f.bsPrefix,g=f.variant,h=f.fill,k=f.justify,N=f.navbar,S=f.className,x=f.children,O=f.activeKey,_=Object(r.a)(f,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]),w=Object(m.a)(b,"nav"),j=!1,C=Object(i.useContext)(u.a),I=Object(i.useContext)(d.a);return C?(l=C.bsPrefix,j=null==N||N):I&&(p=I.cardHeaderBsPrefix),s.a.createElement(y,Object(n.a)({as:E,ref:t,activeKey:O,className:c()(S,(a={},a[w]=!j,a[l+"-nav"]=j,a[p+"-"+g]=!!p,a[w+"-"+g]=!!g,a[w+"-fill"]=h,a[w+"-justified"]=k,a))},_),x)}));I.displayName="Nav",I.defaultProps={justify:!1,fill:!1},I.Item=N,I.Link=C;t.a=I},1010:function(e,t,a){"use strict";var n=a(33),r=a(0),l=a.n(r),c=a(100),i=a(922),s=a(83),o=function(e){var t=Object(c.a)(e,{activeKey:"onSelect"}),a=t.id,n=t.generateChildId,o=t.onSelect,m=t.activeKey,u=t.transition,d=t.mountOnEnter,p=t.unmountOnExit,f=t.children,v=Object(r.useMemo)((function(){return n||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,n]),E=Object(r.useMemo)((function(){return{onSelect:o,activeKey:m,transition:u,mountOnEnter:d||!1,unmountOnExit:p||!1,getControlledId:function(e){return v(e,"tabpane")},getControllerId:function(e){return v(e,"tab")}}}),[o,m,u,d,p,v]);return l.a.createElement(i.a.Provider,{value:E},l.a.createElement(s.a.Provider,{value:o||null},f))},m=a(5),u=a(11),d=a(27),p=a.n(d),f=a(32),v=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.as,r=void 0===n?"div":n,c=e.className,i=Object(u.a)(e,["bsPrefix","as","className"]),s=Object(f.a)(a,"tab-content");return l.a.createElement(r,Object(m.a)({ref:t},i,{className:p()(c,s)}))})),E=a(113);var b=l.a.forwardRef((function(e,t){var a=function(e){var t=Object(r.useContext)(i.a);if(!t)return e;var a=t.activeKey,n=t.getControlledId,l=t.getControllerId,c=Object(u.a)(t,["activeKey","getControlledId","getControllerId"]),o=!1!==e.transition&&!1!==c.transition,d=Object(s.b)(e.eventKey);return Object(m.a)({},e,{active:null==e.active&&null!=d?Object(s.b)(a)===d:e.active,id:n(e.eventKey),"aria-labelledby":l(e.eventKey),transition:o&&(e.transition||c.transition||E.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:c.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:c.unmountOnExit})}(e),n=a.bsPrefix,c=a.className,o=a.active,d=a.onEnter,v=a.onEntering,b=a.onEntered,g=a.onExit,h=a.onExiting,y=a.onExited,k=a.mountOnEnter,N=a.unmountOnExit,S=a.transition,x=a.as,O=void 0===x?"div":x,_=(a.eventKey,Object(u.a)(a,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),w=Object(f.a)(n,"tab-pane");if(!o&&!S&&N)return null;var j=l.a.createElement(O,Object(m.a)({},_,{ref:t,role:"tabpanel","aria-hidden":!o,className:p()(c,w,{active:o})}));return S&&(j=l.a.createElement(S,{in:o,onEnter:d,onEntering:v,onEntered:b,onExit:g,onExiting:h,onExited:y,mountOnEnter:k,unmountOnExit:N},j)),l.a.createElement(i.a.Provider,{value:null},l.a.createElement(s.a.Provider,{value:null},j))}));b.displayName="TabPane";var g=b,h=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(l.a.Component);h.Container=o,h.Content=v,h.Pane=g;t.a=h},1011:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),l=a(18),c=a(17),i=a(0),s=a.n(i),o=(a(31),a(375)),m=a(10),u=a(3),d=a.n(u),p=a(52),f=a.n(p),v=a(72),E=(a(34),a(903)),b=a(904),g=a(913),h=a(26),y=a(20),k=(a(948),a(2)),N=(a(40),a(1)),S=a(7),x=a(19),O=a.n(x),_=a(971),w=a.n(_),j=(a(986),N.object().shape({description:N.string().required("Issue Summery is required").min(5,(function(){return"Minimum 5 characters required"})).max(1e3,(function(){return"Characters limit exceeds 1000"})).matches(/^[A-Za-z0-9\s.,-]*$/,"Invalid characters"),fileSize:N.string().test("filesize",(function(){return"Max file size below 4MB"}),(function(e){return!(e&&e>4194304)}))})),C=function(e){Object(l.a)(i,e);var t=Object(c.a)(i);function i(){var e;Object(n.a)(this,i);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={helpMasterList:[],details:[]},e.getDetails=function(){var t=new FormData;t.append("ticket_id",e.props.ticketId),e.props.loadingStart(),S.a.post("help-ticket/post",t).then((function(t){e.setState({details:t.data.data}),e.props.loadingStop()})).catch((function(t){e.setState({details:[]}),e.props.loadingStop()}))},e.getCurrentStatus=function(t){var a=new FormData;a.append("ticket_id",t.ticketid_Internal),e.props.loadingStart(),S.a.post("help-ticket/incident-details",a).then((function(t){0==t.data.error?O()("Current Status: ".concat(t.data.data.currentStatus)).then((function(t){t&&e.props.updateViewTicket()})):e.props.updateViewTicket(),e.props.loadingStop()})).catch((function(t){e.props.loadingStop()}))},e.fileUpload=function(){var t=Object(v.a)(f.a.mark((function t(a,n,r){var l,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a[0]||""===a[0].name){t.next=13;break}if(l=a[0].size,r("fileSize"),n("fileSize",l),!(l<=4194304)){t.next=11;break}return c=a[0],i=a[0].name,t.next=9,e.setState({selectedFile:c,selectedFileName:i});case 9:t.next=13;break;case 11:return t.next=13,e.setState({selectedFile:"",selectedFileName:""});case 13:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.fileAttachment=function(t,a){var n=a.resetForm;if(e.props.loadingStart(),e.state.selectedFile){var r=new FormData;r.append("ticket_id",e.props.ticketId),r.append("attachment_file",e.state.selectedFile),r.append("fileName",e.state.selectedFileName),r.append("destination",1),S.a.post("help-ticket/file-move",r).then((function(a){var r="";if(!1===a.data.error){r=a.data.data.support_post_id;var l=new FormData;l.append("ticket_id",e.props.ticketId),l.append("destination",1),l.append("post_id",r),S.a.post("help-ticket/attachment",l).then((function(a){if(!1===a.data.error){e.setState({selectedFile:"",selectedFileName:""});var l=new FormData;l.append("ticket_id",e.props.ticketId),l.append("description",t.description),l.append("post_id",r),S.a.post("help-ticket/insert-post",l).then((function(t){console.log("Attach Upload",t),O()("Reply posted sucessfully "+"\nTicket No.  ".concat(t.data.data.ticket_no),{icon:"success"}).then((function(){e.props.loadingStop(),n(),e.props.updateViewTicket()}))})).catch((function(t){console.log("Attach fail",t),e.props.loadingStop()}))}}))}})).catch((function(t){console.log("Reply fail",t),e.props.loadingStop()}))}else{var l=new FormData;l.append("ticket_id",e.props.ticketId),l.append("description",t.description),S.a.post("help-ticket/insert-post",l).then((function(t){console.log("Attach Upload",t),O()("Reply posted sucessfully "+"\nTicket No.  ".concat(t.data.data.ticket_no),{icon:"success"}).then((function(){e.props.loadingStop(),n(),e.props.updateViewTicket()}))})).catch((function(t){console.log("Attach fail",t),e.props.loadingStop()}))}},e.ticketReopen=function(t,a){var n=a.resetForm,r=new FormData;r.append("ticket_id",e.props.ticketId),r.append("description",t.description),S.a.post("help-ticket/reopen-incident",r).then((function(t){0==t.data.error?O()("Ticket reopened sucessfully "+"\nTicket No.  ".concat(t.data.data.ticket_no),{icon:"success"}).then((function(){e.props.loadingStop(),n(),e.getCurrentStatus(e.props.selectedTicket)})):(O()(t.data.msg,{icon:"error"}),n(),e.getCurrentStatus(e.props.selectedTicket))})).catch((function(t){console.log("Attach fail",t),e.props.loadingStop()}))},e}return Object(r.a)(i,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var t=e.target.parentElement;0===e.target.value.length&&t.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getDetails()}},{key:"render",value:function(){var e=this,t=this.state.details,n=this.props.selectedTicket,r="bc"==n.user_type?null==n.bcuser?n.bc_user_id:n.bcuser.user_name:n.csc_user.name;return console.log("userName--- ",n.bc_user),console.log("selectedTicket--- ",n),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:""},s.a.createElement("div",{className:"d-flex justify-content-left opntckt"},s.a.createElement("div",null,s.a.createElement("h2",null,s.a.createElement("strong",null,n.title)," #",this.props.selectedTicket.ticket_no))),s.a.createElement(k.e,{initialValues:{help_topic:"",description:"",status:n.status},validationSchema:j,onSubmit:"Resolved"==n.status?this.ticketReopen:this.fileAttachment},(function(l){var c=l.errors,i=(l.status,l.touched),o=(l.values,l.setFieldValue),m=l.setFieldTouched;return s.a.createElement(k.d,null,s.a.createElement("div",{className:"tootalTicketinfo"},s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:6},s.a.createElement("h3",null,"Basic Ticket Information"),s.a.createElement("div",{className:"col-one"},s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",{className:"first"},"Ticket Status:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,n.status))),s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",null,"Area:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,n.area))),s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",null,"Create Date:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,d()(n.created_at).format("DD/MM/YYYY hh:mm A")))))),s.a.createElement(b.a,{sm:12,md:6},s.a.createElement("h3",null,"User Information"),s.a.createElement("div",{className:"col-two"},s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",{className:"first"},"Name:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",{className:"first"},r))),s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",null,"Email:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,n.email))),s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",null,"Phone:")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,n.mobile))))))),s.a.createElement("div",{className:"tickeddetails"},s.a.createElement("h3",null,"Ticket Details"),s.a.createElement(E.a,null,s.a.createElement(b.a,{sm:12,md:3},s.a.createElement("div",null,"Module")),s.a.createElement(b.a,{sm:12,md:9},s.a.createElement("div",null,"DN")))),s.a.createElement("div",{className:"entry-message-area"},s.a.createElement("div",{className:"thread-entry message avatar"},s.a.createElement("span",{className:"avatar"},s.a.createElement("img",{className:"avatar",alt:"Avatar",src:"//www.gravatar.com/avatar/c4b67d2401af1361e3b91f250ebc5b1b?s=80&d=mm"}),"    "),s.a.createElement("div",{className:"header-panel"},s.a.createElement("div",{className:"header"},s.a.createElement("b",null,r)," posted ",s.a.createElement("span",null,d()(n.created_at).format("DD/MM/YYYY hh:mm A"))," ",s.a.createElement("span",{className:"title truncate"})),s.a.createElement("div",{className:"thread-body"},w()(n.description),s.a.createElement("div",{className:"clear"})))),s.a.createElement("div",{className:"thread-event"},s.a.createElement("span",{className:"type-icon"},s.a.createElement("img",{src:a(389),alt:""})),s.a.createElement("span",{className:"description"},"Created by ",s.a.createElement("b",null,"SYSTEM")," ",s.a.createElement("i",null,d()(n.created_at).format("DD/MM/YYYY hh:mm A"))))),t&&t.map((function(e,t){return s.a.createElement("div",{className:"entry-message-area"},s.a.createElement("div",{className:"thread-entry message avatar"},s.a.createElement("span",{className:"avatar"},s.a.createElement("img",{className:"avatar",alt:"Avatar",src:"//www.gravatar.com/avatar/c4b67d2401af1361e3b91f250ebc5b1b?s=80&d=mm"}),"    "),s.a.createElement("div",{className:"header-panel"},s.a.createElement("div",{className:"0"==e.is_solution?"1"==e.is_user_reply?"header":"header_reply":"header_solution"},s.a.createElement("b",null,e.name)," posted ",s.a.createElement("span",null,d()(e.created_at).format("DD/MM/YYYY hh:mm A"))," ",s.a.createElement("span",{className:"title truncate"})),s.a.createElement("div",{className:"thread-body"},w()(e.decriptions),s.a.createElement("div",{className:"clear"})))),null!=e.attachment_file_name?s.a.createElement("div",{className:"thread-event"},console.log(" row.attachment_file_name--- ",e.attachment_file_name),s.a.createElement("span",{className:"type-icon"},s.a.createElement("img",{src:a(389),alt:""})),s.a.createElement("span",{className:"description"},e.attachment_file_name," ")):null)})),"Closed"!=n.status?s.a.createElement("div",{className:"justify-content-left opntckt"},s.a.createElement("div",{className:"issueSummery"},s.a.createElement("div",{class:"form-group"},s.a.createElement("h4",null,"Post a Reply"),s.a.createElement("p",{className:"mandotory-field"},"To best assist you, we request that you be specific and detailed ",s.a.createElement("span",null,"*")),s.a.createElement(g.a,null,s.a.createElement(k.b,{name:"description",as:"textarea",rows:"8",className:"form-control"+(c.description&&i.description?" is-invalid":"")}),s.a.createElement(k.a,{name:"description",component:"div",className:"errorMsg"}))),"Resolved"!=n.status?s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"file",key:"1",name:"attachment",accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.key,.ppt,.pptx,.pps,.ppsx,.odt,.xls,.xlsx,.zip,.html,.bmp,.dib,.txt,.xml,.eml,.csv,.msg,.xps,.htm",onChange:function(t){t.target.value.length>0&&e.fileUpload(t.target.files,o,m)}}),c.fileSize&&i.fileSize?s.a.createElement("span",{className:"errorMsg"},c.fileSize):null):null),s.a.createElement("div",{className:"form-group"},"Resolved"!=n.status?s.a.createElement("button",{type:"submit",className:"btn btn-success mr-2"},"Post Reply"):null,"Resolved"==n.status?s.a.createElement("button",{type:"submit",className:"btn btn-success mr-2"},"Reopen"):null,s.a.createElement("button",{type:"reset",className:"btn btn-primary mr-2"},"Reset"),s.a.createElement("button",{className:"btn btn-info",onClick:e.props.updateViewTicket},"Cancel"))):s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-info",onClick:e.props.updateViewTicket},"Back")))}))))}}]),i}(i.Component),I=Object(h.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(C),T=a(920),F=a(918),A=function(e){return function(t,a,n){return s.a.createElement(T.a,{tooltip:"Get Status",href:"#",clicked:function(){return e.getCurrentStatus(a)},id:"tooltip-1"},s.a.createElement(o.a,{type:"button"},"Get Status"))}},P=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={ticketCount:[],ticketId:"",viewTicket:!1,selectedTicket:[]},e.getCurrentStatus=function(t){var a=new FormData;a.append("ticket_id",t.ticketid_Internal),e.props.loadingStart(),S.a.post("help-ticket/incident-details",a).then((function(t){0==t.data.error?O()("Status: ".concat(t.data.data.currentStatus)).then((function(t){t&&e.getTickets(1)})):e.getTickets(1),e.props.loadingStop()})).catch((function(t){e.props.loadingStop()}))},e.getTickets=function(t){var a=new FormData,n=new m.a;t=t||"1";var r="",l="",c="",i=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(i&&(i=JSON.parse(n.decrypt(i.user))),"4"==i.login_type){var s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";s&&(s=JSON.parse(n.decrypt(s))),r=sessionStorage.getItem("csc_id")?"csc":"bc",l=sessionStorage.getItem("csc_id")?"5":s?s.agent_id:"0",c=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):s?s.user_info.data.user.username:""}else r=i.user_type,l=i.bc_master_id,c=i.master_user_id;a.append("user_type",r),a.append("master_id",l),a.append("user_id",c),e.props.loadingStart(),S.a.post("help-ticket/list",a).then((function(t){var a=t.data.data?t.data.data:[],n=t.data.data?t.data.data:[];e.setState({statusCount:a,ticketCount:n}),e.props.loadingStop()})).catch((function(t){e.props.loadingStop(),e.setState({statusCount:[]})}))},e.ticketDetails=function(t,a){e.setState({ticketId:t,viewTicket:!0,selectedTicket:a})},e.updateViewTicket=function(){var t=e.state.viewTicket;e.setState({viewTicket:!t}),e.getTickets(1)},e}return Object(r.a)(a,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var t=e.target.parentElement;0===e.target.value.length&&t.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getTickets(1)}},{key:"render",value:function(){var e,t=this.state,a=t.ticketCount,n=t.ticketId,r=t.viewTicket;a.length,this.renderShowsTotal;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"contBox m-b-45 tickedTable"},1==r?s.a.createElement(I,{ticketId:n,selectedTicket:this.state.selectedTicket,updateViewTicket:this.updateViewTicket}):s.a.createElement(F.BootstrapTable,{ref:"table",data:a,pagination:!0,headerStyle:{background:"#85c0ff"},striped:!0,hover:!0,condensed:!0,wrapperClasses:"table-responsive",className:"ticketTable"},s.a.createElement(F.TableHeaderColumn,{filter:{type:"TextFilter"},width:"100px",dataField:"ticket_no",isKey:!0,dataFormat:(e=this,function(t,a,n){return s.a.createElement(T.a,{tooltip:"Show Ticket",href:"#",clicked:function(){return e.ticketDetails(a.ticketid_Internal,a)},id:"tooltip-1"},a.ticket_no)})},"Ticket No."),s.a.createElement(F.TableHeaderColumn,{filter:{type:"TextFilter"},width:"100px",dataField:"status",tdStyle:{whiteSpace:"normal"}},"Status"),s.a.createElement(F.TableHeaderColumn,{filter:{type:"TextFilter"},width:"100px",dataField:"area"},"Subject"),s.a.createElement(F.TableHeaderColumn,{filter:{type:"TextFilter"},width:"120px",dataField:"created_at",dataFormat:function(e){return d()(e).format("DD/MM/YYYY hh:mm A")},tdStyle:{whiteSpace:"normal"}},"Date Logged"),s.a.createElement(F.TableHeaderColumn,{width:"100px",dataField:"id",dataFormat:A(this)}))))}}]),a}(i.Component);t.default=Object(h.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(P)},1348:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),l=a(18),c=a(17),i=a(0),s=a.n(i),o=a(31),m=a(34),u=a(1010),d=a(903),p=a(904),f=a(1009),v=a(26),E=a(20),b=a(52),g=a.n(b),h=a(72),y=a(913),k=(a(948),a(2)),N=a(40),S=a(1),x=a(7),O=a(19),_=a.n(O),w=a(10),j={caller_email:"",description:"",title:"",mobile:"",area:""},C=S.object().shape({caller_email:S.string().required("Email-id required").email().min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),description:S.string().required("Issue Summery is required").min(5,(function(){return"Minimum 5 characters required"})).max(1e3,(function(){return"Characters limit exceeds 1000"})).matches(/^[A-Za-z0-9\s.,-]*$/,"Invalid characters"),title:S.string().required("Issue Title is required").min(5,(function(){return"Minimum 5 characters required"})).max(250,(function(){return"Characters limit exceeds 250"})),mobile:S.string().required("Mobile number required").matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required"),area:S.string().required("Area required"),fileSize:S.string().test("filesize",(function(){return"Max file size below 4MB"}),(function(e){return!(e&&e>4194304)}))}),I=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={selectedFile:"",selectedFileName:"",ticketId:""},e.fileUpload=function(){var t=Object(h.a)(g.a.mark((function t(a,n,r){var l,c,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a[0]||""===a[0].name){t.next=13;break}if(l=a[0].size,r("fileSize"),n("fileSize",l),!(l<=4194304)){t.next=11;break}return c=a[0],i=a[0].name,t.next=9,e.setState({selectedFile:c,selectedFileName:i});case 9:t.next=13;break;case 11:return t.next=13,e.setState({selectedFile:"",selectedFileName:""});case 13:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.fileAttachment=function(t,a,n){var r=new FormData;r.append("attachment_file",e.state.selectedFile),r.append("fileName",e.state.selectedFileName),r.append("ticket_id",t),x.a.post("help-ticket/file-move",r).then((function(r){console.log("File Upload",r);var l=new FormData;l.append("ticket_id",t),x.a.post("help-ticket/attachment",l).then((function(r){console.log("Attach Upload",r),_()(n+" "+"\nTicket No.  ".concat(t),{icon:"success"}).then((function(){e.props.loadingStop(),a(),window.location.reload()}))})).catch((function(t){console.log("Attach fail",t),e.props.loadingStop()}))})).catch((function(t){console.log("File fail",t),e.props.loadingStop()}))},e.handleSubmit=function(t,a){var n=a.resetForm,r=new FormData,l=new w.a,c="",i="",s="",o=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(o&&(o=JSON.parse(l.decrypt(o.user))),"4"==o.login_type){var m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(l.decrypt(m))),c=sessionStorage.getItem("csc_id")?"csc":"bc",i=sessionStorage.getItem("csc_id")?"5":m?m.agent_id:"0",s=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):m?m.user_info.data.user.username:""}else c=o.user_type,i=o.bc_master_id,s=o.master_user_id;r.append("user_type",c),r.append("master_id",i),r.append("user_id",s),r.append("caller_email",t.caller_email),r.append("description",t.description),r.append("area",t.area),r.append("title",t.title),r.append("mobile",t.mobile),e.props.loadingStart(),x.a.post("help-ticket/create",r).then((function(t){console.log("Ticket",t.data);var a=t.data.data.internal_ticket_id;e.setState({ticketId:a}),e.state.selectedFile&&""!==e.state.selectedFileName?e.fileAttachment(a,n,t.data.msg):_()(t.data.msg+" "+"\nTicket No.  ".concat(a),{icon:"success"}).then((function(){e.props.loadingStop(),n(),window.location.reload()}))})).catch((function(t){e.props.loadingStop(),e.setState({selectedFile:"",selectedFileName:"",ticketId:""})}))},e}return Object(r.a)(a,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var t=e.target.parentElement;0===e.target.value.length&&t.classList.remove("active")}},{key:"shouldComponentUpdate",value:function(e){if(!this.editor)return!1}},{key:"render",value:function(){var e=this,t=this.state,a=(t.selectedFile,t.selectedFileName,JSON.parse(sessionStorage.getItem("user_data")));return console.log("hello"),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"createtckt"},s.a.createElement("div",{className:"d-flex justify-content-left opntckt"},s.a.createElement("div",null,s.a.createElement("h2",null,"Open a New Ticket"),s.a.createElement("p",null,"Please fill in the form below to open a new ticket."))),s.a.createElement("div",{className:"justify-content-left opntckt"},s.a.createElement(k.e,{initialValues:j,validationSchema:C,onSubmit:this.handleSubmit},(function(t){var n=t.errors,r=(t.status,t.touched),l=t.values,c=t.setFieldValue,i=t.setFieldTouched;return s.a.createElement(k.d,null,s.a.createElement("div",{className:"justify-content-left opntckt"},s.a.createElement(d.a,null,s.a.createElement(p.a,{sm:12,md:1},s.a.createElement("strong",null,"Email: ")),s.a.createElement(p.a,{sm:12,md:3,className:"formSection"},s.a.createElement(y.a,null,s.a.createElement(k.b,{name:"caller_email",type:"text",placeholder:"",autoComplete:"off",onFocus:function(t){return e.changePlaceHoldClassAdd(t)},onBlur:function(t){return e.changePlaceHoldClassRemove(t)},value:l.caller_email,style:{width:"100%"}}),s.a.createElement(k.a,{name:"caller_email",component:"div",className:"errorMsg"})))),s.a.createElement(d.a,null,s.a.createElement(p.a,{sm:12,md:1},s.a.createElement("strong",null,"Mobile: ")),s.a.createElement(p.a,{sm:12,md:3,className:"formSection"},s.a.createElement(y.a,null,s.a.createElement(k.b,{name:"mobile",type:"text",placeholder:"",autoComplete:"off",onFocus:function(t){return e.changePlaceHoldClassAdd(t)},onBlur:function(t){return e.changePlaceHoldClassRemove(t)},value:l.mobile,style:{width:"100%"}}),s.a.createElement(k.a,{name:"mobile",component:"div",className:"errorMsg"}))))),s.a.createElement("div",{className:"justify-content-left opntckt"},s.a.createElement(d.a,null,s.a.createElement(p.a,{sm:12,md:1},s.a.createElement("strong",null,"Area: ")),s.a.createElement(p.a,{sm:12,md:3,className:"formSection"},s.a.createElement(y.a,null,s.a.createElement(k.b,{name:"area",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:l.status},s.a.createElement("option",{value:""},"---Select---"),s.a.createElement("option",{value:"PDF related issues"},"PDF related issues"),s.a.createElement("option",{value:"Portal slowness/speed related issues"},"Portal slowness/speed related issues"),s.a.createElement("option",{value:"Agent ID unauthorized / Invalid Request"},"Agent ID unauthorized / Invalid Request"),"Micro"!=a.user_type?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:"Vehicle Make/Model not available in Portal"},"Vehicle Make/Model not available in Portal"),s.a.createElement("option",{value:"Break-in inspection related issues"},"Break-in inspection related issues")):null,s.a.createElement("option",{value:"Payment related issues"},"Payment related issues"),s.a.createElement("option",{value:"VAAHAN related issues"},"VAAHAN related issues"),s.a.createElement("option",{value:"Any other issues"},"Any other issues")),s.a.createElement(k.a,{name:"area",component:"div",className:"errorMsg"}))))),s.a.createElement("div",{class:"form-group issue-area"},s.a.createElement(d.a,null,s.a.createElement(p.a,{sm:12,md:1},s.a.createElement("strong",null,"Title: ")),s.a.createElement(p.a,{sm:12,md:9,className:"formSection"},s.a.createElement(y.a,null,s.a.createElement(k.b,{name:"title",type:"text",placeholder:"",autoComplete:"off",onFocus:function(t){return e.changePlaceHoldClassAdd(t)},onBlur:function(t){return e.changePlaceHoldClassRemove(t)},value:l.title,style:{width:"100%"}}),s.a.createElement(k.a,{name:"title",component:"div",className:"errorMsg"})))),s.a.createElement("label",{for:"usr"},s.a.createElement("strong",null,"Issue Summary:")),s.a.createElement(y.a,null,s.a.createElement(k.b,{name:"description",as:"textarea",rows:"8",className:"form-control"+(n.description&&r.description?" is-invalid":"")}),s.a.createElement(k.a,{name:"description",component:"div",className:"errorMsg"}))),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"file",key:"1",name:"attachment",accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.key,.ppt,.pptx,.pps,.ppsx,.odt,.xls,.xlsx,.zip,.html,.bmp,.dib,.txt,.xml,.eml,.csv,.msg,.xps,.htm",onChange:function(t){t.target.value.length>0&&e.fileUpload(t.target.files,c,i)}}),n.fileSize&&r.fileSize?s.a.createElement("span",{className:"errorMsg"},n.fileSize):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Register"),s.a.createElement("button",{type:"reset",className:"btn btn-secondary"},"Reset")))})))))}}]),a}(i.Component),T=Object(v.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(I),F=a(1011),A=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={product_id:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("product_id");this.setState({product_id:e})}},{key:"render",value:function(){var e=this.state.product_id;return console.log("product_id",e),s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,null,s.a.createElement("div",{className:"page-wrapper"},s.a.createElement("section",{className:"d-flex justify-content-left"},s.a.createElement("div",{className:"flex-fill w-100"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("aside",{className:"left-sidebar"},s.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},s.a.createElement(m.a,null))),s.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},s.a.createElement("div",{className:"messageDeskSec"},s.a.createElement(u.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},s.a.createElement(d.a,null,s.a.createElement(p.a,{sm:12},s.a.createElement(f.a,{variant:"pills",className:"flex-column"},s.a.createElement("div",{className:"d-flex justify-content-left messageDeskTab"},s.a.createElement("div",null,s.a.createElement(f.a.Item,null,s.a.createElement(f.a.Link,{eventKey:"first"},"New Ticket"))),s.a.createElement("div",null,s.a.createElement(f.a.Item,null,s.a.createElement(f.a.Link,{eventKey:"second"},"Tickets")))))),s.a.createElement(p.a,{sm:12},s.a.createElement(u.a.Content,null,s.a.createElement(u.a.Pane,{eventKey:"first"},s.a.createElement(T,{tabId:"1"}),s.a.createElement(N.a,null)),s.a.createElement(u.a.Pane,{eventKey:"second"},s.a.createElement(F.default,{tabId:"2"}),s.a.createElement(N.a,null)))))))))))))))}}]),a}(i.Component);t.default=Object(v.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(A)},920:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(912),c=a(909),i=a(39);t.a=function(e){var t=e.id,a=e.children,n=e.href,s=e.tooltip,o=e.clicked;return r.a.createElement(l.a,{overlay:r.a.createElement(c.a,{id:t},s),placement:"top",delayShow:300,delayHide:150,trigger:["hover","focus"]},r.a.createElement(i.b,{to:n,onClick:o},a))}},922:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},928:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);r.displayName="CardContext",t.a=r},931:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];function n(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,a);null!=t&&(r=t)}})),r}return(0,l.default)(n)};var n,r=a(932),l=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},932:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,a,n,r,l,c){var i=r||"<<anonymous>>",s=c||n;if(null==a[n])return t?new Error("Required "+l+" `"+s+"` was not specified in `"+i+"`."):null;for(var o=arguments.length,m=Array(o>6?o-6:0),u=6;u<o;u++)m[u-6]=arguments[u];return e.apply(void 0,[a,n,i,l,s].concat(m))}var a=t.bind(null,!1);return a.isRequired=t.bind(null,!0),a},e.exports=t.default},983:function(e,t){}}]);