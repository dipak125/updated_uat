(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{1182:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=(t(249),t(31)),m=t(34),d=t(37),u=t.n(d),p=t(7),_=t(38),g=t(19),f=t(22),h=t(40),v=t(377),E=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={errorDetails:[],httpCode:"",retry_url:"",retry:"",policyHolder:[],refNumber:u.a.parse(e.props.location.search).access_id?u.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.Retry_payment=function(){var a=e.state,t=(a.refNumber,a.retry_url);window.location=t},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.fetchError()}},{key:"fetchError",value:function(){var e=this,a=new FormData;a.append("policy_ref_no",this.state.refNumber),p.a.post("policy-error-msg",a).then((function(a){"404"==a.data.data.message.httpCode?(e.setState({errorDetails:a.data.data.message.moreInformation,httpCode:a.data.data.message.httpCode}),a.data.data.message&&a.data.data.message.retry&&1==a.data.data.message.retry&&e.setState({retry_url:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/").concat(a.data.data.message.payment_url),retry:a.data.data.message.retry})):e.setState({errorDetails:a.data.data.message.ValidateResult,httpCode:a.data.data.message.httpCode}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"render",value:function(){var e=this.state,a=e.errorDetails,n=e.httpCode,r=e.retry;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10"},c.a.createElement("section",{className:"thankuBox"},c.a.createElement("div",{className:"text-center custtxt"},c.a.createElement("p",{className:"fs-16 m-b-30"},c.a.createElement("span",{className:"lghtBlue"},"\xa0")),c.a.createElement("img",{src:t(397),alt:"",className:"m-b-30"}),c.a.createElement("p",{className:"fs-16 m-b-30"},c.a.createElement("span",{className:"lghtBlue"},c.a.createElement("strong",null,"404"==n&&a?a:a&&a.message?a.message:null))),c.a.createElement("p",{className:"fs-16 m-b-30"},c.a.createElement("span",{className:"lghtBlue"},"\xa0")))),1==r?c.a.createElement("div",{className:"dashbrd"},c.a.createElement(v.a,{className:"buy",type:"button",onClick:this.Retry_payment},"Retry Payment")):null,c.a.createElement("br",null),c.a.createElement(h.a,null)))))))}}]),s}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(E))},1183:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(249),m=t(37),d=t.n(m),u=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){var e=d.a.parse(this.props.location.search).errMsg;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{flag:"logout"}),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 pd-l-0"},c.a.createElement("div",{className:"error404"},c.a.createElement("h3",null,"Sorry!"),c.a.createElement("h4",null,e||"You have been logged out"),c.a.createElement("p",null,"Please login to continue."))))))}}]),t}(s.Component);a.default=u},1184:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(377),d=t(20),u=t.n(d),p=t(34),_=t(40),g=t(918),f=t(919),h=t(9),v=t(7),E=t(19),y=t(22),b=t(3),N=t.n(b);function S(e){return e&&e.vehicletype?e.vehicletype.name:null}function w(e){return e&&e.net_premium?e.net_premium:null}function k(e){return e&&e.inspection_no?e.inspection_no:null}var C=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={breakinList:[]},e.redirectLink=function(a){localStorage.setItem("policyHolder_refNo",a.reference_no),localStorage.setItem("policyHolder_id",a.request_data.policyholder_id),e.props.history.push("/".concat(a.page_name))},e.getBreakinStatus=function(a){var t=new FormData;t.append("bcmaster_id",a.bcmaster_id),t.append("ref_no",a.reference_no),e.props.loadingStart(),v.a.post("breakin/get-status",t).then((function(a){0==a.data.error?u()("Status: ".concat(a.data.data.breakin_status),"Inspection Number: ".concat(a.data.data.inspection_no)).then((function(a){a&&e.getBreakinList()})):e.getBreakinList(),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getBreakinList=function(){var a=new FormData,t=new h.a,n=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";n&&(n=JSON.parse(t.decrypt(n))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":n?n.agent_id:""),a.append("bc_agent_id",sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):n?n.user_info.data.user.username:""),e.props.loadingStart(),v.a.post("breakin/list",a).then((function(a){var t=a.data.data?a.data.data:[];e.setState({breakinList:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({breakinList:[]})}))},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getBreakinList()}},{key:"render",value:function(){var e,a=this.state.breakinList,t=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n={page:1,sizePerPageList:[{text:"5",value:5},{text:"10",value:10},{text:"15",value:15},{text:"20",value:20},{text:"All",value:a.length}],sizePerPage:10,pageStartIndex:1,paginationSize:3,prePage:t.Prev,nextPage:t.Next,firstPage:t.First,lastPage:t.Last,paginationShowsTotal:this.renderShowsTotal,paginationPosition:t.bottom,noDataText:t.NoData};return c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(p.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox breakin"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},t.SBIGICL),c.a.createElement("div",{className:"contBox m-b-45 tickedTable"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},t.BreakIn),c.a.createElement("div",{className:"customInnerTable dataTableCustom"},c.a.createElement(f.BootstrapTable,{ref:"table",data:a,pagination:!0,options:n,striped:!0,hover:!0,wrapperClasses:"table-responsive"},c.a.createElement(f.TableHeaderColumn,{width:"300px",dataField:"breakin",dataFormat:k,isKey:!0,dataSort:!0},t.choiceNo),c.a.createElement(f.TableHeaderColumn,{width:"150px",dataField:"vehiclebrandmodel",dataFormat:S},t.Product),c.a.createElement(f.TableHeaderColumn,{width:"100px",dataField:"breakin",dataFormat:function(e){return e&&"0000-00-00 00:00:00"!==e.created_at?N()(e.created_at).format("DD-MM-YYYY"):""}},t.InspectionDate),c.a.createElement(f.TableHeaderColumn,{width:"100px",dataField:"request_data",dataFormat:w},t.Premium),c.a.createElement(f.TableHeaderColumn,{width:"200px",dataField:"break_in_status"},t.Status),c.a.createElement(f.TableHeaderColumn,{width:"200px",dataField:"request_data",dataFormat:function(e){return e.quote_id}},t.QuotatioinNo,"."),c.a.createElement(f.TableHeaderColumn,{width:"150px",dataField:"getstatus",dataAlign:"center",dataFormat:(e=this,function(a,t,n){var r=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return console.log("phrases------\x3e",r.GetStatus),"Vehicle Recommended and Reports Uploaded"==t.break_in_status?c.a.createElement(g.a,{tooltip:"Click to proceed",href:"#",clicked:function(){return e.redirectLink(t)},id:"tooltip-1"},r.Approved):c.a.createElement(g.a,{tooltip:"Get Status",href:"#",clicked:function(){return e.getBreakinStatus(t)},id:"tooltip-1"},c.a.createElement(m.a,{type:"button"},r.GetStatus))})},t.Status))))),c.a.createElement(_.a,null)))))}}]),t}(s.Component);a.default=Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(C)},1185:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=(t(95),t(96),t(903)),d=t(904),u=(t(3),t(2),t(34)),p=t(40),_=(t(918),t(919),function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={},e}return Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 pd-l-0"},c.a.createElement(u.a,null)),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},c.a.createElement("div",{className:"contBox m-b-45 informarionBox"},c.a.createElement("h4",null,"Inspection Request Form"),c.a.createElement("div",{className:"inforBox01"},c.a.createElement("h5",null,"General Information"),c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},"Submission Date"),c.a.createElement(d.a,{sm:12,md:8},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:6},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},"Submission Time"),c.a.createElement(d.a,{sm:12,md:8},"Field Gose Here")))),c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},"Agent ID"),c.a.createElement(d.a,{sm:12,md:8},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:6},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},"SBIG Branch"),c.a.createElement(d.a,{sm:12,md:8},"Field Gose Here"))))),c.a.createElement("div",{className:"inforBox01"},c.a.createElement("h5",null,"Risk Submission"),c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Product:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"SBIG Policy Type:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Business Type:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here")))),c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Quate No:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Client Name:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"State"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here")))),c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"City:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Landline:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))),c.a.createElement(d.a,{sm:12,md:4},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:6},"Mobile:"),c.a.createElement(d.a,{sm:12,md:6},"Field Gose Here"))))),c.a.createElement("div",{className:"form-group text-center"},c.a.createElement("button",{type:"reset",className:"btn btn-primary mr-2"},"Reset"),c.a.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))),c.a.createElement(p.a,null))))}}]),t}(s.Component));a.default=_},1186:function(e,a,t){"use strict";t.r(a);var n=t(1177),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(377),u=t(903),p=t(904),_=t(913),g=t(20),f=t.n(g),h=t(34),v=t(40),E=t(918),y=t(919),b=t(7),N=t(19),S=t(22),w=t(9),k=t(3),C=t.n(k),P=t(48),D=t.n(P),I=t(2),M=t(41),B=t.n(M);function A(e){return e&&e.policy_note?e.policy_note.policy_no:null}function O(e){return e&&e.vehicletype?e.vehicletype.name:null}var x={},H=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={statusCount:[],policyHolder:[],searchValues:{},products:[]},e.fetchDashboard=function(a,t){var n=new FormData;new w.a;if(t=t||"1",a!=[])for(var r in e.setState({searchValues:a}),a)a.hasOwnProperty(r)&&("start_date"==r||"end_date"==r?n.append(r,C()(a[r]).format("YYYY-MM-DD")):n.append(r,a[r]));var l=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(l){var o=new w.a;l=l.user,l=JSON.parse(o.decrypt(l))}n.append("bcmaster_id",l.bc_master_id),n.append("page_no",t),n.append("policy_status","complete"),n.append("bc_agent_id",l.master_user_id),n.append("login_type",l.login_type),e.props.loadingStart(),b.a.post("bc/policy-customer",n).then((function(a){var t=a.data.data?a.data.data:[],n=a.data.data?a.data.data.policyHolder:[];e.setState({statusCount:t,policyHolder:n}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({statusCount:[]})}))},e.handleSubmit=function(a){var t=new FormData;new w.a;if(a!=[])for(var n in e.setState({searchValues:a}),a)console.log("values--- ",a[n]),a.hasOwnProperty(n)&&""!=a[n]&&("start_date"==n||"end_date"==n?t.append(n,C()(a[n]).format("YYYY-MM-DD")):t.append(n,a[n]));var r=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(r){var l=new w.a;r=r.user,r=JSON.parse(l.decrypt(r))}t.append("bcmaster_id",r.bc_master_id),t.append("page_no",1),t.append("policy_status","complete"),t.append("bc_agent_id",r.master_user_id),t.append("login_type",r.login_type),e.props.loadingStart(),b.a.post("bc/policy-customer",t).then((function(a){if(0==a.data.error){var t=a.data.data?a.data.data:[],n=a.data.data?a.data.data.policyHolder:[];e.setState({statusCount:t,policyHolder:n}),e.props.loadingStop()}else f()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({statusCount:[]})}))},e.downloadDoc=function(a){var t="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/policy_pdf_download.php?refrence_no=").concat(a);console.log(t);e.props.match.params.policyId;var n=t,r=document.createElement("a");r.style.display="none",r.href=n,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n)},e.getAllProducts=function(){var a=new w.a,t=new FormData,r=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",l="";r&&(l=JSON.parse(a.decrypt(r.user))),t.append("user_id",l.master_user_id),t.append("role_id",l.role_id),t.append("login_type",l.login_type),t.append("bc_id",l.bc_master_id),e.props.loadingStart(),b.a.post("visible/products",t).then((function(a){if(0==a.data.error){e.props.loadingStop();var t,r=[],l=[];t=a.data.data;for(var o=0,s=Object.entries(t);o<s.length;o++){var c=Object(n.a)(s[o],2),i=(c[0],c[1]);r.push(i)}r.map((function(e,a){e.map((function(e,a){return l.push(e)}))})),e.setState({products:l})}else e.props.loadingStop()})).catch((function(a){e.setState({products:[]}),e.props.loadingStop()}))},e.handleClose=function(e,a,t){1==e&&(t("policy_no"),a("policy_no","")),2==e&&(t("mobile_no"),a("mobile_no",""),t("email_id"),a("email_id","")),3==e&&(t("start_date"),a("start_date",""),t("end_date"),a("end_date","")),4==e&&(t("start_date"),a("start_date",""),t("end_date"),a("end_date",""),t("product_id"),a("product_id",""))},e}return Object(l.a)(c,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"onPageChange",value:function(e,a){this.fetchDashboard(this.state.searchValues,e)}},{key:"renderShowsTotal",value:function(e,a,t){var n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return e=e||0,a=a||0,t=t||0,i.a.createElement("p",{style:{color:"blue"}},n.From," ",e," ",n.to," ",a,", ",n.totalis," ",t," ",n.hai)}},{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){var e,a=this,n=this.state,r=n.statusCount,l=n.policyHolder,o=n.products,s=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,c=r?r.totalRecord:1,g=r?r.page_no:1,f={page:parseInt(g),sizePerPage:10,paginationShowsTotal:this.renderShowsTotal,prePage:s.Prev,nextPage:s.Next,hideSizePerPage:!0,remote:!0,showTotal:!0,onPageChange:this.onPageChange.bind(this)};return i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},s.SBIGICL),i.a.createElement("div",{className:"contBox m-b-45 tickedTable"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},s.PolicySearch),i.a.createElement(I.e,{initialValues:x,onSubmit:this.handleSubmit},(function(e){var t=e.values,n=e.errors,r=e.setFieldValue,l=e.setFieldTouched,c=(e.isValid,e.isSubmitting,e.touched);return i.a.createElement(I.d,null,i.a.createElement("div",{className:"rghtsideTrigr collinput W-90 m-b-30 collaps_area"},i.a.createElement(D.a,{openedClassName:"custom_ovberflow",trigger:s.SearchPolicyNumber,open:!1,onClose:a.handleClose.bind(a,1,r,l)},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:10},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.EnterPolicyNumber)))),i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"policy_no",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:t.policy_no}),n.policy_no&&c.policy_no?i.a.createElement("span",{className:"errorMsg"},n.policy_no):null))),i.a.createElement(p.a,{sm:12,md:3,lg:2},"\xa0"))),i.a.createElement(d.a,{className:"proceedBtn",type:"submit"},s.Search)),i.a.createElement(u.a,null,i.a.createElement(p.a,null,"\xa0")))),i.a.createElement(D.a,{openedClassName:"custom_ovberflow",trigger:s.SearchProposerDetails,open:!1,onClose:a.handleClose.bind(a,2,r,l)},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:6,lg:6},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.EnterMobileNumber," ")))),i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"mobile_no",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:t.mobile_no}),n.mobile_no&&c.mobile_no?i.a.createElement("span",{className:"errorMsg"},n.mobile_no):null))))),i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:6,lg:6},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.EnterEmailID)))),i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"email_id",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:t.email_id}),n.email_id&&c.email_id?i.a.createElement("span",{className:"errorMsg"},n.email_id):null))))),i.a.createElement(d.a,{className:"proceedBtn m-b-40",type:"submit"},s.Search)))),i.a.createElement(D.a,{openedClassName:"custom_ovberflow",trigger:s.SeachDates,open:!1,onClose:a.handleClose.bind(a,3,r,l)},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"}," ",s.FromDate," ")))),i.a.createElement(p.a,{sm:12,md:6,lg:6},i.a.createElement(_.a,null,i.a.createElement(B.a,{name:"start_date",maxDate:new Date,autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:s.StartDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:t.start_date,onChange:function(e){l("start_date"),r("start_date",e)}}),n.start_date&&c.start_date?i.a.createElement("span",{className:"errorMsg"},n.start_date):null)))),i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:6,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.ToDate)))),i.a.createElement(p.a,{sm:12,md:6,lg:6},i.a.createElement(_.a,null,i.a.createElement(B.a,{name:"end_date",maxDate:new Date,autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:s.EndDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:t.end_date,onChange:function(e){l("end_date"),r("end_date",e)}}),n.end_date&&c.end_date?i.a.createElement("span",{className:"errorMsg"},n.end_date):null)))),i.a.createElement(d.a,{className:"proceedBtn",type:"submit"},s.Search)),i.a.createElement(u.a,null,i.a.createElement(p.a,null,"\xa0")))),i.a.createElement(D.a,{openedClassName:"custom_ovberflow",trigger:s.SearchDatesProducts,open:!1,onClose:a.handleClose.bind(a,3,r,l)},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(u.a,{className:"m-b-20"},i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:4,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"}," ",s.FromDate," ")))),i.a.createElement(p.a,{sm:12,md:8,lg:6,className:"dateSBI"},i.a.createElement(_.a,null,i.a.createElement(B.a,{name:"start_date",maxDate:new Date,autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:s.StartDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:t.start_date,onChange:function(e){l("start_date"),r("start_date",e)}}),n.start_date&&c.start_date?i.a.createElement("span",{className:"errorMsg"},n.start_date):null)))),i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:4,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.ToDate)))),i.a.createElement(p.a,{sm:12,md:8,lg:6},i.a.createElement(_.a,null,i.a.createElement(B.a,{name:"end_date",maxDate:new Date,autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:s.EndDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:t.end_date,onChange:function(e){l("end_date"),r("end_date",e)}}),n.end_date&&c.end_date?i.a.createElement("span",{className:"errorMsg"},n.end_date):null))))),i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:12,lg:5},i.a.createElement(u.a,null,i.a.createElement(p.a,{sm:12,md:4,lg:4},i.a.createElement(_.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("span",{className:"fs-16"},s.Products)))),i.a.createElement(p.a,{sm:12,md:8,lg:6},i.a.createElement(_.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(I.b,{name:"product_id",component:"select",autoComplete:"off",value:t.product_id,className:"formGrp"},i.a.createElement("option",{value:""},s.Products),o.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),n.product_id&&c.product_id?i.a.createElement("span",{className:"errorMsg"},n.product_id):null))),i.a.createElement(p.a,{sm:12,md:3,lg:2},"\xa0"))),i.a.createElement(d.a,{className:"proceedBtn",type:"submit"},s.Search))))))})),i.a.createElement(u.a,null,"\xa0"),l?i.a.createElement("div",{className:"customInnerTable policytab"},i.a.createElement(y.BootstrapTable,{ref:"table",data:l,pagination:!0,options:f,remote:!0,fetchInfo:{dataTotalSize:c},wrapperClasses:"table-responsive"},i.a.createElement(y.TableHeaderColumn,{width:"150px",dataField:"request_data",dataFormat:A},s.PolicyNumber),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"request_data",dataFormat:function(e){return"0000-00-00 00:00:00"!==e?C()(e.start_date).format("MM-DD-YYYY"):""},dataSort:!0},s.PSD),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"request_data",dataFormat:function(e){return"0000-00-00 00:00:00"!==e?C()(e.end_date).format("MM-DD-YYYY"):""},dataSort:!0},s.PED),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"vehiclebrandmodel",dataFormat:O},s.Product),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"first_name"},s.ProposerName),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"mobile"},s.MobileNumber),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"email_id"},s.EmailId),i.a.createElement(y.TableHeaderColumn,{width:"100px",dataField:"reference_no",isKey:!0,dataAlign:"center",dataFormat:(e=this,function(a,n,r){return i.a.createElement(E.a,{tooltip:"Download PDF",href:"#",clicked:function(){return e.downloadDoc(a)},id:"tooltip-1"},i.a.createElement(d.a,{type:"button"},i.a.createElement("img",{src:t(398),alt:""})))})},s.Download))):null)),i.a.createElement(v.a,null)))))}}]),c}(c.Component);a.default=Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(H)},1188:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(377),d=t(1049),u=t.n(d),p=t(20),_=t.n(p),g=t(34),f=t(40),h=t(918),v=t(919),E=t(7),y=t(19),b=t(22),N=t(9),S=t(3),w=t.n(S);function k(e){return e&&e.net_premium?e.net_premium:null}function C(e,a){return e&&e.vehicletype?e.vehicletype.name:null}function P(e,a){return null!=a.first_name?c.a.createElement("div",null,a.first_name+" "+a.last_name):c.a.createElement("div",null," --- ")}var D=function(e){return function(a,t){return c.a.createElement(m.a,{className:"btn btn-sm",onClick:function(){return I(e,a,t)}},"Send Quote")}},I=function(e,a,t){console.log("cell",e,a,t.reference_no),u.a.fire({input:"email",inputPlaceholder:"Enter email",showCancelButton:!0,cancelButtonColor:"red",confirmButtonColor:"green",confirmButtonText:"Send"}).then((function(a){if(a.value){var n=a.value;e.shareEmail(n,t.reference_no)}}))},M=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={statusCount:[],policyHolder:[],searchValues:{},products:[]},e.shareEmail=function(a,t){console.log("cell",a,t);var n=new FormData;n.append("email_address",a),n.append("policy_ref_no",t),e.props.loadingStart(),E.a.post("policy-download/quotation-share",n).then((function(a){_()(a.data.msg),e.props.loadingStop()})).catch((function(a){_()("Unable to share"),e.props.loadingStop()}))},e.redirectLink=function(a,t){var n=t.page_name;localStorage.setItem("policyHolder_refNo",t.reference_no),localStorage.setItem("policy_holder_ref_no",t.reference_no),localStorage.setItem("policyHolder_id",a.policyholder_id),"/"==n.substr(0,1)?e.props.history.push("".concat(n)):e.props.history.push("/".concat(n))},e.openPage=function(e){_()(e.policy_note.policy_no)},e.fetchDashboard=function(a){var t=new FormData,n=new N.a;a=a||"1";var r=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";r&&(r=JSON.parse(n.decrypt(r)));var l=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",o="";l&&(o=JSON.parse(n.decrypt(l.user))),t.append("start_date",w()().format("YYYY-MM-DD")),t.append("end_date",w()().format("YYYY-MM-DD")),t.append("bcmaster_id",o.bc_master_id),t.append("page_no",a),t.append("policy_status","pending"),"4"==o.login_type?t.append("bc_agent_id",sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):r?r.user_info.data.user.username:""):(t.append("bc_agent_id",o.master_user_id),t.append("login_type",o.login_type)),e.props.loadingStart(),E.a.post("bc/policy-customer",t).then((function(a){if(0==a.data.error){var t=a.data.data?a.data.data:[],n=a.data.data?a.data.data.policyHolder:[];e.setState({statusCount:t,policyHolder:n}),e.props.loadingStop()}else _()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({statusCount:[]})}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"onPageChange",value:function(e,a){this.fetchDashboard(e)}},{key:"renderShowsTotal",value:function(e,a,t){var n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;localStorage.getItem("lang_name")&&localStorage.getItem("lang_name");return e=e||0,a=a||0,t=t||0,c.a.createElement("p",{style:{color:"blue"}},n.From," ",e," ",n.to," ",a,", ",n.totalis," ",t," ",n.hai)}},{key:"componentDidMount",value:function(){this.fetchDashboard(1)}},{key:"render",value:function(){var e,a=this.state,t=a.statusCount,n=a.policyHolder,r=(a.products,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),l=t?t.totalRecord:1,o=t?t.page_no:1,s={page:parseInt(o),sizePerPage:10,paginationShowsTotal:this.renderShowsTotal,prePage:r.Prev,nextPage:r.Next,hideSizePerPage:!0,remote:!0,showTotal:!0,onPageChange:this.onPageChange.bind(this)};return c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(g.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},r.SBIGICL),c.a.createElement("div",{className:"contBox m-b-45 tickedTable"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},r.QuoteHistory),n?c.a.createElement("div",{className:"customInnerTable quotesearch"},c.a.createElement(v.BootstrapTable,{ref:"table",data:n,pagination:!0,options:s,remote:!0,fetchInfo:{dataTotalSize:l},wrapperClasses:"table-responsive"},c.a.createElement(v.TableHeaderColumn,{width:"195px",dataField:"request_data",dataAlign:"center",dataFormat:(e=this,function(a,t){return c.a.createElement(h.a,{tooltip:"Click to proceed",href:"#",clicked:function(){return e.redirectLink(a,t)},id:"tooltip-1"},c.a.createElement("div",null,function(e){return e&&e.policy_note?e.policy_note.policy_no:null}(a)))}),isKey:!0},r.QuoteNumber),c.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"request_data",dataAlign:"center",dataFormat:P},r.ProposerName),c.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"vehiclebrandmodel",dataAlign:"center",dataFormat:C},r.Product),c.a.createElement(v.TableHeaderColumn,{width:"95px",dataField:"created_at",dataFormat:function(e){return"0000-00-00 00:00:00"!==e?w()(e).format("DD-MM-YYYY"):""},dataAlign:"center",dataSort:!0},r.QuoteIssueDate),c.a.createElement(v.TableHeaderColumn,{width:"100px",dataAlign:"center",dataField:"request_data",dataFormat:k}," ",r.Premium),c.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"request_data",dataAlign:"center",dataFormat:function(e,a){var t=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return"0"==e.payment_link_status?c.a.createElement("div",null,t.QuoteIssued):"4"==e.payment_link_status?c.a.createElement("div",null,"Customer Consent Pending"):c.a.createElement("div",null,"Payment link sent")}},r.Status),c.a.createElement(v.TableHeaderColumn,{width:"100px",dataField:"request_data",dataAlign:"center",dataFormat:D(this)},"Share Quote"))):null)),c.a.createElement(f.a,null)))))}}]),t}(s.Component);a.default=Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(M)},1189:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(2),D=t(28),I=t(9),M=t(926),B=S()(S()().subtract(56,"years").calendar()).add(1,"day").calendar(),A=S()().subtract(18,"years").calendar(),O=S()(S()().subtract(26,"years").calendar()).add(1,"day").calendar(),x=S()().subtract(3,"months").calendar(),H={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",occupation_id:"",occupation_description:""},R=w.object().shape({gender:w.string().required("Please select gender"),occupation_id:w.string().required("Please select occupation type"),occupation_description:w.string().when("occupation_id",{is:193,then:w.string().typeError("Please Specify"),othewise:w.string()})}),L=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_5:w.string(),looking_for_0:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_5"],{is:function(e,a){return"spouse"==e&&"father"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_6"],{is:function(e,a){return"spouse"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_7"],{is:function(e,a){return"spouse"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_8"],{is:function(e,a){return"spouse"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_6"],{is:function(e,a){return"father"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_7"],{is:function(e,a){return"father"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_8"],{is:function(e,a){return"father"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_7"],{is:function(e,a){return"mother"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_8"],{is:function(e,a){return"mother"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_8"],{is:function(e,a){return"fatherInLaw"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 45 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and father age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and father difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and mother age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()})});var j=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]="m",n[6]="f",n[7]="m",n[8]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.occupation_id&&(null==e.occupation_description||""==e.occupation_description))return C()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new I.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=[],i=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";i&&(i=JSON.parse(r.decrypt(i))),c.menumaster_id=2,c.proposer_gender=e.gender,c.page_name="Health/".concat(a),c.occupation_id=e.occupation_id,c.occupation_description=e.occupation_description;for(var m=[],d=0;d<o.length;d++){var u=o[d]?o[d]:s[d].dob;m.push(u)}c.dob=m;m=[];for(var p=0;p<l.length;p++){var _=l[p]?l[p]:s[p].relation_with;"self"==_,m.push(_)}c.looking_for=m;var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=t.state.gender_for;m=[];for(var h=0;h<f.length;h++){var E;E=f[h]?f[h]:s[h].gender,m.push(E)}c.gender=m,c.confirm=t.state.confirm,sessionStorage.getItem("csc_id")?(c.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",c.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",c.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",c.bcmaster_id="5"):(c.bcmaster_id=i?i.agent_id:"",c.bc_token=i?i.token:"",c.bc_agent_id=i?i.user_info.data.user.username:"",c.agent_name=i?i.user_info.data.user.name:"");var y={};console.log("postData========",c),g>0?(c.policy_holder_id=g,Object.assign(y,c),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),v.a.post("/update-yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(y,c),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),v.a.post("/yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()})))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=t.state.gender?"m":null,o[6]=t.state.gender?"f":null,o[7]=t.state.gender?"m":null,o[8]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),v.a.get("policy-holder/".concat(e)).then((function(e){var a=e.data.data.policyHolder&&e.data.data.policyHolder.request_data&&e.data.data.policyHolder.request_data.family_members?e.data.data.policyHolder.request_data.family_members:[],n=JSON.parse(e.data.data.policyHolder.address),r=e.data.data.policyHolder.is_eia_account,l=e.data.data.policyHolder.gender,o=a&&a.length>0?1:0,s=e.data.data.policyHolder?e.data.data.policyHolder:[];t.setState({familyMembers:a,addressDetails:n,is_eia_account:r,gender:l,validateCheck:o,policyHolder:s}),t.setStateForPreviousData(a)})).catch((function(e){})),t.props.loadingStop()},t.fetchRelations=function(){v.a.get("relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurance()})).catch((function(e){t.props.loadingStop()}))},t.fetchInsurance=function(){var e=new I.a;v.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&C()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("occupation_id",e.value),t.setState({selectedOption:e}),console.log("Option selected:",e)},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",policyHolder:[],occupationList:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,p=a.display_gender,v=(a.confirm,a.policyHolder),E=a.occupationList,y=a.selectedOption,b=this.getInsuredList(o),N=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],S=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],w=p&&p.length>0?p:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],k=Object.assign(H,{check_input:r||0,gender:l||"",looking_for_0:N[0]?N[0]:"",dob_0:S[0]?new Date(S[0]):"",looking_for_1:N[1]?N[1]:"",dob_1:S[1]?new Date(S[1]):"",looking_for_2:N[2]?N[2]:"",dob_2:S[2]?new Date(S[2]):"",child1Gender:w?w[2]:"",looking_for_3:N[3]?N[3]:"",dob_3:S[3]?new Date(S[3]):"",child2Gender:w?w[3]:"",looking_for_4:N[4]?N[4]:"",dob_4:S[4]?new Date(S[4]):"",child3Gender:w?w[4]:"",looking_for_5:N[5]?N[5]:"",dob_5:S[5]?new Date(S[5]):"",looking_for_6:N[6]?N[6]:"",dob_6:S[6]?new Date(S[6]):"",looking_for_7:N[7]?N[7]:"",dob_7:S[7]?new Date(S[7]):"",looking_for_8:N[8]?N[8]:"",dob_8:S[8]?new Date(S[8]):"",insureList:b?b.toString():n||"",occupation_id:v?v.occupation_id:"",occupation_description:v&&null!=v.occupation_description?v.occupation_description:""}),C=E&&E.length>0?E.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaSanjibny"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(P.e,{initialValues:k,onSubmit:this.handleFormSubmit,validationSchema:R},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&c.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Occupation:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(M.a,{placeholder:"Select Occupation",value:y||(C?C.find((function(e){return e.value===r.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,o,s)},options:C}),l.occupation_id&&c.occupation_id?i.a.createElement("span",{className:"errorMsg"},l.occupation_id):null)),"                                    ","193"==r.occupation_id?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"occupation_description",type:"text",placeholder:"Please mention your occupation here.",autoComplete:"off",value:r.occupation_description,maxLength:"256",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.occupation_description&&c.occupation_description?i.a.createElement("span",{className:"errorMsg"},l.occupation_description):null)):"",i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(P.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",class:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&c.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(P.e,{initialValues:k,onSubmit:this.handleSubmitForm,validationSchema:L},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement("label",{className:"formGrp"},i.a.createElement(P.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female"))),n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):"")),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement("label",{className:"formGrp"},i.a.createElement(P.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female"))),n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):"")),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement("label",{className:"formGrp"},i.a.createElement(P.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female"))),n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):"")),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_5",value:"father",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_6",value:"mother",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_7",value:"fatherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_8",value:"motherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),t.looking_for_2||t.looking_for_3||t.looking_for_4?i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(P.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"})),n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4)?i.a.createElement("span",{className:"error-message"},n.confirm):"")):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(j))},1190:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){console.log("ssss===>",e)})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[]},e.sumInsured=function(a){e.props.history.push("/SelectDuration/".concat(a))},e.buy_policy=function(a){e.props.history.push("/Health/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData,c=e.props.match.params.productId;a.match(/question_id/gi)&&r.push(a.substr(12,1));var i=e.state.showImage?e.state.showImage:[],m=i&&i.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:m,selected_question:o,selected_answer:l});var d=document.getElementsByClassName("familyMembers".concat(r[0])),u=t;if(console.log("AAAAA====>",d),"n"==u){var p=e.state.family_members,_=[];p&&p.map((function(e,a){_.push(e.id)}));var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=new D.a,h={question_id:r[0],answer:t,family_member_ids:_,policy_holder_id:g,page_name:"MedicalDetails/".concat(c)};s.append("enc_data",f.encrypt(JSON.stringify(h))),e.props.loadingStart(),b.a.post("/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==u)for(var v=0;v<d.length;v++)d[v].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},e.handleSubmit=function(a){for(var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[],s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)m[d].checked&&l.push(!0);r++}console.log("CHECK FAMILY ==============>",l),console.log("CHECK FAMILY ==============>",l),r==n.length/2&&l.length>=o.length?e.state.isForwarded&&e.props.history.push("/SelectDuration/".concat(t)):P()("Please answer all of the questions")},e.getQuestionList=function(){e.props.loadingStart(),b.a.get("/questions").then((function(a){var t=a.data.data&&a.data.data.length?e.setShowImage(a.data.data):[];e.setState({questionList:a.data.data,showImage:t})})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()})),e.props.loadingStop()},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart(),b.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({flag:!0,question_answer:a.data.data.policyHolder.request_data.question_answer,family_members:a.data.data.policyHolder.request_data.family_members});var t=a.data.data.policyHolder.request_data.question_answer?a.data.data.policyHolder.request_data.question_answer:{},n=e.getFamilyMembers(t);e.setState({selected_family_members:n})})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()})),e.props.loadingStop()},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return console.log("aaaaa----Question list=====>",e),e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setAnswer=function(a){var t=[],r=[],l=[],o=new FormData;console.log("CHECKED====>",a.target.checked);var s=a.target.className[a.target.className.length-1];console.log("sssssssssssss===>",s),l=e.state.selected_family_members,console.log("State values===============>",l);var c=l.indexOf("".concat(s,"~").concat(a.target.value));c>-1?l.splice(c,1):(l.push("".concat(s,"~").concat(a.target.value)),l=Object(n.a)(new Set(l))),console.log("aaaaa-SSSSSSSSSSSSSSSSSS====>",l),console.log("aaaassss====>",a.target),t.push("y"),t=Object(n.a)(new Set(t)),(r=e.state.selected_question).push(s),r=Object(n.a)(new Set(r)),l=Object(n.a)(new Set(l)),e.setState({selected_question:r,selected_answer:t,selected_family_members:l});for(var i=[],m=0;m<l.length;m++){var d=l[m].split("~");d[0]==s&&i.push(d[1])}var u={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:i,question_id:s,answer:"y"},p=new D.a;o.append("enc_data",p.encrypt(JSON.stringify(u))),e.props.loadingStart(),b.a.post("/medical-question",o).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList(),this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=n.selected_question,c=n.selected_answer,v=(n.showImg,n.family_members),E=n.famArr;n.selected_family_members;console.log("SHOW IMAGE DATA=======>",l);var y=r?r.length:0;console.log("Selected Questions==>",s),console.log("Selected Answer==>",c);var b={},S=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){b["question_id_".concat(e.question_id)]=e.response,b["family_members_".concat(e.question_id)]=e.family_members,S[e.question_id]="y"==e.response?e.family_members.split(" "):null,console.log("IIIIIII======>",S[e.question_id])})):(S[e.id]=[],b["question_id_".concat(e.id)]="",b["family_members_".concat(e.id)]=[]),b["show_question_id_".concat(e.id)]=!1,b.famArr=E})),console.log("FORM ARRAY----------=====>",E);var w=Object.assign(b);return console.log("SSSSSSSSSSSSSSSSSS==============>",w),i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaMedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(w).length>0?i.a.createElement(N.e,{initialValues:w,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return console.log("aaaaaa=====>",l),i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),console.log("HURAAAAAAAA",l["family_members_".concat(a.id)]),n==y-1&&e.showRestriction("y")},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==y-1&&e.showRestriction("n")},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),console.log("HHHHHHHHIIIIIOOOOO==============>",l["family_members_".concat(a.id)]),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},v&&v.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1191:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:"5"},A=(w()().add(30,"days"),{"100000.00":1,"150000.00":2,"200000.00":3,"250000.00":4,"300000.00":5,"350000.00":6,"400000.00":7,"450000.00":8,"500000.00":9}),O=D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e})),insureValue:D.string().required((function(){return"Please enter sum insured"}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],requested_data:[]},e.medicalQuestions=function(a){e.props.history.push("/MedicalDetails/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state.serverResponse,r=new FormData,l=new M.a,o=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,s=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(s&&(s=JSON.parse(l.decrypt(s.user)),n.SumInsured>5e5&&"POSP"==s.user_type))return C()("Quote cannot proceed with SI greater than 500000"),e.props.loadingStop(),!1;var c={policy_holder_id:o,start_date:n.EffectiveDate,end_date:n.ExpiryDate,gross_premium:n.GrossPremium,service_tax:n.TGST,swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:n.DuePremium,sum_insured:a.insureValue,page_name:"SelectDuration/".concat(t)};r.append("enc_data",l.encrypt(JSON.stringify(c))),console.log("post_data duration-premium --------- ",c),e.props.loadingStart(),E.a.post("/duration-premium",r).then((function(a){e.props.history.push("/Address/".concat(t))})).catch((function(a){e.props.loadingStop()})),e.props.loadingStop()},e.getAccessToken=function(a){E.a.post("/callTokenService").then((function(t){if(t.data.access_token){e.setState({accessToken:t.data.access_token});var n=[];n.polStartDate=a&&a.start_date?w()(a.start_date).format("YYYY-MM-DD"):new Date,n.polEndDate=new Date(w()(n.polStartDate).add(364,"days").format("YYYY-MM-DD")),e.props.loadingStop(),e.quote(n)}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.props.loadingStop()})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),E.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data&&a.data.data.policyHolder.request_data;e.setState({policyHolderDetails:a.data.data.policyHolder,requested_data:t}),e.getAccessToken(t)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.quote=function(a){var t=e.state.accessToken;if(t){var n="";switch(e.state.policyHolderDetails.request_data.sum_insured){case"100000.00":n="1";break;case"150000.00":n="2";break;case"200000.00":n="3";break;case"250000.00":n="4";break;case"300000.00":n="5";break;case"350000.00":n="6";break;case"400000.00":n="7";break;case"450000.00":n="8";break;case"500000.00":n="9";break;default:n="5"}var r=w()(a.polStartDate).format("YYYY-MM-DD"),l=w()(a.polEndDate).format("YYYY-MM-DD"),o=a.insureValue?a.insureValue:n,s=new FormData;e.props.loadingStart();var c={id:localStorage.getItem("policyHolder_id"),policyStartDate:r,policyEndDate:l,insureValue:o,access_token:t},i=new M.a;console.log("post_data fullQuote--------- ",c),s.append("enc_data",i.encrypt(JSON.stringify(c))),E.a.post("/quickQuoteService",s).then((function(a){a.data.AdjustedPremium?e.setState({serverResponse:a.data,error:[]}):e.setState({serverResponse:a.data,error:a.data}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111")},e.handleChange=function(a){var t=w()(a).add(364,"days").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,n?n.request_data:null),s=o&&o.start_date?new Date(o.start_date):"",g=o&&o.end_date?new Date(o.end_date):"",E=Object.assign(B,{polStartDate:s||new Date,polEndDate:g||new Date(w()().add(364,"days").format("YYYY-MM-DD")),insureValue:n&&n.request_data&&n.request_data.sum_insured?A[n.request_data.sum_insured]:B.insureValue}),y=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arg2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:E,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:O},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(h.a)(a,364)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),364)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Select Sum Insured")),c.a.createElement(u.a,{sm:12,md:6,lg:8},c.a.createElement(p.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(P.b,{name:"insureValue",component:"select",autoComplete:"off",value:n.insureValue,className:"formGrp",onChange:function(a){s("insureValue"),o("insureValue",a.target.value),e.handleAmountChange(a)}},c.a.createElement("option",{value:""},"Select sum insured"),c.a.createElement("option",{value:"1"},"100 000"),c.a.createElement("option",{value:"2"},"150 000"),c.a.createElement("option",{value:"3"},"200 000"),c.a.createElement("option",{value:"4"},"250 000"),c.a.createElement("option",{value:"5"},"300 000"),c.a.createElement("option",{value:"6"},"350 000"),c.a.createElement("option",{value:"7"},"400 000"),c.a.createElement("option",{value:"8"},"450 000"),c.a.createElement("option",{value:"9"},"500 000")),l.insureValue&&i.insureValue?c.a.createElement("span",{className:"errorMsg"},l.insureValue):null)))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for One Year :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r&&r.DuePremium?r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 30 and 60 days respectively")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,y))),c.a.createElement(u.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"6000+ Network Hospitals for you to avail cashless facility")))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(x))},1192:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(56,"years").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:""},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^([0-9A-Za-z\s]*)$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^([A-Za-z\s]*)$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"PAN number is required"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:b.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 55 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please select the EIA account number").min(13,(function(){return"EIA number should be minimum 13 digits"})).max(13,(function(){return"EIA number should be maximum 13 digits"})).matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Invalid number"})),othewise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:b.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 55 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),N.a.get("policy-holder/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,n=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,o=!1,s=JSON.parse(e.data.data.policyHolder.pincode_response),c=0;c<n.length;c++)if("self"==n[c].relation_with){o=!0;break}var i=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"";e.data.data.policyHolder.T_Insurance_Repository_id&&e.data.data.policyHolder.T_Insurance_Repository_id;t.setState({selfFlag:o,policy_holder:a,familyMembers:n,addressDetails:r,is_eia_account:l,pincode_Details:s,is_eia_account2:i}),t.props.loadingStop(),t.fetchPrevAreaDetails(s)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData;n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();new O.a;n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.sumInsured=function(e){t.props.history.push("/SelectDuration/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(M()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.page_name="Address/".concat(r),s.policy_holder_id=l;var v=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",v),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var E={};Object.assign(E,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(E),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var y={};Object.assign(y,s);var b=new O.a;o.append("enc_data",b.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("/insured-member-details",o).then((function(e){t.props.loadingStop(),t.props.history.push("/NomineeDetails/".concat(r))})).catch((function(e){401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],is_eia_account2:"",tpaInsurance:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.policy_holder,r=a.familyMembers,l=a.addressDetails,o=a.is_eia_account,s=a.selfFlag,g=a.pinDataArr,b=a.stateName,N=a.showEIA,S=a.showEIA2,w=a.is_eia_account2,k=a.tpaInsurance,C=a.pincode_Details,P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,D=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):s?1:0,family_members:this.initFamilyDetailsList(r),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:l&&l.phoneNo?l.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:l&&l.address1?l.address1:"",address2:l&&l.address2?l.address2:"",address3:l&&l.address3?l.address3:"",pincode:l&&l.pincode?l.pincode:"",pincode_id:C&&C.id?C.id:"",state:l&&l.state?l.state:"",eIA:o,eia_account_no:n&&n.eia_no?n.eia_no:"",proposerName:n&&n.first_name?n.first_name:"",proposerLname:n&&n.last_name?n.last_name:"",proposerDob:n&&n.dob?new Date(n.dob):"",proposerGender:n&&n.gender?n.gender:"",is_eia_account2:w,tpaInsurance:n&&n.T_Insurance_Repository_id?n.T_Insurance_Repository_id:""}),I=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox agrAddress2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:D,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var n=a.values,l=a.errors,s=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting),E=a.touched;return c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"1"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"0"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.proposerAsInsured&&E.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},l.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==D.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerName}),l.proposerName&&E.proposerName?c.a.createElement("span",{className:"errorMsg"},l.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerLname}),l.proposerLname&&E.proposerLname?c.a.createElement("span",{className:"errorMsg"},l.proposerLname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:n.proposerDob,onChange:function(e){h("proposerDob"),s("proposerDob",e)}}),l.proposerDob&&E.proposerDob?c.a.createElement("span",{className:"errorMsg"},l.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.proposerGender&&E.proposerGender?c.a.createElement("span",{className:"errorMsg"},l.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,r&&r.length>0&&r.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},a.relation_with,c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].fname}),l.family_members&&l.family_members[t]&&l.family_members[t].fname?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].lname}),l.family_members&&l.family_members[t]&&l.family_members[t].lname?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].lname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:n.family_members[t].dob?new Date(n.family_members[t].dob):new Date,onChange:function(e){h("family_members.".concat(t,".dob")),s("family_members.".concat(t,".dob"),e)}}),l.family_members&&l.family_members[t]&&l.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.family_members&&l.family_members[t]&&l.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].gender):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.panNo.toUpperCase(),onChange:function(e){return s("panNo",e.target.value.toUpperCase())}}),l.panNo&&E.panNo?c.a.createElement("span",{className:"errorMsg"},l.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"PHONE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.phoneNo}),l.phoneNo&&E.phoneNo?c.a.createElement("span",{className:"errorMsg"},l.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.email}),l.email&&E.email?c.a.createElement("span",{className:"errorMsg"},l.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address1,onChange:function(e){return s("address1",e.target.value)}}),l.address1&&E.address1?c.a.createElement("span",{className:"errorMsg"},l.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address2,onChange:function(e){return s("address2",e.target.value)}}),l.address2&&E.address2?c.a.createElement("span",{className:"errorMsg"},l.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address3,onChange:function(e){return s("address3",e.target.value)}}),l.address3&&E.address3?c.a.createElement("span",{className:"errorMsg"},l.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:n.pincode,onInput:function(e){h("state"),h("pincode"),s("pincode",e.target.value),s("state",b?b[0]:n.state),s("pincode_id","")}}),l.pincode&&E.pincode?c.a.createElement("span",{className:"errorMsg"},l.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),l.pincode_id&&E.pincode_id?c.a.createElement("span",{className:"errorMsg"},l.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:b||n.state,disabled:!0}),l.state&&E.state?c.a.createElement("span",{className:"errorMsg"},l.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(1)},checked:"1"==n.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(0)},checked:"0"==n.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.eIA&&E.eIA?c.a.createElement("span",{className:"errorMsg"},l.eIA):null)))),N||1==o?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:n.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.eia_account_no&&E.eia_account_no?c.a.createElement("span",{className:"errorMsg"},l.eia_account_no):null)))):"",0==N&&"0"==o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},P.wish_to_create_EIA_Account)))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",P.Yes))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},P.No),l.is_eia_account2&&E.is_eia_account2?c.a.createElement("span",{className:"errorMsg"},P[l.is_eia_account2]):null)))))):"",S||"1"==w?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},P.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},P.SELECT_TPA),k.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),l.tpaInsurance&&E.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},P[l.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.sumInsured.bind(e,I)},v?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"113 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1193:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(111,"years").calendar()).add(1,"day").calendar(),B=b()().subtract(3,"months").calendar(),A={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:""},O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="NomineeDetails/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/PolicyDetails/".concat(n))})).catch((function(a){401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart(),w.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.NomineeDetails,r=t.appointeeFlag,l=t.is_appointee,o=t.self_selected;b.a.defaultFormat="YYYY-MM-YY";var s=Object.assign(A,{first_name:n?n.first_name:"",last_name:n?n.last_name:"",gender:n?n.gender:"",dob:n&&n.dob?new Date(n.dob):"",relation_with:n?n.relation_with:"",appointee_relation_with:n&&n.appointee_relation_with?n.appointee_relation_with:"",appointee_name:n&&n.appointee_name?n.appointee_name:""});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argnominee3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(v.e,{initialValues:s,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),s.first_name&&h.first_name?c.a.createElement("span",{className:"errorMsg"},s.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),s.last_name&&h.last_name?c.a.createElement("span",{className:"errorMsg"},s.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.gender&&h.gender?c.a.createElement("span",{className:"errorMsg"},s.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){g("dob"),p("dob",a),e.ageCheck(a)},selected:n.dob}),s.dob&&h.dob?c.a.createElement("span",{className:"errorMsg"},s.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.relation_with&&h.relation_with?c.a.createElement("span",{className:"errorMsg"},s.relation_with):null)))),r||"1"==l?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),s.appointee_name&&h.appointee_name?c.a.createElement("span",{className:"errorMsg"},s.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.appointee_relation_with&&h.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},s.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.addressInfo.bind(e,a)},f?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1194:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(2),D=t(28),I=t(9),M=t(926),B=S()(S()().subtract(20453,"day").calendar()).add(1,"day").calendar(),A=S()().subtract(18,"years").calendar(),O=S()(S()().subtract(26,"years").calendar()).add(1,"day").calendar(),x=S()().subtract(3,"months").calendar(),H={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",occupation_id:"",occupation_description:""},R=w.object().shape({gender:w.string().required("Please select gender"),occupation_id:w.string().required("Please select occupation type"),occupation_description:w.string().when("occupation_id",{is:function(e){return 193==e},then:w.string().required("Please Specify").matches(/^([a-zA-Z])*$/,"Invalid occupation"),othewise:w.string()})}),L=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_5:w.string(),looking_for_0:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_5"],{is:function(e,a){return"spouse"==e&&"father"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_6"],{is:function(e,a){return"spouse"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_7"],{is:function(e,a){return"spouse"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_8"],{is:function(e,a){return"spouse"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_6"],{is:function(e,a){return"father"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_7"],{is:function(e,a){return"father"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_8"],{is:function(e,a){return"father"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_7"],{is:function(e,a){return"mother"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_8"],{is:function(e,a){return"mother"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_8"],{is:function(e,a){return"fatherInLaw"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and father age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and father difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and mother age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()})});var j=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]="m",n[6]="f",n[7]="m",n[8]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.occupation_id&&(null==e.occupation_description||""==e.occupation_description))return C()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new I.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=[],i=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",m="";i&&(m=JSON.parse(r.decrypt(i.user))),c.menumaster_id=2,c.proposer_gender=e.gender,c.page_name="Health/".concat(a),c.occupation_id=e.occupation_id,c.occupation_description=e.occupation_description,c.product_id=t.props.match.params.productId,c.bc_agent_id=m.master_user_id,c.bcmaster_id=m.bc_master_id;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}c.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}c.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var E=0;E<h.length;E++){var y;y=h[E]?h[E]:s[E].gender,d.push(y)}c.gender=d,c.confirm=t.state.confirm;var b={};console.log("postData========",c),f>0?(c.policy_holder_id=f,Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("/update-yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails_Micro/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("/yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails_Micro/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()})))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if((e.looking_for_5||e.looking_for_6)&&(e.looking_for_7||e.looking_for_8))return C()("Either Parent or Parent In-laws allowed in Family Floater"),!1;if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=t.state.gender?"m":null,o[6]=t.state.gender?"f":null,o[7]=t.state.gender?"m":null,o[8]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),v.a.get("policy-holder/".concat(e)).then((function(e){var a=e.data.data.policyHolder&&e.data.data.policyHolder.request_data&&e.data.data.policyHolder.request_data.family_members?e.data.data.policyHolder.request_data.family_members:[],n=JSON.parse(e.data.data.policyHolder.address),r=e.data.data.policyHolder.is_eia_account,l=e.data.data.policyHolder.gender,o=a&&a.length>0?1:0,s=e.data.data.policyHolder?e.data.data.policyHolder:[];t.setState({familyMembers:a,addressDetails:n,is_eia_account:r,gender:l,validateCheck:o,policyHolder:s}),t.setStateForPreviousData(a)})).catch((function(e){})),t.props.loadingStop()},t.fetchRelations=function(){v.a.get("relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchOccupation()})).catch((function(e){t.props.loadingStop()}))},t.fetchOccupation=function(){var e=new I.a;v.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&C()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("occupation_id",e.value),t.setState({selectedOption:e}),console.log("Option selected:",e)},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",policyHolder:[],occupationList:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,p=a.display_gender,v=(a.confirm,a.policyHolder),E=a.occupationList,y=a.selectedOption,b=this.getInsuredList(o),N=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],S=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],w=p&&p.length>0?p:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],k=Object.assign(H,{check_input:r||0,gender:l||"",looking_for_0:N[0]?N[0]:"",dob_0:S[0]?new Date(S[0]):"",looking_for_1:N[1]?N[1]:"",dob_1:S[1]?new Date(S[1]):"",looking_for_2:N[2]?N[2]:"",dob_2:S[2]?new Date(S[2]):"",child1Gender:w?w[2]:"",looking_for_3:N[3]?N[3]:"",dob_3:S[3]?new Date(S[3]):"",child2Gender:w?w[3]:"",looking_for_4:N[4]?N[4]:"",dob_4:S[4]?new Date(S[4]):"",child3Gender:w?w[4]:"",looking_for_5:N[5]?N[5]:"",dob_5:S[5]?new Date(S[5]):"",looking_for_6:N[6]?N[6]:"",dob_6:S[6]?new Date(S[6]):"",looking_for_7:N[7]?N[7]:"",dob_7:S[7]?new Date(S[7]):"",looking_for_8:N[8]?N[8]:"",dob_8:S[8]?new Date(S[8]):"",insureList:b?b.toString():n||"",occupation_id:v?v.occupation_id:"",occupation_description:v&&null!=v.occupation_description?v.occupation_description:""}),C=E&&E.length>0?E.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaSanjibny"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(P.e,{initialValues:k,onSubmit:this.handleFormSubmit,validationSchema:R},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&c.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Occupation:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(M.a,{placeholder:"Select Occupation",value:y||(C?C.find((function(e){return e.value===r.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,o,s)},options:C}),l.occupation_id&&c.occupation_id?i.a.createElement("span",{className:"errorMsg"},l.occupation_id):null)),"193"==r.occupation_id?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"occupation_description",type:"text",placeholder:"Please mention your occupation here.",autoComplete:"off",value:r.occupation_description,maxLength:"256",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.occupation_description&&c.occupation_description?i.a.createElement("span",{className:"errorMsg"},l.occupation_description):null)):"",i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(P.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",class:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&c.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(P.e,{initialValues:k,onSubmit:this.handleSubmitForm,validationSchema:L},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_5",value:"father",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_6",value:"mother",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_7",value:"fatherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_8",value:"motherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),t.looking_for_2||t.looking_for_3||t.looking_for_4?i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(P.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4)?i.a.createElement("span",{className:"error-message"},n.confirm):"")))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(j))},1195:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){console.log("ssss===>",e)})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[]},e.sumInsured=function(a){e.props.history.push("/SelectDuration_Micro/".concat(a))},e.buy_policy=function(a){e.props.history.push("/Health_Micro/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData,c=e.props.match.params.productId;a.match(/question_id/gi)&&r.push(a.substr(12,1));var i=e.state.showImage?e.state.showImage:[],m=i&&i.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:m,selected_question:o,selected_answer:l});var d=document.getElementsByClassName("familyMembers".concat(r[0])),u=t;if("n"==u){var p=e.state.family_members,_=[];p&&p.map((function(e,a){_.push(e.id)}));var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=new D.a,h={question_id:r[0],answer:t,family_member_ids:_,policy_holder_id:g,page_name:"MedicalDetails/".concat(c)};s.append("enc_data",f.encrypt(JSON.stringify(h))),e.props.loadingStart(),b.a.post("/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==u)for(var v=0;v<d.length;v++)d[v].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[];if("y"==a.question_id_4)return P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),!1;for(var s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)m[d].checked&&l.push(!0);r++}r==n.length/2&&l.length>=o.length?e.state.isForwarded&&e.props.history.push("/SelectDuration_Micro/".concat(t)):P()("Please answer all of the questions")},e.getQuestionList=function(){e.props.loadingStart(),b.a.get("/questions").then((function(a){var t=a.data.data&&a.data.data.length?e.setShowImage(a.data.data):[];e.setState({questionList:a.data.data,showImage:t})})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()})),e.props.loadingStop()},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart(),b.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({flag:!0,question_answer:a.data.data.policyHolder.request_data.question_answer,family_members:a.data.data.policyHolder.request_data.family_members});var t=a.data.data.policyHolder.request_data.question_answer?a.data.data.policyHolder.request_data.question_answer:{},n=e.getFamilyMembers(t);e.setState({selected_family_members:n})})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()})),e.props.loadingStop()},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setAnswer=function(a){var t=[],r=[],l=[],o=new FormData,s=a.target.className[a.target.className.length-1],c=(l=e.state.selected_family_members).indexOf("".concat(s,"~").concat(a.target.value));c>-1?l.splice(c,1):(l.push("".concat(s,"~").concat(a.target.value)),l=Object(n.a)(new Set(l))),t.push("y"),t=Object(n.a)(new Set(t)),(r=e.state.selected_question).push(s),r=Object(n.a)(new Set(r)),l=Object(n.a)(new Set(l)),e.setState({selected_question:r,selected_answer:t,selected_family_members:l});for(var i=[],m=0;m<l.length;m++){var d=l[m].split("~");d[0]==s&&i.push(d[1])}var u={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:i,question_id:s,answer:"y"},p=new D.a;o.append("enc_data",p.encrypt(JSON.stringify(u))),e.props.loadingStart(),b.a.post("/medical-question",o).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList(),this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=(n.selected_question,n.selected_answer,n.showImg,n.family_members),c=n.famArr,v=(n.selected_family_members,r?r.length:0),E={},y=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){E["question_id_".concat(e.question_id)]=e.response,E["family_members_".concat(e.question_id)]=e.family_members,y[e.question_id]="y"==e.response?e.family_members.split(" "):null})):(y[e.id]=[],E["question_id_".concat(e.id)]="",E["family_members_".concat(e.id)]=[]),E["show_question_id_".concat(e.id)]=!1,E.famArr=c}));var b=Object.assign(E);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaMedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(b).length>0?i.a.createElement(N.e,{initialValues:b,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left",key:n},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("y")},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("n")},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},s&&s.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1196:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:""},A=(w()().add(30,"days"),{"100000.00":1,"150000.00":2,"200000.00":3,"250000.00":4,"300000.00":5,"350000.00":6,"400000.00":7,"450000.00":8,"500000.00":9}),O=D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e})),insureValue:D.string().required((function(){return"Please enter sum insured"}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],familyMembers:[],requested_data:[]},e.medicalQuestions=function(a){e.props.history.push("/MedicalDetails_Micro/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.serverResponse,l=n.familyMembers,o=new FormData,s=new M.a,c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;if(r.HighestFamilySI>25e4&&l.length>"1")return C()("Quote cannot proceed with SI greater than 250000"),e.props.loadingStop(),!1;if(r.HighestFamilySI>1e5&&"1"==l.length)return C()("Quote cannot proceed with SI greater than 100000"),e.props.loadingStop(),!1;var i={policy_holder_id:c,start_date:r.EffectiveDate,end_date:r.ExpiryDate,gross_premium:r.GrossPremium,service_tax:r.TGST,swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:r.DuePremium,sum_insured:a.insureValue,page_name:"SelectDuration/".concat(t)};o.append("enc_data",s.encrypt(JSON.stringify(i))),e.props.loadingStart(),E.a.post("/duration-premium",o).then((function(a){e.props.loadingStop(),e.props.history.push("/Address_Micro/".concat(t))})).catch((function(a){e.props.loadingStop()}))},e.getAccessToken=function(a){E.a.post("/callTokenService").then((function(t){if(t.data.access_token){e.setState({accessToken:t.data.access_token});var n=[];n.polStartDate=a&&a.start_date?w()(a.start_date).format("YYYY-MM-DD"):new Date,n.polEndDate=new Date(w()(n.polStartDate).add(364,"days").format("YYYY-MM-DD")),e.props.loadingStop(),e.quote(n)}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.props.loadingStop()})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),E.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data&&a.data.data.policyHolder.request_data.family_members,n=a.data.data.policyHolder.request_data&&a.data.data.policyHolder.request_data;e.setState({policyHolderDetails:a.data.data.policyHolder,familyMembers:t,requested_data:n}),e.getAccessToken(n)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.quote=function(a){var t=e.state,n=t.accessToken,r=t.familyMembers;if(n){var l="";switch(e.state.policyHolderDetails.request_data.sum_insured){case"100000.00":l="1";break;case"150000.00":l="2";break;case"200000.00":l="3";break;case"250000.00":l="4";break;case"300000.00":l="5";break;case"350000.00":l="6";break;case"400000.00":l="7";break;case"450000.00":l="8";break;case"500000.00":l="9";break;default:l=r.length>"1"?"3":"1"}var o=w()(a.polStartDate).format("YYYY-MM-DD"),s=w()(a.polEndDate).format("YYYY-MM-DD"),c=a.insureValue?a.insureValue:l,i=new FormData;e.props.loadingStart();var m={id:localStorage.getItem("policyHolder_id"),policyStartDate:o,policyEndDate:s,insureValue:c,access_token:n},d=new M.a;console.log("post_data fullQuote--------- ",m),i.append("enc_data",d.encrypt(JSON.stringify(m))),E.a.post("/quickQuoteService",i).then((function(a){a.data.AdjustedPremium?e.setState({serverResponse:a.data,error:[]}):e.setState({serverResponse:a.data,error:a.data}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111")},e.handleChange=function(a){var t=w()(a).add(364,"days").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.familyMembers),s=n?n.request_data:null,g=s&&s.start_date?new Date(s.start_date):"",E=s&&s.end_date?new Date(s.end_date):"",y=Object.assign(B,{polStartDate:g||new Date,polEndDate:E||new Date(w()().add(364,"days").format("YYYY-MM-DD")),insureValue:n&&n.request_data&&n.request_data.sum_insured?A[n.request_data.sum_insured]:o.length>"1"?"3":"1"}),b=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arg2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:y,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:O},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(h.a)(a,364)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),364)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Select Sum Insured")),c.a.createElement(u.a,{sm:12,md:6,lg:8},c.a.createElement(p.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(P.b,{name:"insureValue",component:"select",autoComplete:"off",value:n.insureValue,className:"formGrp",onChange:function(a){s("insureValue"),o("insureValue",a.target.value),e.handleAmountChange(a)}},c.a.createElement("option",{value:""},"Select sum insured"),c.a.createElement("option",{value:"1"},"100 000"),c.a.createElement("option",{value:"2"},"150 000"),c.a.createElement("option",{value:"3"},"200 000"),c.a.createElement("option",{value:"4"},"250 000")),l.insureValue&&i.insureValue?c.a.createElement("span",{className:"errorMsg"},l.insureValue):null)))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for One Year :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r?r.message?0:r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 30 and 60 days respectively")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,b))),c.a.createElement(u.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"6000+ Network Hospitals for you to avail cashless facility")))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(x))},1197:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(20453,"day").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:""},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-z0-9]+([\s][a-zA-Z0-9]+)*$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^[a-zA-z]+([\s][a-zA-Z]+)*$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"PAN number is required"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:b.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 55 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please enter EIA account number").matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Enter valid EIA number"})),otherwise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:b.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 55 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),N.a.get("policy-holder/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,n=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,o=!1,s=JSON.parse(e.data.data.policyHolder.pincode_response),c=0;c<n.length;c++)if("self"==n[c].relation_with){o=!0;break}var i=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"";e.data.data.policyHolder.T_Insurance_Repository_id&&e.data.data.policyHolder.T_Insurance_Repository_id;t.setState({selfFlag:o,policy_holder:a,familyMembers:n,addressDetails:r,is_eia_account:l,pincode_Details:s,is_eia_account2:i}),t.props.loadingStop(),t.fetchPrevAreaDetails(s)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData;n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();new O.a;n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}else t.setState({pinDataArr:[],stateName:[]})},t.sumInsured=function(e){t.props.history.push("/SelectDuration_Micro/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(M()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.page_name="Address_Micro/".concat(r),s.policy_holder_id=l;var v=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",v),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var E={};Object.assign(E,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(E),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var y={};Object.assign(y,s);var b=new O.a;o.append("enc_data",b.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("/insured-member-details",o).then((function(e){t.props.loadingStop(),t.props.history.push("/NomineeDetails_Micro/".concat(r))})).catch((function(e){401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],is_eia_account2:"",tpaInsurance:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.policy_holder,r=a.familyMembers,l=a.addressDetails,o=a.is_eia_account,s=a.selfFlag,g=a.pinDataArr,b=a.stateName,N=a.showEIA,S=a.showEIA2,w=a.is_eia_account2,k=a.tpaInsurance,C=a.pincode_Details,P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,D=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):s?1:0,family_members:this.initFamilyDetailsList(r),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:l&&l.phoneNo?l.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:l&&l.address1?l.address1:"",address2:l&&l.address2?l.address2:"",address3:l&&l.address3?l.address3:"",pincode:l&&l.pincode?l.pincode:"",pincode_id:C&&C.id?C.id:"",state:l&&l.state?l.state:"",eIA:o,eia_account_no:n&&n.eia_no?n.eia_no:"",proposerName:n&&n.first_name?n.first_name:"",proposerLname:n&&n.last_name?n.last_name:"",proposerDob:n&&n.dob?new Date(n.dob):"",proposerGender:n&&n.gender?n.gender:"",is_eia_account2:w,tpaInsurance:n&&n.T_Insurance_Repository_id?n.T_Insurance_Repository_id:""}),I=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox agrAddress2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:D,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var n=a.values,l=a.errors,s=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting),E=a.touched;return c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"1"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"0"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.proposerAsInsured&&E.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},l.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==D.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerName}),l.proposerName&&E.proposerName?c.a.createElement("span",{className:"errorMsg"},l.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerLname}),l.proposerLname&&E.proposerLname?c.a.createElement("span",{className:"errorMsg"},l.proposerLname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:n.proposerDob,onChange:function(e){h("proposerDob"),s("proposerDob",e)}}),l.proposerDob&&E.proposerDob?c.a.createElement("span",{className:"errorMsg"},l.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.proposerGender&&E.proposerGender?c.a.createElement("span",{className:"errorMsg"},l.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,r&&r.length>0&&r.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},a.relation_with,c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].fname}),l.family_members&&l.family_members[t]&&l.family_members[t].fname?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].lname}),l.family_members&&l.family_members[t]&&l.family_members[t].lname?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].lname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:n.family_members[t].dob?new Date(n.family_members[t].dob):new Date,onChange:function(e){h("family_members.".concat(t,".dob")),s("family_members.".concat(t,".dob"),e)}}),l.family_members&&l.family_members[t]&&l.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.family_members&&l.family_members[t]&&l.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].gender):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.panNo.toUpperCase(),onChange:function(e){return s("panNo",e.target.value.toUpperCase())}}),l.panNo&&E.panNo?c.a.createElement("span",{className:"errorMsg"},l.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"PHONE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.phoneNo}),l.phoneNo&&E.phoneNo?c.a.createElement("span",{className:"errorMsg"},l.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.email}),l.email&&E.email?c.a.createElement("span",{className:"errorMsg"},l.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address1,onChange:function(e){return s("address1",e.target.value)}}),l.address1&&E.address1?c.a.createElement("span",{className:"errorMsg"},l.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address2,onChange:function(e){return s("address2",e.target.value)}}),l.address2&&E.address2?c.a.createElement("span",{className:"errorMsg"},l.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address3,onChange:function(e){return s("address3",e.target.value)}}),l.address3&&E.address3?c.a.createElement("span",{className:"errorMsg"},l.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:n.pincode,onInput:function(e){h("state"),h("pincode"),s("pincode",e.target.value),s("state",b?b[0]:n.state),s("pincode_id","")}}),l.pincode&&E.pincode?c.a.createElement("span",{className:"errorMsg"},l.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),l.pincode_id&&E.pincode_id?c.a.createElement("span",{className:"errorMsg"},l.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:b||n.state,disabled:!0}),l.state&&E.state?c.a.createElement("span",{className:"errorMsg"},l.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(1)},checked:"1"==n.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(0)},checked:"0"==n.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.eIA&&E.eIA?c.a.createElement("span",{className:"errorMsg"},l.eIA):null)))),N||1==o?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:n.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.eia_account_no&&E.eia_account_no?c.a.createElement("span",{className:"errorMsg"},l.eia_account_no):null)))):"",0==N&&"0"==o?c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,P.wish_to_create_EIA_Account,c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"0",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),"is_eia_account2"==l.name&&"is_eia_account2"==E.name?c.a.createElement("span",{className:"errorMsg"},l.name="is_eia_account2"):null)))):"",S||"1"==w?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},P.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},P.SELECT_TPA),k.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),l.tpaInsurance&&E.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},P[l.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.sumInsured.bind(e,I)},v?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"113 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1198:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(111,"years").calendar()).add(1,"day").calendar(),B=b()().subtract(3,"months").calendar(),A={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:""},O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address_Micro/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="NomineeDetails/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/PolicyDetails_Micro/".concat(n))})).catch((function(a){401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart(),w.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.NomineeDetails,r=t.appointeeFlag,l=t.is_appointee,o=t.self_selected;b.a.defaultFormat="YYYY-MM-YY";var s=Object.assign(A,{first_name:n?n.first_name:"",last_name:n?n.last_name:"",gender:n?n.gender:"",dob:n&&n.dob?new Date(n.dob):"",relation_with:n?n.relation_with:"",appointee_relation_with:n&&n.appointee_relation_with?n.appointee_relation_with:"",appointee_name:n&&n.appointee_name?n.appointee_name:""});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argnominee3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(v.e,{initialValues:s,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),s.first_name&&h.first_name?c.a.createElement("span",{className:"errorMsg"},s.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),s.last_name&&h.last_name?c.a.createElement("span",{className:"errorMsg"},s.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.gender&&h.gender?c.a.createElement("span",{className:"errorMsg"},s.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){g("dob"),p("dob",a),e.ageCheck(a)},selected:n.dob}),s.dob&&h.dob?c.a.createElement("span",{className:"errorMsg"},s.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.relation_with&&h.relation_with?c.a.createElement("span",{className:"errorMsg"},s.relation_with):null)))),r||"1"==l?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),s.appointee_name&&h.appointee_name?c.a.createElement("span",{className:"errorMsg"},s.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.appointee_relation_with&&h.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},s.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.addressInfo.bind(e,a)},f?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1199:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={M:"Male",F:"Female"},O={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x={gateway:""},H=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails_Micro/".concat(a))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),v.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},r=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},o=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineeDetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,menumaster:n,request_data:l,paymentgateway:o,vehicleDetails:r}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.getAccessToken=function(a,t){v.a.post("/callTokenService").then((function(n){e.setState({accessToken:n.data.access_token}),e.fullQuote(n.data.access_token,a,t)})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderId=function(a){e.props.loadingStart(),v.a.get("/health-policy/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},o=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineeDetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,request_data:n,menumaster:r,paymentgateway:o,vehicleDetails:l}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a,t){var n=t.id,r=Math.floor(t.request_data.sum_insured),l=new FormData,o=new P.a,s={id:n,insureValue:r,access_token:a};l.append("enc_data",o.encrypt(JSON.stringify(s))),v.a.post("/fullQuoteServiceArogyaSeriesMicro",l).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(B.b)(a,r,n,l)},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){I.a.parse(this.props.location.search).access_id?this.getPolicyHolderId(I.a.parse(this.props.location.search).access_id):this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.bcMaster,y=n.paymentgateway,b=n.nomineeDetails,N=n.request_data,S=n.vehicleDetails,k=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,C=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth?w()(e.DateOfBirth).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?O[parseInt(e.ArgInsuredRelToProposer)+1]:O[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,P=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?b.first_name+" "+b.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?w()(b.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.relation_with]:[]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&"m"==b.gender?"Male":"Female"))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&b.appointee_name?b.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),I=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,B=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox helpolicy"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement(M.e,{initialValues:x,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,I),c.a.createElement("h5",null,B),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.start_date?w()(N.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.end_date?w()(N.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S&&S.vehicletype?S.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Arogya Sanjeevani Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.GrossPremium?Math.round(r.GrossPremium+r.AlcoholLoadingAmount+r.SmokerLoadingAmount+r.TobaccoLoadingAmount):"")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},C),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},P),b&&"1"==b.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,b&&"1"==b.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},D):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address_Micro/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",y&&y.length>0?y.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),v&&1==v.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(H))},1200:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(46),s=t(18),c=t(17),i=t(11),m=t(0),d=t.n(m),u=t(377),p=t(910),_=t(913),g=t(912),f=t(909),h=t(41),v=t.n(h),E=(t(95),t(96),t(31)),y=t(34),b=t(40),N=t(7),S=t(38),w=t(19),k=t(22),C=t(3),P=t.n(C),D=t(1),I=t(20),M=t.n(I),B=t(2),A=t(28),O=t(9),x=t(926),H=P()(P()().subtract(66,"years").calendar()).add(1,"day").calendar(),R=P()().subtract(18,"years").calendar(),L=P()(P()().subtract(19,"years").calendar()).add(1,"day").calendar(),j=P()().subtract(3,"months").calendar(),F={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",cover_type_id:"",occupation_id:"",occupation_description:""},q=D.object().shape({gender:D.string().required("Please select gender"),occupation_id:D.string().required("Please select occupation type"),occupation_description:D.string().when("occupation_id",{is:function(e){return 193==e},then:D.string().required("Please Specify").matches(/^([a-zA-Z])*$/,"Invalid occupation"),otherwise:D.string()})}),T=D.object().shape((n={confirm:D.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:D.string().required("Please agree to the terms"),otherwise:D.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:D.string().required("Please agree to the terms"),otherwise:D.string()}),looking_for_1:D.string(),looking_for_4:D.string(),looking_for_0:D.string().when(["looking_for_2","cover_type_id"],{is:function(e,a){return"child1"==e&&"3"==a},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_3","cover_type_id"],{is:function(e,a){return"child2"==e&&"3"==a},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_1","looking_for_4","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"father"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_1","looking_for_5","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"mother"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_1","looking_for_6","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"fatherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_1","looking_for_7","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"motherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_4","looking_for_5","cover_type_id"],{is:function(e,a,t){return"father"==e&&"mother"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_4","looking_for_6","cover_type_id"],{is:function(e,a,t){return"father"==e&&"fatherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_4","looking_for_7","cover_type_id"],{is:function(e,a,t){return"father"==e&&"motherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_5","looking_for_6","cover_type_id"],{is:function(e,a,t){return"mother"==e&&"fatherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_5","looking_for_7","cover_type_id"],{is:function(e,a,t){return"mother"==e&&"motherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()}).when(["looking_for_6","looking_for_7","cover_type_id"],{is:function(e,a,t){return"fatherInLaw"==e&&"motherInLaw"==a&&"3"==t},then:D.string().required("Please select self"),otherwise:D.string()})},Object(i.a)(n,"looking_for_4",D.string().when(["cover_type_id"],{is:function(e){return"3"==e},then:D.string().test("familyFloaterChecking",(function(){return"Parents & In-Laws not allowed in family floater"}),(function(e){return!e})),otherwise:D.string()})),Object(i.a)(n,"looking_for_5",D.string().when(["cover_type_id"],{is:function(e){return"3"==e},then:D.string().test("familyFloaterChecking",(function(){return"Parents & In-Laws not allowed in family floater"}),(function(e){return!e})),otherwise:D.string()})),Object(i.a)(n,"looking_for_6",D.string().when(["cover_type_id"],{is:function(e){return"3"==e},then:D.string().test("familyFloaterChecking",(function(){return"Parents & In-Laws not allowed in family floater"}),(function(e){return!e})),otherwise:D.string()})),Object(i.a)(n,"looking_for_7",D.string().when(["cover_type_id"],{is:function(e){return"3"==e},then:D.string().test("familyFloaterChecking",(function(){return"Parents & In-Laws not allowed in family floater"}),(function(e){return!e})),otherwise:D.string()})),Object(i.a)(n,"dob_0",D.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:D.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).nullable(),otherwise:D.string()})),Object(i.a)(n,"dob_1",D.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:D.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),otherwise:D.string()})),Object(i.a)(n,"dob_2",D.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:D.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 18 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<19&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(P()(e).diff(this.parent.dob_0,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(P()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"child1Gender",D.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:D.string().required("Child 1 Gender field is required"),otherwise:D.string()}).nullable()),Object(i.a)(n,"dob_3",D.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:D.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 18 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<19&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(P()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(P()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"child2Gender",D.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:D.string().required("Child 2 Gender field is required"),otherwise:D.string()}).nullable()),Object(i.a)(n,"dob_4",D.string().when(["looking_for_4"],{is:function(e){return"father"==e},then:D.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and father age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"dob_5",D.string().when(["looking_for_5"],{is:function(e){return"mother"==e},then:D.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and mother age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"dob_6",D.string().when(["looking_for_6"],{is:function(e){return"fatherInLaw"==e},then:D.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"dob_7",D.string().when(["looking_for_7"],{is:function(e){return"motherInLaw"==e},then:D.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new A.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(P()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(P()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(P()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),otherwise:D.string()})),Object(i.a)(n,"cover_type_id",D.string().required("Select policy type")),n));var V=function(e){Object(s.a)(n,e);var a=Object(c.a)(n);function n(e){var t;return Object(r.a)(this,n),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]="m",n[5]="f",n[6]="m",n[7]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.occupation_id&&(null==e.occupation_description||""==e.occupation_description))return M()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new O.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=t.state.cover_type_id,i=[],m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(r.decrypt(m))),i.menumaster_id=8,i.page_name="Arogya_Plus/".concat(a),i.proposer_gender=e.gender,i.cover_type_id=c,i.occupation_id=e.occupation_id,i.occupation_description=e.occupation_description;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}i.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}i.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var v=0;v<h.length;v++){var E;E=h[v]?h[v]:s[v].gender,d.push(E)}i.gender=d,i.confirm=t.state.confirm,sessionStorage.getItem("csc_id")?(i.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",i.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",i.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",i.bcmaster_id="5"):(i.bcmaster_id=m?m.agent_id:"",i.bc_token=m?m.token:"",i.bc_agent_id=m?m.user_info.data.user.username:"",i.agent_name=m?m.user_info.data.user.name:"");var y={};console.log("postData========",i),f>0?(i.policy_holder_id=f,Object.assign(y,i),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("arogya-plus/update-yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/MedicalDetails_Plus/".concat(a)):M()(n.msg)})).catch((function(e){e&&e.data&&M()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(y,i),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("/arogya-plus/yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/MedicalDetails_Plus/".concat(a)):M()(n.msg)})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptResp--err---",a),t.props.loadingStop(),a&&e.data&&M()("Family Member fields are required...")})))},t.checkPolicyType=function(e,a,n,r){var l=t.state.drv;if(a)l.push(e);else{var o=l.indexOf(e);-1!==o&&l.splice(o,1)}l&&1==l.length?(n("cover_type_id"),r("cover_type_id","1"),t.setState({cover_type_id:1})):l&&l.length>1&&(n("cover_type_id"),r("cover_type_id",""),t.setState({cover_type_id:""}))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=t.state.gender?"m":null,o[5]=t.state.gender?"f":null,o[6]=t.state.gender?"m":null,o[7]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(P()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i,cover_type_id:e.cover_type_id}),t.setState({dob:m,display_dob:l}),t.handleClose()}else M()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo"),a=new O.a;t.props.loadingStart(),N.a.get("arogya-plus/health-policy-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder&&n.data.policyHolder.request_data&&n.data.policyHolder.request_data.family_members?n.data.policyHolder.request_data.family_members:[],l=n.data.policyHolder?n.data.policyHolder:[],o=JSON.parse(n.data.policyHolder.address),s=n.data.policyHolder.is_eia_account,c=n.data.policyHolder.gender,i=r&&r.length>0?1:0,m=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.cover_type_id:"";t.setState({familyMembers:r,addressDetails:o,is_eia_account:s,gender:c,validateCheck:i,cover_type_id:m,policyHolder:l}),t.setStateForPreviousData(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRelations=function(){t.props.loadingStart(),N.a.get("/arogya-plus/relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurance()})).catch((function(e){t.props.loadingStop()}))},t.fetchInsurance=function(){var e=new O.a;N.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&M()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return P()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s,drv:a})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("occupation_id",e.value),t.setState({selectedOption:e})},t.handleShow=t.handleShow.bind(Object(o.a)(t)),t.handleClose=t.handleClose.bind(Object(o.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",cover_type_id:"",drv:[],policyHolder:[],occupationList:[]},t}return Object(l.a)(n,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,i=a.display_gender,m=(a.confirm,a.cover_type_id),h=a.policyHolder,N=a.occupationList,S=a.selectedOption,w=this.getInsuredList(o),k=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],C=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],P=i&&i.length>0?i:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],D=(1==this.state.lookingFor.length||this.state.cover_type_id,Object.assign(F,{check_input:r||0,gender:l||"",looking_for_0:k[0]?k[0]:"",dob_0:C[0]?new Date(C[0]):"",looking_for_1:k[1]?k[1]:"",dob_1:C[1]?new Date(C[1]):"",looking_for_2:k[2]?k[2]:"",dob_2:C[2]?new Date(C[2]):"",child1Gender:P?P[2]:"",looking_for_3:k[3]?k[3]:"",dob_3:C[3]?new Date(C[3]):"",child2Gender:P?P[3]:"",looking_for_4:k[4]?k[4]:"",dob_4:C[4]?new Date(C[4]):"",looking_for_5:k[5]?k[5]:"",dob_5:C[5]?new Date(C[5]):"",looking_for_6:k[6]?k[6]:"",dob_6:C[6]?new Date(C[6]):"",looking_for_7:k[7]?k[7]:"",dob_7:C[7]?new Date(C[7]):"",cover_type_id:m,insureList:w?w.toString():n||"",occupation_id:h?h.occupation_id:"",occupation_description:h&&null!=h.occupation_description?h.occupation_description:""})),I=N&&N.length>0?N.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,null,d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"left-sidebar"},d.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},d.a.createElement(y.a,null))),d.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arghealth"},d.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),d.a.createElement("section",{className:"brand"},d.a.createElement("div",{className:"boxpd"},d.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),d.a.createElement(B.e,{initialValues:D,onSubmit:this.handleFormSubmit,validationSchema:q},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return d.a.createElement(B.d,null,d.a.createElement("div",{className:"row formSection"},d.a.createElement("label",{className:"col-md-4"},"Gender:"),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(B.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},d.a.createElement("option",{value:""},"Select gender"),d.a.createElement("option",{value:"m"},"Male"),d.a.createElement("option",{value:"f"},"Female")),l.gender&&c.gender?d.a.createElement("span",{className:"errorMsg"},l.gender):null)),d.a.createElement("div",{className:"row formSection"},d.a.createElement("label",{className:"col-md-4"},"Occupation:"),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(x.a,{placeholder:"Select Occupation",value:S||(I?I.find((function(e){return e.value===r.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,o,s)},options:I}),l.occupation_id&&c.occupation_id?d.a.createElement("span",{className:"errorMsg"},l.occupation_id):null)),"193"==r.occupation_id?d.a.createElement("div",{className:"row formSection"},d.a.createElement("label",{className:"col-md-4"}),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(B.b,{name:"occupation_description",type:"text",placeholder:"Please mention your occupation here.",autoComplete:"off",value:r.occupation_description,maxLength:"256",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.occupation_description&&c.occupation_description?d.a.createElement("span",{className:"errorMsg"},l.occupation_description):null)):"",d.a.createElement("div",{className:"row formSection m-b-30"},d.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",d.a.createElement("br",null),d.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),d.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},d.a.createElement(B.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),d.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),d.a.createElement("br",null),d.a.createElement("br",null),l.insureList&&c.insureList?d.a.createElement("span",{className:"errorMsg"},l.insureList):null)),d.a.createElement("div",{className:"cntrbtn"},d.a.createElement(u.a,{className:"btnPrimary",type:"submit"},"Go")))})))),d.a.createElement(b.a,null)),d.a.createElement(p.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},d.a.createElement(B.e,{initialValues:D,onSubmit:this.handleSubmitForm,validationSchema:T},(function(a){var n=a.values,r=a.errors,l=a.setFieldValue,o=a.setFieldTouched,s=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return d.a.createElement(B.d,null,d.a.createElement("div",{className:"customModalfamlyForm"},d.a.createElement("div",{className:"modal-header"},d.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),d.a.createElement(p.a.Body,null,d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_0",a.target.value):(l("looking_for_0",""),l("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==n.looking_for_0}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}," "))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_0"),l("dob_0",e)},selected:n.dob_0}),d.a.createElement("label",{className:"formGrp error"},r.dob_0&&s.dob_0?d.a.createElement("span",{className:"error-message"},r.dob_0):"",r.looking_for_0&&s.looking_for_0?d.a.createElement("span",{className:"error-message"},r.looking_for_0):"")))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_1",a.target.value):(l("looking_for_1",""),l("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==n.looking_for_1}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_1"),l("dob_1",e)},selected:n.dob_1}),d.a.createElement("label",{className:"formGrp error"},r.dob_1&&s.dob_1?d.a.createElement("span",{className:"error-message"},r.dob_1):"")))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_2",a.target.value):(l("looking_for_2",""),l("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==n.looking_for_2}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(j),minDate:new Date(L),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_2"),l("dob_2",e)},selected:n.dob_2}),d.a.createElement("label",{className:"formGrp error"},r.dob_2&&s.dob_2?d.a.createElement("span",{className:"error-message"},r.dob_2):""))),d.a.createElement("div",{className:"col-md-4 formSection"},d.a.createElement(B.b,{name:"child1Gender",component:"select",autoComplete:"off",value:n.child1Gender,className:"formGrp"},d.a.createElement("option",{value:""},"Select gender"),d.a.createElement("option",{value:"m"},"Male"),d.a.createElement("option",{value:"f"},"Female")),d.a.createElement("label",{className:"formGrp error"},r.child1Gender&&s.child1Gender?d.a.createElement("span",{className:"error-message"},r.child1Gender):""))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_3",a.target.value):(l("looking_for_3",""),l("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==n.looking_for_3}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(j),minDate:new Date(L),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_3"),l("dob_3",e)},selected:n.dob_3}),d.a.createElement("label",{className:"formGrp error"},r.dob_3&&s.dob_3?d.a.createElement("span",{className:"error-message"},r.dob_3):""))),d.a.createElement("div",{className:"col-md-4 formSection"},d.a.createElement(B.b,{name:"child2Gender",component:"select",autoComplete:"off",value:n.child2Gender,className:"formGrp"},d.a.createElement("option",{value:""},"Select gender"),d.a.createElement("option",{value:"m"},"Male"),d.a.createElement("option",{value:"f"},"Female")),d.a.createElement("label",{className:"formGrp error"},r.child2Gender&&s.child2Gender?d.a.createElement("span",{className:"error-message"},r.child2Gender):""))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_4",value:"father",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_4",a.target.value):(l("looking_for_4",""),l("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==n.looking_for_4}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_4"),l("dob_4",e)},selected:n.dob_4}),d.a.createElement("label",{className:"formGrp error"},r.dob_4&&s.dob_4?d.a.createElement("span",{className:"error-message"},r.dob_4):"")))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_5",value:"mother",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_5",a.target.value):(l("looking_for_5",""),l("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==n.looking_for_5}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_5"),l("dob_5",e)},selected:n.dob_5}),d.a.createElement("label",{className:"formGrp error"},r.dob_5&&s.dob_5?d.a.createElement("span",{className:"error-message"},r.dob_5):"",r.looking_for_5&&d.a.createElement("touched",{className:"looking_for_5"})?d.a.createElement("span",{className:"error-message"},r.looking_for_5):"")))),d.a.createElement("div",{className:"row dropinput"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_6",value:"fatherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_6",a.target.value):(l("looking_for_6",""),l("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==n.looking_for_6}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_6"),l("dob_6",e)},selected:n.dob_6}),d.a.createElement("label",{className:"formGrp error"},r.dob_6&&s.dob_6?d.a.createElement("span",{className:"error-message"},r.dob_6):"",r.looking_for_6&&s.looking_for_6?d.a.createElement("span",{className:"error-message"},r.looking_for_6):"")))),d.a.createElement("div",{className:"row dropinput m-b-45"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",d.a.createElement(B.b,{type:"checkbox",name:"looking_for_7",value:"motherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_7",a.target.value):(l("looking_for_7",""),l("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==n.looking_for_7}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("span",{className:"error-message"}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement(_.a,null,d.a.createElement(v.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_7"),l("dob_7",e)},selected:n.dob_7}),d.a.createElement("label",{className:"formGrp error"},r.dob_7&&s.dob_7?d.a.createElement("span",{className:"error-message"},r.dob_7):"",r.looking_for_7&&s.looking_for_7?d.a.createElement("span",{className:"error-message"},r.looking_for_7):"")))),n.looking_for_2||n.looking_for_3?d.a.createElement("div",{className:"row dropinput m-b-20"},d.a.createElement("div",{className:"col-md-15"},d.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",d.a.createElement(B.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?l("confirm",a.target.value):l("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==n.confirm}),d.a.createElement("span",{className:"checkmark mL-0"}),d.a.createElement("label",{className:"formGrp error"},r.confirm&&(s.looking_for_2||s.looking_for_3)?d.a.createElement("span",{className:"error-message"},r.confirm):"")))):null,n.looking_for_0&&n.looking_for_1||n.looking_for_2||n.looking_for_3||n.looking_for_4||n.looking_for_5||n.looking_for_6||n.looking_for_7?d.a.createElement("div",{className:"d-flex justify-content-center"},d.a.createElement("div",{className:"d-inline-flex m-b-15 m-l-20"},d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(B.b,{type:"radio",name:"cover_type_id",value:"3",key:"1",checked:"3"==n.cover_type_id,onChange:function(){o("cover_type_id"),l("cover_type_id","3")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"},"Floater Plan"),d.a.createElement(g.a,{overlay:d.a.createElement(f.a,{id:"tooltip-disabled"},"A family floater policy is a health insurance plan which covers the entire family on the payment of a single annual premium.")},d.a.createElement("a",{className:"infoIcon"},d.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))),d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(B.b,{type:"radio",name:"cover_type_id",value:"2",key:"1",checked:"2"==n.cover_type_id,onChange:function(){o("cover_type_id"),l("cover_type_id","2")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"},"Non Floater Plan"),d.a.createElement(g.a,{overlay:d.a.createElement(f.a,{id:"tooltip-disabled"},"A non floater policy is a health insurance plan which covers the individual family member(s) on the payment of a single annual premium.")},d.a.createElement("a",{className:"infoIcon"},d.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),r.cover_type_id&&s.cover_type_id?d.a.createElement("span",{className:"errorMsg"},r.cover_type_id):null))):null,d.a.createElement("div",{className:"cntrbtn"},d.a.createElement(u.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),d.a.createElement(u.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),n}(m.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(V))},1201:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){console.log("ssss===>",e)})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[]},e.sumInsured=function(a){e.props.history.push("/SelectDuration_Plus/".concat(a))},e.buy_policy=function(a){e.props.history.push("/Arogya_Plus/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData,c=e.props.match.params.productId;a.match(/question_id/gi)&&r.push(a.substr(12,1));var i=e.state.showImage?e.state.showImage:[],m=i&&i.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:m,selected_question:o,selected_answer:l});var d=document.getElementsByClassName("familyMembers".concat(r[0])),u=t;if("n"==u){var p=e.state.family_members,_=[];p&&p.map((function(e,a){_.push(e.id)}));var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=new D.a,h={question_id:r[0],answer:t,family_member_ids:_,policy_holder_id:g,page_name:"MedicalDetails/".concat(c)};s.append("enc_data",f.encrypt(JSON.stringify(h))),e.props.loadingStart(),b.a.post("/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==u)for(var v=0;v<d.length;v++)d[v].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[];if("y"==a.question_id_4)return P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),!1;for(var s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)m[d].checked&&l.push(!0);r++}r==n.length/2&&l.length>=o.length?e.state.isForwarded&&e.props.history.push("/SelectDuration_Plus/".concat(t)):P()("Please answer all of the questions")},e.getQuestionList=function(){e.props.loadingStart(),b.a.get("/questions").then((function(a){var t=a.data.data&&a.data.data.length?e.setShowImage(a.data.data):[];e.setState({questionList:a.data.data,showImage:t})})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()})),e.props.loadingStop()},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart(),b.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({flag:!0,question_answer:a.data.data.policyHolder.request_data.question_answer,family_members:a.data.data.policyHolder.request_data.family_members});var t=a.data.data.policyHolder.request_data.question_answer?a.data.data.policyHolder.request_data.question_answer:{},n=e.getFamilyMembers(t);e.setState({selected_family_members:n})})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()})),e.props.loadingStop()},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setAnswer=function(a){var t=[],r=[],l=[],o=new FormData,s=a.target.className[a.target.className.length-1],c=(l=e.state.selected_family_members).indexOf("".concat(s,"~").concat(a.target.value));c>-1?l.splice(c,1):(l.push("".concat(s,"~").concat(a.target.value)),l=Object(n.a)(new Set(l))),t.push("y"),t=Object(n.a)(new Set(t)),(r=e.state.selected_question).push(s),r=Object(n.a)(new Set(r)),l=Object(n.a)(new Set(l)),e.setState({selected_question:r,selected_answer:t,selected_family_members:l});for(var i=[],m=0;m<l.length;m++){var d=l[m].split("~");d[0]==s&&i.push(d[1])}var u={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:i,question_id:s,answer:"y"},p=new D.a;o.append("enc_data",p.encrypt(JSON.stringify(u))),e.props.loadingStart(),b.a.post("/medical-question",o).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList(),this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=(n.selected_question,n.selected_answer,n.showImg,n.family_members),c=n.famArr,v=(n.selected_family_members,r?r.length:0),E={},y=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){E["question_id_".concat(e.question_id)]=e.response,E["family_members_".concat(e.question_id)]=e.family_members,y[e.question_id]="y"==e.response?e.family_members.split(" "):null})):(y[e.id]=[],E["question_id_".concat(e.id)]="",E["family_members_".concat(e.id)]=[]),E["show_question_id_".concat(e.id)]=!1,E.famArr=c}));var b=Object.assign(E);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaMedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Plus Policy"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(b).length>0?i.a.createElement(N.e,{initialValues:b,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left",key:n},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("y")},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("n")},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},s&&s.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1202:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B=t(97),A={polStartDate:"",polEndDate:"",insureValue:"5",select_sum_insured:"",select_deductible:"",select_tenure:"",opd_premium:""},O=(w()().add(30,"days"),D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e}))})),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],SliderVal:"",sliderVal:"",opdPremiumList:[],opdLimitOfMembers:[],opdFlag:!1},e.medicalQuestions=function(a){e.props.history.push("/MedicalDetails_Plus/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.serverResponse,l=(n.SliderVal,n.policyHolderDetails),o=new FormData,s=new M.a,c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,i=a.slider_sum_insured?a.slider_sum_insured:0,m=a.slider_deductible?a.slider_deductible:0,d=a.slider_tenure?a.slider_tenure:0,u=a.opd_premium?a.opd_premium:0,p=0,_=l&&l.request_data&&l.request_data.cover_type_id,g=l&&l.request_data&&l.request_data.family_members&&l.request_data.family_members.length;"3"==_||"1"==_?p=r&&r.SumInsured:"2"==_&&(p=r&&r.SumInsured,p/=g);var f=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(f&&(f=JSON.parse(s.decrypt(f.user)),p>5e5&&"POSP"==f.user_type))return C()("Quote cannot proceed with IDV greater than 500000"),e.props.loadingStop(),!1;var h={page_name:"SelectDuration_Plus/".concat(t),policy_holder_id:c,start_date:w()(r.EffectiveDate).format("YYYY-MM-DD"),end_date:w()(r.ExpiryDate).format("YYYY-MM-DD"),gross_premium:r.GrossPremium,service_tax:r.TGST,swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:r.DuePremium,sum_insured:parseInt(i),deductible:parseInt(m),tenure_year:parseInt(d),opd_premium_amount_id:u};o.append("enc_data",s.encrypt(JSON.stringify(h))),console.log("Handle--submit----",h),e.props.loadingStart(),E.a.post("/arogya-plus/duration-premium",o).then((function(a){e.props.loadingStop(),e.props.history.push("/Address_Plus/".concat(t))})).catch((function(a){var t=JSON.parse(s.decrypt(a.data));console.log("decrypt---error--",t),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=new M.a,t=localStorage.getItem("policyHolder_refNo");E.a.get("arogya-plus/health-policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt",n.data.policyHolder);var r=n.data.policyHolder;e.setState({policyHolderDetails:r,SliderVal:n.data.policyHolder&&n.data.policyHolder.arogyatopupsuminsured?n.data.policyHolder.arogyatopupsuminsured.insured_amount:0,deductibleSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.deductible:0,tenureSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.tenure_year:0});var l=[],o=r&&r.request_data?r.request_data:[],s=r&&r.arogyatopupsuminsured?r.arogyatopupsuminsured:{};l.polStartDate=o&&o.start_date?w()(o.start_date).format("YYYY-MM-DD"):new Date,l.polEndDate=o&&o.end_date?w()(o.end_date).format("YYYY-MM-DD"):w()(Object(h.a)(new Date,729)).format("YYYY-MM-DD"),l.slider_sum_insured=s&&s.insured_amount?parseInt(s.insured_amount):2e5,l.slider_deductible=o&&o.deductible?parseInt(o.deductible):4e5,l.slider_tenure=o&&o.tenure_year?parseInt(o.tenure_year):2,l.opd_premium=o&&o.opd_premium_amount_id?o.opd_premium_amount_id:1,e.quote(l)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.SliderValue=function(a,t){e.setState({SliderVal:a,serverResponse:[],error:[]}),e.handleChangeOpdLimit(t,0,a)},e.deductibleSliderValue=function(a){e.setState({deductibleSliderVal:a,serverResponse:[],error:[]})},e.tenureSliderValue=function(a){e.setState({tenureSliderVal:a,serverResponse:[],error:[]})},e.quote=function(a){var t=w()(a.polStartDate).format("YYYY-MM-DD"),n=w()(a.polEndDate).format("YYYY-MM-DD"),r=a.slider_sum_insured?a.slider_sum_insured:0,l=a.slider_deductible?a.slider_deductible:0,o=a.slider_tenure?a.slider_tenure:0,s=a.opd_premium,c=new FormData;e.props.loadingStart();var i={policy_reference_no:localStorage.getItem("policyHolder_refNo"),start_date:t,end_date:n,sum_insured:parseInt(r),deductible:parseInt(l),tenure_year:parseInt(o),opd_premium_amount_id:s};console.log("post_data-----",i);var m=new M.a;c.append("enc_data",m.encrypt(JSON.stringify(i))),E.a.post("/arogya-plus/fullQuoteServiceArogyaPlus",c).then((function(t){var n=t.data;if(console.log("decrypt---quote--service---",n),n.PolicyObject&&n.UnderwritingResult&&"Success"==n.UnderwritingResult.Status)e.setState({fulQuoteResp:n.PolicyObject,serverResponse:n.PolicyObject,error:[]});else if(n.PolicyObject&&n.UnderwritingResult&&"Fail"==n.UnderwritingResult.Status)e.setState({fulQuoteResp:n.PolicyObject,serverResponse:[],error:{message:1}});else if(t.data.code&&t.data.message&&("validation failed"==t.data.code&&"validation failed"==t.data.message||"Policy Validation Error"==t.data.code&&"Policy Validation Error"==t.data.message)){var r=[];for(var l in t.data.messages)r.push(t.data.messages[l].message);e.setState({fulQuoteResp:[],validation_error:r,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:n.ValidateResult,serverResponse:[]});e.getOpDPremium(a)})).catch((function(a){var t=a.data;console.log("decrypt---quote--service---",t),e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleChange=function(a){var t=w()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e.handleChangeOpdLimit=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=w()(a.polStartDate).format("YYYY-MM-DD"),o=n||a.slider_sum_insured,s=localStorage.getItem("policyHolder_id"),c=new FormData;e.props.loadingStart();var i=t||a.opd_premium,m={policy_holder_id:s,policy_start_date:l,sum_insured:parseInt(o),premium_amount_id:i};e.setState({polStartDate:l,slider_sum_insured:o,premium_amount_id:i}),r&&e.setState({serverResponse:[]}),console.log(m,"opd-post-data");var d=new M.a;c.append("enc_data",d.encrypt(JSON.stringify(m))),E.a.post("/arogya-plus/opd-limit-calculation",c).then((function(a){var t=JSON.parse(d.decrypt(a.data));console.log(t.data.opd_amounts,"opd-response-data"),e.setState({opdLimitOfMembers:t.data.opd_amounts,error:[],opdFlag:!0}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.getOpDPremium=function(a){var t=new M.a;E.a.get("/arogya-plus/opd-premium-list").then((function(n){var r=JSON.parse(t.decrypt(n.data));e.setState({opdPremiumList:r.data.premium_list,error:[]}),e.handleChangeOpdLimit(a)})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.validation_error),s=n?n.request_data:null,g=s&&s.start_date?new Date(s.start_date):"",E=this.state,y=E.SliderVal,b=E.deductibleSliderVal,N=E.tenureSliderVal,S=E.opdPremiumList,w=E.opdLimitOfMembers,k=E.opdFlag,C=s&&s.end_date?new Date(s.end_date):"",D=Object.assign(A,{polStartDate:g||new Date,polEndDate:C||Object(h.a)(g?new Date(g):new Date,729),slider_sum_insured:y||2e5,slider_deductible:b||4e5,slider_tenure:N||2,opd_premium:s&&s.opd_premium_amount_id?s.opd_premium_amount_id:1}),I=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,M=o?o.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("strong",null,c.a.createElement("li",null,e)))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox selduration"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Plus Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,I),c.a.createElement("div",null,c.a.createElement("span",{className:"errorMsg"},M?"Errors :":null)," ",c.a.createElement("ul",null,M)),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:D,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:O},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(B.a)(n.polStartDate,n.slider_tenure)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(B.a)(n.polStartDate,n.slider_tenure)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Select Sum Insured"))),c.a.createElement(u.a,{sm:12,md:3,lg:2},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(P.b,{name:"select_sum_insured",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:y||2e5}),l.sum_insured_value&&i.sum_insured_value?c.a.createElement("span",{className:"errorMsg"},l.sum_insured_value):null))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("input",{type:"range",className:"W-90 slider-riage",name:"slider_sum_insured",min:1e5,max:3e5,step:"100000",value:n.slider_sum_insured,onChange:function(a){s("slider_sum_insured"),o("slider_sum_insured",a.target.value),e.SliderValue(a.target.value,n)}})))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Select Tenure (Year)"))),c.a.createElement(u.a,{sm:12,md:3,lg:2},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(P.b,{name:"w",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:N||2}),l.select_tenure&&i.select_tenure?c.a.createElement("span",{className:"errorMsg"},l.select_tenure):null))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("input",{type:"range",className:"W-90 slider-riage",name:"slider_tenure",min:1,max:3,step:"1",value:n.slider_tenure,onChange:function(a){s("slider_tenure"),o("slider_tenure",a.target.value),s("polStartDate"),o("polStartDate",n.polStartDate),s("polEndDate"),o("polEndDate",Object(B.a)(n.polStartDate,a.target.value)),e.tenureSliderValue(a.target.value)}})))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Premium Amount"))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("label",null,S.map((function(a,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.b,{type:"radio",name:"opd_premium",value:a.id,key:a.id,checked:n.opd_premium==a.id,onChange:function(a){s("opd_premium"),o("opd_premium",a.target.value),e.handleChangeOpdLimit(n,a.target.value,0,!0)}}),c.a.createElement("span",{className:"fs-14"}," \u20b9 ",a.premium_amount," "))})))))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," OPD(\u20b9)")),c.a.createElement(d.a,null,Object.keys(w).length>0?c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},Object.keys(w).map((function(e,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"text-left"},c.a.createElement("p",null,e," :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",w[e])))})))):null),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for ",1==N?"one":2==N?"two":N?"three":"two"," Year :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r?r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Hospital room rent, boarding expenses and doctor's fees"),c.a.createElement("li",null,"Nursing Expenses, Operation Theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Alternative treatment taken in accredited or recognized hospitals"),c.a.createElement("li",null,"Outpatient Treatment"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 60 and 90 days respectively"))),c.a.createElement("p",null,"* Coverage for expenses incurred on consultation, pharmacy, diagnostic tests on advice of a medical practitioner")),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),k?r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"):null)),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,I))),c.a.createElement(u.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox grossbox"},c.a.createElement("table",{className:"table"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Net Premium: "),c.a.createElement("td",null,"\u20b9",Math.round(r?r.message?0:r.BeforeVatPremium:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"GST:"),c.a.createElement("td",null,"\u20b9",Math.round(r?r.message?0:r.TGST:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"Gross Premium: "),c.a.createElement("td",null,"\u20b9",r?r.message?0:r.DuePremium:0))))))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(x))},1203:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(20453,"day").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:""},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9A-Za-z]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-z0-9]+([a-zA-Z0-9\s,./-]+)*$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^[a-zA-z0-9]+([a-zA-Z0-9\s,./-]+)*$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"PAN number is required"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:b.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 55 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please enter EIA account number").matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Enter valid EIA number"})),otherwise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:b.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 55 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),N.a.get("policy-holder/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,n=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,o=!1,s=JSON.parse(e.data.data.policyHolder.pincode_response),c=0;c<n.length;c++)if("self"==n[c].relation_with){o=!0;break}var i=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"";e.data.data.policyHolder.T_Insurance_Repository_id&&e.data.data.policyHolder.T_Insurance_Repository_id;t.setState({selfFlag:o,policy_holder:a,familyMembers:n,addressDetails:r,is_eia_account:l,pincode_Details:s,is_eia_account2:i}),t.props.loadingStop(),t.fetchPrevAreaDetails(s)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData;n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();new O.a;n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}else t.setState({pinDataArr:[],stateName:[]})},t.sumInsured=function(e){t.props.history.push("/SelectDuration_Plus/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(M()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.page_name="Address_Plus/".concat(r),s.policy_holder_id=l;var v=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",v),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var E={};Object.assign(E,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(E),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var y={};Object.assign(y,s);var b=new O.a;o.append("enc_data",b.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("/insured-member-details",o).then((function(e){t.props.loadingStop(),t.props.history.push("/NomineeDetails_Plus/".concat(r))})).catch((function(e){401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],is_eia_account2:"",tpaInsurance:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.policy_holder,r=a.familyMembers,l=a.addressDetails,o=a.is_eia_account,s=a.selfFlag,g=a.pinDataArr,b=a.stateName,N=a.showEIA,S=a.showEIA2,w=a.is_eia_account2,k=a.tpaInsurance,C=a.pincode_Details,P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,D=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):s?1:0,family_members:this.initFamilyDetailsList(r),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:l&&l.phoneNo?l.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:l&&l.address1?l.address1:"",address2:l&&l.address2?l.address2:"",address3:l&&l.address3?l.address3:"",pincode:l&&l.pincode?l.pincode:"",pincode_id:C&&C.id?C.id:"",state:l&&l.state?l.state:"",eIA:o,eia_account_no:n&&n.eia_no?n.eia_no:"",proposerName:n&&n.first_name?n.first_name:"",proposerLname:n&&n.last_name?n.last_name:"",proposerDob:n&&n.dob?new Date(n.dob):"",proposerGender:n&&n.gender?n.gender:"",is_eia_account2:w,tpaInsurance:n&&n.T_Insurance_Repository_id?n.T_Insurance_Repository_id:""}),I=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox agrAddress2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Plus Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:D,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var n=a.values,l=a.errors,s=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting),E=a.touched;return c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"1"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"0"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.proposerAsInsured&&E.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},l.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==D.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerName}),l.proposerName&&E.proposerName?c.a.createElement("span",{className:"errorMsg"},l.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerLname}),l.proposerLname&&E.proposerLname?c.a.createElement("span",{className:"errorMsg"},l.proposerLname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:n.proposerDob,onChange:function(e){h("proposerDob"),s("proposerDob",e)}}),l.proposerDob&&E.proposerDob?c.a.createElement("span",{className:"errorMsg"},l.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.proposerGender&&E.proposerGender?c.a.createElement("span",{className:"errorMsg"},l.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,r&&r.length>0&&r.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},a.relation_with,c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].fname}),l.family_members&&l.family_members[t]&&l.family_members[t].fname&&E.family_members?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].lname}),l.family_members&&l.family_members[t]&&l.family_members[t].lname&&E.family_members?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].lname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:n.family_members[t].dob?new Date(n.family_members[t].dob):new Date,onChange:function(e){h("family_members.".concat(t,".dob")),s("family_members.".concat(t,".dob"),e)}}),l.family_members&&l.family_members[t]&&l.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.family_members&&l.family_members[t]&&l.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].gender):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.panNo.toUpperCase(),onChange:function(e){return s("panNo",e.target.value.toUpperCase())}}),l.panNo&&E.panNo?c.a.createElement("span",{className:"errorMsg"},l.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"MOBILE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.phoneNo,maxlength:"10"}),l.phoneNo&&E.phoneNo?c.a.createElement("span",{className:"errorMsg"},l.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.email}),l.email&&E.email?c.a.createElement("span",{className:"errorMsg"},l.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address1,onChange:function(e){return s("address1",e.target.value)}}),l.address1&&E.address1?c.a.createElement("span",{className:"errorMsg"},l.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address2,onChange:function(e){return s("address2",e.target.value)}}),l.address2&&E.address2?c.a.createElement("span",{className:"errorMsg"},l.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address3,onChange:function(e){return s("address3",e.target.value)}}),l.address3&&E.address3?c.a.createElement("span",{className:"errorMsg"},l.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:n.pincode,onInput:function(e){h("state"),h("pincode"),s("pincode",e.target.value),s("state",b?b[0]:n.state),s("pincode_id","")}}),l.pincode&&E.pincode?c.a.createElement("span",{className:"errorMsg"},l.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),l.pincode_id&&E.pincode_id?c.a.createElement("span",{className:"errorMsg"},l.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:b||n.state,disabled:!0}),l.state&&E.state?c.a.createElement("span",{className:"errorMsg"},l.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(1)},checked:"1"==n.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",maxlength:"13",onChange:function(a){s("eIA",a.target.value),e.showEIAText(0)},checked:"0"==n.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.eIA&&E.eIA?c.a.createElement("span",{className:"errorMsg"},l.eIA):null)))),N||1==o?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:n.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.eia_account_no&&E.eia_account_no?c.a.createElement("span",{className:"errorMsg"},l.eia_account_no):null)))):"",0==N&&"0"==o?c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,P.wish_to_create_EIA_Account,c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"0",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),"is_eia_account2"==l.name&&"is_eia_account2"==E.name?c.a.createElement("span",{className:"errorMsg"},l.name="is_eia_account2"):null)))):"",S||"1"==w?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},P.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},P.SELECT_TPA),k.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),l.tpaInsurance&&E.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},P[l.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.sumInsured.bind(e,I)},v?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"123 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1204:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(111,"years").calendar()).add(1,"day").calendar(),B=b()().subtract(3,"months").calendar(),A={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:""},O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address_Plus/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="NomineeDetails_Plus/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/PolicyDetails_Plus/".concat(n))})).catch((function(a){401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart(),w.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.NomineeDetails,r=t.appointeeFlag,l=t.is_appointee,o=t.self_selected;b.a.defaultFormat="YYYY-MM-YY";var s=Object.assign(A,{first_name:n?n.first_name:"",last_name:n?n.last_name:"",gender:n?n.gender:"",dob:n&&n.dob?new Date(n.dob):"",relation_with:n?n.relation_with:"",appointee_relation_with:n&&n.appointee_relation_with?n.appointee_relation_with:"",appointee_name:n&&n.appointee_name?n.appointee_name:""});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argnominee3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Plus Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(v.e,{initialValues:s,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),s.first_name&&h.first_name?c.a.createElement("span",{className:"errorMsg"},s.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),s.last_name&&h.last_name?c.a.createElement("span",{className:"errorMsg"},s.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.gender&&h.gender?c.a.createElement("span",{className:"errorMsg"},s.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){g("dob"),p("dob",a),e.ageCheck(a)},selected:n.dob}),s.dob&&h.dob?c.a.createElement("span",{className:"errorMsg"},s.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.relation_with&&h.relation_with?c.a.createElement("span",{className:"errorMsg"},s.relation_with):null)))),r||"1"==l?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),s.appointee_name&&h.appointee_name?c.a.createElement("span",{className:"errorMsg"},s.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.appointee_relation_with&&h.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},s.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.addressInfo.bind(e,a)},f?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1205:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={M:"Male",F:"Female"},O={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x={gateway:""},H=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails_Plus/".concat(a))},e.getPolicyHolderDetails=function(){var a=new P.a;e.props.loadingStart();var t=localStorage.getItem("policyHolder_refNo");v.a.get("/arogya-topup/health-policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data)),r=n.data.policyHolder?n.data.policyHolder.bcmaster:{},l=n.data.policyHolder?n.data.policyHolder.menumaster:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data:{},c=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:n.data.policyHolder?n.data.policyHolder:[],familyMember:n.data.policyHolder.request_data.family_members,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],nomineeDetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[],bcMaster:r,menumaster:l,request_data:s,paymentgateway:c,vehicleDetails:o}),e.getAccessToken(n.data.policyHolder,n.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.getAccessToken=function(a,t){v.a.post("/callTokenService").then((function(t){e.setState({accessToken:t.data.access_token}),e.fullQuote(a)})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderId=function(a){e.props.loadingStart(),v.a.get("/health-policy/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},o=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineeDetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,request_data:n,menumaster:r,paymentgateway:o,vehicleDetails:l}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a){var t=new FormData,n=new P.a,r=a&&a.request_data?a.request_data:[],l=a&&a.arogyatopupsuminsured?a.arogyatopupsuminsured.insured_amount:0,o={policy_reference_no:r?a.reference_no:null,start_date:r?w()(r.start_date).format("YYYY-MM-DD"):null,end_date:r?w()(r.end_date).format("YYYY-MM-DD"):null,sum_insured:l?parseInt(l):null,deductible:r?parseInt(r.deductible):null,tenure_year:r?parseInt(r.tenure_year):null,opd_premium_amount_id:r&&r.opd_premium_amount_id?r.opd_premium_amount_id:1};t.append("enc_data",n.encrypt(JSON.stringify(o))),v.a.post("/arogya-plus/fullQuoteServiceArogyaPlus",t).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(B.b)(a,r,n,l)},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.bcMaster,y=n.paymentgateway,b=n.nomineeDetails,N=n.request_data,S=n.vehicleDetails,k=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth?w()(e.DateOfBirth).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?O[parseInt(e.ArgInsuredRelToProposer)+1]:O[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,C=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?b.first_name+" "+b.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?w()(b.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.relation_with]:[]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&"m"==b.gender?"Male":"Female"))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),P=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&b.appointee_name?b.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox helpolicy"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Plus Policy"),c.a.createElement(M.e,{initialValues:x,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,D),c.a.createElement("h5",null,I),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.start_date?w()(N.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.end_date?w()(N.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S&&S.vehicletype?S.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Arogya Plus Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Net Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.GrossPremium?Math.round(r.GrossPremium+r.AlcoholLoadingAmount+r.SmokerLoadingAmount+r.TobaccoLoadingAmount):"")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Gross Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},k),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},C),b&&"1"==b.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,b&&"1"==b.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},P):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address_Plus/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",y&&y.length>0?y.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),v&&1==v.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(H))},1206:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(926),D=t(2),I=t(28),M=t(9),B=S()(S()().subtract(20453,"day").calendar()).add(1,"day").calendar(),A=S()().subtract(18,"years").calendar(),O=S()(S()().subtract(26,"years").calendar()).add(1,"day").calendar(),x=S()().subtract(3,"months").calendar(),H={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",occupation_id:"",occupation_description:""},R=w.object().shape({gender:w.string().required("Please select gender"),occupation_id:w.string().required("Please select occupation type"),occupation_description:w.string().when("occupation_id",{is:function(e){return 193==e},then:w.string().required("Please Specify").matches(/^([a-zA-Z])*$/,"Invalid occupation"),othewise:w.string()})}),L=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_5:w.string(),looking_for_0:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_5"],{is:function(e,a){return"spouse"==e&&"father"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_6"],{is:function(e,a){return"spouse"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_7"],{is:function(e,a){return"spouse"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_8"],{is:function(e,a){return"spouse"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_6"],{is:function(e,a){return"father"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_7"],{is:function(e,a){return"father"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5","looking_for_8"],{is:function(e,a){return"father"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_7"],{is:function(e,a){return"mother"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_8"],{is:function(e,a){return"mother"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_8"],{is:function(e,a){return"fatherInLaw"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and father age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and father difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and mother age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 55 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()})});var j=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]="m",n[6]="f",n[7]="m",n[8]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.occupation_id&&(null==e.occupation_description||""==e.occupation_description))return C()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new M.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=[],i=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",m="";i&&(m=JSON.parse(r.decrypt(i.user))),c.menumaster_id=2,c.proposer_gender=e.gender,c.page_name="Health_Group/".concat(a),c.occupation_id=e.occupation_id,c.occupation_description=e.occupation_description,c.product_id=t.props.match.params.productId,c.bc_agent_id=m.master_user_id,c.bcmaster_id=m.bc_master_id;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}c.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}c.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var E=0;E<h.length;E++){var y;y=h[E]?h[E]:s[E].gender,d.push(y)}c.gender=d,c.confirm=t.state.confirm;var b={};console.log("postData========",c),f>0?(c.policy_holder_id=f,Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("/update-yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails_Group/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("/yourself",n).then((function(e){localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/MedicalDetails_Group/".concat(a))})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()})))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if((e.looking_for_5||e.looking_for_6)&&(e.looking_for_7||e.looking_for_8))return C()("Either Parent or Parent In-laws allowed in Family Floater"),!1;if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=t.state.gender?"m":null,o[6]=t.state.gender?"f":null,o[7]=t.state.gender?"m":null,o[8]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),v.a.get("policy-holder/".concat(e)).then((function(e){var a=e.data.data.policyHolder&&e.data.data.policyHolder.request_data&&e.data.data.policyHolder.request_data.family_members?e.data.data.policyHolder.request_data.family_members:[],n=JSON.parse(e.data.data.policyHolder.address),r=e.data.data.policyHolder.is_eia_account,l=e.data.data.policyHolder.gender,o=a&&a.length>0?1:0,s=e.data.data.policyHolder?e.data.data.policyHolder:[];t.setState({familyMembers:a,addressDetails:n,is_eia_account:r,gender:l,validateCheck:o,policyHolder:s}),t.setStateForPreviousData(a)})).catch((function(e){})),t.props.loadingStop()},t.fetchRelations=function(){v.a.get("relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchOccupation()})).catch((function(e){t.props.loadingStop()}))},t.fetchOccupation=function(){var e=new M.a;v.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&C()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("occupation_id",e.value),t.setState({selectedOption:e}),console.log("Option selected:",e)},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",policyHolder:[],occupationList:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,p=a.display_gender,v=(a.confirm,a.policyHolder),E=a.occupationList,y=a.selectedOption,b=this.getInsuredList(o),N=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],S=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],w=p&&p.length>0?p:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],k=Object.assign(H,{check_input:r||0,gender:l||"",looking_for_0:N[0]?N[0]:"",dob_0:S[0]?new Date(S[0]):"",looking_for_1:N[1]?N[1]:"",dob_1:S[1]?new Date(S[1]):"",looking_for_2:N[2]?N[2]:"",dob_2:S[2]?new Date(S[2]):"",child1Gender:w?w[2]:"",looking_for_3:N[3]?N[3]:"",dob_3:S[3]?new Date(S[3]):"",child2Gender:w?w[3]:"",looking_for_4:N[4]?N[4]:"",dob_4:S[4]?new Date(S[4]):"",child3Gender:w?w[4]:"",looking_for_5:N[5]?N[5]:"",dob_5:S[5]?new Date(S[5]):"",looking_for_6:N[6]?N[6]:"",dob_6:S[6]?new Date(S[6]):"",looking_for_7:N[7]?N[7]:"",dob_7:S[7]?new Date(S[7]):"",looking_for_8:N[8]?N[8]:"",dob_8:S[8]?new Date(S[8]):"",insureList:b?b.toString():n||"",occupation_id:v?v.occupation_id:"",occupation_description:v&&null!=v.occupation_description?v.occupation_description:""}),C=E&&E.length>0?E.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaSanjibny"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(D.e,{initialValues:k,onSubmit:this.handleFormSubmit,validationSchema:R},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(D.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(D.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&c.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Occupation:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.a,{placeholder:"Select Occupation",value:y||(C?C.find((function(e){return e.value===r.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,o,s)},options:C}),l.occupation_id&&c.occupation_id?i.a.createElement("span",{className:"errorMsg"},l.occupation_id):null)),"193"==r.occupation_id?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(D.b,{name:"occupation_description",type:"text",placeholder:"Please mention your occupation here.",autoComplete:"off",value:r.occupation_description,maxLength:"256",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.occupation_description&&c.occupation_description?i.a.createElement("span",{className:"errorMsg"},l.occupation_description):null)):"",i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(D.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readOnly:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&c.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(D.e,{initialValues:k,onSubmit:this.handleSubmitForm,validationSchema:L},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(D.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(D.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(D.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(D.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_5",value:"father",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_6",value:"mother",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_7",value:"fatherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(D.b,{type:"checkbox",name:"looking_for_8",value:"motherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(A),minDate:new Date(B),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),t.looking_for_2||t.looking_for_3||t.looking_for_4?i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(D.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4)?i.a.createElement("span",{className:"error-message"},n.confirm):"")))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(j))},1207:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){console.log("ssss===>",e)})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[]},e.sumInsured=function(a){e.props.history.push("/SelectDuration_Group/".concat(a))},e.buy_policy=function(a){e.props.history.push("/Health_Group/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData,c=e.props.match.params.productId;a.match(/question_id/gi)&&r.push(a.substr(12,1));var i=e.state.showImage?e.state.showImage:[],m=i&&i.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:m,selected_question:o,selected_answer:l});var d=document.getElementsByClassName("familyMembers".concat(r[0])),u=t;if("n"==u){var p=e.state.family_members,_=[];p&&p.map((function(e,a){_.push(e.id)}));var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=new D.a,h={question_id:r[0],answer:t,family_member_ids:_,policy_holder_id:g,page_name:"MedicalDetails_Group/".concat(c)};s.append("enc_data",f.encrypt(JSON.stringify(h))),e.props.loadingStart(),b.a.post("/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==u)for(var v=0;v<d.length;v++)d[v].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[];if("y"==a.question_id_4)return P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),!1;for(var s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)m[d].checked&&l.push(!0);r++}r==n.length/2&&l.length>=o.length?e.state.isForwarded&&e.props.history.push("/SelectDuration_Group/".concat(t)):P()("Please answer all of the questions")},e.getQuestionList=function(){e.props.loadingStart(),b.a.get("/questions").then((function(a){var t=a.data.data&&a.data.data.length?e.setShowImage(a.data.data):[];e.setState({questionList:a.data.data,showImage:t})})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()})),e.props.loadingStop()},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart(),b.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({flag:!0,question_answer:a.data.data.policyHolder.request_data.question_answer,family_members:a.data.data.policyHolder.request_data.family_members});var t=a.data.data.policyHolder.request_data.question_answer?a.data.data.policyHolder.request_data.question_answer:{},n=e.getFamilyMembers(t);e.setState({selected_family_members:n})})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()})),e.props.loadingStop()},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setAnswer=function(a){var t=[],r=[],l=[],o=new FormData,s=a.target.className[a.target.className.length-1],c=(l=e.state.selected_family_members).indexOf("".concat(s,"~").concat(a.target.value));c>-1?l.splice(c,1):(l.push("".concat(s,"~").concat(a.target.value)),l=Object(n.a)(new Set(l))),t.push("y"),t=Object(n.a)(new Set(t)),(r=e.state.selected_question).push(s),r=Object(n.a)(new Set(r)),l=Object(n.a)(new Set(l)),e.setState({selected_question:r,selected_answer:t,selected_family_members:l});for(var i=[],m=0;m<l.length;m++){var d=l[m].split("~");d[0]==s&&i.push(d[1])}var u={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:i,question_id:s,answer:"y"},p=new D.a;o.append("enc_data",p.encrypt(JSON.stringify(u))),e.props.loadingStart(),b.a.post("/medical-question",o).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList(),this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=(n.selected_question,n.selected_answer,n.showImg,n.family_members),c=n.famArr,v=(n.selected_family_members,r?r.length:0),E={},y=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){E["question_id_".concat(e.question_id)]=e.response,E["family_members_".concat(e.question_id)]=e.family_members,y[e.question_id]="y"==e.response?e.family_members.split(" "):null})):(y[e.id]=[],E["question_id_".concat(e.id)]="",E["family_members_".concat(e.id)]=[]),E["show_question_id_".concat(e.id)]=!1,E.famArr=c}));var b=Object.assign(E);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aragyaMedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Micro Insurance Product \u2013 Group"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(b).length>0?i.a.createElement(N.e,{initialValues:b,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left",key:n},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("y")},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("n")},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},s&&s.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),"m"==n.gender?i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{htmlFor:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1208:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:""},A=(w()().add(30,"days"),{"100000.00":1,"150000.00":2,"200000.00":3,"250000.00":4,"300000.00":5,"350000.00":6,"400000.00":7,"450000.00":8,"500000.00":9}),O=D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e})),insureValue:D.string().required((function(){return"Please enter sum insured"}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],familyMembers:[],requested_data:[]},e.medicalQuestions=function(a){e.props.history.push("/MedicalDetails_Group/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.serverResponse,l=n.familyMembers,o=new FormData,s=new M.a,c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;if(r.HighestFamilySI>25e4&&l.length>"1")return C()("Quote cannot proceed with SI greater than 250000"),e.props.loadingStop(),!1;if(r.HighestFamilySI>25e4&&"1"==l.length)return C()("Quote cannot proceed with SI greater than 250000"),e.props.loadingStop(),!1;var i={policy_holder_id:c,start_date:r.EffectiveDate,end_date:r.ExpiryDate,gross_premium:r.GrossPremium,service_tax:r.TGST,swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:r.DuePremium,sum_insured:a.insureValue,page_name:"SelectDuration_Group/".concat(t)};o.append("enc_data",s.encrypt(JSON.stringify(i))),e.props.loadingStart(),E.a.post("/duration-premium",o).then((function(a){e.props.history.push("/Address_Group/".concat(t))})).catch((function(a){e.props.loadingStop()})),e.props.loadingStop()},e.getAccessToken=function(a){E.a.post("/callTokenService").then((function(t){if(t.data.access_token){e.setState({accessToken:t.data.access_token});var n=[];n.polStartDate=a&&a.start_date?w()(a.start_date).format("YYYY-MM-DD"):new Date,n.polEndDate=new Date(w()(n.polStartDate).add(364,"days").format("YYYY-MM-DD")),e.props.loadingStop(),e.quote(n)}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.props.loadingStop()})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),E.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data&&a.data.data.policyHolder.request_data.family_members,n=a.data.data.policyHolder.request_data&&a.data.data.policyHolder.request_data;e.setState({policyHolderDetails:a.data.data.policyHolder,familyMembers:t,requested_data:n}),e.getAccessToken(n)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.quote=function(a){var t=e.state,n=t.accessToken,r=t.familyMembers;if(n){var l="";switch(e.state.policyHolderDetails.request_data.sum_insured){case"100000.00":l="1";break;case"150000.00":l="2";break;case"200000.00":l="3";break;case"250000.00":l="4";break;case"300000.00":l="5";break;case"350000.00":l="6";break;case"400000.00":l="7";break;case"450000.00":l="8";break;case"500000.00":l="9";break;default:l=r.length>"1"?"3":"1"}var o=w()(a.polStartDate).format("YYYY-MM-DD"),s=w()(a.polEndDate).format("YYYY-MM-DD"),c=a.insureValue?a.insureValue:l,i=new FormData;e.props.loadingStart();var m={id:localStorage.getItem("policyHolder_id"),policyStartDate:o,policyEndDate:s,insureValue:c,access_token:n},d=new M.a;console.log("post_data fullQuote--------- ",m),i.append("enc_data",d.encrypt(JSON.stringify(m))),E.a.post("/quickQuoteService",i).then((function(a){a.data.AdjustedPremium?e.setState({serverResponse:a.data,error:[]}):e.setState({serverResponse:a.data,error:a.data}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))}else C()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111")},e.handleChange=function(a){var t=w()(a).add(364,"days").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.familyMembers),s=n?n.request_data:null,g=s&&s.start_date?new Date(s.start_date):"",E=s&&s.end_date?new Date(s.end_date):"",y=Object.assign(B,{polStartDate:g||new Date,polEndDate:E||new Date(w()().add(364,"days").format("YYYY-MM-DD")),insureValue:n&&n.request_data&&n.request_data.sum_insured?A[n.request_data.sum_insured]:o.length>"1"?"3":"1"}),b=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arg2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Micro Insurance Product \u2013 Group"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:y,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:O},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return console.log("values--------- ",n),c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(h.a)(a,364)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),364)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Select Sum Insured")),c.a.createElement(u.a,{sm:12,md:6,lg:8},c.a.createElement(p.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(P.b,{name:"insureValue",component:"select",autoComplete:"off",value:n.insureValue,className:"formGrp",onChange:function(a){s("insureValue"),o("insureValue",a.target.value),e.handleAmountChange(a)}},c.a.createElement("option",{value:""},"Select sum insured"),c.a.createElement("option",{value:"1"},"100 000"),c.a.createElement("option",{value:"2"},"150 000"),c.a.createElement("option",{value:"3"},"200 000"),c.a.createElement("option",{value:"4"},"250 000")),l.insureValue&&i.insureValue?c.a.createElement("span",{className:"errorMsg"},l.insureValue):null)))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for One Year :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r?r.message?0:r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 30 and 60 days respectively")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,b))),c.a.createElement(u.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"6000+ Network Hospitals for you to avail cashless facility")))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(x))},1209:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(20453,"day").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:""},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-z0-9]+([\s][a-zA-Z0-9]+)*$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^[a-zA-z]+([\s][a-zA-Z]+)*$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"PAN number is required"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:b.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 55 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please enter EIA account number").matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Enter valid EIA number"})),otherwise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:b.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 55 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_id");t.props.loadingStart(),N.a.get("policy-holder/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,n=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,o=!1,s=JSON.parse(e.data.data.policyHolder.pincode_response),c=0;c<n.length;c++)if("self"==n[c].relation_with){o=!0;break}var i=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"";e.data.data.policyHolder.T_Insurance_Repository_id&&e.data.data.policyHolder.T_Insurance_Repository_id;t.setState({selfFlag:o,policy_holder:a,familyMembers:n,addressDetails:r,is_eia_account:l,pincode_Details:s,is_eia_account2:i}),t.props.loadingStop(),t.fetchPrevAreaDetails(s)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData;n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();new O.a;n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}else t.setState({pinDataArr:[],stateName:[]})},t.sumInsured=function(e){t.props.history.push("/SelectDuration_Group/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(M()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.page_name="Address_Group/".concat(r),s.policy_holder_id=l;var v=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",v),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var E={};Object.assign(E,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(E),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var y={};Object.assign(y,s);var b=new O.a;o.append("enc_data",b.encrypt(JSON.stringify(y))),t.props.loadingStart(),N.a.post("/insured-member-details",o).then((function(e){t.props.loadingStop(),t.props.history.push("/NomineeDetails_Group/".concat(r))})).catch((function(e){401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],is_eia_account2:"",tpaInsurance:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.policy_holder,r=a.familyMembers,l=a.addressDetails,o=a.is_eia_account,s=a.selfFlag,g=a.pinDataArr,b=a.stateName,N=a.showEIA,S=a.showEIA2,w=a.is_eia_account2,k=a.tpaInsurance,C=a.pincode_Details,P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,D=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):s?1:0,family_members:this.initFamilyDetailsList(r),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:l&&l.phoneNo?l.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:l&&l.address1?l.address1:"",address2:l&&l.address2?l.address2:"",address3:l&&l.address3?l.address3:"",pincode:l&&l.pincode?l.pincode:"",pincode_id:C&&C.id?C.id:"",state:l&&l.state?l.state:"",eIA:o,eia_account_no:n&&n.eia_no?n.eia_no:"",proposerName:n&&n.first_name?n.first_name:"",proposerLname:n&&n.last_name?n.last_name:"",proposerDob:n&&n.dob?new Date(n.dob):"",proposerGender:n&&n.gender?n.gender:"",is_eia_account2:w,tpaInsurance:n&&n.T_Insurance_Repository_id?n.T_Insurance_Repository_id:""}),I=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox agrAddress2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Micro Insurance Product \u2013 Group"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:D,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var n=a.values,l=a.errors,s=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting),E=a.touched;return console.log("errors----------- ",l),c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"1"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){s("proposerAsInsured",e.target.value)},checked:"0"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.proposerAsInsured&&E.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},l.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==D.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerName}),l.proposerName&&E.proposerName?c.a.createElement("span",{className:"errorMsg"},l.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerLname}),l.proposerLname&&E.proposerLname?c.a.createElement("span",{className:"errorMsg"},l.proposerLname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:n.proposerDob,onChange:function(e){h("proposerDob"),s("proposerDob",e)}}),l.proposerDob&&E.proposerDob?c.a.createElement("span",{className:"errorMsg"},l.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.proposerGender&&E.proposerGender?c.a.createElement("span",{className:"errorMsg"},l.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,r&&r.length>0&&r.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},a.relation_with,c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].fname}),l.family_members&&l.family_members[t]&&l.family_members[t].fname&&E.family_members?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].lname}),l.family_members&&l.family_members[t]&&l.family_members[t].lname&&E.family_members?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].lname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:n.family_members[t].dob?new Date(n.family_members[t].dob):new Date,onChange:function(e){h("family_members.".concat(t,".dob")),s("family_members.".concat(t,".dob"),e)}}),l.family_members&&l.family_members[t]&&l.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),l.family_members&&l.family_members[t]&&l.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},l.family_members[t].gender):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.panNo.toUpperCase(),onChange:function(e){return s("panNo",e.target.value.toUpperCase())}}),l.panNo&&E.panNo?c.a.createElement("span",{className:"errorMsg"},l.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"PHONE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.phoneNo}),l.phoneNo&&E.phoneNo?c.a.createElement("span",{className:"errorMsg"},l.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.email}),l.email&&E.email?c.a.createElement("span",{className:"errorMsg"},l.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address1,onChange:function(e){return s("address1",e.target.value)}}),l.address1&&E.address1?c.a.createElement("span",{className:"errorMsg"},l.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address2,onChange:function(e){return s("address2",e.target.value)}}),l.address2&&E.address2?c.a.createElement("span",{className:"errorMsg"},l.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address3,onChange:function(e){return s("address3",e.target.value)}}),l.address3&&E.address3?c.a.createElement("span",{className:"errorMsg"},l.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:n.pincode,onInput:function(e){h("state"),h("pincode"),s("pincode",e.target.value),s("state",b?b[0]:n.state),s("pincode_id","")}}),l.pincode&&E.pincode?c.a.createElement("span",{className:"errorMsg"},l.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),l.pincode_id&&E.pincode_id?c.a.createElement("span",{className:"errorMsg"},l.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:b||n.state,disabled:!0}),l.state&&E.state?c.a.createElement("span",{className:"errorMsg"},l.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(1)},checked:"1"==n.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",onChange:function(a){s("eIA",a.target.value),e.showEIAText(0)},checked:"0"==n.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.eIA&&E.eIA?c.a.createElement("span",{className:"errorMsg"},l.eIA):null)))),N||1==o?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:n.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.eia_account_no&&E.eia_account_no?c.a.createElement("span",{className:"errorMsg"},l.eia_account_no):null)))):"",0==N&&"0"==o?c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,P.wish_to_create_EIA_Account,c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"0",onChange:function(a){s("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),l.is_eia_account2&&E.is_eia_account2?c.a.createElement("span",{className:"errorMsg"},P[l.is_eia_account2]):null)))):"",S||"1"==w?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},P.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},P.SELECT_TPA),k.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),l.tpaInsurance&&E.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},P[l.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.sumInsured.bind(e,I)},v?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"113 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1210:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(111,"years").calendar()).add(1,"day").calendar(),B=b()().subtract(3,"months").calendar(),A={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:""},O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address_Group/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="NomineeDetails_Group/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/PolicyDetails_Group/".concat(n))})).catch((function(a){401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart(),w.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.NomineeDetails,r=t.appointeeFlag,l=t.is_appointee,o=t.self_selected;b.a.defaultFormat="YYYY-MM-YY";var s=Object.assign(A,{first_name:n?n.first_name:"",last_name:n?n.last_name:"",gender:n?n.gender:"",dob:n&&n.dob?new Date(n.dob):"",relation_with:n?n.relation_with:"",appointee_relation_with:n&&n.appointee_relation_with?n.appointee_relation_with:"",appointee_name:n&&n.appointee_name?n.appointee_name:""});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argnominee3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Micro Insurance Product \u2013 Group"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(v.e,{initialValues:s,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),s.first_name&&h.first_name?c.a.createElement("span",{className:"errorMsg"},s.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),s.last_name&&h.last_name?c.a.createElement("span",{className:"errorMsg"},s.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.gender&&h.gender?c.a.createElement("span",{className:"errorMsg"},s.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){g("dob"),p("dob",a),e.ageCheck(a)},selected:n.dob}),s.dob&&h.dob?c.a.createElement("span",{className:"errorMsg"},s.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.relation_with&&h.relation_with?c.a.createElement("span",{className:"errorMsg"},s.relation_with):null)))),r||"1"==l?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),s.appointee_name&&h.appointee_name?c.a.createElement("span",{className:"errorMsg"},s.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),o?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),s.appointee_relation_with&&h.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},s.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.addressInfo.bind(e,a)},f?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1211:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={M:"Male",F:"Female"},O={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x={gateway:""},H=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails_Group/".concat(a))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),v.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},r=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},o=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineeDetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,menumaster:n,request_data:l,paymentgateway:o,vehicleDetails:r}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.getAccessToken=function(a,t){v.a.post("/callTokenService").then((function(n){e.setState({accessToken:n.data.access_token}),e.fullQuote(n.data.access_token,a,t)})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderId=function(a){e.props.loadingStart(),v.a.get("/health-policy/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},o=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineeDetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,request_data:n,menumaster:r,paymentgateway:o,vehicleDetails:l}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a,t){var n=t.id,r=Math.floor(t.request_data.sum_insured),l=new FormData,o=new P.a,s={id:n,insureValue:r,access_token:a};l.append("enc_data",o.encrypt(JSON.stringify(s))),v.a.post("/fullQuoteServiceArogyaSeriesMicro",l).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(B.b)(a,r,n,l)},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){I.a.parse(this.props.location.search).access_id?this.getPolicyHolderId(I.a.parse(this.props.location.search).access_id):this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.bcMaster,y=n.paymentgateway,b=n.nomineeDetails,N=n.request_data,S=n.vehicleDetails,k=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement("strong",null,"Member ",a+1,":"),c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth?w()(e.DateOfBirth).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?O[parseInt(e.ArgInsuredRelToProposer)+1]:O[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,C=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?b.first_name+" "+b.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?w()(b.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.relation_with]:[]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&"m"==b.gender?"Male":"Female"))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),P=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b&&b.appointee_name?b.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b?O[b.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox helpolicy"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Micro Insurance Product \u2013 Group"),c.a.createElement(M.e,{initialValues:x,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,D),c.a.createElement("h5",null,I),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.start_date?w()(N.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.end_date?w()(N.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S&&S.vehicletype?S.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Arogya Sanjeevani Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Gross Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.GrossPremium?Math.round(r.GrossPremium+r.AlcoholLoadingAmount+r.SmokerLoadingAmount+r.TobaccoLoadingAmount):"")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Net Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},k))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Nominee Details"},c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},C),b&&"1"==b.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,b&&"1"==b.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},P):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address_Group/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",y&&y.length>0?y.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),v&&1==v.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(H))},1212:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(20),v=t.n(h),E=t(37),y=t.n(E),b=t(9),N=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(n.a)(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",response_text:[],policyNo:e.props.match.params.policyId,vehicletype:[],dloadCounter:0,refNumber:y.a.parse(e.props.location.search).access_id?y.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.generateDoc=function(){var a=e.props.match.params.policyId,t=new FormData;t.append("policyNo",a),e.props.loadingStart(),p.a.post("/policy-download/policy-pdf",t).then((function(a){e.props.loadingStop(),0==a.data.error?e.downloadDoc():v()(a.data.msg)}))},e.downloadDoc=function(){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?refrence_no=").concat(e.state.refNumber),t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(a)},e.getPolicyDoc=function(){var a=e.state,t=a.policyNo,n=a.dloadCounter,r=new FormData,l={policyNo:t,policyHolder_Id:e.state.refNumber};console.log("post_data_obj",l);var o=new b.a;r.append("enc_data",o.encrypt(JSON.stringify(l))),e.props.loadingStart(),p.a.post("/policy-download/external",r).then((function(a){console.log("external_res",a),0===a.data.data.length?(e.setState({dloadCounter:n+1}),v()({title:"Alert",text:"PDF Generation process is taking longer time than expected. Please have patience.",icon:"warning",dangerMode:!0}).then((function(t){t&&n<3?e.getPolicyDoc():v()(a.data.msg)}))):e.downloadCCMDoc(a.data.data.uploded_path,a.data.data.file_name)})).catch((function(a){e.setState({response_text:[]}),e.props.loadingStop()}))},e.downloadCCMDoc=function(a,t){fetch(a,{method:"GET",headers:{"Content-Type":"application/pdf"}}).then((function(e){return e.blob()})).then((function(a){var n=window.URL.createObjectURL(new Blob([a])),r=document.createElement("a");r.href=n,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=new b.a;p.a.get("ceiaCall/".concat(e.state.refNumber)).then((function(e){})).catch((function(e){})),p.a.get("policy-holder-additional-details/".concat(e.state.refNumber)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt",n);var r=n.data.policyHolder&&n.data.policyHolder.vehiclebrandmodel?n.data.policyHolder.vehiclebrandmodel.vehicletype:{};console.log("vehicletype",r),localStorage.removeItem("policyHolder_id"),localStorage.removeItem("policyHolder_refNo"),localStorage.removeItem("policy_type"),localStorage.removeItem("brandEdit"),localStorage.removeItem("newBrandEdit"),sessionStorage.removeItem("pan_data"),sessionStorage.removeItem("email_data"),sessionStorage.removeItem("proposed_insured"),sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),e.setState({vehicletype:r}),setTimeout(function(){this.noBackButton()}.bind(Object(l.a)(e)),300)})).catch((function(a){e.props.loadingStop()}))},e.getCustomerMsg=function(){e.props.match.params.productId;var a=e.props.match.params.policyId,t=new FormData;t.append("policy_no",a),p.a.post("customer-msg",t).then((function(e){})).catch((function(a){e.props.loadingStop()}))},e.downloadWording=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?ipa_wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e.downloadWordingGSB=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?gsb_wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e.downloadWordingSME=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?sme_wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e}return Object(r.a)(c,[{key:"componentDidMount",value:function(){this.props.match.params.policyId;this.fetchData()}},{key:"noBackButton",value:function(){window.history.replaceState(null,null,window.location.href),window.onpopstate=function(e){window.history.go(1),e.preventDefault()}}},{key:"render",value:function(){var e=this.props.match.params.policyId,a=this.state.vehicletype,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,n?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid fg"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10"},i.a.createElement("section",{className:"thankuBox"},i.a.createElement("div",{className:"thankuinfo"},i.a.createElement("div",{className:"text-center custtxt"},i.a.createElement("img",{src:t(393),alt:"",className:"m-b-30"}),i.a.createElement("p",null,n.ThankYouSBI),i.a.createElement("p",{className:"fs-16 m-b-30"},n.PolicyNo," ",i.a.createElement("span",{className:"lghtBlue"}," ",e)),i.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},0==a.download_type?i.a.createElement("button",{className:"policy m-l-20",onClick:this.generateDoc},n.PolicyCopy," "):i.a.createElement("button",{className:"policy m-l-20",onClick:this.getPolicyDoc},n.PolicyCopy," "),a&&a.id&&13==a.id?i.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadWording},"Policy Wording "):null,a&&a.id&&14==a.id?i.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadWordingGSB},"Policy Wording "):null,a&&a.id&&19==a.id?i.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadWordingSME},"Policy Wording "):null)))),i.a.createElement(u.a,null))))):null))}}]),c}(c.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(N))},1213:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(40),u=t(7),p=t(38),_=t(19),g=t(22),f=t(20),h=t.n(f),v=t(9),E=t(37),y=t.n(E),b=t(922),N=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",response_text:[],policyNo:"",retry:2,policyHolder:[],retryCount:0,policy_holder_id:localStorage.getItem("policyHolder_id"),refNumber:y.a.parse(e.props.location.search).access_id?y.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.getAgentReceipt=function(){var a=new FormData;a.append("policy_ref_no",e.state.refNumber),e.state.retryCount<3?(e.setState({retryCount:e.state.retryCount+1}),e.props.loadingStart(),null===e.props.receipt_no||""==e.props.receipt_no?u.a.post("/sme/agent-receipt",a).then((function(a){!1===a.data.error?(e.props.setTransactionId({receipt_no:a.data.data.receipt_no,quoteNo:a.data.data.quoteNo}),e.issuePolicy()):(e.props.loadingStop(),h()(a.data.msg))})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()})):e.issuePolicy()):(e.props.loadingStop(),h()({title:"Alert",text:"Maximum Retry attempt limit is crossed. Now refund process would be initiated",icon:"warning",dangerMode:!0}).then((function(a){a&&e.handleRefund()})))},e.issuePolicy=function(){var a=new FormData;a.append("policy_ref_no",e.state.refNumber),e.props.loadingStart(),u.a.post("/sme/issue-policy",a).then((function(a){!1===a.data.error?(e.setState({policyNo:a.data.data.PolicyNo,retry:0}),e.getCustomerMsg(a.data.data.PolicyNo),e.props.loadingStop()):e.state.retryCount<=1?e.getAgentReceipt():(e.setState({retry:1}),e.props.loadingStop(),h()("Due to some reason, policy could not be created at this moment. Please retry in some time."))})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.generateDoc=function(){var a=e.state.policyNo,t=new FormData;t.append("policyNo",a),e.props.loadingStart(),u.a.post("/policy-download/policy-pdf",t).then((function(a){e.props.loadingStop(),0==a.data.error?e.downloadDoc():h()("Document not found")}))},e.downloadDoc=function(){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?refrence_no=").concat(e.state.refNumber),t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(a),localStorage.removeItem("policyHolder_id"),localStorage.removeItem("policyHolder_refNo"),localStorage.removeItem("policy_type"),localStorage.removeItem("brandEdit"),localStorage.removeItem("newBrandEdit"),sessionStorage.removeItem("pan_data"),sessionStorage.removeItem("email_data"),sessionStorage.removeItem("proposed_insured"),sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob")},e.handleRefund=function(a){var t=e.state.policyHolder;t&&t.bcmaster&&t.bcmaster.paymentgateway&&t.bcmaster.paymentgateway.slug&&("csc_wallet"==t.bcmaster.paymentgateway.slug&&e.CSCRefund(),"razorpay"==t.bcmaster.paymentgateway.slug&&e.RazorpayRefund())},e.CSCRefund=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/sme_fire_refund.php?refrence_no=").concat(a)},e.RazorpayRefund=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/razorpay/sme_fire_refund.php?refrence_no=").concat(a)},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new v.a;null==e.props.policy_holder_ref_no&&""!=a?(e.props.loadingStart(),u.a.get("sme/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.smeinfo.risk_address);e.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&e.props.setSmeOthersDetails({Commercial_consideration:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.Commercial_consideration:null,previous_start_date:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.start_date:null,previous_end_date:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.end_date:null,Previous_Policy_No:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.policy_no:null,insurance_company_id:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.insurancecompany_id:null,previous_city:r.data.policyHolder.previouspolicy?r.data.policyHolder.previouspolicy.address:null}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}r.data.policyHolder.step_no>3&&e.props.setTransactionId({receipt_no:r.data.policyHolder.smeinfo.receipt_no,quoteNo:r.data.policyHolder.request_data.quote_id}),e.setState({policyHolder:r.data.policyHolder}),e.getAgentReceipt()})).catch((function(a){e.props.loadingStop()}))):e.getAgentReceipt()},e.getCustomerMsg=function(a){e.props.match.params.productId;var t=new FormData;t.append("policy_no",a),u.a.post("customer-msg",t).then((function(e){})).catch((function(a){e.props.loadingStop()}))},e.downloadWording=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.state.policyNo;window.history.pushState(null,null,window.location.href),window.onpopstate=function(){window.history.go(1)},this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this.state,a=e.policyNo,n=e.retry,r=this.props.quoteNo;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 pd-l-0"},c.a.createElement(m.a,null)),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10"},c.a.createElement("section",{className:"thankuBox"},c.a.createElement("div",{className:"thankuinfo"},c.a.createElement("div",{className:"text-center custtxt"},c.a.createElement("img",{src:t(393),alt:"",className:"m-b-30"}),c.a.createElement("p",null,"Thank you for choosing SBI General Insurance"),c.a.createElement("p",{className:"fs-16 m-b-30"},a?"Policy No":"Quote No"," ",c.a.createElement("span",{className:"lghtBlue"}," ",a||r)),1===n?c.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},c.a.createElement("button",{className:"policy m-l-20",onClick:this.getAgentReceipt},"Retry Policy Creation")):0===n?c.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},c.a.createElement("button",{className:"policy m-l-20",onClick:this.generateDoc},"Policy Copy"),c.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadWording},"Policy Wording")):null))),c.a.createElement(d.a,null))))))}}]),s}(s.Component);a.default=Object(p.g)(Object(g.b)((function(e){return{loading:e.loader.loading,first_name:e.sme_fire.first_name,last_name:e.sme_fire.last_name,salutation_id:e.sme_fire.salutation_id,date_of_birth:e.sme_fire.date_of_birth,email_id:e.sme_fire.email_id,mobile:e.sme_fire.mobile,gender:e.sme_fire.gender,pan_no:e.sme_fire.pan_no,gstn_no:e.sme_fire.gstn_no,com_street_name:e.sme_fire.com_street_name,com_plot_no:e.sme_fire.com_plot_no,com_building_name:e.sme_fire.com_building_name,com_block_no:e.sme_fire.com_block_no,com_house_flat_no:e.sme_fire.com_house_flat_no,com_pincode:e.sme_fire.com_pincode,com_pincode_id:e.sme_fire.com_pincode_id,house_building_name:e.sme_fire.house_building_name,block_no:e.sme_fire.block_no,street_name:e.sme_fire.street_name,plot_no:e.sme_fire.plot_no,house_flat_no:e.sme_fire.house_flat_no,pincode:e.sme_fire.pincode,pincode_id:e.sme_fire.pincode_id,policy_holder_id:e.sme_fire.policy_holder_id,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,menumaster_id:e.sme_fire.menumaster_id,quoteNo:e.sme_fire.quoteNo,receipt_no:e.sme_fire.receipt_no}}),(function(e){return{loadingStart:function(){return e(Object(_.a)())},loadingStop:function(){return e(Object(_.b)())},setData:function(a){return e(Object(b.b)(a))},setRiskData:function(a){return e(Object(b.e)(a))},setSmeOthersDetails:function(a){return e(Object(b.c)(a))},setSmeProposerDetails:function(a){return e(Object(b.d)(a))},setAddress:function(a){return e(Object(b.a)(a))},setTransactionId:function(a){return e(Object(b.g)(a))}}}))(N))},1214:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(77),M=t(61),B={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},A=(E.object().shape({selectedBrandId:E.string().required("Enter Brand Name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"";return new Promise((function(e){y.a.get("vehicle/brand-with-image").then((function(e){var n=e&&e.data.data.list?e.data.data.list:[];t.setState({brandList:n,otherBrands:!1}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart(),y.a.get("vehicle/brand-without-image/".concat(e)).then((function(e){var a=e.data&&e.data.data?e.data.data:{},n=e.data&&e.data.data?e.data.data.list:[];t.setState({selectedBrandDetails:a,brandModelList:n,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;console.log("redux data----- ",t.props.data);var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("policy-holder/motor/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},o=n.data.policyHolder?n.data.policyHolder.fastlanelog:{};t.setState({motorInsurance:r,vehicleDetails:l,fastlanelog:o}),console.log("this.props.data------ ",t.props.data),null==t.props.data?(t.setState({pageLoad:"1"}),t.getBrands()):t.props.data.fastLaneData||t.props.data.brandEdit&&"0"==t.props.data.brandEdit?(t.setState({pageLoad:"0",fastLaneData:t.props.data.fastLaneData}),t.handleSubmit(t.props.data.fastLaneData,"0")):(t.setState({pageLoad:"1"}),t.getBrands())})).catch((function(e){t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=(a.otherBrands,n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:""));"1"==localStorage.getItem("brandEdit")?t.setBrandName(l):"2"==localStorage.getItem("brandEdit")&&t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/Select-brand/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;new FormData;t.props.loadingStart(),y.a.get("vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var n=a.data&&a.data.data?a.data.data:{},r=a.data&&a.data.data.brand_models?a.data.data.brand_models:[];t.setState({selectedBrandDetails:n,brandModelList:r,show:!0,otherBrands:!1,selectedBrandId:e,brandName:n.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r})},t.setOtherVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o})},t.handleSubmit=function(e,a){var n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,r=t.props.match.params.productId,l=t.state,o=(l.selectedVarientId,l.selectedModelId,l.selectedBrandId,l.fastlanelog),s=new FormData,c=new D.a,i={};a="1"==a||"0"==a?a:"1",console.log("pageLoad--- ",a),i="1"==a?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"Select-brand/".concat(r)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,brand_id:e.brand_id,brand_model_id:e.brand_model_id,model_varient_id:e.model_varient_id,page_name:"Select-brand/".concat(r),fastlaneLog_id:e&&e.fastlaneLog_id?e.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data---fastlane--- ",i),s.append("enc_data",c.encrypt(JSON.stringify(i))),t.props.loadingStart(),y.a.post("insert-brand-model-varient",s).then((function(e){t.props.loadingStop(),0==e.data.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails/".concat(r)))})).catch((function(e){"422"==e.status&&k()(n.PleaseVehicleMmodel),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:!1,brandName:"",modelName:"",fuelType:"",vehicleDetails:[],pageLoad:"0",fastLaneData:[],fastlanelog:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.pageLoad,E=a.fastLaneData,y=a.selectedModelId,b=a.selectedVarientId,N=a.otherBrands,S=a.brandName,w=a.modelName,k=a.fuelType,C=a.vehicleDetails,D=this.props.match.params.productId,I=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,A={};return A="1"==c?Object.assign(B,{selectedBrandId:s||(C&&C.vehiclebrand_id?C.vehiclebrand_id:""),selectedModelId:y||(s?"":C&&C.vehiclemodel_id?C.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:b||(s?"":C&&C.varientmodel_id?C.varientmodel_id:"")}):Object.assign(B,{selectedBrandId:E?E.brand_id:"",selectedModelId:E?E.brand_model_id:"",selectedBrandName:"",selectedModelName:"",selectedVarientId:E?E.model_varient_id:""}),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,I?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},I.SBIGICL),this.props.data&&this.props.data.brandEdit&&"1"==this.props.data.brandEdit||"1"==c?i.a.createElement(v.e,{initialValues:A,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,I.SelectBrand," "),i.a.createElement("p",null,I.CarDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:8},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},I.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},I.Continue))),i.a.createElement(d.a,{sm:12,md:4},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},I.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},I.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},I.Brand,"- ",i.a.createElement("strong",null,S||(C&&C.vehiclebrand&&C.vehiclebrand.name?C.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,D)},I.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},I.Model,i.a.createElement("br",null),i.a.createElement("strong",null,w||(s?"":C&&C.vehiclemodel&&C.vehiclemodel.description?C.vehiclemodel.description+" "+C.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},I.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},I.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,M.a[k]?M.a[k]:C&&C.varientmodel&&C.varientmodel.fuel_type?M.a[C.varientmodel.fuel_type]:null," ")))))))))})):null)))):null),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,I.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:I.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==N?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),b?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},I.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())},setData:function(a){return e(Object(I.a)(a))}}}))(A))},1215:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(912),_=t(909),g=t(41),f=t.n(g),h=(t(95),t(96),t(31)),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(3),k=t.n(w),C=t(1),P=t(20),D=t.n(P),I=t(2),M=t(28),B=t(9),A=t(926),O=k()(k()().subtract(56,"years").calendar()).add(1,"day").calendar(),x=k()().subtract(18,"years").calendar(),H=k()(k()().subtract(56,"years").calendar()).add(1,"day").calendar(),R=k()().subtract(3,"months").calendar(),L={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",cover_type_id:"",occupation_id:"",occupation_description:""},j=C.object().shape({gender:C.string().required("Please select gender"),occupation_id:C.string().required("Please select occupation type"),occupation_description:C.string().when("occupation_id",{is:193,then:C.string().typeError("Please Specify"),othewise:C.string()})}),F=C.object().shape({confirm:C.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:C.string().required("Please agree to the terms"),othewise:C.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:C.string().required("Please agree to the terms"),othewise:C.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:C.string().required("Please agree to the terms"),othewise:C.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:C.string().required("Please agree to the terms"),othewise:C.string()}),looking_for_1:C.string(),looking_for_6:C.string(),looking_for_0:C.string().when(["looking_for_2","cover_type_id"],{is:function(e,a){return"child1"==e&&"3"==a},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_3","cover_type_id"],{is:function(e,a){return"child2"==e&&"3"==a},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_4","cover_type_id"],{is:function(e,a){return"child3"==e&&"3"==a},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_5","cover_type_id"],{is:function(e,a){return"child4"==e&&"3"==a},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_1","looking_for_6","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"father"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_1","looking_for_7","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"mother"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_1","looking_for_8","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"fatherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_1","looking_for_9","cover_type_id"],{is:function(e,a,t){return"spouse"==e&&"motherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_6","looking_for_7","cover_type_id"],{is:function(e,a,t){return"father"==e&&"mother"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_6","looking_for_8","cover_type_id"],{is:function(e,a,t){return"father"==e&&"fatherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_6","looking_for_9","cover_type_id"],{is:function(e,a,t){return"father"==e&&"motherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_7","looking_for_8","cover_type_id"],{is:function(e,a,t){return"mother"==e&&"fatherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_7","looking_for_9","cover_type_id"],{is:function(e,a,t){return"mother"==e&&"motherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}).when(["looking_for_8","looking_for_9","cover_type_id"],{is:function(e,a,t){return"fatherInLaw"==e&&"motherInLaw"==a&&"3"==t},then:C.string().required("Please select self"),othewise:C.string()}),dob_0:C.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:C.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 45 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:C.string()}),dob_1:C.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:C.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),othewise:C.string()}),dob_2:C.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:C.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(k()(e).diff(this.parent.dob_0,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(k()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:C.string()}),child1Gender:C.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:C.string().required("Child 1 Gender field is required"),othewise:C.string()}).nullable(),dob_3:C.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:C.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(k()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:C.string()}),child2Gender:C.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:C.string().required("Child 2 Gender field is required"),othewise:C.string()}).nullable(),dob_4:C.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:C.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(k()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:C.string()}),child3Gender:C.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:C.string().required("Child 3 Gender field is required"),othewise:C.string()}).nullable(),dob_5:C.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:C.string().required("Child 4 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(k()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:C.string()}),child4Gender:C.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:C.string().required("Child 4 Gender field is required"),othewise:C.string()}).nullable(),dob_6:C.string().when(["looking_for_6"],{is:function(e){return"father"==e},then:C.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and father age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),othewise:C.string()}),dob_7:C.string().when(["looking_for_7"],{is:function(e){return"mother"==e},then:C.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and mother age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),othewise:C.string()}),dob_8:C.string().when(["looking_for_8"],{is:function(e){return"fatherInLaw"==e},then:C.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),othewise:C.string()}),dob_9:C.string().when(["looking_for_9"],{is:function(e){return"motherInLaw"==e},then:C.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(k()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(k()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(k()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),othewise:C.string()}),cover_type_id:C.string().required("Select policy type")});var q=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]=a[5]?a[5]:null,n[6]="m",n[7]="f",n[8]="m",n[9]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.occupation_id&&(null==e.occupation_description||""==e.occupation_description))return D()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new B.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=t.state.cover_type_id,i=[],m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(r.decrypt(m))),i.menumaster_id=8,i.page_name="arogya_Health/".concat(a),i.proposer_gender=e.gender,i.cover_type_id=c,i.occupation_id=e.occupation_id,i.occupation_description=e.occupation_description;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}i.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}i.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var v=0;v<h.length;v++){var E;E=h[v]?h[v]:s[v].gender,d.push(E)}i.gender=d,i.confirm=t.state.confirm,sessionStorage.getItem("csc_id")?(i.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",i.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",i.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",i.bcmaster_id="5"):(i.bcmaster_id=m?m.agent_id:"",i.bc_token=m?m.token:"",i.bc_agent_id=m?m.user_info.data.user.username:"",i.agent_name=m?m.user_info.data.user.name:"");var b={};console.log("postData========",i),f>0?(i.policy_holder_id=f,Object.assign(b,i),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),y.a.post("arogya-topup/update-yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/arogya_MedicalDetails/".concat(a)):D()(n.msg)})).catch((function(e){e&&e.data&&D()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(b,i),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),y.a.post("/arogya-topup/yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/arogya_MedicalDetails/".concat(a)):D()(n.msg)})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptResp--err---",a),t.props.loadingStop(),a&&e.data&&D()("Family Member fields are required...")})))},t.checkPolicyType=function(e,a,n,r){var l=t.state.drv;if(a)l.push(e);else{var o=l.indexOf(e);-1!==o&&l.splice(o,1)}l&&1==l.length?(n("cover_type_id"),r("cover_type_id","1"),t.setState({cover_type_id:1})):l&&l.length>1&&(n("cover_type_id"),r("cover_type_id",""),t.setState({cover_type_id:""}))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=e.child4Gender?e.child4Gender:null,o[6]=t.state.gender?"m":null,o[7]=t.state.gender?"f":null,o[8]=t.state.gender?"m":null,o[9]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(k()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i,cover_type_id:e.cover_type_id}),t.setState({dob:m,display_dob:l}),t.handleClose()}else D()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo"),a=new B.a;t.props.loadingStart(),y.a.get("arogya-topup/health-policy-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder&&n.data.policyHolder.request_data&&n.data.policyHolder.request_data.family_members?n.data.policyHolder.request_data.family_members:[],l=n.data.policyHolder?n.data.policyHolder:[],o=JSON.parse(n.data.policyHolder.address),s=n.data.policyHolder.is_eia_account,c=n.data.policyHolder.gender,i=r&&r.length>0?1:0,m=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.cover_type_id:"";t.setState({familyMembers:r,addressDetails:o,is_eia_account:s,gender:c,validateCheck:i,cover_type_id:m,policyHolder:l}),t.setStateForPreviousData(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRelations=function(){t.props.loadingStart(),y.a.get("/arogya-topup/relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurance()})).catch((function(e){t.props.loadingStop()}))},t.fetchInsurance=function(){var e=new B.a;y.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&D()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return k()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s,drv:a})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("occupation_id",e.value),t.setState({selectedOption:e}),console.log("Option selected:",e)},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",cover_type_id:"",drv:[],policyHolder:[],occupationList:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,g=a.display_gender,y=(a.confirm,a.cover_type_id),b=a.policyHolder,N=a.occupationList,S=a.selectedOption,w=this.getInsuredList(o),k=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],C=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],P=g&&g.length>0?g:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],D=(1==this.state.lookingFor.length||this.state.cover_type_id,Object.assign(L,{check_input:r||0,gender:l||"",looking_for_0:k[0]?k[0]:"",dob_0:C[0]?new Date(C[0]):"",looking_for_1:k[1]?k[1]:"",dob_1:C[1]?new Date(C[1]):"",looking_for_2:k[2]?k[2]:"",dob_2:C[2]?new Date(C[2]):"",child1Gender:P?P[2]:"",looking_for_3:k[3]?k[3]:"",dob_3:C[3]?new Date(C[3]):"",child2Gender:P?P[3]:"",looking_for_4:k[4]?k[4]:"",dob_4:C[4]?new Date(C[4]):"",child3Gender:P?P[4]:"",looking_for_5:k[5]?k[5]:"",dob_5:C[5]?new Date(C[5]):"",child4Gender:P?P[5]:"",looking_for_6:k[6]?k[6]:"",dob_6:C[6]?new Date(C[6]):"",looking_for_7:k[7]?k[7]:"",dob_7:C[7]?new Date(C[7]):"",looking_for_8:k[8]?k[8]:"",dob_8:C[8]?new Date(C[8]):"",looking_for_9:k[9]?k[9]:"",dob_9:C[9]?new Date(C[9]):"",cover_type_id:y,insureList:w?w.toString():n||"",occupation_id:b?b.occupation_id:"",occupation_description:b&&null!=b.occupation_description?b.occupation_description:""})),M=N&&N.length>0?N.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arghealth"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(I.e,{initialValues:D,onSubmit:this.handleFormSubmit,validationSchema:j},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(I.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(I.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&c.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Occupation:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(A.a,{placeholder:"Select Occupation",value:S||(M?M.find((function(e){return e.value===r.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,o,s)},options:M}),l.occupation_id&&c.occupation_id?i.a.createElement("span",{className:"errorMsg"},l.occupation_id):null)),"193"==r.occupation_id?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(I.b,{name:"occupation_description",type:"text",placeholder:"Please mention your occupation here.",autoComplete:"off",value:r.occupation_description,maxLength:"256",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.occupation_description&&c.occupation_description?i.a.createElement("span",{className:"errorMsg"},l.occupation_description):null)):"",i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(I.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&c.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(E.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(I.e,{initialValues:D,onSubmit:this.handleSubmitForm,validationSchema:F},(function(a){var n=a.values,r=a.errors,l=a.setFieldValue,o=a.setFieldTouched,s=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(I.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_0",a.target.value):(l("looking_for_0",""),l("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==n.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_0"),l("dob_0",e)},selected:n.dob_0}),i.a.createElement("label",{className:"formGrp error"},r.dob_0&&s.dob_0?i.a.createElement("span",{className:"error-message"},r.dob_0):"",r.looking_for_0&&s.looking_for_0?i.a.createElement("span",{className:"error-message"},r.looking_for_0):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_1",a.target.value):(l("looking_for_1",""),l("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==n.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_1"),l("dob_1",e)},selected:n.dob_1}),i.a.createElement("label",{className:"formGrp error"},r.dob_1&&s.dob_1?i.a.createElement("span",{className:"error-message"},r.dob_1):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_2",a.target.value):(l("looking_for_2",""),l("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==n.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_2"),l("dob_2",e)},selected:n.dob_2}),i.a.createElement("label",{className:"formGrp error"},r.dob_2&&s.dob_2?i.a.createElement("span",{className:"error-message"},r.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(I.b,{name:"child1Gender",component:"select",autoComplete:"off",value:n.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},r.child1Gender&&s.child1Gender?i.a.createElement("span",{className:"error-message"},r.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_3",a.target.value):(l("looking_for_3",""),l("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==n.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_3"),l("dob_3",e)},selected:n.dob_3}),i.a.createElement("label",{className:"formGrp error"},r.dob_3&&s.dob_3?i.a.createElement("span",{className:"error-message"},r.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(I.b,{name:"child2Gender",component:"select",autoComplete:"off",value:n.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},r.child2Gender&&s.child2Gender?i.a.createElement("span",{className:"error-message"},r.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_4",a.target.value):(l("looking_for_4",""),l("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==n.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_4"),l("dob_4",e)},selected:n.dob_4}),i.a.createElement("label",{className:"formGrp error"},r.dob_4&&s.dob_4?i.a.createElement("span",{className:"error-message"},r.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(I.b,{name:"child3Gender",component:"select",autoComplete:"off",value:n.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},r.child3Gender&&s.child3Gender?i.a.createElement("span",{className:"error-message"},r.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 4",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_5",value:"child4",className:"user-self",onChange:function(a){!0===a.target.checked?l("looking_for_5",a.target.value):(l("looking_for_5",""),l("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child4"==n.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(R),minDate:new Date(H),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_5"),l("dob_5",e)},selected:n.dob_5}),i.a.createElement("label",{className:"formGrp error"},r.dob_5&&s.dob_5?i.a.createElement("span",{className:"error-message"},r.dob_5):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(I.b,{name:"child4Gender",component:"select",autoComplete:"off",value:n.child4Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},r.child4Gender&&s.child4Gender?i.a.createElement("span",{className:"error-message"},r.child4Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_6",value:"father",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_6",a.target.value):(l("looking_for_6",""),l("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==n.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_6"),l("dob_6",e)},selected:n.dob_6}),i.a.createElement("label",{className:"formGrp error"},r.dob_6&&s.dob_6?i.a.createElement("span",{className:"error-message"},r.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_7",value:"mother",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_7",a.target.value):(l("looking_for_7",""),l("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==n.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_7"),l("dob_7",e)},selected:n.dob_7}),i.a.createElement("label",{className:"formGrp error"},r.dob_7&&s.dob_7?i.a.createElement("span",{className:"error-message"},r.dob_7):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_8",value:"fatherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_8",a.target.value):(l("looking_for_8",""),l("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==n.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_8"),l("dob_8",e)},selected:n.dob_8}),i.a.createElement("label",{className:"formGrp error"},r.dob_8&&s.dob_8?i.a.createElement("span",{className:"error-message"},r.dob_8):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(I.b,{type:"checkbox",name:"looking_for_9",value:"motherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,o,l),!0===a.target.checked?l("looking_for_9",a.target.value):(l("looking_for_9",""),l("dob_9","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==n.looking_for_9}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(f.a,{name:"dob_9",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(x),minDate:new Date(O),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),o("dob_9"),l("dob_9",e)},selected:n.dob_9}),i.a.createElement("label",{className:"formGrp error"},r.dob_9&&s.dob_9?i.a.createElement("span",{className:"error-message"},r.dob_9):"")))),n.looking_for_2||n.looking_for_3||n.looking_for_4||n.looking_for_5?i.a.createElement("div",{className:"row dropinput m-b-20"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(I.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?l("confirm",a.target.value):l("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==n.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},r.confirm&&(s.looking_for_2||s.looking_for_3||s.looking_for_4||n.looking_for_5)?i.a.createElement("span",{className:"error-message"},r.confirm):"")))):null,n.looking_for_0&&n.looking_for_1||n.looking_for_2||n.looking_for_3||n.looking_for_4||n.looking_for_5||n.looking_for_6||n.looking_for_7||n.looking_for_8||n.looking_for_9?i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement("div",{className:"d-inline-flex m-b-15 m-l-20"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"cover_type_id",value:"3",key:"1",checked:"3"==n.cover_type_id,onChange:function(){o("cover_type_id"),l("cover_type_id","3")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},"Floater Plan"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"A family floater policy is a health insurance plan which covers the entire family on the payment of a single annual premium.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"cover_type_id",value:"2",key:"1",checked:"2"==n.cover_type_id,onChange:function(){o("cover_type_id"),l("cover_type_id","2")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},"Non Floater Plan"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"A non floater policy is a health insurance plan which covers the individual family member(s) on the payment of a single annual premium.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),r.cover_type_id&&s.cover_type_id?i.a.createElement("span",{className:"errorMsg"},r.cover_type_id):null))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(q))},1216:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[]},e.sumInsured=function(a){e.props.history.push("/SelectDuration/".concat(a))},e.buy_policy=function(a){e.props.history.push("/arogya_Health/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData;a.match(/question_id/gi)&&r.push(a.substr(12,1));var c=e.state.showImage?e.state.showImage:[],i=c&&c.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:i,selected_question:o,selected_answer:l});var m=document.getElementsByClassName("familyMembers".concat(r[0])),d=t;if("n"==d){var u=e.state.family_members,p=[];u&&u.map((function(e,a){p.push(e.id)}));var _=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,g=new D.a,f={page_name:"arogya_MedicalDetails/12",question_id:r[0],answer:t,family_member_ids:p,policy_holder_id:_};s.append("enc_data",g.encrypt(JSON.stringify(f))),console.log("post_data-N------------- ",f),e.props.loadingStart(),b.a.post("/arogya-topup/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==d)for(var h=0;h<m.length;h++)m[h].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":("fatherInLaw"==e&&(e="Father In Law"),"motherInLaw"==e&&(e="Mother In Law"),e.charAt(0).toUpperCase()+e.slice(1))},e.handleSubmit=function(a){for(var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[],s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)if(m[d].checked&&"y"==n[s].value){l.push(!0);break}r++}if(4==(e.state.questionList?e.state.questionList.length:0)&&"y"==a.question_id_8)return e.showRestriction("y"),!1;var u=n.length/2;r==u&&l.length==o.length?e.state.isForwarded&&e.props.history.push("/arogya_SelectDuration/".concat(t)):r==u&&l.length<o.length?P()("Please select family members"):P()("Please answer all of the questions")},e.getQuestionList=function(){var a=new D.a;e.props.loadingStart(),b.a.get("arogya-topup/questions").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("question --- decryptResp---- ",n);var r=n.data&&n.data.length?e.setShowImage(n.data):[];e.setState({questionList:n.data,showImage:r}),e.getPolicyHolderDetails()})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()}))},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo"),t=new D.a;b.a.get("arogya-topup/health-policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n),e.setState({flag:!0,question_answer:n.data.policyHolder.request_data.question_answer,family_members:n.data.policyHolder.request_data.family_members});var r=n.data.policyHolder.request_data.question_answer?n.data.policyHolder.request_data.question_answer:{},l=e.getFamilyMembers(r);e.setState({selected_family_members:l}),e.props.loadingStop()})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()}))},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setAnswer=function(a){var t=[],r=[],l=[],o=new FormData,s=a.target.className[a.target.className.length-1],c=(l=e.state.selected_family_members).indexOf("".concat(s,"~").concat(a.target.value));c>-1?l.splice(c,1):(l.push("".concat(s,"~").concat(a.target.value)),l=Object(n.a)(new Set(l))),t.push("y"),t=Object(n.a)(new Set(t)),(r=e.state.selected_question).push(s),r=Object(n.a)(new Set(r)),l=Object(n.a)(new Set(l)),e.setState({selected_question:r,selected_answer:t,selected_family_members:l});for(var i=[],m=0;m<l.length;m++){var d=l[m].split("~");d[0]==s&&i.push(d[1])}var u={page_name:"arogya_MedicalDetails/12",policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:i,question_id:s,answer:"y"},p=new D.a;o.append("enc_data",p.encrypt(JSON.stringify(u))),console.log("post_data---setAnswer------- ",u),e.props.loadingStart(),b.a.post("/arogya-topup/medical-question",o).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=(n.selected_question,n.selected_answer,n.showImg,n.family_members),c=n.famArr,v=(n.selected_family_members,r?r.length:0),E={},y=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){E["question_id_".concat(e.question_id)]=e.response,E["family_members_".concat(e.question_id)]=e.family_members,y[e.question_id]="y"==e.response?e.family_members.split(" "):null})):(y[e.id]=[],E["question_id_".concat(e.id)]="",E["family_members_".concat(e.id)]=[]),E["show_question_id_".concat(e.id)]=!1,E.famArr=c}));var b=Object.assign(E);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argmedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Top Up Policy"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(b).length>0?i.a.createElement(N.e,{initialValues:b,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value)},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("n")},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},s&&s.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with||"child4"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(a){e.setAnswer(a)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1217:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:"5",select_sum_insured:"",select_deductible:"",select_tenure:""},A=(w()().add(30,"days"),D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e}))})),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],SliderVal:"",sliderVal:""},e.medicalQuestions=function(a){e.props.history.push("/arogya_MedicalDetails/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.serverResponse,l=(n.SliderVal,n.policyHolderDetails),o=new FormData,s=new M.a,c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,i=a.slider_sum_insured?a.slider_sum_insured:0,m=a.slider_deductible?a.slider_deductible:0,d=a.slider_tenure?a.slider_tenure:0,u=0,p=l&&l.request_data&&l.request_data.cover_type_id,_=l&&l.request_data&&l.request_data.family_members&&l.request_data.family_members.length;"3"==p||"1"==p?u=r&&r.SumInsured:"2"==p&&(u=r&&r.SumInsured,u/=_);var g=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(g&&(g=JSON.parse(s.decrypt(g.user)),u>5e5&&"POSP"==g.user_type))return C()("Quote cannot proceed with SI greater than 500000"),e.props.loadingStop(),!1;var f={page_name:"arogya_SelectDuration/12",policy_holder_id:c,start_date:r.EffectiveDate,end_date:r.ExpiryDate,gross_premium:r.GrossPremium,service_tax:r.TGST,swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:r.DuePremium,sum_insured:parseInt(i),deductible:parseInt(m),tenure_year:parseInt(d)};o.append("enc_data",s.encrypt(JSON.stringify(f))),console.log("Handle--submit----",f),e.props.loadingStart(),E.a.post("/arogya-topup/duration-premium",o).then((function(a){e.props.loadingStop(),e.props.history.push("/arogya_Address/".concat(t))})).catch((function(a){var t=JSON.parse(s.decrypt(a.data));console.log("decrypt---error--",t),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=new M.a,t=localStorage.getItem("policyHolder_refNo");console.log("policyHolderDetails-----",e.policyHolderDetails),E.a.get("arogya-topup/health-policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt",n.data.policyHolder);var r=n.data.policyHolder;e.setState({policyHolderDetails:r,SliderVal:n.data.policyHolder&&n.data.policyHolder.arogyatopupsuminsured?n.data.policyHolder.arogyatopupsuminsured.insured_amount:0,deductibleSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.deductible:0,tenureSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.tenure_year:0});var l=[],o=r&&r.request_data?r.request_data:[],s=r&&r.arogyatopupsuminsured?r.arogyatopupsuminsured:{};l.polStartDate=o&&o.start_date?w()(o.start_date).format("YYYY-MM-DD"):new Date,l.polEndDate=o&&o.end_date?w()(o.end_date).format("YYYY-MM-DD"):w()(Object(h.a)(new Date,729)).format("YYYY-MM-DD"),l.slider_sum_insured=s&&s.insured_amount?parseInt(s.insured_amount):25e5,l.slider_deductible=o&&o.deductible?parseInt(o.deductible):4e5,l.slider_tenure=o&&o.tenure_year?parseInt(o.tenure_year):2,e.quote(l)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.SliderValue=function(a){e.setState({SliderVal:a,serverResponse:[],error:[]}),console.log("serverResponse======",e.state.serverResponse)},e.deductibleSliderValue=function(a){e.setState({deductibleSliderVal:a,serverResponse:[],error:[]})},e.tenureSliderValue=function(a){e.setState({tenureSliderVal:a,serverResponse:[],error:[]})},e.quote=function(a){var t=w()(a.polStartDate).format("YYYY-MM-DD"),n=w()(a.polEndDate).format("YYYY-MM-DD"),r=a.slider_sum_insured?a.slider_sum_insured:0,l=a.slider_deductible?a.slider_deductible:0,o=a.slider_tenure?a.slider_tenure:0,s=new FormData;e.props.loadingStart();var c={policy_reference_no:localStorage.getItem("policyHolder_refNo"),start_date:t,end_date:n,sum_insured:parseInt(r),deductible:parseInt(l),tenure_year:parseInt(o)};console.log("post_data-----",c);var i=new M.a;s.append("enc_data",i.encrypt(JSON.stringify(c))),E.a.post("/arogya-topup/fullQuoteServiceArogyaTopup",s).then((function(a){var t=a.data;if(console.log("decrypt---quote--service---",t),t.PolicyObject&&t.UnderwritingResult&&"Success"==t.UnderwritingResult.Status)e.setState({fulQuoteResp:t.PolicyObject,serverResponse:t.PolicyObject,error:[]});else if(t.PolicyObject&&t.UnderwritingResult&&"Fail"==t.UnderwritingResult.Status)e.setState({fulQuoteResp:t.PolicyObject,serverResponse:[],error:{message:1}});else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:t.ValidateResult,serverResponse:[]});e.props.loadingStop()})).catch((function(a){var t=a.data;console.log("decrypt---quote--service---",t),e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleChange=function(a){var t=w()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.validation_error),s=n?n.request_data:null,g=s&&s.start_date?new Date(s.start_date):"",E=this.state,y=E.SliderVal,b=E.deductibleSliderVal,N=E.tenureSliderVal,S=s&&s.end_date?new Date(s.end_date):"",w=Object.assign(B,{polStartDate:g||new Date,polEndDate:S||Object(h.a)(g?new Date(g):new Date,729),slider_sum_insured:y||25e5,slider_deductible:b||4e5,slider_tenure:N||2}),k=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,C=o?o.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("strong",null,c.a.createElement("li",null,e)))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox selduration"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Top Up Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,k),c.a.createElement("div",null,c.a.createElement("span",{className:"errorMsg"},C?"Errors :":null)," ",c.a.createElement("ul",null,C)),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:w,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:A},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return console.log("values============= ",n),c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(h.a)(new Date(n.polStartDate),365*n.slider_tenure-1)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),365*n.slider_tenure-1)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Select Sum Insured"))),c.a.createElement(u.a,{sm:12,md:3,lg:2},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(P.b,{name:"select_sum_insured",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:y||25e5}),l.sum_insured_value&&i.sum_insured_value?c.a.createElement("span",{className:"errorMsg"},l.sum_insured_value):null))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("input",{type:"range",className:"W-90 slider-riage",name:"slider_sum_insured",min:1e5,max:5e6,step:"100000",value:n.slider_sum_insured,onChange:function(a){s("slider_sum_insured"),o("slider_sum_insured",a.target.value),e.SliderValue(a.target.value)}})))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Select Deductible"))),c.a.createElement(u.a,{sm:12,md:3,lg:2},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(P.b,{name:"select_deductible",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:b||4e5}),l.deductible_value&&i.deductible_value?c.a.createElement("span",{className:"errorMsg"},l.deductible_value):null))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("input",{type:"range",className:"W-90 slider-riage",name:"slider_deductible",min:1e5,max:1e6,step:"100000",value:n.slider_deductible,onChange:function(a){s("slider_deductible"),o("slider_deductible",a.target.value),e.deductibleSliderValue(a.target.value)}})))),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:4,lg:4},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Select Tenure (Year)"))),c.a.createElement(u.a,{sm:12,md:3,lg:2},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(P.b,{name:"w",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:N||2}),l.select_tenure&&i.select_tenure?c.a.createElement("span",{className:"errorMsg"},l.select_tenure):null))),c.a.createElement(u.a,{sm:12,md:12,lg:6},c.a.createElement(p.a,null,c.a.createElement("input",{type:"range",className:"W-90 slider-riage",name:"slider_tenure",min:1,max:3,step:"1",value:n.slider_tenure,onChange:function(a){s("slider_tenure"),o("slider_tenure",a.target.value),s("polStartDate"),o("polStartDate",n.polStartDate),s("polEndDate"),o("polEndDate",Object(h.a)(new Date(n.polStartDate),365*a.target.value-1)),e.tenureSliderValue(a.target.value)}})))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for ",1==N?"one":2==N?"two":N?"three":"two"," Year :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r&&r.DuePremium?r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Day Care expenses for 142 daycare procedures"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 60 and 90 days respectively")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,k))),c.a.createElement(u.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox grossbox"},console.log("response======",r.BeforeVatPremium),c.a.createElement("table",{className:"table"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"Net Premium:"),c.a.createElement("td",null,"Rs ",Math.round(r&&r.BeforeVatPremium?r.BeforeVatPremium:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"GST:"),c.a.createElement("td",null,"Rs ",Math.round(r&&r.TGST?r.TGST:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"Gross Premium:"),c.a.createElement("td",null,"Rs ",r&&r.DuePremium?r.DuePremium:0))))))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(O))},1218:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(56,"years").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",nominee_relation_with:"",is_eia_account2:""},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-Z0-9]+([\s]?[a-zA-Z0-9]+)*$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^[a-zA-Z0-9]+([\s]?[a-zA-Z0-9]+)*$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:b.string().required().test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:b.string()}),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter first name"})).required((function(){return"Please enter first name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:b.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 55 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please select the EIA account number").min(13,(function(){return"EIA number should be minimum 13 digits"})).max(13,(function(){return"EIA number should be maximum 13 digits"})).matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Invalid number"})),othewise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:b.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 55 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).fetchData=function(){t.props.match.params.productId;var e=new O.a;t.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");N.a.get("arogya-topup/health-policy-details/".concat(a)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder,l=n.data.policyHolder.request_data.family_members,o=JSON.parse(n.data.policyHolder.address),s=2==n.data.policyHolder.is_eia_account?"":n.data.policyHolder.is_eia_account,c=!1,i=JSON.parse(n.data.policyHolder.pincode_response),m=r.request_data.net_premium,d=1===n.data.policyHolder.create_eia_account||0===n.data.policyHolder.create_eia_account?n.data.policyHolder.create_eia_account:"";n.data.policyHolder.T_Insurance_Repository_id&&n.data.policyHolder.T_Insurance_Repository_id;console.log("netPremiumCheck----",m);for(var u=0;u<l.length;u++)if("self"==l[u].relation_with){c=!0;break}t.setState({selfFlag:c,policy_holder:r,familyMembers:l,addressDetails:o,is_eia_account:s,pincode_Details:i,netPremiumCheck:m,is_eia_account2:d}),t.props.loadingStop(),t.fetchSalutation(i)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData,r={pincode:a.toString()},l=new O.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();var r=new O.a,l={pincode:a};n.append("enc_data",r.encrypt(JSON.stringify(l))),n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.sumInsured=function(e){t.props.history.push("/arogya_SelectDuration/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=[],v=0;v<c.length;v++)m.push(c[v].looking_for),d.push(c[v].family_member_id),u.push(c[v].gender),p.push(c[v].fname),_.push(c[v].lname),h.push(c[v].salutation_id),g.push(M()(c[v].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.page_name="arogya_Address/12",s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.salutation_id=h,s.policy_holder_id=l;var E=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",E),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var y={};Object.assign(y,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(y),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,s.salutation_id=e.salutation_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var b={};Object.assign(b,s);var S=new O.a;o.append("enc_data",S.encrypt(JSON.stringify(b))),t.props.loadingStart(),N.a.post("arogya-topup/insured-member-details",o).then((function(e){var a=JSON.parse(S.decrypt(e.data));console.log("decryptResp--------- ",a),t.props.loadingStop(),t.props.history.push("/arogya_NomineeDetails/".concat(r))})).catch((function(e){var n=JSON.parse(S.decrypt(e.data));console.log("decrypt---Err---",n),401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no,salutation_id:e.salutation_id}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.fetchSalutation=function(e){var a=new FormData;t.props.loadingStart(),a.append("policy_for_flag",1),N.a.post("salutation-list",a).then((function(a){var n=a.data.data.salutationlist?a.data.data.salutationlist:[];t.setState({titleList:n}),t.props.loadingStop(),t.fetchPrevAreaDetails(e)})).catch((function(e){t.props.loadingStop(),t.setState({titleList:[]})}))},t.toCamelCase=function(e){var a=e.length,t=e.substring(1,a),n=e.substring(0,1);return(n=n.toUpperCase())+t},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],titleList:[],is_eia_account2:"",tpaInsurance:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.policy_holder,r=a.familyMembers,l=a.is_eia_account2,o=a.tpaInsurance,s=a.addressDetails,g=a.is_eia_account,b=a.selfFlag,N=a.pinDataArr,S=a.stateName,w=a.showEIA,k=a.showEIA2,C=a.pincode_Details,P=a.netPremiumCheck,D=(a.titleList,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),I=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):b?1:0,family_members:this.initFamilyDetailsList(r),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:s&&s.phoneNo?s.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:s&&s.address1?s.address1:"",address2:s&&s.address2?s.address2:"",address3:s&&s.address3?s.address3:"",pincode:s&&s.pincode?s.pincode:"",pincode_id:C&&C.id?C.id:"",state:s&&s.state?s.state:"",eIA:g,eia_account_no:n&&n.eia_no?n.eia_no:"",proposerName:n&&n.first_name?n.first_name:"",proposerLname:n&&n.last_name?n.last_name:"",proposerDob:n&&n.dob?new Date(n.dob):"",proposerGender:n&&n.gender?n.gender:"",netPremiumCheckCount:P>1e5?1:0,is_eia_account2:l,tpaInsurance:n&&n.T_Insurance_Repository_id?n.T_Insurance_Repository_id:""}),M=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arogyaa_address"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Top Up Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:I,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var n=a.values,s=a.errors,h=a.setFieldValue,v=a.setFieldTouched,E=(a.isValid,a.isSubmitting),b=a.touched;return c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){h("proposerAsInsured",e.target.value)},checked:"1"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){h("proposerAsInsured",e.target.value)},checked:"0"==n.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),s.proposerAsInsured&&b.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},s.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==I.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:n.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerName}),s.proposerName&&b.proposerName?c.a.createElement("span",{className:"errorMsg"},s.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.proposerLname}),s.proposerLname&&b.proposerLname?c.a.createElement("span",{className:"errorMsg"},s.proposerLname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:n.proposerDob,onChange:function(e){v("proposerDob"),h("proposerDob",e)}}),s.proposerDob&&b.proposerDob?c.a.createElement("span",{className:"errorMsg"},s.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.proposerGender&&b.proposerGender?c.a.createElement("span",{className:"errorMsg"},s.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,r&&r.length>0&&r.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo",key:t},c.a.createElement("div",{className:"W12"},c.a.createElement("strong",null,"motherInLaw"==a.relation_with?"Mother In Law":"fatherInLaw"==a.relation_with?"Father In Law":e.toCamelCase(a.relation_with)),c.a.createElement(i.a,null),c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].fname}),s.family_members&&s.family_members[t]&&s.family_members[t].fname?c.a.createElement("span",{className:"errorMsg"},s.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].lname}),s.family_members&&s.family_members[t]&&s.family_members[t].lname?c.a.createElement("span",{className:"errorMsg"},s.family_members[t].lname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:n.family_members[t].dob?new Date(n.family_members[t].dob):new Date,onChange:function(e){v("family_members.".concat(t,".dob")),h("family_members.".concat(t,".dob"),e)}}),s.family_members&&s.family_members[t]&&s.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},s.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),s.family_members&&s.family_members[t]&&s.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},s.family_members[t].gender):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.panNo.toUpperCase(),onChange:function(e){return h("panNo",e.target.value.toUpperCase())}}),s.panNo&&b.panNo?c.a.createElement("span",{className:"errorMsg"},s.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"PHONE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.phoneNo}),s.phoneNo&&b.phoneNo?c.a.createElement("span",{className:"errorMsg"},s.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.email}),s.email&&b.email?c.a.createElement("span",{className:"errorMsg"},s.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address1,onChange:function(e){return h("address1",e.target.value)}}),s.address1&&b.address1?c.a.createElement("span",{className:"errorMsg"},s.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address2,onChange:function(e){return h("address2",e.target.value)}}),s.address2&&b.address2?c.a.createElement("span",{className:"errorMsg"},s.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.address3,onChange:function(e){return h("address3",e.target.value)}}),s.address3&&b.address3?c.a.createElement("span",{className:"errorMsg"},s.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:n.pincode,onInput:function(e){v("state"),v("pincode"),h("pincode",e.target.value),h("state",S?S[0]:n.state),h("pincode_id","")}}),s.pincode&&b.pincode?c.a.createElement("span",{className:"errorMsg"},s.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),N&&N.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),s.pincode_id&&b.pincode_id?c.a.createElement("span",{className:"errorMsg"},s.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:S||n.state,disabled:!0}),s.state&&b.state?c.a.createElement("span",{className:"errorMsg"},s.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){h("eIA",a.target.value),e.showEIAText(1)},checked:"1"==n.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",onChange:function(a){h("eIA",a.target.value),e.showEIAText(0)},checked:"0"==n.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),s.eIA&&b.eIA?c.a.createElement("span",{className:"errorMsg"},s.eIA):null)))),w||1==g?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:n.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),s.eia_account_no&&b.eia_account_no?c.a.createElement("span",{className:"errorMsg"},s.eia_account_no):null)))):"",0==w&&"0"==g?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},D.wish_to_create_EIA_Account)))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",D.Yes))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==n.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},D.No),s.is_eia_account2&&b.is_eia_account2?c.a.createElement("span",{className:"errorMsg"},D[s.is_eia_account2]):null)))))):"",k||"1"==l?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},D.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},D.SELECT_TPA),o.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),s.tpaInsurance&&b.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},D[s.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!E,onClick:e.sumInsured.bind(e,M)},E?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!E},E?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"123 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1219:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(100,"years").calendar()).calendar(),B=b()().subtract(3,"months").calendar(),A={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:""},O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/arogya_Address/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):"relation_with"==o?a[o].toString():a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="/arogya_NomineeDetails/12";var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/arogya-topup/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/arogya_PolicyDetails/".concat(n))})).catch((function(a){var n=JSON.parse(c.decrypt(a.data));console.log("decryptErr----",n),401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo"),t=new I.a;w.a.get("arogya-topup/health-policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.request_data?n.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(r),e.setState({NomineeDetails:n.data.policyHolder.request_data.nominee[0],is_appointee:n.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.NomineeDetails,r=t.appointeeFlag,l=t.is_appointee;t.self_selected;b.a.defaultFormat="YYYY-MM-YY";var o=Object.assign(A,{first_name:n?n.first_name:"",last_name:n?n.last_name:"",gender:n?n.gender:"",dob:n&&n.dob?new Date(n.dob):"",relation_with:n?n.relation_with:"",appointee_relation_with:n&&n.appointee_relation_with?n.appointee_relation_with:"",appointee_name:n&&n.appointee_name?n.appointee_name:""});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argNominee"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Top Up Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(v.e,{initialValues:o,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,o=t.errors,s=t.setFieldValue,p=t.setFieldTouched,g=(t.isValid,t.isSubmitting),f=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),o.first_name&&f.first_name?c.a.createElement("span",{className:"errorMsg"},o.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),o.last_name&&f.last_name?c.a.createElement("span",{className:"errorMsg"},o.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),o.gender&&f.gender?c.a.createElement("span",{className:"errorMsg"},o.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){p("dob"),s("dob",a),e.ageCheck(a)},selected:n.dob}),o.dob&&f.dob?c.a.createElement("span",{className:"errorMsg"},o.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother")),o.relation_with&&f.relation_with?c.a.createElement("span",{className:"errorMsg"},o.relation_with):null)))),r||"1"==l?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),o.appointee_name&&f.appointee_name?c.a.createElement("span",{className:"errorMsg"},o.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"11"},"Grandfather"),c.a.createElement("option",{value:"12"},"Grandmother"),c.a.createElement("option",{value:"17"},"Uncle"),c.a.createElement("option",{value:"18"},"Aunty")),o.appointee_relation_with&&f.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},o.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!g,onClick:e.addressInfo.bind(e,a)},g?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!g},g?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1220:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={gateway:""},O={m:"Male",f:"Female"},x={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law",9:"Brother",10:"Sister",11:"Grandfather",12:"Grandmother",13:"Husband",14:"Wife",15:"Brother In Law",16:"Sister In Law",17:"Uncle",18:"Aunty",19:"Ex-Wife",20:"Ex-Husband",21:"Employee",22:"Niece",23:"Nephew"},H={self:"Self",spouse:"Spouse",child1:"Child",child2:"Child",child3:"Child",child4:"Child",father:"Father",mother:"Mother",fatherInLaw:"Father In Law",motherInLaw:"Mother In Law"},R=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],nomineedetails:[],request_data:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/arogya_NomineeDetails/".concat(a))},e.getPolicyHolderDetails=function(){var a=new P.a;e.props.loadingStart();var t=localStorage.getItem("policyHolder_refNo");v.a.get("/arogya-topup/health-policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data)),r=JSON.parse(n.data.policyHolder.address);console.log("decrypt-----",n);var l=n.data.policyHolder?n.data.policyHolder.bcmaster:{},o=n.data.policyHolder?n.data.policyHolder.menumaster:{},s=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data:{},c=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:n.data.policyHolder?n.data.policyHolder:[],addressArray:n.data.policyHolder&&n.data.policyHolder.address?r:null,familyMember:n.data.policyHolder.request_data.family_members,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[],bcMaster:l,menumaster:o,request_data:s,paymentgateway:c}),e.fullQuote(n.data.policyHolder)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a){var t=new FormData,n=new P.a,r=a&&a.request_data?a.request_data:[],l=a&&a.arogyatopupsuminsured?a.arogyatopupsuminsured.insured_amount:0,o={policy_reference_no:r?a.reference_no:null,start_date:r?w()(r.start_date).format("YYYY-MM-DD"):null,end_date:r?w()(r.end_date).format("YYYY-MM-DD"):null,sum_insured:l?parseInt(l):null,deductible:r?parseInt(r.deductible):null,tenure_year:r?parseInt(r.tenure_year):null};t.append("enc_data",n.encrypt(JSON.stringify(o))),console.log("policyHolderDetails.arogyatopupsuminsured",a),console.log("post_data-----",o),v.a.post("/arogya-topup/fullQuoteServiceArogyaTopup",t).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;console.log("handleSubmit_values",a),Object(B.b)(a,r,n,l)},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.addressArray,o=n.error,s=n.serverResponse,f=n.policyHolderDetails,v=n.nomineedetails,y=n.paymentStatus,b=n.paymentgateway,N=n.bcMaster,S=n.menumaster,k=n.request_data,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=l?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(d.a,null,l.address1+", "+l.address2+", "+l.address3)))))):null,D=l?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l.pincode)))):null,I=f.request_data?f.request_data.family_members.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement("h6",null,c.a.createElement("strong",null,"Member ",a+1)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+e.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w()(e.dob).format("DD-MM-yyyy")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,H[e.relation_with]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.gender]))),0==a?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"PAN No.")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.pancard_no))):"",0==a?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"EIA No.")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,f.eia_no))):"")),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,B=f.request_data?f.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Nominee")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+e.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w()(e.dob).format("DD-MM-yyy")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.relation_with]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.gender]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,R=f.request_data?f.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Appointee ")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.appointee_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.appointee_relation_with]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,L=o&&o.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,j=y&&103==y.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argDetail"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Top Up Policy"),c.a.createElement(M.e,{initialValues:A,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,L),c.a.createElement("h5",null,j),c.a.createElement("h4",null,"Policy Reference Number ",f&&f.request_data?f.request_data.quote_id:null)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:18},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k&&k.start_date?w()(k.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k&&k.end_date?w()(k.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S&&S.name?S.name:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Arogya Top Up Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.sum_insured):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.service_tax):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.gross_premium):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.net_premium):null)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},I))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/arogya_Address/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},f.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"\xa0")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Email:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},f.email_id)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"\xa0")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Address:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},P)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Pincode:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},D))))))),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Nominee Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},B),v&&"1"==v.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},R):null)),s?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",b&&b.length>0?b.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement(i.a,null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement("button",{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),N&&1==N.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&s?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(R))},1221:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(2),D=t(28),I=t(9),M=S()(S()().subtract(56,"years").calendar()).add(1,"day").calendar(),B=S()().subtract(18,"years").calendar(),A=S()(S()().subtract(56,"years").calendar()).add(1,"day").calendar(),O=S()().subtract(3,"months").calendar(),x={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",cover_type_id:"",marital_status_id:"",occupation_description:""},H=w.object().shape({gender:w.string().required("Please select gender")}),R=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_6:w.string(),looking_for_0:w.string().required("Self is Mandatory"),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 65 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 56 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<57&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})).test("18yearAgeDiffChecking",(function(){return"Self and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 18 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=17)})),othewise:w.string()}),child4Gender:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 Gender field is required"),othewise:w.string()}).nullable(),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and father age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Self and mother age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=17)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),othewise:w.string()}),dob_9:w.string().when(["looking_for_9"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<56&&a.whatIsMyAge(e)>=18}return!0})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})).test("18yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=17)})).test("18yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 18 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=17)})),othewise:w.string()})});var L=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]=a[5]?a[5]:null,n[6]="m",n[7]="f",n[8]="m",n[9]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.handleFormSubmit=function(e){if("193"==e.marital_status_id&&(null==e.occupation_description||""==e.occupation_description))return C()({text:"Please specify the occupation !",icon:"error"}),!1;var a=t.props.match.params.productId,n=new FormData,r=new I.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=t.state.cover_type_id,i=[],m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(r.decrypt(m))),i.menumaster_id=8,i.page_name="dailycash_Health/".concat(a),i.proposer_gender=e.gender,i.cover_type_id=c,i.marital_status_id=e.marital_status_id;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}i.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}i.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var E=0;E<h.length;E++){var y;y=h[E]?h[E]:s[E].gender,d.push(y)}i.gender=d,i.confirm=t.state.confirm,sessionStorage.getItem("csc_id")?(i.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",i.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",i.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",i.bcmaster_id="5"):(i.bcmaster_id=m?m.agent_id:"",i.bc_token=m?m.token:"",i.bc_agent_id=m?m.user_info.data.user.username:"",i.agent_name=m?m.user_info.data.user.name:"");var b={};console.log("postData========",i),f>0?(i.policy_holder_id=f,Object.assign(b,i),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("daily-cash/update-yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/dailycash_MedicalDetails/".concat(a)):C()(n.msg)})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptResp--err---",a),e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(b,i),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("/daily-cash/yourself",n).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decrypt",n),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),0==n.error?t.props.history.push("/dailycash_MedicalDetails/".concat(a)):C()(n.msg)})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptResp--err---",a),t.props.loadingStop(),a&&e.data&&C()("Family Member fields are required...")})))},t.checkPolicyType=function(e,a,n,r){var l=t.state.drv;if(a)l.push(e);else{var o=l.indexOf(e);-1!==o&&l.splice(o,1)}l&&1==l.length?(n("cover_type_id"),r("cover_type_id","1"),t.setState({cover_type_id:1})):l&&l.length>1&&(n("cover_type_id"),r("cover_type_id",""),t.setState({cover_type_id:""}))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=e.child4Gender?e.child4Gender:null,o[6]=t.state.gender?"m":null,o[7]=t.state.gender?"f":null,o[8]=t.state.gender?"m":null,o[9]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i,cover_type_id:e.cover_type_id}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo"),a=new I.a;t.props.loadingStart(),v.a.get("daily-cash/policy-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder&&n.data.policyHolder.request_data&&n.data.policyHolder.request_data.family_members?n.data.policyHolder.request_data.family_members:[],l=n.data.policyHolder?n.data.policyHolder:[],o=JSON.parse(n.data.policyHolder.address),s=n.data.policyHolder.is_eia_account,c=n.data.policyHolder.gender,i=r&&r.length>0?1:0,m=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.cover_type_id:"";t.setState({familyMembers:r,addressDetails:o,is_eia_account:s,gender:c,validateCheck:i,cover_type_id:m,policyHolder:l}),t.setStateForPreviousData(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRelations=function(){t.props.loadingStart(),v.a.get("/daily-cash/relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurance()})).catch((function(e){t.props.loadingStop()}))},t.fetchInsurance=function(){var e=new I.a;v.a.get("occupations/".concat(t.props.match.params.productId)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypOccupation-----",n),t.setState({occupationList:n.data}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleChange=function(e){var a=t.state.occupationList,n="";a&&a&&a.length>0&&a.map((function(a,t){return a.id==e.target.value&&"Decline"==a.decline_status&&C()("Insurance Policy cannot be offered"),a.id==e.target.value&&(n=a.decline_status)})),t.setState({serverResponse:[],error:[],declineStatus:n})},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s,drv:a})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleSelectedValChange=function(e,a,n){a("marital_status_id",e.value),t.setState({selectedOption:e}),console.log("Option selected:",e)},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],educationList:[],display_gender:[],gender_for:[],confirm:"",cover_type_id:"",drv:[],policyHolder:[],occupationList:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),c=a.display_dob,p=a.display_gender,v=(a.confirm,a.cover_type_id),E=a.policyHolder,y=(a.occupationList,a.selectedOption,this.getInsuredList(o)),b=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],N=c&&c.length>0?c:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],S=p&&p.length>0?p:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],w=(1==this.state.lookingFor.length||this.state.cover_type_id,Object.assign(x,{check_input:r||0,gender:l||"",looking_for_0:b[0]?b[0]:"",dob_0:N[0]?new Date(N[0]):"",looking_for_1:b[1]?b[1]:"",dob_1:N[1]?new Date(N[1]):"",looking_for_2:b[2]?b[2]:"",dob_2:N[2]?new Date(N[2]):"",child1Gender:S?S[2]:"",looking_for_3:b[3]?b[3]:"",dob_3:N[3]?new Date(N[3]):"",child2Gender:S?S[3]:"",looking_for_4:b[4]?b[4]:"",dob_4:N[4]?new Date(N[4]):"",child3Gender:S?S[4]:"",looking_for_5:b[5]?b[5]:"",dob_5:N[5]?new Date(N[5]):"",child4Gender:S?S[5]:"",looking_for_6:b[6]?b[6]:"",dob_6:N[6]?new Date(N[6]):"",looking_for_7:b[7]?b[7]:"",dob_7:N[7]?new Date(N[7]):"",looking_for_8:b[8]?b[8]:"",dob_8:N[8]?new Date(N[8]):"",looking_for_9:b[9]?b[9]:"",dob_9:N[9]?new Date(N[9]):"",cover_type_id:v,insureList:y?y.toString():n||"",marital_status_id:E&&E.marital_status_id?E.marital_status_id:"",occupation_description:E&&null!=E.occupation_description?E.occupation_description:""}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arghealth"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(P.e,{initialValues:w,onSubmit:this.handleFormSubmit,validationSchema:H},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=(a.setFieldTouched,a.isValid,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&s.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Marital Status:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"marital_status_id",component:"select",autoComplete:"off",value:r.marital_status_id,className:"formGrp",onChange:function(e){o("marital_status_id",e.target.value)}},i.a.createElement("option",{value:""},"Select Marital Status"),i.a.createElement("option",{value:"1"},"Married"),i.a.createElement("option",{value:"2"},"Single"),i.a.createElement("option",{value:"3"},"Widow"),i.a.createElement("option",{value:"4"},"Divorced")),l.marital_status_id&&s.marital_status_id?i.a.createElement("span",{className:"errorMsg"},l.marital_status_id):null)),i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(P.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&s.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(P.e,{initialValues:w,onSubmit:this.handleSubmitForm,validationSchema:R},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 4",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_5",value:"child4",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child4"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child4Gender",component:"select",autoComplete:"off",value:t.child4Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child4Gender&&o.child4Gender?i.a.createElement("span",{className:"error-message"},n.child4Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_6",value:"father",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_7",value:"mother",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_8",value:"fatherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_9",value:"motherInLaw",className:"user-self",onChange:function(a){e.checkPolicyType(a.target.value,a.target.checked,l,r),!0===a.target.checked?r("looking_for_9",a.target.value):(r("looking_for_9",""),r("dob_9","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_9}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_9",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_9"),r("dob_9",e)},selected:t.dob_9}),i.a.createElement("label",{className:"formGrp error"},n.dob_9&&o.dob_9?i.a.createElement("span",{className:"error-message"},n.dob_9):"")))),t.looking_for_2||t.looking_for_3||t.looking_for_4||t.looking_for_5?i.a.createElement("div",{className:"row dropinput m-b-20"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(P.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4||t.looking_for_5)?i.a.createElement("span",{className:"error-message"},n.confirm):"")))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(L))},1222:function(e,a,t){"use strict";t.r(a);var n=t(98),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(19),E=t(22),y=t(38),b=t(7),N=t(2),S=t(1),w=t(240),k=t.n(w),C=t(20),P=t.n(C),D=t(9),I=(S.object().shape({question_id:S.lazy((function(e){return S.object(k()((function(e){})))}))}),{background:"blue"}),M={},B=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={questionList:[],message:"",question_answer:[],flag:!1,selected_answer:[],selected_question:[],validation_message:"",show:!1,isForwarded:!0,showImg:{},family_members:[],tempSelectedFamily:[],selectedQuestion:[],famArr:[],clickCheckbox:!1,selected_family_members:[],true_family_member_id:0},e.sumInsured=function(a){e.props.history.push("/SelectDuration/".concat(a))},e.buy_policy=function(a){e.props.history.push("/dailycash_Health/".concat(a))},e.handleClose=function(){e.setState({show:!1})},e.handleChangeSubmit=function(a,t){var r=[],l=[],o=[],s=new FormData;a.match(/question_id/gi)&&r.push(a.substr(12,2));var c=e.state.showImage?e.state.showImage:[],i=c&&c.map((function(e){return{question_id:e.question_id,status:"y"==t&&e.question_id==r[0]||!(!e.status||e.question_id==r[0])}}));l.push(t),l=Object(n.a)(new Set(l)),(o=e.state.selected_question).push(r[0]),o=Object(n.a)(new Set(o)),e.setState({showImage:i,selected_question:o,selected_answer:l});var m=document.getElementsByClassName("familyMembers".concat(r[0])),d=t;if("n"==d){var u=e.state.family_members,p=[];u&&u.map((function(e,a){p.push(e.id)}));var _=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,g=new D.a,f={page_name:"dailycash_MedicalDetails/12",question_id:r[0],answer:t,family_member_ids:p,policy_holder_id:_};s.append("enc_data",g.encrypt(JSON.stringify(f))),console.log("post_data-N------------- ",f),e.props.loadingStart(),b.a.post("/daily-cash/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))}else if("y"==d)for(var h=0;h<m.length;h++)m[h].checked&&0},e.capitalize=function(e){return"string"!==typeof e?"":("fatherInLaw"==e&&(e="Father In Law"),"motherInLaw"==e&&(e="Mother In Law"),e.charAt(0).toUpperCase()+e.slice(1))},e.handleSubmit=function(a){for(var t=e.props.match.params.productId,n=document.getElementsByClassName("questionClass"),r=0,l=[],o=[],s=0;s<n.length;s++)if(n[s].checked){var c=n[s].name[n[s].name.length-1],i="familyMembers".concat(c),m=document.getElementsByClassName(i);"y"==n[s].value&&o.push(n[s].value);for(var d=0;d<m.length;d++)if(m[d].checked&&"y"==n[s].value){l.push(!0);break}r++}if(4==(e.state.questionList?e.state.questionList.length:0)&&"y"==a.question_id_8)return e.showRestriction("y"),!1;var u=n.length/2;r==u?e.state.isForwarded&&e.props.history.push("/dailycash_Address/".concat(t)):r!=u?P()("Please select family members"):P()("Please answer all of the questions")},e.getQuestionList=function(){var a=new D.a;e.props.loadingStart(),b.a.get("daily-cash/questions").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("question --- decryptResp---- ",n);var r=n.data&&n.data.length?e.setShowImage(n.data):[];e.setState({questionList:n.data,showImage:r}),e.getPolicyHolderDetails()})).catch((function(a){e.setState({questionList:[]}),e.props.loadingStop()}))},e.getFamilyMembers=function(e){var a=[],t=0;if(e.length>0)for(var n=0;n<e.length;n++)if("y"==e[n].response)for(var r=e[n].family_members.split(" "),l=0;l<r.length;l++)a[t]="".concat(e[n].question_id,"~").concat(r[l]),t++;return a},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo"),t=new D.a;b.a.get("daily-cash/policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n),e.setState({flag:!0,question_answer:n.data.policyHolder.request_data.question_answer,family_members:n.data.policyHolder.request_data.family_members});var r=n.data.policyHolder.request_data.question_answer?n.data.policyHolder.request_data.question_answer:{},l=e.getFamilyMembers(r);e.setState({selected_family_members:l}),e.props.loadingStop()})).catch((function(a){e.setState({question_answer:[],flag:!0}),e.props.loadingStop()}))},e.showRestriction=function(a){"y"==a?(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"),e.setState({isForwarded:!1})):e.setState({isForwarded:!0})},e.setShowImage=function(e){return e&&e.map((function(e){return{question_id:e.id,status:!1}}))},e.setQuestionStatus=function(a,t){var n=new FormData,r=e.state.true_family_member_id;console.log(r);var l={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_id:r,question_id:t,question_value:a},o=new D.a;n.append("enc_data",o.encrypt(JSON.stringify(l))),console.log("post_data---setQuestion Value------- ",l),e.props.loadingStart(),b.a.post("/daily-cash/question-value",n).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e.setAnswer=function(a,t){var r=[],l=[],o=[],s=new FormData,c=t,i=(o=e.state.selected_family_members).indexOf("".concat(c,"~").concat(a.target.value));i>-1?o.splice(i,1):(o.push("".concat(c,"~").concat(a.target.value)),o=Object(n.a)(new Set(o))),r.push("y"),r=Object(n.a)(new Set(r)),(l=e.state.selected_question).push(c),l=Object(n.a)(new Set(l)),o=Object(n.a)(new Set(o)),e.setState({selected_question:l,selected_answer:r,selected_family_members:o});for(var m=[],d=0;d<o.length;d++){var u=o[d].split("~");u[0]==c&&m.push(u[1])}var p={page_name:"dailycash_MedicalDetails/12",policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,family_member_ids:m,question_id:c,answer:"y"},_=new D.a;s.append("enc_data",_.encrypt(JSON.stringify(p))),console.log("post_data---setAnswer------- ",p),e.props.loadingStart(),b.a.post("/daily-cash/medical-question",s).then((function(a){e.setState({message:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({message:""}),e.props.loadingStop()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getQuestionList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.questionList,l=n.question_answer,o=n.flag,s=(n.selected_question,n.selected_answer,n.showImg,n.family_members),c=n.famArr,v=(n.selected_family_members,r?r.length:0),E={},y=[];r&&o&&r.length>0&&r.map((function(e,a){l&&l.length>0?l.map((function(e,a){E["question_id_".concat(e.question_id)]=e.response,11==e.question_id&&(E.smoker_flag=1,E.smoker_flag_status=e.question_value),E["family_members_".concat(e.question_id)]=e.family_members,y[e.question_id]="y"==e.response?e.family_members.split(" "):null})):(y[e.id]=[],E["question_id_".concat(e.id)]="",E["family_members_".concat(e.id)]=[]),E["show_question_id_".concat(e.id)]=!1,E.famArr=c}));var b=Object.assign(E);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argmedical"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Hospital Daily Cash Policy"),i.a.createElement("section",{className:"d-flex justify-content-center brand m-t-60"},i.a.createElement("div",{className:"brand-bg pd-30"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-25"},i.a.createElement("h4",null,"Please help us with more details to arrive at the best suited plan "))),Object.keys(b).length>0?i.a.createElement(N.e,{initialValues:b,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return i.a.createElement(N.d,null,i.a.createElement(p.a,null,i.a.createElement(_.a,{sm:12,md:9},i.a.createElement(N.c,{name:"abc",render:function(a){return r.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"m-r-25"},i.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),i.a.createElement("div",{className:"medinfo"},i.a.createElement("p",{className:"W500 m-r-15"},a.title),i.a.createElement(g.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-30"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"y",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value)},checked:"y"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"question_id_".concat(a.id),className:"questionClass",value:"n",key:n,onClick:function(t){o("question_id_".concat(a.id),t.target.value),e.handleChangeSubmit("question_id_".concat(a.id),t.target.value),n==v-1&&e.showRestriction("n"),"11"==a.id&&o("smoker_flag",0)},checked:"n"==l["question_id_".concat(a.id)]}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No")))))),"y"==l["question_id_".concat(a.id)]&&l["family_members_".concat(a.id)]||e.state.showImage&&1==e.state.showImage[n].status?i.a.createElement("div",{class:"gender"},s&&s.map((function(n,r){return i.a.createElement(i.a.Fragment,null,"self"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){o("family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),t.target.value),e.setAnswer(t,a.id),"11"==a.id&&o("smoker_flag",1)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"spouse"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){e.setAnswer(t,a.id),"11"==a.id&&o("smoker_flag",1)}}),"m"==n.gender?i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with)):i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):"child1"==n.relation_with||"child2"==n.relation_with||"child3"==n.relation_with||"child4"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){e.setAnswer(t,a.id),"11"==a.id&&o("smoker_flag",1)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)},"m"==n.gender?i.a.createElement("img",{src:t(389),alt:""}):i.a.createElement("img",{src:t(390),alt:""}),e.capitalize(n.relation_with))):"father"==n.relation_with||"fatherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){e.setAnswer(t,a.id),"11"==a.id&&o("smoker_flag",1)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(385),alt:""}),e.capitalize(n.relation_with))):"mother"==n.relation_with||"motherInLaw"==n.relation_with?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",className:"familyMembers".concat(a.id),name:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),value:n.id,id:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with),checked:e.state.selected_family_members.includes("".concat(a.id,"~").concat(n.id)),onClick:function(t){e.setAnswer(t,a.id),"11"==a.id&&o("smoker_flag",1)}}),i.a.createElement("label",{for:"family_members.".concat(a.id,".").concat(r,".").concat(n.relation_with)}," ",i.a.createElement("img",{src:t(384),alt:""}),e.capitalize(n.relation_with))):null)}))):null)}))}}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.buy_policy.bind(e,a)},"Back"),i.a.createElement(f.a,{className:"proceedBtn",type:"submit"},"Continue"))),i.a.createElement(_.a,{sm:12,md:3},"1"==l.smoker_flag?i.a.createElement("div",null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(N.b,{name:"smoker_flag_status",component:"select",autoComplete:"off",className:"formGrp",default:"1",onChange:function(a){o("question_value",a.target.value),e.setQuestionStatus(a.target.value,11)}},i.a.createElement("option",{value:""},"Smoker Status"),i.a.createElement("option",{value:"1"},"0 Cig/Day"),i.a.createElement("option",{value:"2"},"1 - 40 Cig/Day"),i.a.createElement("option",{value:"3"},"More Than 40 Cig/Day"))))):null,i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"No Medical Test upto the Age of 55 for People with No Medical History ")))))})):null)),i.a.createElement(u.a,null)),i.a.createElement(h.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement("div",{className:"errorMsg"},this.state.validation_message),i.a.createElement("div",{className:"d-flex justify-content-left resmb",style:M},i.a.createElement("button",{className:"backBtn",onClick:this.handleClose,style:I},"Close"))))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1223:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:"5",select_sum_insured:"",select_deductible:"",select_tenure:""},A=(w()().add(30,"days"),D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e}))})),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],SliderVal:"",sliderVal:""},e.insuredMemberDetails=function(a){e.props.history.push("/dailycash_Address/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.serverResponse,l=(n.SliderVal,n.policyHolderDetails),o=new FormData,s=new M.a,c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,i=a.slider_sum_insured?a.slider_sum_insured:0,m=a.slider_deductible?a.slider_deductible:0,d=a.slider_tenure?a.slider_tenure:0,u=0,p=l&&l.request_data&&l.request_data.cover_type_id,_=l&&l.request_data&&l.request_data.family_members&&l.request_data.family_members.length;"3"==p||"1"==p?u=r&&r.SumInsured:"2"==p&&(u=r&&r.SumInsured,u/=_);var g=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(g&&(g=JSON.parse(s.decrypt(g.user)),u>5e5&&"POSP"==g.user_type))return C()("Quote cannot proceed with SI greater than 500000"),e.props.loadingStop(),!1;var f={page_name:"dailycash_FullQuote/12",policy_holder_id:c,start_date:r.EffectiveDate,end_date:r.ExpiryDate,gross_premium:r.GrossPremium,service_tax:r.TGST,policy_reference_no:localStorage.getItem("policyHolder_refNo"),swatch_bharat_cess:0,krishi_kalayan_cess:0,net_premium:r.DuePremium,sum_insured:parseInt(i),deductible:parseInt(m),tenure_year:parseInt(d)};o.append("enc_data",s.encrypt(JSON.stringify(f))),console.log("Handle--submit----",f),e.props.loadingStart(),E.a.post("/daily-cash/full-quote",o).then((function(a){e.props.loadingStop(),e.props.history.push("/dailycash_NomineeDetails/".concat(t))})).catch((function(a){var t=JSON.parse(s.decrypt(a.data));console.log("decrypt---error--",t),e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=new M.a,t=localStorage.getItem("policyHolder_refNo");console.log("policyHolderDetails-----",e.policyHolderDetails),E.a.get("daily-cash/policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt",n.data.policyHolder);var r=n.data.policyHolder;e.setState({policyHolderDetails:r,SliderVal:n.data.policyHolder&&n.data.policyHolder.arogyatopupsuminsured?n.data.policyHolder.arogyatopupsuminsured.insured_amount:0,deductibleSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.deductible:0,tenureSliderVal:n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data.tenure_year:0});var l=[],o=r&&r.request_data?r.request_data:[],s=r&&r.arogyatopupsuminsured?r.arogyatopupsuminsured:{};l.polStartDate=o&&o.start_date?w()(o.start_date).format("YYYY-MM-DD"):new Date,l.polEndDate=o&&o.end_date?w()(o.end_date).format("YYYY-MM-DD"):w()(Object(h.a)(new Date,729)).format("YYYY-MM-DD"),l.slider_sum_insured=s&&s.insured_amount?parseInt(s.insured_amount):25e5,l.slider_deductible=o&&o.deductible?parseInt(o.deductible):4e5,l.slider_tenure=o&&o.tenure_year?parseInt(o.tenure_year):2,e.quote(l)})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.SliderValue=function(a){e.setState({SliderVal:a,serverResponse:[],error:[]}),console.log("serverResponse======",e.state.serverResponse)},e.deductibleSliderValue=function(a){e.setState({deductibleSliderVal:a,serverResponse:[],error:[]})},e.tenureSliderValue=function(a){e.setState({tenureSliderVal:a,serverResponse:[],error:[]})},e.quote=function(a){var t=w()(a.polStartDate).format("YYYY-MM-DD"),n=w()(a.polEndDate).format("YYYY-MM-DD"),r=a.slider_sum_insured?a.slider_sum_insured:0,l=a.slider_deductible?a.slider_deductible:0,o=a.slider_tenure?a.slider_tenure:0,s=new FormData;e.props.loadingStart();var c={policy_reference_no:localStorage.getItem("policyHolder_refNo"),start_date:t,end_date:n,sum_insured:parseInt(r),deductible:parseInt(l),tenure_year:parseInt(o)},i=new M.a;s.append("enc_data",i.encrypt(JSON.stringify(c))),E.a.post("/daily-cash/full-quote",s).then((function(a){var t=JSON.parse(i.decrypt(a.data));if(console.log("decrypt---quote--service---",t),t.error)if(t.error)e.setState({fulQuoteResp:t.data,serverResponse:[],error:{message:t.msg}});else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:t.ValidateResult,serverResponse:[]});else e.setState({fulQuoteResp:t.data,serverResponse:t.data,error:[]});e.props.loadingStop()})).catch((function(a){var t=a.data;console.log("decrypt---quote--service---",t),e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleChange=function(a){var t=w()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.validation_error),s=n?n.request_data:null,g=s&&s.start_date?new Date(s.start_date):"",E=this.state,y=E.SliderVal,b=E.deductibleSliderVal,N=E.tenureSliderVal,S=s&&s.end_date?new Date(s.end_date):"",w=Object.assign(B,{polStartDate:g||new Date,polEndDate:S||Object(h.a)(g?new Date(g):new Date,729),slider_sum_insured:y||25e5,slider_deductible:b||4e5,slider_tenure:N||2}),k=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,C=o?o.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("strong",null,c.a.createElement("li",null,e)))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox selduration"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Hospital Daily Cash Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,k),c.a.createElement("div",null,c.a.createElement("span",{className:"errorMsg"},C?"Errors :":null)," ",c.a.createElement("ul",null,C)),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Quotation No : ",r.QuotationNo)),c.a.createElement(P.e,{initialValues:w,onSubmit:r&&""!=r?!0===r.error?this.quote:this.handleSubmit:this.quote,validationSchema:A},(function(t){var n=t.values,l=t.errors,o=t.setFieldValue,s=t.setFieldTouched,i=(t.isValid,t.isSubmitting,t.touched);return console.log("values============= ",n),c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",disabled:!0,dropdownMode:"select",className:"datePckr",onChange:function(a){s("polStartDate"),o("polStartDate",a),o("polEndDate",Object(h.a)(new Date(n.polStartDate),365*n.slider_tenure-1)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&i.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),365*n.slider_tenure-1)}),l.polEndDate&&i.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium :"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",r&&r.DuePremium?r.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Hospital Daily Cash you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Daily Hospitalization benefit"),c.a.createElement("li",null,"ICU benefit in home city"),c.a.createElement("li",null,"Accident hospital confinement"),c.a.createElement("li",null,"Convalescence benefit for hospitalization ")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.insuredMemberDetails.bind(e,a)},"Back"),r&&""!==r?!0===r.error?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Recalculate"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0")),c.a.createElement(d.a,null,c.a.createElement("div",null,k))),c.a.createElement(u.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox grossbox"},c.a.createElement("table",{className:"table"},c.a.createElement("tbody",null,c.a.createElement("tr",null),c.a.createElement("tr",null,c.a.createElement("td",null,"Net Premium:"),c.a.createElement("td",null,"Rs ",Math.round(r&&r.BeforeVatPremium?r.BeforeVatPremium:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"GST:"),c.a.createElement("td",null,"Rs ",Math.round(r&&r.TGST?r.TGST:0))),c.a.createElement("tr",null,c.a.createElement("td",null,"Gross Premium:"),c.a.createElement("td",null,"Rs ",r&&r.DuePremium?r.DuePremium:0))))))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(O))},1224:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(2),b=t(1),N=t(7),S=t(38),w=t(19),k=t(22),C=t(28),P=t(65),D=t.n(P),I=t(3),M=t.n(I),B=t(20),A=t.n(B),O=(t(95),t(96),t(9)),x=D()(new Date,"mm/dd/yyyy"),H=M()(M()().subtract(56,"years").calendar()).add(1,"day").calendar(),R=M()().subtract(18,"years").calendar(),L={fname:"",cashlimit:"",coverduration:"",education_id:"",height:"",weight:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},j={proposerAsInsured:"",family_members:[L],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",eIA:"",eia_account_no:"",proposerName:"",proposercashlimit:"",proposercoverduration:"",proposereducation_id:"",proposerheight:"",proposerweight:"",proposerDob:"",proposerGender:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",nominee_relation_with:"",is_eia_account2:"",educationList:[]},F=b.object().shape({proposerAsInsured:b.string().required((function(){return"Please select a value"})),address1:b.string().notRequired((function(){return"Enter plot number."})).matches(/^([0-9]*)$/,(function(){return"Invalid plot number"})),address2:b.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-Z0-9]+([\s]?[a-zA-Z0-9]+)*$/,(function(){return"Invalid building name / number"})),address3:b.string().required((function(){return"Enter street name"})).matches(/^[a-zA-Z0-9]+([\s]?[a-zA-Z0-9]+)*$/,(function(){return"Invalid street name"})),email:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Phone No. is required"),panNo:b.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:b.string().required().test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:b.string()}),pincode:b.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:b.string().required((function(){return"Select area"})),eIA:b.string().required((function(){return"Select eIA option"})),family_members:b.array().of(b.object().shape({looking_for:b.string(),fname:b.string((function(){return"Please enter first name"})).required((function(){return"Please enter first name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),cashlimit:b.string((function(){return"Please Select Daily Cash Limit"})).required((function(){return"Please Select Daily Cash Limit"})),coverduration:b.string((function(){return"Please Select Cover Duration"})).required((function(){return"Please Select Cover Duration"})),height:b.string((function(){return"Please enter height"})).required((function(){return"Please enter height"})).matches(/^[0-9]*$/,(function(){return"Please enter Number"})),weight:b.string((function(){return"Please enter weight"})).required((function(){return"Please enter weight"})).matches(/^[0-9]*$/,(function(){return"Please enter Number"})),dob:b.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:b.date().required("Please enter DOB").max(x,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 65 years"}),(function(e){if(e){var a=new C.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0}))}),gender:b.string().nullable().required("Require Gender")})),eia_account_no:b.string().when(["eIA"],{is:function(e){return 1==e},then:b.string().required("Please select the EIA account number").min(13,(function(){return"EIA number should be minimum 13 digits"})).max(13,(function(){return"EIA number should be maximum 13 digits"})).matches(/^[1245]{1}[0-9]{12}$/,(function(){return"Invalid number"})),othewise:b.string()}),proposerName:b.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposercashlimit:b.string((function(){return"Please Select Cash Limit"})).notRequired((function(){return"Please Select Cash Limit"})).test("proposerAsInsured",(function(){return"Please Select Cash Limit"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:b.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 65 years"}),(function(e){var a=new C.a;if(e){new C.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:b.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account2:b.string().when(["eIA"],{is:function(e){return 0==e},then:b.string().required("RequiredField")}),tpaInsurance:b.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:b.string().required("RequiredField")})}),q=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).fetchEducations=function(){t.props.loadingStart();var e=new O.a;N.a.get("/daily-cash/educations").then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("education list",n.data);var r=n&&n.data?n.data:[];t.setState({educationList:r})})).catch((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("education=====",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=new O.a;t.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");N.a.get("daily-cash/policy-details/".concat(a)).then((function(a){var n=JSON.parse(e.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder,l=n.data.policyHolder.request_data.family_members,o=JSON.parse(n.data.policyHolder.address),s=2==n.data.policyHolder.is_eia_account?"":n.data.policyHolder.is_eia_account,c=!1,i=JSON.parse(n.data.policyHolder.pincode_response),m=r.request_data.net_premium,d=1===n.data.policyHolder.create_eia_account||0===n.data.policyHolder.create_eia_account?n.data.policyHolder.create_eia_account:"";n.data.policyHolder.T_Insurance_Repository_id&&n.data.policyHolder.T_Insurance_Repository_id;console.log("netPremiumCheck----",m);for(var u=0;u<l.length;u++)if("self"==l[u].relation_with){c=!0;break}t.setState({selfFlag:c,policy_holder:r,familyMembers:l,addressDetails:o,is_eia_account:s,pincode_Details:i,netPremiumCheck:m,is_eia_account2:d}),t.props.loadingStop(),t.fetchSalutation(i)})).catch((function(e){})),t.props.loadingStop()},t.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,n=new FormData,r={pincode:a.toString()},l=new O.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),n.append("pincode",a),t.props.loadingStart(),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var n=new FormData;t.props.loadingStart();var r=new O.a,l={pincode:a};n.append("enc_data",r.encrypt(JSON.stringify(l))),n.append("pincode",a),N.a.post("pincode-details",n).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";t.setState({pinDataArr:e.data.data,stateName:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))}},t.sumInsured=function(e){t.props.history.push("/dailycash_MedicalDetails/".concat(e))},t.handleSubmit=function(e,a){var n,r=t.props.match.params.productId,l=localStorage.getItem("policyHolder_id"),o=new FormData;n=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=l;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=[],v=[],E=[],y=[],b=[],S=0;S<c.length;S++)m.push(c[S].looking_for),d.push(c[S].family_member_id),u.push(c[S].gender),p.push(c[S].fname),_.push(c[S].cashlimit),g.push(c[S].coverduration),f.push(c[S].education_id),h.push(c[S].height),v.push(c[S].weight),b.push(c[S].salutation_id),E.push(M()(c[S].dob).format("YYYY-MM-DD")),y.push(e.panNo);s.looking_for=m,s.page_name="dailycash_Address/12",s.family_member_id=d,s.gender=u,s.first_name=p,s.cash_limit=_,s.cover_duration=g,s.education_id=f,s.height=h,s.weight=v,s.dob=E,s.pancard_no=y,s.salutation_id=b,s.policy_holder_id=l;var w=e.email;s.phoneNo=e.phoneNo,s.email_id=e.email,sessionStorage.setItem("email_data",w),s.is_eia_account=e.eIA,sessionStorage.setItem("pan_data",e.panNo),sessionStorage.setItem("email_data",e.email);var k={};Object.assign(k,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(k),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposercashlimit=e.proposercashlimit,s.proposercoverduration=e.proposercoverduration,s.proposereducation_id=e.proposereducation_id,s.proposerheight=e.proposerheight,s.proposerweight=e.proposerweight,s.proposerDob=M()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,s.salutation_id=e.salutation_id,1==e.eIA&&(s.eia_account_no=e.eia_account_no),s.create_eia_account=n,s.tpaInsurance=e.tpaInsurance;var C={};Object.assign(C,s);var P=new O.a;console.log("formObj_input--------- ",C),o.append("enc_data",P.encrypt(JSON.stringify(C))),t.props.loadingStart(),N.a.post("daily-cash/insured-member-details",o).then((function(e){var n=JSON.parse(P.decrypt(e.data));console.log("decryptResp--------- ",n),t.props.loadingStop(),n.error?(a.setSubmitting(!1),A()(n.msg)):t.props.history.push("/dailycash_FullQuote/".concat(r))})).catch((function(e){var n=JSON.parse(P.decrypt(e.data));console.log("decrypt---Err---",n),401==e.status?A()("Session out. Please login"):A()("Something wrong happened. Please try after some"),a.setSubmitting(!1),t.props.loadingStop()}))},t.tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),t.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},t.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",cashlimit:e.cash_limit?e.cash_limit:"",coverduration:e.cover_duration?e.cover_duration:"",education_id:e.education_id?e.education_id:"",height:e.height?e.height:"",weight:e.weight?e.weight:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no,salutation_id:e.salutation_id}})):[L]},t.showEIAText=function(e){1==e?t.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):t.setState({showEIA:!1,is_eia_account:0})},t.showEIAText2=function(e){1==e?t.setState({showEIA2:!0,is_eia_account2:1}):t.setState({showEIA2:!1,is_eia_account2:0})},t.fetchSalutation=function(e){var a=new FormData;t.props.loadingStart(),a.append("policy_for_flag",1),N.a.post("salutation-list",a).then((function(a){var n=a.data.data.salutationlist?a.data.data.salutationlist:[];t.setState({titleList:n}),t.props.loadingStop(),t.fetchPrevAreaDetails(e)})).catch((function(e){t.props.loadingStop(),t.setState({titleList:[]})}))},t.toCamelCase=function(e){var a=e.length,t=e.substring(1,a),n=e.substring(0,1);return(n=n.toUpperCase())+t},t.state={policy_holder:{},familyMembers:[],addressDetails:{},is_eia_account:"",selfFlag:!1,pinDataArr:[],stateName:[],showEIA:!1,pincode_Details:[],titleList:[],is_eia_account2:"",tpaInsurance:[],educationList:[]},t}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository(),this.fetchEducations()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,n=a.educationList,r=a.policy_holder,l=a.familyMembers,o=a.is_eia_account2,s=a.tpaInsurance,g=a.addressDetails,b=a.is_eia_account,N=a.selfFlag,S=a.pinDataArr,w=a.stateName,k=a.showEIA,C=a.showEIA2,P=a.pincode_Details,D=a.netPremiumCheck,I=(a.titleList,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),M=Object.assign(j,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):N?1:0,family_members:this.initFamilyDetailsList(l),panNo:sessionStorage.getItem("pan_data")?sessionStorage.getItem("pan_data"):"",phoneNo:g&&g.phoneNo?g.phoneNo:"",email:sessionStorage.getItem("email_data")?sessionStorage.getItem("email_data"):"",address1:g&&g.address1?g.address1:"",address2:g&&g.address2?g.address2:"",address3:g&&g.address3?g.address3:"",pincode:g&&g.pincode?g.pincode:"",pincode_id:P&&P.id?P.id:"",state:g&&g.state?g.state:"",eIA:b,eia_account_no:r&&r.eia_no?r.eia_no:"",proposerName:r&&r.first_name?r.first_name:"",proposercashlimit:r&&r.cash_limit?r.cash_limit:"",proposercoverduration:r&&r.cover_duration?r.cover_duration:"",height:r&&r.height?r.height:"",weight:r&&r.weight?r.weight:"",proposereducation_id:r&&r.education_id?r.education_id:"",proposerDob:r&&r.dob?new Date(r.dob):"",proposerGender:r&&r.gender?r.gender:"",netPremiumCheckCount:D>1e5?1:0,is_eia_account2:o,tpaInsurance:r&&r.T_Insurance_Repository_id?r.T_Insurance_Repository_id:""}),B=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox arogyaa_address"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Hospital Daily Cash Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(y.e,{initialValues:M,onSubmit:this.handleSubmit,validationSchema:F},(function(a){var r=a.values,g=a.errors,h=a.setFieldValue,v=a.setFieldTouched,E=(a.isValid,a.isSubmitting),N=a.touched;return c.a.createElement(y.d,null,c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Is the Proposer same as insured")),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){h("proposerAsInsured",e.target.value)},checked:"1"==r.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){h("proposerAsInsured",e.target.value)},checked:"0"==r.proposerAsInsured,disabled:!0}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),g.proposerAsInsured&&N.proposerAsInsured?c.a.createElement("span",{className:"errorMsg"},g.proposerAsInsured):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:9},c.a.createElement(c.a.Fragment,null,"0"==M.proposerAsInsured?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Proposer Details")),c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"Proposer",c.a.createElement(y.b,{name:"name",type:"hidden",value:r.name}),c.a.createElement(y.b,{name:"name",type:"hidden",value:r.name})),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.proposerName}),g.proposerName&&N.proposerName?c.a.createElement("span",{className:"errorMsg"},g.proposerName):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",selected:r.proposerDob,onChange:function(e){v("proposerDob"),h("proposerDob",e)}}),g.proposerDob&&N.proposerDob?c.a.createElement("span",{className:"errorMsg"},g.proposerDob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),g.proposerGender&&N.proposerGender?c.a.createElement("span",{className:"errorMsg"},g.proposerGender):null)))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about the Insured Members")),c.a.createElement(y.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,l&&l.length>0&&l.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo",key:t},c.a.createElement("div",{className:"W12"},c.a.createElement("strong",null,"motherInLaw"==a.relation_with?"Mother In Law":"fatherInLaw"==a.relation_with?"Father In Law":e.toCamelCase(a.relation_with)),c.a.createElement(i.a,null),c.a.createElement(y.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:r.family_members[t].family_member_id}),c.a.createElement(y.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:r.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".fname"),type:"text",placeholder:"Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.family_members[t].fname}),g.family_members&&g.family_members[t]&&g.family_members[t].fname?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].fname):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"family_members.".concat(t,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(R),minDate:new Date(H),className:"datePckr",disabled:!0,selected:r.family_members[t].dob?new Date(r.family_members[t].dob):new Date,onChange:function(e){v("family_members.".concat(t,".dob")),h("family_members.".concat(t,".dob"),e)}}),g.family_members&&g.family_members[t]&&g.family_members[t].dob?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].dob):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),g.family_members&&g.family_members[t]&&g.family_members[t].gender?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].gender):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".height"),type:"text",placeholder:"Height(Inch)",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.family_members[t].height}),g.family_members&&g.family_members[t]&&g.family_members[t].height?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].height):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"family_members.".concat(t,".weight"),type:"text",placeholder:"Weight(KG)",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.family_members[t].weight}),g.family_members&&g.family_members[t]&&g.family_members[t].weight?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].weight):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".cashlimit"),component:"select",autoComplete:"off",className:"formGrp",onChange:function(e){"self"==a.relation_with&&h("proposercashlimit",e.target.value),h("family_members.".concat(t,".cashlimit"),e.target.value)}},c.a.createElement("option",{value:""},"Cash Limit/Day"),c.a.createElement("option",{value:"1"},"500"),c.a.createElement("option",{value:"2"},"1000"),c.a.createElement("option",{value:"3"},"1500"),c.a.createElement("option",{value:"4"},"2000")),g.family_members&&g.family_members[t]&&g.family_members[t].cashlimit?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].cashlimit):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".coverduration"),component:"select",autoComplete:"off",className:"formGrp",onChange:function(e){"self"==a.relation_with&&h("proposercoverduration",e.target.value),h("family_members.".concat(t,".coverduration"),e.target.value)}},c.a.createElement("option",{value:""},"Cover Duration"),c.a.createElement("option",{value:"1"},"30 Days"),c.a.createElement("option",{value:"2"},"60 Days")),g.family_members&&g.family_members[t]&&g.family_members[t].coverduration?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].coverduration):null))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"family_members.".concat(t,".education_id"),component:"select",autoComplete:"off",className:"formGrp",onChange:function(e){h("family_members.".concat(t,".education_id"),e.target.value)}},c.a.createElement("option",{value:""},"Education"),n&&n.map((function(e,a){return c.a.createElement("option",{value:e.id,key:a},e.descriptions)}))),g.family_members&&g.family_members[t]&&g.family_members[t].education_id?c.a.createElement("span",{className:"errorMsg"},g.family_members[t].education_id):null)))))})))}})),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.panNo.toUpperCase(),onChange:function(e){return h("panNo",e.target.value.toUpperCase())}}),g.panNo&&N.panNo?c.a.createElement("span",{className:"errorMsg"},g.panNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"phoneNo",type:"text",placeholder:"PHONE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.phoneNo}),g.phoneNo&&N.phoneNo?c.a.createElement("span",{className:"errorMsg"},g.phoneNo):null)),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.email}),g.email&&N.email?c.a.createElement("span",{className:"errorMsg"},g.email):null))),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Communication Address")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.address1,onChange:function(e){return h("address1",e.target.value)}}),g.address1&&N.address1?c.a.createElement("span",{className:"errorMsg"},g.address1):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.address2,onChange:function(e){return h("address2",e.target.value)}}),g.address2&&N.address2?c.a.createElement("span",{className:"errorMsg"},g.address2):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.address3,onChange:function(e){return h("address3",e.target.value)}}),g.address3&&N.address3?c.a.createElement("span",{className:"errorMsg"},g.address3):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:r.pincode,onInput:function(e){v("state"),v("pincode"),h("pincode",e.target.value),h("state",w?w[0]:r.state),h("pincode_id","")}}),g.pincode&&N.pincode?c.a.createElement("span",{className:"errorMsg"},g.pincode):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:r.pincode_id,className:"formGrp"},c.a.createElement("option",{value:""},"Select Area"),S&&S.map((function(e,a){return c.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),g.pincode_id&&N.pincode_id?c.a.createElement("span",{className:"errorMsg"},g.pincode_id):null))),c.a.createElement(m.a,{sm:12,md:6,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:w||r.state,disabled:!0}),g.state&&N.state?c.a.createElement("span",{className:"errorMsg"},g.state):null)))),c.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-40"},c.a.createElement("div",{className:"proposr prsres m-r-60"},c.a.createElement("p",null,"Do you have an eIA number?",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"1",key:"1",onChange:function(a){h("eIA",a.target.value),e.showEIAText(1)},checked:"1"==r.eIA}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"eIA",value:"0",key:"1",onChange:function(a){h("eIA",a.target.value),e.showEIAText(0)},checked:"0"==r.eIA}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},"No"),g.eIA&&N.eIA?c.a.createElement("span",{className:"errorMsg"},g.eIA):null)))),k||1==b?c.a.createElement("div",{className:"d-flex justify-content-left align-items-center m-b-40"},c.a.createElement("div",{className:"proposr m-r-60"},c.a.createElement("p",null,"EIA Number",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))))),c.a.createElement("div",{className:"d-inline-flex"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"eia_account_no",type:"text",placeholder:"EIA NUMBER",autoComplete:"off",value:r.eia_account_no,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),g.eia_account_no&&N.eia_account_no?c.a.createElement("span",{className:"errorMsg"},g.eia_account_no):null)))):"",0==k&&"0"==b?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},I.wish_to_create_EIA_Account)))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==r.is_eia_account2}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",I.Yes))),c.a.createElement("div",{className:""},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==r.is_eia_account2}),c.a.createElement("span",{className:"checkmark"}),c.a.createElement("span",{className:"fs-14"},I.No),g.is_eia_account2&&N.is_eia_account2?c.a.createElement("span",{className:"errorMsg"},I[g.is_eia_account2]):null)))))):"",C||"1"==o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement("h4",{className:"fs-16"},I.Your_preferred_TPA)))),c.a.createElement(m.a,{sm:12,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:r.tpaInsurance,className:"formGrp"},c.a.createElement("option",{value:""},I.SELECT_TPA),s.map((function(e,a){return c.a.createElement("option",{value:e.repository_id},e.name)}))),g.tpaInsurance&&N.tpaInsurance?c.a.createElement("span",{className:"errorMsg"},I[g.tpaInsurance]):null)))):"",c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!E,onClick:e.sumInsured.bind(e,B)},E?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!E},E?"Wait..":"Continue"))),c.a.createElement(m.a,{sm:12,md:12,lg:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"123 Operating Branches and Satellite Presence in 350+ locations ")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(q))},1225:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(2),E=t(1),y=t(3),b=t.n(y),N=t(20),S=t.n(N),w=t(7),k=t(38),C=t(19),P=t(22),D=t(28),I=(t(65),t(9)),M=b()(b()().subtract(100,"years").calendar()).calendar(),B=b()().subtract(3,"months").calendar(),A=(new Date("Y"),new D.a,b()(b()().subtract(20,"years").calendar()).add(1,"day").calendar(),b()(b()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),b()(b()().subtract(1,"years").calendar()).add(0,"day").calendar(),b()(b()().subtract(1,"month").calendar()).add(1,"day").calendar(),b()(b()().subtract(1,"years").calendar()).add(30,"day").calendar(),b()().subtract(1,"years").calendar(),b()().subtract(20,"years").calendar(),b()(b()().subtract(1,"months").calendar()).add(1,"day").calendar(),b()(b()().subtract(1,"years").calendar()).add(31,"day").calendar(),{first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",previous_sum_insured:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:""}),O=E.object().shape({last_name:E.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:E.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:E.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:E.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:E.string().required((function(){return"Please select relation"})),appointee_name:E.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:E.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new D.a).whatIsMyAge(this.parent.dob)<18&&!e)}))}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={insurerList:[],showClaim:!1,NomineeDetails:[],previousPolicy:[],appointeeFlag:!1,is_appointee:0,previous_is_claim:""},e.ageCheck=function(a){(new D.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showClaimText=function(a,t){1==a?e.setState({showClaim:!0,previous_is_claim:1}):(e.setState({showClaim:!1,previous_is_claim:0}),t.claim_array=[])},e.getInsurerList=function(){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;e.props.loadingStart(),w.a.get("/company/1/".concat(a)).then((function(a){e.setState({insurerList:a.data.data})})).catch((function(a){e.setState({insurerList:[]}),e.props.loadingStop()}))},e.fullQuoteDetails=function(a){e.props.history.push("/dailycash_FullQuote/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?b()(a[o]).format("YYYY-MM-DD"):"relation_with"==o?a[o].toString():a[o]);l.valid_previous_policy=a.valid_previous_policy,l.previous_start_date=a.previous_start_date,l.previous_end_date=a.previous_end_date,l.insurance_company_id=a.insurance_company_id,l.previous_city=a.previous_city,l.previous_policy_no=a.previous_policy_no,l.previous_sum_insured=a.previous_sum_insured,l.previous_is_claim=a.previous_is_claim,l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.page_name="/dailycash_NomineeDetails/12";var s={};Object.assign(s,l),console.log("PostData---",s);var c=new I.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),w.a.post("/daily-cash/insert-nominee",r).then((function(a){e.props.loadingStop(),e.props.history.push("/dailycash_PolicyDetails/".concat(n))})).catch((function(a){var n=JSON.parse(c.decrypt(a.data));console.log("decryptErr----",n),401==a.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n})},e.getNomineeDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo"),t=new I.a;w.a.get("daily-cash/policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.request_data?n.data.policyHolder.request_data.family_members:[];e.fetchPolicyRelations(r),e.setState({NomineeDetails:n.data.policyHolder.request_data.nominee[0],previousPolicy:n.data.policyHolder.previouspolicy,is_appointee:n.data.policyHolder.request_data.nominee[0].is_appointee}),e.props.loadingStop()})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails(),this.getInsurerList()}},{key:"render",value:function(){var e=this,a=(localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases")),this.props.match.params.productId),t=this.state,n=t.insurerList,r=t.previousPolicy,l=t.NomineeDetails,o=t.appointeeFlag,s=t.is_appointee;t.previous_is_claim;console.log("insurerList",n),b.a.defaultFormat="YYYY-MM-YY";var p=Object.assign(A,{first_name:l?l.first_name:"",last_name:l?l.last_name:"",gender:l?l.gender:"",dob:l&&l.dob?new Date(l.dob):"",relation_with:l?l.relation_with:"",appointee_relation_with:l&&l.appointee_relation_with?l.appointee_relation_with:"",appointee_name:l&&l.appointee_name?l.appointee_name:"",previous_start_date:r?new Date(r.start_date):"",previous_end_date:r?new Date(r.end_date):"",valid_previous_policy:r?r.claim_for:0,insurance_company_id:r?r.insurancecompany_id:0,previous_policy_no:r?r.policy_no:0,previous_city:r?r.address:0,previous_sum_insured:r?r.sum_insured:0,previous_is_claim:r?r.is_claim:0});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argNominee"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Hospital Daily Cash Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement(v.e,{initialValues:p,onSubmit:this.handleSubmit,validationSchema:O},(function(t){var n=t.values,r=t.errors,l=t.setFieldValue,p=t.setFieldTouched,g=(t.isValid,t.isSubmitting),f=t.touched;return c.a.createElement(v.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12},c.a.createElement(d.a,null,c.a.createElement("div",{className:"carloan"},c.a.createElement("h4",null," Nominee  Details "))))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.first_name}),r.first_name&&f.first_name?c.a.createElement("span",{className:"errorMsg"},r.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.last_name}),r.last_name&&f.last_name?c.a.createElement("span",{className:"errorMsg"},r.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"gender",component:"select",autoComplete:"off",value:n.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),r.gender&&f.gender?c.a.createElement("span",{className:"errorMsg"},r.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",onChange:function(a){p("dob"),l("dob",a),e.ageCheck(a)},selected:n.dob}),r.dob&&f.dob?c.a.createElement("span",{className:"errorMsg"},r.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"relation_with",component:"select",autoComplete:"off",value:n.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law"),c.a.createElement("option",{value:"9"},"Brother"),c.a.createElement("option",{value:"10"},"Sister"),c.a.createElement("option",{value:"11"},"Grand Father"),c.a.createElement("option",{value:"12"},"Grand Mother")),r.relation_with&&f.relation_with?c.a.createElement("span",{className:"errorMsg"},r.relation_with):null)))),o||"1"==s?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(v.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.appointee_name}),r.appointee_name&&f.appointee_name?c.a.createElement("span",{className:"errorMsg"},r.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law"),c.a.createElement("option",{value:"9"},"Brother"),c.a.createElement("option",{value:"10"},"Sister"),c.a.createElement("option",{value:"11"},"Grand Father"),c.a.createElement("option",{value:"12"},"Grand Mother")),r.appointee_relation_with&&f.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},r.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!g,onClick:e.fullQuoteDetails.bind(e,a)},g?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!g},g?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance Everywhere in India, for every Indian ")))))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(x))},1226:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={gateway:""},O={m:"Male",f:"Female"},x={1:"500",2:"1000",3:"1500",4:"2000"},H={1:"30",2:"60"},R={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law",9:"Brother",10:"Sister",11:"Grandfather",12:"Grandmother",13:"Husband",14:"Wife",15:"Brother In Law",16:"Sister In Law",17:"Uncle",18:"Aunty",19:"Ex-Wife",20:"Ex-Husband",21:"Employee",22:"Niece",23:"Nephew"},L={self:"Self",spouse:"Spouse",child1:"Child",child2:"Child",child3:"Child",child4:"Child",father:"Father",mother:"Mother",fatherInLaw:"Father In Law",motherInLaw:"Mother In Law"},j=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],nomineedetails:[],request_data:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/dailycash_NomineeDetails/".concat(a))},e.getPolicyHolderDetails=function(){var a=new P.a;e.props.loadingStart();var t=localStorage.getItem("policyHolder_refNo");v.a.get("/daily-cash/policy-details/".concat(t)).then((function(t){var n=JSON.parse(a.decrypt(t.data)),r=JSON.parse(n.data.policyHolder.address);console.log("decrypt-----",n);var l=n.data.policyHolder?n.data.policyHolder.bcmaster:{},o=n.data.policyHolder?n.data.policyHolder.menumaster:{},s=n.data.policyHolder&&n.data.policyHolder.request_data?n.data.policyHolder.request_data:{},c=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:n.data.policyHolder?n.data.policyHolder:[],addressArray:n.data.policyHolder&&n.data.policyHolder.address?r:null,familyMember:n.data.policyHolder.request_data.family_members,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[],bcMaster:l,menumaster:o,request_data:s,paymentgateway:c}),e.fullQuote(n.data.policyHolder)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a){var t=new FormData,n=new P.a,r=a&&a.request_data?a.request_data:[],l=a&&a.dailycashtopupsuminsured?a.dailycashtopupsuminsured.insured_amount:0,o={policy_reference_no:r?a.reference_no:null,start_date:r?w()(r.start_date).format("YYYY-MM-DD"):null,end_date:r?w()(r.end_date).format("YYYY-MM-DD"):null,sum_insured:l?parseInt(l):null,deductible:r?parseInt(r.deductible):null,tenure_year:r?parseInt(r.tenure_year):null};t.append("enc_data",n.encrypt(JSON.stringify(o))),console.log("policyHolderDetails.dailycashtopupsuminsured",a),console.log("post_data-----",o),v.a.post("/daily-cash/full-quote",t).then((function(a){var t=JSON.parse(n.decrypt(a.data));t.error?t.error?e.setState({fulQuoteResp:t.data,error:{message:t.msg},serverResponse:!1}):e.setState({fulQuoteResp:[],error:t.data,serverResponse:!1}):e.setState({fulQuoteResp:t.data,serverResponse:!0,error:[]}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;console.log("handleSubmit_values",a),Object(B.b)(a,r,n,l)},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.addressArray,o=n.error,s=n.serverResponse,f=n.policyHolderDetails,v=n.nomineedetails,y=n.paymentStatus,b=n.paymentgateway,N=n.bcMaster,S=n.menumaster,k=n.request_data,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=l?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(d.a,null,l.address1+", "+l.address2+", "+l.address3)))))):null,D=l?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l.pincode)))):null,I=f.request_data?f.request_data.family_members.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement("h6",null,c.a.createElement("strong",null,"Member ",a+1)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w()(e.dob).format("DD-MM-yyyy")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,L[e.relation_with]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.gender]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Daily Cash Limit")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.cash_limit]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Cover Duration")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,H[e.cover_duration]," Days"))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,B=f.request_data?f.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Nominee")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+e.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w()(e.dob).format("DD-MM-yyy")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,R[e.relation_with]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.gender]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,j=f.request_data?f.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Appointee ")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.appointee_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,R[e.appointee_relation_with]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,F=o&&o.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,q=y&&103==y.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox argDetail"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Hospital Daily Cash Policy"),c.a.createElement(M.e,{initialValues:A,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,F),c.a.createElement("h5",null,q),c.a.createElement("h4",null,"Policy Reference Number ",f&&f.request_data?f.request_data.quote_id:null)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:18},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k&&k.start_date?w()(k.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k&&k.end_date?w()(k.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S&&S.name?S.name:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Hospital Daily Cash, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.sum_insured):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.service_tax):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.gross_premium):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f&&f.request_data?Math.round(f.request_data.net_premium):null)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},I))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/dailycash_Address/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},f.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"\xa0")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Email:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},f.email_id)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"\xa0")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Address:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},P)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},"Pincode:"),c.a.createElement(m.a,{sm:12,md:6,lg:3},D))))))),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Nominee Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},B),v&&"1"==v.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},j):null)),s?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",b&&b.length>0?b.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement(i.a,null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement("button",{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),N&&1==N.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,console.log("fulQuoteResp=====",r),r.QuotationNo&&""!=l.gateway&&s?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(j))},1227:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M=t(77),B=t(25),A={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:"",regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:"1"},O=E.object().shape({policy_type:E.string().required("PleasePT"),policy_for:E.string().required("PleasePIC"),reg_number_part_one:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.f)(e)})),otherwise:E.string().nullable()}),reg_number_part_two:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.h)(e)})),otherwise:E.string().nullable()}),reg_number_part_three:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.i)(e)})),otherwise:E.string().nullable()}),reg_number_part_four:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.g)(e)})),otherwise:E.string().nullable()})}),x=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).change=function(e){r.state.searchitem=[],r.state.brandModelList.map((function(a,t){var n=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(n)&&null!=a.name.toUpperCase().match(n)&&r.state.searchitem.push(a)})),r.state.searchitem&&r.state.searchitem.length>0&&r.setState({searchitem:r.state.searchitem,search:e})},r.getBrands=function(){r.props.match.params.productId;var e=r.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"";return new Promise((function(e){y.a.get("vehicle/brand-with-image/3").then((function(e){var t=e&&e.data.data.list?e.data.data.list:[];r.setState({brandList:t,otherBrands:!1}),r.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?r.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")?r.getOtherBrands():1==r.props.data.brandEdit&&r.setState({brandView:"1"})})).catch((function(e){r.props.loadingStop()}))}))},r.getOtherBrands=function(){var e=new D.a;r.props.loadingStart(),y.a.get("two-wh/without-image/3").then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptResp_otherBrand",t);var n=t&&t.data.list?t.data.list:{},l=t&&t.data.list?t.data.list:[];r.setState({selectedBrandDetails:n,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:"",brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;r.props.loadingStart(),y.a.get("two-wh/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decryptResp",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=t.data.policyHolder?t.data.policyHolder.fastlanelog:{};r.setState({motorInsurance:n,vehicleDetails:l,fastlanelog:o}),r.getBrands()})).catch((function(e){r.props.loadingStop()}))},r.registration=function(e){r.props.history.push("/two_wheeler_Select-brandTP/".concat(e))},r.selectVehicle=function(e){r.setState({brandView:"1"})},r.selectBrand=function(e){var a=r.state,t=a.selectedBrandId,n=a.vehicleDetails,l=(a.otherBrands,t||(n&&n.vehiclebrand_id?n.vehiclebrand_id:""));"1"==localStorage.getItem("brandEdit")?r.setBrandName(l):"2"==localStorage.getItem("brandEdit")&&r.getOtherBrands()},r.setBrandName=function(e){var a=new D.a;r.props.loadingStart(),y.a.get("two-wh/model-with-varient/3/".concat(e)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptResp",n);var l=n&&n.data.list?n.data.list:{},o=n&&n.data.list.brand_models?n.data.list.brand_models:[];r.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[],brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.setVarient=function(e,a,t,n){r.setState({selectedVarientId:e,selectedModelId:a,modelName:t,fuelType:Math.floor(n)})},r.setOtherVarient=function(e,a,t,n,l,o){r.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:t,brandName:n,modelName:l,fuelType:Math.floor(o)})},r.handleSubmit=function(e){var a=r.props.match.params.productId,t=r.state,n=t.selectedVarientId,l=t.selectedModelId,o=t.selectedBrandId,s=t.brandView,c=t.fastLaneData,i=t.fastlanelog,m={},d={},u="";"2"==e.check_registration?(d={reg_number_part_one:e.reg_number_part_one,reg_number_part_two:e.reg_number_part_two,reg_number_part_three:e.reg_number_part_three,reg_number_part_four:e.reg_number_part_four},u=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four):(d={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},u="NEW");var p=new FormData,_=new D.a,g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;localStorage.setItem("check_registration",e.check_registration);var f=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";f&&(f=JSON.parse(_.decrypt(f))),g>0?(m=sessionStorage.getItem("csc_id")?{menumaster_id:3,brand_id:o||(c&&c.brand_id?c.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:l||(c&&c.brand_model_id?c.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:n||(c&&c.model_varient_id?c.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:3,registration_no:u,registration_part_numbers:JSON.stringify(d),policy_type_id:e.policy_type,policy_holder_id:g,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",policy_for:e.policy_for,fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:i&&i.id?i.id:0,page_name:"two_wheeler_Select-brandTP/".concat(a)}:{menumaster_id:3,brand_id:o||(c&&c.brand_id?c.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:l||(c&&c.brand_model_id?c.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:n||(c&&c.model_varient_id?c.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:3,registration_no:u,registration_part_numbers:JSON.stringify(d),policy_type_id:e.policy_type,policy_holder_id:g,check_registration:e.check_registration,bcmaster_id:f?f.agent_id:"",bc_token:f?f.token:"",policy_for:e.policy_for,bc_agent_id:f?f.user_info.data.user.username:"",fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:i&&i.id?i.id:0,page_name:"two_wheeler_Select-brandTP/".concat(a)},console.log("post_data-----",m),p.append("enc_data",_.encrypt(JSON.stringify(m))),r.props.loadingStart(),y.a.post("two-wh/update-registration",p).then((function(e){r.props.loadingStop();var t=JSON.parse(_.decrypt(e.data));console.log("decryptResp-----",t),0==t.error?(r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/two_wheeler_Vehicle_detailsTP/".concat(a))):k()(t.msg)})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()}))):(m=sessionStorage.getItem("csc_id")?{menumaster_id:3,brand_id:"1"==s?o:c?c.brand_id:"",brand_model_id:"1"==s?l:c?c.brand_model_id:"",model_varient_id:"1"==s?n:c?c.model_varient_id:"",vehicle_type_id:3,registration_no:u,registration_part_numbers:JSON.stringify(d),policy_type_id:e.policy_type,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",policy_for:e.policy_for,fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:i&&i.id?i.id:0,page_name:"two_wheeler_Select-brandTP/".concat(a)}:{menumaster_id:3,brand_id:"1"==s?o:c?c.brand_id:"",brand_model_id:"1"==s?l:c?c.brand_model_id:"",model_varient_id:"1"==s?n:c?c.model_varient_id:"",vehicle_type_id:3,registration_no:u,registration_part_numbers:JSON.stringify(d),policy_type_id:e.policy_type,check_registration:e.check_registration,bcmaster_id:f?f.agent_id:"",bc_token:f?f.token:"",policy_for:e.policy_for,bc_agent_id:f?f.user_info.data.user.username:"",fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:i&&i.id?i.id:0,page_name:"two_wheeler_Select-brandTP/".concat(a)},console.log("post_data-----",m),p.append("enc_data",_.encrypt(JSON.stringify(m))),r.props.loadingStart(),y.a.post("two-wh/registration",p).then((function(e){r.props.loadingStop();var t=JSON.parse(_.decrypt(e.data));console.log("decryptResp-----",t),0==t.error?(localStorage.setItem("policyHolder_id",t.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",t.data.policyHolder_refNo),r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/two_wheeler_Vehicle_detailsTP/".concat(a))):k()(t.msg)})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()})))},r.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},r.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},r.fetchFastlane=function(e){var a=new FormData,t=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four;a.append("registration_no",t),a.append("menumaster_id","3"),r.props.loadingStart(),y.a.post("fastlane",a).then((function(e){0==e.data.error?(r.props.loadingStop(),r.setState({fastLaneData:e.data.data,brandView:"0",fastlaneLogId:e.data.data.fastlaneLog_id})):(r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:e.data.data.fastlaneLog_id}))})).catch((function(e){r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:0})}))},r.regnoFormat=function(e,a,t){var n=e.target.value;r.setState({fastLaneData:[],brandView:"0",vehicleDetails:[]});r.props.setData({brandEdit:1}),e.target.value=n.toUpperCase()},r.handleShow=r.handleShow.bind(Object(l.a)(r)),r.handleClose=r.handleClose.bind(Object(l.a)(r)),r.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:!1,brandName:"",modelName:"",fuelType:"",vehicleDetails:[],error_msg:[],length:14,fastLaneData:[],brandView:"0",fastlanelog:[],fastlaneLogId:0},r}return Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.brandList,n=a.motorInsurance,r=a.selectedBrandDetails,l=a.brandModelList,o=a.fuelType,s=a.fastLaneData,E=a.selectedBrandId,y=a.selectedModelId,b=a.selectedVarientId,N=a.otherBrands,S=a.vehicleDetails,w=a.error_msg,k=a.brandName,C=a.modelName,D=a.brandView,M=this.props.match.params.productId,B=n&&n.registration_part_numbers&&JSON.parse(n.registration_part_numbers),x=Object.assign(A,{selectedBrandId:E||(S&&S.vehiclebrand_id?S.vehiclebrand_id:""),selectedModelId:y||(E?"":S&&S.vehiclemodel_id?S.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:b||(E?"":S&&S.varientmodel_id?S.varientmodel_id:""),policy_type:n&&n.policytype_id?n.policytype_id:"",regNumber:n&&n.registration_no?n.registration_no:"",policy_for:n&&n.policy_for?n.policy_for:"1",reg_number_part_one:B&&B.reg_number_part_one?B.reg_number_part_one:"",reg_number_part_two:B&&B.reg_number_part_two?B.reg_number_part_two:"",reg_number_part_three:B&&B.reg_number_part_three?B.reg_number_part_three:"",reg_number_part_four:B&&B.reg_number_part_four?B.reg_number_part_four:""}),H=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoSLtp"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},H.SBIGICL),i.a.createElement(v.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:O},(function(a){var r=a.values,l=a.errors,p=a.setFieldValue,_=a.setFieldTouched,f=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(m.a,null,i.a.createElement("div",{className:"col-md-9 col-sm-12"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TakingTwoPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","1"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Individual))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","2"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Corporate)),l.policy_for&&f.policy_for?i.a.createElement("span",{className:"errorMsg"},H[l.policy_for]):null)))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TellAboutPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==r.policy_type,onChange:function(){_("policy_type"),p("policy_type","2"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},H.RollOver))),i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==r.policy_type,onChange:function(){_("policy_type"),p("policy_type","3"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},H.LapsedPolicy)),l.policy_type&&f.policy_type?i.a.createElement("span",{className:"errorMsg"},H[l.policy_type]):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"m-b-30"},H.About)),i.a.createElement(m.a,{className:"m-b-15"},i.a.createElement(d.a,{sm:12},i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},H.RegName," "),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_one,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_two,disabled:"1"==r.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_three,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-2"},i.a.createElement(v.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_four,disabled:"1"==r.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),"0"==D&&"0"==s.length?i.a.createElement(u.a,{type:"button",onClick:e.fetchFastlane.bind(e,r)},H.FetchDetails):null,(l.reg_number_part_one||l.reg_number_part_two||l.reg_number_part_three||l.reg_number_part_four)&&(f.reg_number_part_one||f.reg_number_part_two||f.reg_number_part_three||f.reg_number_part_four)?i.a.createElement("span",{className:"errorMsg"},H.InvalidRegistrationNumber):null))),"1"==D?i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,H.VechicleBrandTp),w.brand_id||w.brand_model_id||w.model_varient_id?i.a.createElement("span",{className:"errorMsg"},H.BrandVarient):""):null,i.a.createElement(d.a,{sm:12,md:12,className:"two-wheeler"},"1"==D?i.a.createElement(c.Fragment,null,i.a.createElement(g.a,{brandList:t&&t.length>0?t:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands})):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},"1"==D||s&&s.brand_text?i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},H.Continue):null))),i.a.createElement("div",{className:"col-md-3 col-sm-12"},"1"==D?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.TwoWheelBrand,"- ",i.a.createElement("strong",null,k||(S&&S.vehiclebrand&&S.vehiclebrand.name?S.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.TwoWheelModel,i.a.createElement("br",null),i.a.createElement("strong",null,C||(E?"":S&&S.vehiclemodel&&S.vehiclemodel.description?S.vehiclemodel.description+" "+S.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[o]?I.a[o]:S&&S.varientmodel&&S.varientmodel.fuel_type?I.a[Math.floor(S.varientmodel.fuel_type)]:null," "))))):i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.TwoWheelBrand,"- ",i.a.createElement("strong",null,s&&s.brand_text?s.brand_text:S&&S.vehiclebrand&&S.vehiclebrand.name?S.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.TwoWheelModel,i.a.createElement("br",null),i.a.createElement("strong",null,s&&s.model_text?s.model_text+" "+s.varient_text:S&&S.vehiclemodel&&S.vehiclemodel.description?S.vehiclemodel.description+" "+S.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,s&&s.fuel?s.fuel:S&&S.varientmodel&&S.varientmodel.fuel_type?I.a[Math.floor(S.varientmodel.fuel_type)]:null," "))))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,H.SelectModel," "),r.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+r.image,alt:r.name}):null)),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:H.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==N?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):l&&l.length>0&&l.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),b?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},H.Continue):null)))}}]),t}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())},setData:function(a){return e(Object(M.a)(a))}}}))(x))},1228:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=t(31),f=t(34),h=t(40),v=t(38),E=t(19),y=t(77),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(911),A=t(20),O=t.n(A),x=t(61),H=new D.a,R=new P.a,L=C()(C()().subtract(1,"years").calendar()).add(1,"day").calendar(),j=C()().subtract(20,"years").calendar(),F={registration_date:"",location_id:"",previous_is_claim:"2",previous_city:"",insurance_company_id:"0",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:""},q=N.object().shape({registration_date:N.string().required("RegistrationRequired"),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"No special Character allowed"}))}),T=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:"",step_completed:"0",location_reset_flag:0},e.onChange=function(e,a){a("location_id","")},e.selectVehicleBrand=function(a){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),e.props.history.push("/two_wheeler_Select-brandTP/".concat(a))},e.selectBrand=function(a){e.props.history.push("/two_wheeler_Select-brandTP/".concat(a))},e.editBrand=function(a){e.props.setData({brandEdit:1}),e.props.history.push("/two_wheeler_Select-brandTP/".concat(a))},e.showClaimText=function(a){1==a?e.setState({showClaim:!1,previous_is_claim:2}):e.setState({showClaim:!0,previous_is_claim:0})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.onChangeCustomerID=function(a,t){var n=t.newValue,r=(t.method,e.state.motorInsurance&&e.state.motorInsurance.location_id?1:0);e.setState({CustomerID:n,RTO_location:"",location_reset_flag:r})},e.onSuggestionsFetchCustomerID=function(a){var t=a.value;e.setState({suggestions:e.getCustomerIDSuggestions(t)})},e.getCustomerIDSuggestionValue=function(a){return e.setState({selectedCustomerRecords:a}),a.RTO_LOCATION+" - "+a.NameCode},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=(e.state.motorInsurance,H.whatIsCurrentMonth(a.registration_date)<7?6:1),o=Object(B.a)(new Date,1),s=Object(B.a)(new Date(o),364),c=Math.floor(C()().diff(a.registration_date,"months",!0)),i=new FormData;n={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,registration_date:C()(a.registration_date).format("YYYY-MM-DD"),location_id:a.location_id,previous_is_claim:a.previous_is_claim,previous_claim_bonus:""==a.previous_claim_bonus?"2":a.previous_claim_bonus,prev_policy_flag:0,vehicleAge:c,pol_start_date:C()(o).format("YYYY-MM-DD"),pol_end_date:C()(s).format("YYYY-MM-DD"),policy_type:l,insurance_company_id:a.insurance_company_id,page_name:"two_wheeler_Vehicle_detailsTP/".concat(r)},console.log("post_data",n),i.append("enc_data",R.encrypt(JSON.stringify(n))),e.props.loadingStart(),w.a.post("/two-wh/vehicle-details",i).then((function(a){e.props.loadingStop();var n=JSON.parse(R.decrypt(a.data));console.log("decryptResp-----",n),0==n.error?e.props.history.push("/two_wheeler_OtherComprehensiveTP/".concat(r)):(t.setSubmitting(!1),O()(n.msg))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(R.decrypt(a.data));console.log("decryptResp-----",n)}))},e.getInsurerList=function(){e.props.loadingStart(),w.a.get("/company").then((function(a){e.setState({insurerList:a.data.data}),e.getAllAddress()})).catch((function(a){e.setState({insurerList:[]}),e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;e.props.loadingStart(),w.a.get("two-wh/details/".concat(localStorage.getItem("policyHolder_refNo"))).then((function(a){var t=JSON.parse(R.decrypt(a.data));console.log("decryptResp_fetchData",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},r=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=n&&n.location&&n.location.RTO_LOCATION?n.location.RTO_LOCATION+" - "+n.location.NameCode:"",s=t.data.policyHolder?t.data.policyHolder.step_no:"";console.log("fetch--step-completed-----\x3e",s),e.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:l,RTO_location:o,step_completed:s}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleChange=function(a){var t=C()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION+" - "+e.NameCode)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return c.a.createElement("span",null,e.RTO_LOCATION+" - "+e.NameCode)}},{key:"getAllAddress",value:function(){var e=this;w.a.get("location-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.motorInsurance,r=t.CustomerID,l=t.suggestions,o=t.vehicleDetails,s=t.RTO_location,p=t.step_completed,v=t.location_reset_flag,E=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,y=Object.assign(F,{registration_date:n&&n.registration_date?new Date(n.registration_date):"",location_id:n&&n.location_id&&0==v?n.location_id:"",policy_type_Id:n&&n.policytype_id?n.policytype_id:"0"}),b={placeholder:E.SearchCity,value:r||s,onChange:this.onChangeCustomerID};return console.log("redux data----- ",this.props.data),console.log("step-completed-----\x3e",p),c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoVtp"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},E.SBIGICL),p>="1"&&"3"==o.vehicletype_id?c.a.createElement("section",{className:"brand m-b-25"},c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-30"},E.PleaseVehicleDetails))),c.a.createElement("div",{className:"brand-bg"},c.a.createElement(S.e,{initialValues:y,onSubmit:this.handleSubmit,validationSchema:q},(function(t){var r=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(S.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"fs-18"},E.FirstRegDate))),c.a.createElement(m.a,{sm:12,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"registration_date",minDate:new Date(j),maxDate:new Date(L),autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:E.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:r.registration_date,onChange:function(e){g("registration_date"),p("registration_date",e)}}),s.registration_date&&h.registration_date?c.a.createElement("span",{className:"errorMsg"},E[s.registration_date]):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"fs-18"},E.RegCity))),c.a.createElement(m.a,{sm:12,md:6,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(M.a,{suggestions:l,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:b,onChange:function(a){return e.onChange(a,p)},onSuggestionSelected:function(e,a){var t=a.suggestion;a.suggestionValue;g("location_id"),p("location_id",t.id)}}),s.location_id&&h.location_id?c.a.createElement("span",{className:"errorMsg"},E[s.location_id]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.selectBrand.bind(e,a)},f?E.Wait:E.Back),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?E.Wait:E.Next))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"vehbox"},c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:7},c.a.createElement("div",{className:"txtRegistr"},E.RegNo,".",c.a.createElement("br",null),n&&n.registration_no)),c.a.createElement(m.a,{sm:12,md:5,className:"text-right"},c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,a)},E.Edit))),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:7},c.a.createElement("div",{className:"txtRegistr"},E.TwoWheelBrand,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.vehiclebrand&&o.vehiclebrand.name?o.vehiclebrand.name:""))),c.a.createElement(m.a,{sm:12,md:5,className:"text-right"},c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.editBrand.bind(e,a)},E.Edit))),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:7},c.a.createElement("div",{className:"txtRegistr"},E.TwoWheelModel,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.vehiclemodel&&o.vehiclemodel.description?o.vehiclemodel.description+" "+o.varientmodel.varient:""))),c.a.createElement(m.a,{sm:12,md:5,className:"text-right"},c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectVehicleBrand.bind(e,a)},E.Edit))),c.a.createElement(i.a,{className:"m-b-25"},c.a.createElement(m.a,{sm:12,md:7},c.a.createElement("div",{className:"txtRegistr"},E.Fuel,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.varientmodel&&x.a[Math.floor(o.varientmodel.fuel_type)]," "))))))))})))):"1"==p?"Forbidden":null,c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(v.g)(Object(b.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())},setData:function(a){return e(Object(y.a)(a))}}}))(T))},1229:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(910),h=t(48),v=t.n(h),E=(t(172),t(95),t(96),t(2)),y=t(31),b=t(34),N=t(40),S=t(38),w=t(19),k=t(22),C=t(7),P=t(9),D=t(1),I=t(20),M=t.n(I),B=t(99),A=new P.a,O=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,x={},H=D.object().shape({PA_Cover:D.string().when(["PA_flag"],{is:function(e){return"1"==e},then:D.string().required("Please provide PA coverage"),otherwise:D.string()})}),R={B00002:O.B00002,B00008:O.B00008,B00013:O.B00013,B00015:O.B00015,B00075:O.B00075,B00009:O.B00009},L=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).handleChange=function(){t.setState({serverResponse:[],error:[]})},t.sliderValue=function(e){t.setState({sliderVal:e,serverResponse:[],error:[]})},t.vehicleDetails=function(e){t.props.history.push("/two_wheeler_Vehicle_detailsTP/".concat(e))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;t.props.loadingStart(),C.a.get("two-wh/details/".concat(e)).then((function(e){var a=JSON.parse(A.decrypt(e.data));console.log("decryptResp----",a);var n=[],r=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},l=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},o=a.data.policyHolder?a.data.policyHolder.step_no:"",s=r&&"2"==r.policy_for?[]:null!=r.add_more_coverage?r.add_more_coverage.split(","):["B00015"];s=s.flat(),n.PA_flag=r&&""!=r.pa_cover?"1":"0",n.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0",t.setState({motorInsurance:r,vehicleDetails:l,step_completed:o,add_more_coverage:s,selectFlag:r&&"2"==r.policy_for?[]:null!=r.add_more_coverage?"0":"1"}),t.props.loadingStop(),t.getAccessToken(n)})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){t.props.loadingStart(),C.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.getCoverage=function(){t.props.loadingStart(),C.a.get("/coverage-list/".concat(localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0)).then((function(e){t.setState({moreCoverage:e.data.data})})).catch((function(e){t.setState({moreCoverage:[]}),t.props.loadingStop()}))},t.getVahanDetails=function(e,a,n,r){var l=new FormData;l.append("chasiNo",e),l.append("regnNo",a),t.props.loadingStart(),C.a.post("/getVahanDetails",l).then((function(e){t.setState({vahanDetails:e.data,vahanVerify:e.data.length>0}),n("vahanVerify"),e.data.length>0?r("vahanVerify",!0):r("vahanVerify",!1),t.props.loadingStop()})).catch((function(e){t.setState({vahanDetails:[]}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=t.state,r=n.PolicyArray,l=n.sliderVal,o=n.add_more_coverage,s=n.motorInsurance,c=r.length>0?Math.floor(r[0].PolicyRiskList[0].IDV_Suggested):0,i=new FormData;localStorage.getItem("policyHolder_refNo"),l||c.toString(),o.toString(),s&&s.policy_type,s&&s.policytype_id,a.PA_flag&&a.PA_Cover,s&&s.policy_for;i.append("id",localStorage.getItem("policyHolder_refNo")),i.append("access_token",e),i.append("idv_value",l||c.toString()),i.append("policy_type",s?s.policy_type:""),i.append("add_more_coverage",JSON.stringify(o)),i.append("policytype_id",s?s.policytype_id:""),i.append("PA_Cover",a.PA_flag?a.PA_Cover:"0"),i.append("policy_for",s?s.policy_for:""),C.a.post("fullQuotePM2WTP",i).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status)t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]});else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var a=[];for(var n in e.data.UnderwritingResult.MessageList){var r="";e.data.UnderwritingResult.MessageList[n].Message.match(/restricted for selected Model or Location/gi)&&"SBIG-PA-UW-U1030"==e.data.UnderwritingResult.MessageList[n].Code?(r="It is blacklisted vehicle. Please contact Relationship manager",M()(r)):r=e.data.UnderwritingResult.MessageList[n].Message,a.push(r)}t.setState({fulQuoteResp:e.data.PolicyObject,error:{message:0},validation_error:a,serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){a=[];for(var l in e.data.messages){var s="";e.data.messages[l].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[l].code?(s="It is blacklisted vehicle. Please contact Relationship manager",M()(s)):s=e.data.messages[l].message,a.push(s)}t.setState({fulQuoteResp:[],add_more_coverage:o,validation_error:a,serverResponse:[]})}else t.setState({fulQuoteResp:[],add_more_coverage:o,error:e.data,serverResponse:[]});t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.handleSubmit=function(e){var a=t.props.match.params.productId,n=t.state,r=n.motorInsurance,l=n.PolicyArray,o=n.sliderVal,s=n.add_more_coverage,c=l.length>0?Math.floor(l[0].PolicyRiskList[0].IDV_Suggested):0,i=new FormData,m=new P.a,d=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";d.user&&(d=JSON.parse(m.decrypt(d.user)));var u={};if(u=s.length>0?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,cng_kit:e.cng_kit,registration_no:r.registration_no,idv_value:o||c.toString(),add_more_coverage:s,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"two_wheeler_OtherComprehensiveTP/".concat(a)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,cng_kit:e.cng_kit,registration_no:r.registration_no,idv_value:o||c.toString(),pa_flag:e.PA_cover_flag,page_name:"two_wheeler_OtherComprehensiveTP/".concat(a)},console.log("post_data",u),B.a.includes(d.login_type)&&s.indexOf("B00015")<0)return M()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;i.append("enc_data",m.encrypt(JSON.stringify(u))),t.props.loadingStart(),C.a.post("two-wh/insured-value",i).then((function(e){t.props.loadingStop();var n=JSON.parse(m.decrypt(e.data));console.log("decryptResp---",n),0==n.error&&t.props.history.push("/two_wheeler_verifyTP/".concat(a))})).catch((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypterr---",a)}))},t.onRowSelect=function(e,a,n,r){var l=t.state.add_more_coverage;if(a)l.push(e),t.setState({add_more_coverage:l,serverResponse:[],error:[]}),"B00075"==e&&(n("PA_flag"),r("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","1"));else{var o=l.indexOf(e);-1!==o&&(l.splice(o,1),t.setState({serverResponse:[],error:[]})),"B00075"==e&&(n("PA_flag"),r("PA_flag","0"),n("PA_Cover"),r("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","0"))}},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],step_completed:"0",vehicleDetails:[],selectFlag:"",moreCoverage:[]},t}return Object(r.a)(c,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.fetchData(),this.getCoverage()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.vahanDetails,a.error),r=a.policyCoverage,l=(a.vahanVerify,a.fulQuoteResp),o=(a.PolicyArray,a.motorInsurance),s=a.serverResponse,c=(a.add_more_coverage,a.moreCoverage),h=a.step_completed,S=a.vehicleDetails,w=a.selectFlag,k=a.validation_error,C=this.props.match.params.productId,P=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";P.user&&(P=JSON.parse(A.decrypt(P.user)));var D=o&&o.add_more_coverage?o.add_more_coverage.split(","):"",I={},O=!o||null!=o.pa_cover&&""!=o.pa_cover?"1":"0",L=o&&null!=o.pa_cover?o.pa_cover:"",j=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;x="1"==w?{add_more_coverage:"",cng_kit:"0",B00015:"B00015",PA_flag:"0",PA_Cover:"",PA_cover_flag:"1"}:{add_more_coverage:"",cng_kit:"0",PA_flag:"0",PA_Cover:"",PA_cover_flag:o&&o.pa_flag?o.pa_flag:"0"};for(var F=0;F<D.length;F++)I[D[F]]=D[F];I.PA_flag=O,I.PA_Cover=L;var q=Object.assign(x,I),T=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R[e.ProductElementCode])),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium)))))}))})):null,V=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return i.a.createElement("tr",null,i.a.createElement("td",null,R[e.ProductElementCode],":"),i.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium)))}))})):null,G=n&&n.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Y=k?k.map((function(e,a){return i.a.createElement("span",{className:"errorMsg",key:a},i.a.createElement("li",null,i.a.createElement("strong",null,e)))})):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null,j?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(b.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoComprehens"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},j.SBIGICL),h>="2"&&"3"==S.vehicletype_id?i.a.createElement("section",{className:"brand colpd m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",{className:"m-b-30"},j.ThirdPartyLiability),i.a.createElement("h5",null,G),i.a.createElement("h5",null,Y))),i.a.createElement(E.e,{initialValues:q,onSubmit:s&&""!=s?s.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:H},(function(a){var n=a.values,r=a.errors,f=a.setFieldValue,h=a.setFieldTouched;a.isValid,a.isSubmitting,a.touched;return i.a.createElement(E.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},i.a.createElement(v.a,{trigger:j.DefaultCovered,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},T))),o&&"1"==o.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:12},i.a.createElement(u.a,null,i.a.createElement("span",{className:"fs-18"}," ",j.AddCoveragePlan,".")))):null,o&&"1"==o.policy_for&&c.map((function(a,l){return i.a.createElement(m.a,{key:l},i.a.createElement(d.a,{sm:12,md:11,lg:6,key:l+"a"},i.a.createElement("div",{id:a.code+"_d"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},a.description)},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))),i.a.createElement(E.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!B.a.includes(P.login_type)||"B00015"!=n[a.code]),onClick:function(t){0==t.target.checked&&"B00015"==n[a.code]&&M()(j.SwalIRDAI,{button:j.OK}),e.onRowSelect(t.target.value,t.target.checked,h,f)},checked:n[a.code]==a.code}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"})))),"1"==n.PA_flag&&"B00075"==n[a.code]?i.a.createElement(d.a,{sm:12,md:11,lg:3,key:l+"b"},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.PA_Cover,onChange:function(a){h("PA_Cover"),f("PA_Cover",a.target.value),e.handleChange()}},i.a.createElement("option",{value:""},j.SSI),i.a.createElement("option",{value:"50000"},"50000"),i.a.createElement("option",{value:"100000"},"100000")),r.PA_Cover?i.a.createElement("span",{className:"errorMsg"},r.PA_Cover):null))):null)})),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,C)},j.Back),s&&""!=s?s.message?i.a.createElement(g.a,{className:"proceedBtn",type:"submit"},j.Recalculate):i.a.createElement(g.a,{className:"proceedBtn",type:"submit"},j.Continue):i.a.createElement(g.a,{className:"proceedBtn",type:"submit"},j.Recalculate))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"justify-content-left regisBox"},i.a.createElement("h3",{className:"premamnt"},j.TPAmount),i.a.createElement("div",{className:"rupee"}," \u20b9 ",l.DuePremium?l.DuePremium:0),i.a.createElement("div",{className:"text-center"},i.a.createElement(g.a,{className:"brkbtn",type:"button",onClick:e.handleShow},j.Breakup))))))}))):""==h?"Forbidden":null,i.a.createElement(N.a,null))))):null),i.a.createElement(f.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(f.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},i.a.createElement("h3",null,j.PremiumBreakup)),i.a.createElement(f.a.Body,null,i.a.createElement("table",{class:"table table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,j.Premium,":"),i.a.createElement("th",null,"\u20b9 ",l.DuePremium))),i.a.createElement("tbody",null,V,i.a.createElement("tr",null,i.a.createElement("td",null,j.GrossPremium,":"),i.a.createElement("td",null,"\u20b9 ",Math.round(l.BeforeVatPremium))),i.a.createElement("tr",null,i.a.createElement("td",null,j.GST,":"),i.a.createElement("td",null,"\u20b9 ",Math.round(l.TGST))))))))}}]),c}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(L))},1230:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(18),i=t(17),m=t(0),d=t.n(m),u=t(913),p=t(903),_=t(904),g=t(377),f=(t(48),t(172),t(41)),h=t.n(f),v=(t(95),t(96),t(2)),E=t(31),y=t(34),b=t(40),N=t(38),S=t(19),w=t(22),k=t(7),C=t(9),P=t(1),D=t(20),I=t.n(D),M=t(3),B=t.n(M),A=t(28),O=t(25),x=t(97),H=new C.a,R=(new A.a,B()(B()().subtract(1,"years").calendar()).add(1,"day").calendar()),L=B()(R).add(30,"day").calendar(),j=(B()().subtract(18,"years").calendar(),{1:"Petrol",2:"Diesel"}),F={registration_no:"",chasis_no:"",chasis_no_last_part:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",previous_start_date:"",previous_end_date:"",previous_policy_no:"",previous_policy_name:"",insurance_company_id:0,policy_type_id:"",puc:"1"},q=P.object().shape({registration_no:P.string().when("newRegistrationNo",{is:"NEW",then:P.string(),otherwise:P.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return!e||""==e&&void 0==e||Object(O.j)(e)}))}),puc:P.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:P.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:P.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:P.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:P.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),previous_start_date:P.date().notRequired("Previous Start date is required").test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(O.b)(e,this.parent.previous_end_date)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.previous_end_date||void 0!=e})),previous_end_date:P.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(O.c)(e,this.parent.previous_start_date)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.previous_start_date||void 0!=e})),previous_policy_name:P.string().notRequired("Please select Policy Type").test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})),insurance_company_id:P.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})),previous_city:P.string().notRequired("Previous city is required").test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseEnterValidAddress"})),previous_policy_no:P.string().notRequired("Previous policy number is required").test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),T=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={previousPolicy:[],motorInsurance:[],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",chasiNo:"",engineNo:"",length:15,insurerList:[],vehicleDetails:[],step_completed:"0",request_data:[]},e.selectVehicleBrand=function(a){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),e.props.history.push("/two_wheeler_Select-brandTP/".concat(a))},e.selectBrand=function(a){e.props.history.push("/two_wheeler_Select-brandTP/".concat(a))},e.otherComprehensive=function(a){e.props.history.push("/two_wheeler_OtherComprehensiveTP/".concat(a))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.props.loadingStart(),k.a.get("two-wh/details/".concat(a)).then((function(a){var t=JSON.parse(H.decrypt(a.data));console.log("decryptResp====",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},r=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=t.data.policyHolder?t.data.policyHolder.step_no:"",s=t.data.policyHolder?t.data.policyHolder.request_data:{};e.getInsurerList(),e.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:l,step_completed:o,request_data:s,vahanVerify:!(!n.chasis_no||!n.engine_no)}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getVahanDetails=function(){var a=Object(l.a)(r.a.mark((function a(t,n,l,o){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=new FormData,"NEW"==t.newRegistrationNo?(s.append("regnNo",t.newRegistrationNo),n("registration_no"),l("registration_no",t.newRegistrationNo)):s.append("regnNo",t.registration_no),s.append("chasiNo",t.chasis_no_last_part),s.append("policy_holder_id",e.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){a.next=8;break}I()("Please provide correct Registration number and Chasis number"),a.next=19;break;case 8:if("NEW"==t.newRegistrationNo){a.next=14;break}return e.props.loadingStart(),a.next=12,k.a.post("/getVahanDetails",s).then((function(a){e.setState({vahanDetails:a.data,vahanVerify:!0}),e.state.vahanDetails.data[0].chasiNo&&e.setState({chasiNo:e.state.vahanDetails.data[0].chasiNo}),e.state.vahanDetails.data[0].engineNo&&e.setState({engineNo:e.state.vahanDetails.data[0].engineNo}),console.log("chasiNo",e.state.chasiNo),console.log("engineNo",e.state.engineNo),n("vahanVerify"),l("vahanVerify",!0),n("engine_no"),l("engine_no",e.state.engineNo),n("chasis_no"),l("chasis_no",e.state.chasiNo),e.props.loadingStop()})).catch((function(a){e.setState({vahanDetails:[],vahanVerify:!0}),n("vahanVerify"),l("vahanVerify",!0),e.props.loadingStop()}));case 12:a.next=19;break;case 14:e.props.loadingStart(),e.setState({vahanDetails:[],vahanVerify:!0}),n("vahanVerify"),l("vahanVerify",!0),e.props.loadingStop();case 19:case"end":return a.stop()}}),a)})));return function(e,t,n,r){return a.apply(this,arguments)}}(),e.getInsurerList=function(){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;k.a.get("/company/1/".concat(a)).then((function(a){e.setState({insurerList:a.data.data})})).catch((function(a){e.setState({insurerList:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state.motorInsurance,r=new FormData,l=new C.a,o={};o="3"==n.policytype_id?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,registration_no:a.registration_no,chasis_no:a.chasis_no,chasis_no_last_part:a.chasis_no_last_part,engine_no:a.engine_no,prev_policy_flag:0,cng_kit:0,page_name:"two_wheeler_verifyTP/".concat(t)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,registration_no:a.registration_no,chasis_no:a.chasis_no,chasis_no_last_part:a.chasis_no_last_part,engine_no:a.engine_no,prev_policy_flag:1,previous_start_date:B()(a.previous_start_date).format("YYYY-MM-DD"),previous_end_date:B()(a.previous_end_date).format("YYYY-MM-DD"),previous_policy_no:a.previous_policy_no,previous_policy_name:a.previous_policy_name,insurance_company_id:a.insurance_company_id,cng_kit:0,previous_city:a.previous_city,page_name:"two_wheeler_verifyTP/".concat(t)},console.log("post_data",o),a.chasis_no.slice(a.chasis_no.length-5)===a.chasis_no_last_part?(r.append("enc_data",l.encrypt(JSON.stringify(o))),e.props.loadingStart(),k.a.post("two-wh/previous-vehicle-details",r).then((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptResp-----",n),0==n.error?e.props.history.push("/two_wheeler_additional_detailsTP/".concat(t)):I()(n.msg)})).catch((function(a){e.props.loadingStop();var t=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",t)}))):I()("Chasis no mismatch")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(s.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.insurerList,n=(a.vahanDetails,a.error),r=a.vehicleDetails,l=a.vahanVerify,o=a.previousPolicy,s=a.motorInsurance,c=a.step_completed,i=this.props.match.params.productId,f=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,N=Object.assign(F,{registration_no:s.registration_no?s.registration_no:"",chasis_no:s.chasis_no?s.chasis_no:"",chasis_no_last_part:s.chasis_no_last_part?s.chasis_no_last_part:"",engine_no:s.engine_no?s.engine_no:"",vahanVerify:l,previous_start_date:o&&o.start_date?new Date(o.start_date):"",previous_end_date:o&&o.end_date?new Date(o.end_date):"",previous_policy_name:o&&o.name?o.name:"",insurance_company_id:o&&o.insurancecompany_id?o.insurancecompany_id:"",previous_city:o&&o.city?o.city:"",previous_policy_no:o&&o.policy_no?o.policy_no:"",newRegistrationNo:s.registration_no&&"NEW"==s.registration_no?s.registration_no:"",policy_type_id:s&&s.policytype_id?s.policytype_id:""}),S=n&&n.message?d.a.createElement("span",{className:"errorMsg"},d.a.createElement("h6",null,d.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"))):null;return d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,null,d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"left-sidebar"},d.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},d.a.createElement(y.a,null))),d.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoverifytp"},d.a.createElement("h4",{className:"text-center mt-3 mb-3"},f.SBIGICL),c>="3"&&"3"==r.vehicletype_id?d.a.createElement("section",{className:"brand m-b-25"},d.a.createElement("div",{className:"d-flex justify-content-left"},d.a.createElement("div",{className:"brandhead"},d.a.createElement("h4",{className:"fs-18 m-b-30"},f.PleaseVehicleDetails),d.a.createElement("h5",null,S))),d.a.createElement(v.e,{initialValues:N,onSubmit:this.handleSubmit,validationSchema:q},(function(a){var n=a.values,l=a.errors,o=a.setFieldValue,c=a.setFieldTouched,E=(a.isValid,a.isSubmitting,a.touched);return d.a.createElement(v.d,null,d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ",f.VerifyVehicle))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:9,lg:9},d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:12,lg:5},d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},f.RegNo,":"))),d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:n.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,c,o)}}),l.registration_no?d.a.createElement("span",{className:"errorMsg"},f[l.registration_no]):null))))),d.a.createElement(_.a,{sm:12,md:12,lg:4},d.a.createElement(p.a,{sm:12,md:6,lg:4},d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},f.ChassisNo))),d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:n.chasis_no_last_part,maxLength:"5",onChange:function(e){o("vahanVerify",!1),c("chasis_no_last_part"),o("chasis_no_last_part",e.target.value.toUpperCase())}}),l.chasis_no_last_part&&E.chasis_no_last_part?d.a.createElement("span",{className:"errorMsg"},f[l.chasis_no_last_part]):null))))),d.a.createElement(_.a,{sm:12,md:6,lg:2},d.a.createElement(u.a,null,d.a.createElement(g.a,{className:"btn btn-primary vrifyBtn",onClick:l.chasis_no_last_part?null:e.getVahanDetails.bind(e,n,c,o,l)},f.Verify),l.vahanVerify?d.a.createElement("span",{className:"errorMsg"},f[l.vahanVerify]):null))),n.vahanVerify&&!l.chasis_no_last_part?d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:6,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"engine_no",type:"text",placeholder:f.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.engine_no,maxLength:"17",onChange:function(e){c("engine_no"),o("engine_no",e.target.value.toUpperCase())}}),l.engine_no&&E.engine_no?d.a.createElement("span",{className:"errorMsg"},f[l.engine_no]):null))),d.a.createElement(_.a,{sm:12,md:6,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"chasis_no",type:"text",placeholder:f.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.chasis_no,maxLength:"25",onChange:function(e){c("chasis_no"),o("chasis_no",e.target.value.toUpperCase())}}),l.chasis_no&&E.chasis_no?d.a.createElement("span",{className:"errorMsg"},f[l.chasis_no]):null)))):null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," "))))),"2"==n.policy_type_id?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ",f.PPD))))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:11,lg:4},d.a.createElement(u.a,null,d.a.createElement(h.a,{name:"previous_start_date",minDate:new Date(R),maxDate:new Date(L),dateFormat:"dd MMM yyyy",placeholderText:f.PPSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_start_date,onChange:function(e){o("previous_start_date",e),o("previous_end_date",Object(x.c)(e))}}),l.previous_start_date&&E.previous_start_date?d.a.createElement("span",{className:"errorMsg"},f[l.previous_start_date]):null)),d.a.createElement(_.a,{sm:12,md:11,lg:4},d.a.createElement(u.a,null,d.a.createElement(h.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:f.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_end_date,onChange:function(e){c("previous_end_date"),o("previous_end_date",e)}}),l.previous_end_date&&E.previous_end_date?d.a.createElement("span",{className:"errorMsg"},f[l.previous_end_date]):null)),d.a.createElement(_.a,{sm:12,md:11,lg:3},d.a.createElement(u.a,null,d.a.createElement("div",{className:"formSection"},d.a.createElement(v.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.previous_policy_name},d.a.createElement("option",{value:""},f.SPT),d.a.createElement("option",{value:"1"},f.Package),d.a.createElement("option",{value:"2"},f.Liability)),l.previous_policy_name&&E.previous_policy_name?d.a.createElement("span",{className:"errorMsg"},f[l.previous_policy_name]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:6,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"formSection"},d.a.createElement(v.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},d.a.createElement("option",{value:""},f.SelectInsurer),t.map((function(e,a){return d.a.createElement("option",{value:e.Id},e.name)}))),l.insurance_company_id&&E.insurance_company_id?d.a.createElement("span",{className:"errorMsg"},f[l.insurance_company_id]):null))),d.a.createElement(_.a,{sm:12,md:5,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"previous_city",type:"text",placeholder:f.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.previous_city&&E.previous_city?d.a.createElement("span",{className:"errorMsg"},f[l.previous_city]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:5,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"previous_policy_no",type:"text",placeholder:f.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.previous_policy_no&&E.previous_policy_no?d.a.createElement("span",{className:"errorMsg"},f[l.previous_policy_no]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")))))):null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")),d.a.createElement("div",{className:"col-md-15"},d.a.createElement("div",{className:"brandhead"},f.EffectivePUC,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")),d.a.createElement("div",{className:"d-inline-flex m-b-15"},d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(v.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==n.puc,onChange:function(){c("puc"),o("puc","1")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"}," ",f.Yes))),d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(v.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==n.puc,onChange:function(){c("puc"),o("puc","2")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"}," ",f.No)),l.puc&&E.puc?d.a.createElement("span",{className:"errorMsg"},l.puc):null))))))),d.a.createElement("div",{className:"d-flex justify-content-left resmb"},d.a.createElement(g.a,{className:"backBtn",type:"button",onClick:e.otherComprehensive.bind(e,i)},f.Back),"1"==n.puc?d.a.createElement(g.a,{className:"proceedBtn",type:"submit"},f.Continue):null)),d.a.createElement(_.a,{sm:12,md:3},d.a.createElement("div",{className:"vehbox"},d.a.createElement(p.a,{className:"m-b-25"},d.a.createElement(_.a,{sm:12,md:7},d.a.createElement("div",{className:"txtRegistr"},f.RegNo,".",d.a.createElement("br",null),s&&s.registration_no)),d.a.createElement(_.a,{sm:12,md:5,className:"text-right"},d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,i)},f.Edit))),d.a.createElement(p.a,{className:"m-b-25"},d.a.createElement(_.a,{sm:12,md:7},d.a.createElement("div",{className:"txtRegistr"},f.TwoWheelBrand,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.vehiclebrand&&r.vehiclebrand.name?r.vehiclebrand.name:""))),d.a.createElement(_.a,{sm:12,md:5,className:"text-right"},d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,i)},f.Edit))),d.a.createElement(p.a,{className:"m-b-25"},d.a.createElement(_.a,{sm:12,md:7},d.a.createElement("div",{className:"txtRegistr"},f.TwoWheelModel,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.vehiclemodel&&r.vehiclemodel.description?r.vehiclemodel.description+" "+r.varientmodel.varient:""))),d.a.createElement(_.a,{sm:12,md:5,className:"text-right"},d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectVehicleBrand.bind(e,i)},f.Edit))),d.a.createElement(p.a,{className:"m-b-25"},d.a.createElement(_.a,{sm:12,md:7},d.a.createElement("div",{className:"txtRegistr"},f.Fuel,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.varientmodel&&j[Math.floor(r.varientmodel.fuel_type)]," "))))))))}))):""==c?"Forbidden":null,d.a.createElement(b.a,null)))))))}}]),t}(m.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(T))},1231:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=(t(95),t(96),t(40)),h=t(31),v=t(34),E=t(2),y=t(1),b=t(38),N=t(19),S=t(22),w=t(7),k=t(3),C=t.n(k),P=t(28),D=t(9),I=t(25),M=(C()(C()().subtract(100,"years").calendar()),C()().subtract(18,"years").calendar(),C()(C()().subtract(100,"years").calendar()),C()().subtract(3,"months").calendar(),new Date),B=C()(C()().subtract(100,"years").calendar()),A={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:""},O=y.object().shape({first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("GenderRequired"),otherwise:y.string().nullable()}),dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:y.date().nullable()}),age:y.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:y.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:y.mixed().nullable()}),nominee_age:y.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:y.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:y.mixed().nullable()}),pancard:y.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:y.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:y.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:y.string().required("LocationRequired"),pincode:y.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:y.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:y.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:y.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),salutation_id:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("TitleIsRequired"),otherwise:y.string().nullable()}),nominee_salutation:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),nominee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),nominee_first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().nullable()}),nominee_gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string()}),nominee_dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:y.date()}),is_eia_account:y.string().required("RequiredField"),eia_no:y.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),appointee_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),appointee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),date_of_incorporation:y.date().when(["policy_for"],{is:function(e){return"2"==e},then:y.date().required("PleaseIncorporationDate"),otherwise:y.date().nullable()}),org_level:y.string().when(["policy_for"],{is:function(e){return"2"==e},then:y.string().required("OrganizationLevel"),otherwise:y.string()}),gstn_no:y.string().test("first2digitcheck",(function(){return"ValidGST"}),(function(e){return!e||""==e&&void 0==e||Object(I.k)(e)})).nullable(),is_carloan:y.mixed().required("RequiredField"),bank_name:y.string().notRequired("BankNameReq").test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"PleaseEnterBank"})),bank_branch:y.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"PleaseEnterBranch"})),is_eia_account2:y.string().when(["is_eia_account"],{is:function(e){return 0==e},then:y.string().required("RequiredField")}),tpaInsurance:y.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:y.string().required("RequiredField")})}),x=function(e){Object(o.a)(_,e);var a=Object(s.a)(_);function _(){var e;Object(r.a)(this,_);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new P.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/two_wheeler_verifyTP/".concat(a))},e.handleSubmit=function(a,t){var r,l,o=e.props.match.params.productId,s=e.state.motorInsurance,c=new FormData,i=new D.a;l=""===a.is_eia_account2?2:a.is_eia_account2;var m=(r={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no},Object(n.a)(r,"is_carloan",a.is_carloan),Object(n.a)(r,"bank_name",a.bank_name),Object(n.a)(r,"bank_branch",a.bank_branch),Object(n.a)(r,"salutation_id",a.salutation_id),Object(n.a)(r,"nominee_title_id",a.nominee_salutation),Object(n.a)(r,"page_name","two_wheeler_additional_detailsTP/".concat(o)),Object(n.a)(r,"create_eia_account",l),Object(n.a)(r,"tpaInsurance",a.tpaInsurance),r);"1"==s.policy_for?(m.gender=a.gender,m.dob=C()(a.dob).format("YYYY-MM-DD"),"1"==s.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=C()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=C()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),w.a.post("/two-wh/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/two_wheeler_policy_premium_detailsTP/".concat(o))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new D.a;e.props.loadingStart(),w.a.get("two-wh/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"";console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchPrevAreaDetails(_),e.fetchSalutation()})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new D.a;n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),w.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),w.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){w.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(_,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e=this,a=this.state,n=a.showLoan,r=a.showEIA,l=a.showEIA2,o=a.is_eia_account,s=a.is_eia_account2,_=a.is_loan_account,y=a.nomineeDetails,b=a.motorInsurance,N=a.appointeeFlag,S=a.is_appointee,w=a.titleList,k=a.tpaInsurance,P=a.bankDetails,D=a.policyHolder,I=a.stateName,x=a.pinDataArr,H=a.quoteId,R=a.addressDetails,L=a.relation,j=a.step_completed,F=a.vehicleDetails,q=this.props.match.params.productId,T=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,V=Object.assign(A,{first_name:D&&D.first_name?D.first_name:"",gender:D&&D.gender?D.gender:"",dob:D&&D.dob?new Date(D.dob):"",age:D&&D.dob?Math.floor(C()().diff(D.dob,"years",!0)):"",pancard:D&&D.pancard?D.pancard:"",pincode_id:R&&R.id?R.id:"",pincode:D&&D.pincode?D.pincode:"",is_carloan:_,bank_name:P?P.bank_name:"",bank_branch:P?P.bank_branch:"",nominee_relation_with:y&&y.relation_with?y.relation_with.toString():"",nominee_first_name:y&&y.first_name?y.first_name:"",nominee_gender:y&&y.gender?y.gender:"",nominee_dob:y&&y.dob?new Date(y.dob):"",nominee_age:y&&y.dob?Math.floor(C()().diff(y.dob,"years",!0)):"",gstn_no:D&&D.gstn_no?D.gstn_no:"",phone:D&&D.mobile?D.mobile:"",email:D&&D.email_id?D.email_id:"",address:D&&D.address?D.address:"",is_eia_account:o,is_eia_account2:s,eia_no:D&&D.eia_no?D.eia_no:"",policy_for:b?b.policy_for:"",pa_flag:b?b.pa_flag:0,appointee_relation_with:y&&y.appointee_relation_with?y.appointee_relation_with:"",appointee_name:y&&y.appointee_name?y.appointee_name:"",date_of_incorporation:D&&D.date_of_incorporation?new Date(D.date_of_incorporation):"",org_level:D&&D.org_level?D.org_level:"",salutation_id:D&&D.salutation_id?D.salutation_id:"",nominee_salutation:y&&y.gender?y.title_id:"",tpaInsurance:D&&D.T_Insurance_Repository_id?D.T_Insurance_Repository_id:""}),G=H?i.a.createElement("h4",null,T.PolicyReady,": ",H,". ",T.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoDtp"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},T.SBIGICL),j>="4"&&"3"==F.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(E.e,{initialValues:V,onSubmit:this.handleSubmit,validationSchema:O},(function(a){var f=a.values,h=a.errors,v=a.setFieldValue,y=a.setFieldTouched,P=(a.isValid,a.isSubmitting),D=a.touched;f.nominee_first_name;return i.a.createElement(E.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},G),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",T.LoanTaken)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(a){v("is_carloan",a.target.value),e.showLoanText(1)},checked:"1"==f.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",T.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(a){v("is_carloan",a.target.value),e.showLoanText(0)},checked:"0"==f.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},T.No)),h.is_carloan&&D.is_carloan?i.a.createElement("span",{className:"errorMsg"},h.is_carloan):null))),n||1==_?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_name",type:"text",placeholder:T.BankName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.bank_name}),h.bank_name&&D.bank_name?i.a.createElement("span",{className:"errorMsg"},T[h.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_branch",type:"text",placeholder:T.BankBranch,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.bank_branch}),h.bank_branch&&D.bank_branch?i.a.createElement("span",{className:"errorMsg"},T[h.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,T.OwnersDetails)),i.a.createElement(m.a,null,b&&"1"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},T.Title),w.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),h.salutation_id&&D.salutation_id?i.a.createElement("span",{className:"errorMsg"},T[h.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"first_name",type:"text",placeholder:"2"==f.policy_for?T.CompanyName:T.FullName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.first_name}),h.first_name&&D.first_name?i.a.createElement("span",{className:"errorMsg"},T[h.first_name]):null))),b&&"2"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"gstn_no",type:"text",placeholder:T.GSTIN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.gstn_no.toUpperCase(),onChange:function(e){return v("gstn_no",e.target.value.toUpperCase())}}),h.gstn_no&&D.gstn_no?i.a.createElement("span",{className:"errorMsg"},h.gstn_no):null))):null,b&&"2"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",autoComplete:"off",placeholderText:T.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(M),minDate:new Date(B),className:"datePckr",selected:f.date_of_incorporation,onChange:function(e){y("date_of_incorporation"),v("date_of_incorporation",e)}}),h.date_of_incorporation&&D.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},h.date_of_incorporation):null)):null,b&&"1"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},T.SelectGender),i.a.createElement("option",{value:"m"},T.Male),i.a.createElement("option",{value:"f"},T.Female)),h.gender&&D.gender?i.a.createElement("span",{className:"errorMsg"},T[h.gender]):null))):null),i.a.createElement(m.a,null,b&&"1"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"age",type:"number",placeholder:T.Age,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.age,maxLength:"10",onChange:function(e){var a=C()().subtract(e.target.value,"year").format("YYYY-MM-DD");v("dob",a),v("age",e.target.value)}}),h.age&&D.age?i.a.createElement("span",{className:"errorMsg"},T[h.age]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"email",type:"email",placeholder:T.Email,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.email}),h.email&&D.email?i.a.createElement("span",{className:"errorMsg"},T[h.email]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(E.b,{name:"phone",type:"text",placeholder:T.Mobile,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.phone,maxLength:"10",className:"phoneinput pd-l-25"}),h.phone&&D.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},T[h.phone]):null))),b&&"2"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"org_level",component:"select",autoComplete:"off",value:f.org_level,className:"formGrp"},i.a.createElement("option",{value:""},T.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),h.org_level&&D.org_level?i.a.createElement("span",{className:"errorMsg"},h.org_level):null))):null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address",type:"text",placeholder:T.Address,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.address}),h.address&&D.address?i.a.createElement("span",{className:"errorMsg"},T[h.address]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pincode",type:"test",placeholder:T.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:f.pincode,maxLength:"6",onInput:function(e){y("state"),y("pincode"),v("pincode",e.target.value),v("state",I?I[0]:f.state),v("pincode_id","")}}),h.pincode&&D.pincode?i.a.createElement("span",{className:"errorMsg"},T[h.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"pincode_id",component:"select",autoComplete:"off",value:f.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},T.SelectArea),x&&x.length>0&&x.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),h.pincode_id&&D.pincode_id?i.a.createElement("span",{className:"errorMsg"},T[h.pincode_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"state",type:"text",placeholder:T.State,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:I||f.state,disabled:!0}),h.state&&D.state?i.a.createElement("span",{className:"errorMsg"},h.state):null))),b&&"2"==b.policy_for&&(l||"1"==s)?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pancard",type:"text",placeholder:T.PAN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),h.pancard&&D.pancard?i.a.createElement("span",{className:"errorMsg"},T[h.pancard]):null))):null,b&&"1"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pancard",type:"text",placeholder:T.PAN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),h.pancard&&D.pancard?i.a.createElement("span",{className:"errorMsg"},T[h.pancard]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),b&&"1"==b.policy_for&&"1"==b.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",T.NomineeDetails)),i.a.createElement(m.a,null,b&&"1"==b.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},T.Title),w.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),h.nominee_salutation&&D.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},T[h.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_first_name",type:"text",placeholder:T.NomineeName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.nominee_first_name}),h.nominee_first_name&&D.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},T[h.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},T.SelectGender),i.a.createElement("option",{value:"m"},T.Male),i.a.createElement("option",{value:"f"},T.Female)),h.nominee_gender&&D.nominee_gender?i.a.createElement("span",{className:"errorMsg"},T[h.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_age",type:"number",placeholder:T.Age,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.nominee_age,maxLength:"10",onChange:function(a){var t=C()().subtract(a.target.value,"year").format("YYYY-MM-DD");e.ageCheck(t),v("nominee_dob",t),v("nominee_age",a.target.value)}}),h.nominee_age&&D.nominee_age?i.a.createElement("span",{className:"errorMsg"},h.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:f.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},T.PrimaryRelation),L.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),h.nominee_relation_with&&D.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},T[h.nominee_relation_with]):null)))),N||"1"==S?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",T.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"appointee_name",type:"text",placeholder:T.AppoName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:f.appointee_name}),h.appointee_name&&D.appointee_name?i.a.createElement("span",{className:"errorMsg"},T[h.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:f.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},T.NomineeRelation),L.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),h.appointee_relation_with&&D.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},T[h.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},T.EIAAccount)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){v("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==f.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",T.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){v("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==f.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},T.No),h.is_eia_account&&D.is_eia_account?i.a.createElement("span",{className:"errorMsg"},T[h.is_eia_account]):null))))),r||"1"==o?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"eia_no",type:"text",placeholder:T.EIANumber,autoComplete:"off",value:f.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),h.eia_no&&D.eia_no?i.a.createElement("span",{className:"errorMsg"},T[h.eia_no]):null))):""),0==r&&"0"==o?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},T.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){v("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==f.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",T.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){v("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==f.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},T.No),h.is_eia_account2&&D.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},T[h.is_eia_account2]):null)))))):"",l||"1"==s?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},T.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:f.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},T.SELECT_TPA),k.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),h.tpaInsurance&&D.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},T[h.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!P,onClick:e.otherComprehensive.bind(e,q)},P?T.Wait:T.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!P},P?T.Wait:T.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(175),alt:""})))))})))):""==j?"Forbidden":null),i.a.createElement(f.a,null))))))}}]),_}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(x))},1232:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M=t(77),B=t(25),A={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:"",regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:""},O=E.object().shape({policy_type:E.string().required("PleasePT"),policy_for:E.string().required("PleasePIC"),reg_number_part_one:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.f)(e)})),otherwise:E.string().nullable()}),reg_number_part_two:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.h)(e)})),otherwise:E.string().nullable()}),reg_number_part_three:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.i)(e)})),otherwise:E.string().nullable()}),reg_number_part_four:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.g)(e)})),otherwise:E.string().nullable()})}),x=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).change=function(e){r.state.searchitem=[],r.state.brandModelList.map((function(a,t){var n=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(n)&&null!=a.name.toUpperCase().match(n)&&r.state.searchitem.push(a)})),r.state.searchitem&&r.state.searchitem.length>0&&r.setState({searchitem:r.state.searchitem,search:e})},r.getBrands=function(){r.props.match.params.productId;var e=r.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"";return new Promise((function(e){y.a.get("vehicle/brand-with-image/1").then((function(e){var t=e&&e.data.data.list?e.data.data.list:[];r.setState({brandList:t,otherBrands:!1}),r.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?r.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")?r.getOtherBrands():1==r.props.data.brandEdit&&r.setState({brandView:"1"})})).catch((function(e){r.props.loadingStop()}))}))},r.getOtherBrands=function(){var e=new D.a;r.props.loadingStart(),y.a.get("four-wh-tp/without-image/1").then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptResp_otherBrand",t);var n=t&&t.data.list?t.data.list:{},l=t&&t.data.list?t.data.list:[];r.setState({selectedBrandDetails:n,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:"",brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;r.props.loadingStart(),y.a.get("four-wh-tp/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decryptResp",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.fastlanelog:{};r.setState({motorInsurance:n,vehicleDetails:l,request_data:o,fastlanelog:s}),r.getBrands()})).catch((function(e){r.props.loadingStop()}))},r.registration=function(e){r.props.history.push("/four_wheeler_Select-brandTP/".concat(e))},r.selectVehicle=function(e){r.setState({brandView:"1"})},r.selectBrand=function(e){var a=r.state,t=a.selectedBrandId,n=a.vehicleDetails,l=(a.otherBrands,t||(n&&n.vehiclebrand_id?n.vehiclebrand_id:""));"1"==localStorage.getItem("brandEdit")?r.setBrandName(l):"2"==localStorage.getItem("brandEdit")&&r.getOtherBrands()},r.setBrandName=function(e){var a=new D.a;r.props.loadingStart(),y.a.get("four-wh-tp/model-with-varient/1/".concat(e)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptResp",n);var l=n&&n.data.list?n.data.list:{},o=n&&n.data.list.brand_models?n.data.list.brand_models:[];r.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[],brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.setVarient=function(e,a,t,n){r.setState({selectedVarientId:e,selectedModelId:a,modelName:t,fuelType:Math.floor(n)})},r.setOtherVarient=function(e,a,t,n,l,o){r.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:t,brandName:n,modelName:l,fuelType:Math.floor(o)})},r.handleSubmit=function(e){console.log("values-----\x3e",e);var a=r.props.match.params.productId,t=r.state,n=t.selectedVarientId,l=t.selectedModelId,o=t.selectedBrandId,s=t.request_data,c=t.brandView,i=t.fastLaneData,m=t.fastlanelog,d={},u={},p="";"2"==e.check_registration?(u={reg_number_part_one:e.reg_number_part_one,reg_number_part_two:e.reg_number_part_two,reg_number_part_three:e.reg_number_part_three,reg_number_part_four:e.reg_number_part_four},p=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four):(u={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},p="NEW");var _=new FormData,g=new D.a,f=s.policyholder_id,h=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";h&&(h=JSON.parse(g.decrypt(h))),f>0?(d=sessionStorage.getItem("csc_id")?{menumaster_id:1,brand_id:o||(i&&i.brand_id?i.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:l||(i&&i.brand_model_id?i.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:n||(i&&i.model_varient_id?i.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:6,registration_no:p,registration_part_numbers:JSON.stringify(u),policy_type_id:e.policy_type,policy_holder_id:f,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",policy_for:e.policy_for,fastlaneLog_id:r.state.fastLaneData&&r.state.fastLaneData.fastlaneLog_id?r.state.fastLaneData.fastlaneLog_id:m&&m.id?m.id:"",page_name:"four_wheeler_Select-brandTP/".concat(a)}:{menumaster_id:1,brand_id:o||(i&&i.brand_id?i.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:l||(i&&i.brand_model_id?i.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:n||(i&&i.model_varient_id?i.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:6,registration_no:p,registration_part_numbers:JSON.stringify(u),policy_type_id:e.policy_type,policy_holder_id:f,check_registration:e.check_registration,bcmaster_id:h?h.agent_id:"",bc_token:h?h.token:"",bc_agent_id:h?h.user_info.data.user.username:"",policy_for:e.policy_for,fastlaneLog_id:r.state.fastLaneData&&r.state.fastLaneData.fastlaneLog_id?r.state.fastLaneData.fastlaneLog_id:m&&m.id?m.id:"",page_name:"four_wheeler_Select-brandTP/".concat(a)},_.append("enc_data",g.encrypt(JSON.stringify(d))),r.props.loadingStart(),y.a.post("four-wh-tp/update-registration",_).then((function(e){r.props.loadingStop();var t=JSON.parse(g.decrypt(e.data));0==t.error?(r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/four_wheeler_Vehicle_detailsTP/".concat(a))):k()(t.msg)})).catch((function(e){var a=JSON.parse(g.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()}))):(d=sessionStorage.getItem("csc_id")?{menumaster_id:1,brand_id:"1"==c?o:i?i.brand_id:"",brand_model_id:"1"==c?l:i?i.brand_model_id:"",model_varient_id:"1"==c?n:i?i.model_varient_id:"",vehicle_type_id:6,registration_no:p,registration_part_numbers:JSON.stringify(u),policy_type_id:e.policy_type,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",policy_for:e.policy_for,fastlaneLog_id:r.state.fastLaneData&&r.state.fastLaneData.fastlaneLog_id?r.state.fastLaneData.fastlaneLog_id:m&&m.id?m.id:"",page_name:"four_wheeler_Select-brandTP/".concat(a)}:{menumaster_id:1,brand_id:"1"==c?o:i?i.brand_id:"",brand_model_id:"1"==c?l:i?i.brand_model_id:"",model_varient_id:"1"==c?n:i?i.model_varient_id:"",vehicle_type_id:6,registration_no:p,registration_part_numbers:JSON.stringify(u),policy_type_id:e.policy_type,check_registration:e.check_registration,bcmaster_id:h?h.agent_id:"",bc_token:h?h.token:"",bc_agent_id:h?h.user_info.data.user.username:"",policy_for:e.policy_for,fastlaneLog_id:r.state.fastLaneData&&r.state.fastLaneData.fastlaneLog_id?r.state.fastLaneData.fastlaneLog_id:m&&m.id?m.id:"",page_name:"four_wheeler_Select-brandTP/".concat(a)},console.log("post_data-----",d),_.append("enc_data",g.encrypt(JSON.stringify(d))),r.props.loadingStart(),y.a.post("four-wh-tp/registration",_).then((function(e){r.props.loadingStop();var t=JSON.parse(g.decrypt(e.data));console.log("decryptResp-----",t),0==t.error?(localStorage.setItem("policyHolder_id",t.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",t.data.policyHolder_refNo),r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/four_wheeler_Vehicle_detailsTP/".concat(a))):k()(t.msg)})).catch((function(e){var a=JSON.parse(g.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()})))},r.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},r.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},r.fetchFastlane=function(e){var a=new FormData,t=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four;a.append("registration_no",t),a.append("menumaster_id","3"),r.props.loadingStart(),y.a.post("fastlane",a).then((function(e){0==e.data.error?(r.props.loadingStop(),r.setState({fastLaneData:e.data.data,brandView:"0",fastlaneLogId:e.data.data.fastlaneLog_id})):(r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:e.data.data.fastlaneLog_id}))})).catch((function(e){r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:0})}))},r.regnoFormat=function(e,a,t){var n=e.target.value;r.setState({fastLaneData:[],brandView:"0",vehicleDetails:[]});r.props.setData({brandEdit:1}),e.target.value=n.toUpperCase()},r.handleShow=r.handleShow.bind(Object(l.a)(r)),r.handleClose=r.handleClose.bind(Object(l.a)(r)),r.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:!1,brandName:"",modelName:"",fuelType:"",vehicleDetails:[],error_msg:[],length:14,request_data:[],fastLaneData:[],brandView:"0",fastlanelog:[]},r}return Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.brandList,n=a.motorInsurance,r=a.selectedBrandDetails,l=a.brandModelList,o=a.selectedBrandId,s=a.fuelType,E=a.fastLaneData,y=a.selectedModelId,b=a.selectedVarientId,N=a.otherBrands,S=a.vehicleDetails,w=a.error_msg,k=a.brandName,C=a.modelName,D=a.brandView,M=this.props.match.params.productId,B=n&&n.registration_part_numbers&&JSON.parse(n.registration_part_numbers),x=Object.assign(A,{selectedBrandId:o||(S&&S.vehiclebrand_id?S.vehiclebrand_id:""),selectedModelId:y||(o?"":S&&S.vehiclemodel_id?S.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:b||(o?"":S&&S.varientmodel_id?S.varientmodel_id:""),policy_type:n&&n.policytype_id?n.policytype_id:"",regNumber:n&&n.registration_no?n.registration_no:"",policy_for:n&&n.policy_for?n.policy_for:"",reg_number_part_one:B&&B.reg_number_part_one?B.reg_number_part_one:"",reg_number_part_two:B&&B.reg_number_part_two?B.reg_number_part_two:"",reg_number_part_three:B&&B.reg_number_part_three?B.reg_number_part_three:"",reg_number_part_four:B&&B.reg_number_part_four?B.reg_number_part_four:""}),H=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox fourwheel"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},H.SBIGICL),i.a.createElement(v.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:O},(function(a){var r=a.values,l=a.errors,p=a.setFieldValue,_=a.setFieldTouched,f=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(m.a,null,i.a.createElement("div",{className:"col-md-9 col-sm-12"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TakingFourPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","1"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Individual))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","2"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Corporate)),l.policy_for&&f.policy_for?i.a.createElement("span",{className:"errorMsg"},H[l.policy_for]):null)))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TellAboutPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==r.policy_type,onChange:function(){_("policy_type"),p("policy_type","2"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.RollOver))),i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==r.policy_type,onChange:function(){_("policy_type"),p("policy_type","3"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},H.LapsedPolicy)),l.policy_type&&f.policy_type?i.a.createElement("span",{className:"errorMsg"},H[l.policy_type]):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"m-b-30"},H.About)),i.a.createElement(m.a,{className:"m-b-15"},i.a.createElement(d.a,{sm:12},i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},H.RegName),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_one,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_two,disabled:"1"==r.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_three,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-2"},i.a.createElement(v.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_four,disabled:"1"==r.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),"0"==D&&"0"==E.length?i.a.createElement(u.a,{type:"button",onClick:e.fetchFastlane.bind(e,r)},H.FetchDetails):null,(l.reg_number_part_one||l.reg_number_part_two||l.reg_number_part_three||l.reg_number_part_four)&&(f.reg_number_part_one||f.reg_number_part_two||f.reg_number_part_three||f.reg_number_part_four)?i.a.createElement("span",{className:"errorMsg"},H.InvalidRegistrationNumber):null))),"1"==D?i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,H.VechicleBrandTp),w.brand_id||w.brand_model_id||w.model_varient_id?i.a.createElement("span",{className:"errorMsg"},H.BrandVarient):""):null,i.a.createElement(d.a,{sm:12,md:12,className:"two-wheeler"},"1"==D?i.a.createElement(c.Fragment,null,i.a.createElement(g.a,{brandList:t&&t.length>0?t:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands})):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},"1"==D||E&&E.brand_text?i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},H.Continue):null))),i.a.createElement("div",{className:"col-md-3 col-sm-12"},"1"==D?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.SelectBrand,"- ",i.a.createElement("strong",null,k||(S&&S.vehiclebrand&&S.vehiclebrand.name?S.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Model,i.a.createElement("br",null),i.a.createElement("strong",null,C||(o?"":S&&S.vehiclemodel&&S.vehiclemodel.description?S.vehiclemodel.description+" "+S.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[s]?I.a[s]:S&&S.varientmodel&&S.varientmodel.fuel_type?I.a[Math.floor(S.varientmodel.fuel_type)]:null," "))))):i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.Brand,"-  ",i.a.createElement("strong",null,E&&E.brand_text?E.brand_text:S&&S.vehiclebrand&&S.vehiclebrand.name?S.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Model,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.model_text?E.model_text+" "+E.varient_text:S&&S.vehiclemodel&&S.vehiclemodel.description?S.vehiclemodel.description+" "+S.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.fuel?E.fuel:S&&S.varientmodel&&S.varientmodel.fuel_type?I.a[Math.floor(S.varientmodel.fuel_type)]:null," "))))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,H.SelectModel," "),r.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+r.image,alt:r.name}):null)),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:H.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==N?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):l&&l.length>0&&l.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),b?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},H.Continue):null)))}}]),t}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())},setData:function(a){return e(Object(M.a)(a))}}}))(x))},1233:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=t(31),f=t(34),h=t(40),v=t(38),E=t(19),y=t(22),b=t(1),N=t(2),S=t(7),w=t(3),k=t.n(w),C=t(9),P=t(28),D=t(138),I=t.n(D),M=t(911),B=t(20),A=t.n(B),O=t(77),x=new P.a,H=new C.a,R=k()(k()().subtract(1,"years").calendar()).add(1,"day").calendar(),L=k()().subtract(20,"years").calendar(),j={registration_date:"",location_id:"",previous_is_claim:"2",previous_city:"",insurance_company_id:"0",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:""},F=b.object().shape({registration_date:b.string().required("RegistrationRequired"),location_id:b.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"No special Character allowed"}))}),q={1:"Petrol",2:"Diesel"},T=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:"",step_completed:"0",location_reset_flag:0,request_data:[],changeFlag:0},e.onChange=function(e,a){a("location_id","")},e.selectVehicleBrand=function(a){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),e.props.history.push("/four_wheeler_Select-brandTP/".concat(a))},e.selectBrand=function(a){e.props.history.push("/four_wheeler_Select-brandTP/".concat(a))},e.editBrand=function(a){e.props.setData({brandEdit:1}),e.props.history.push("/four_wheeler_Select-brandTP/".concat(a))},e.showClaimText=function(a){1==a?e.setState({showClaim:!1,previous_is_claim:2}):e.setState({showClaim:!0,previous_is_claim:0})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.onChangeCustomerID=function(a,t){var n=t.newValue,r=(t.method,e.state.motorInsurance&&e.state.motorInsurance.location_id?1:0);e.setState({CustomerID:n,RTO_location:"",location_reset_flag:r,changeFlag:1})},e.SuggestionSelected=function(a,t,n){e.setState({changeFlag:0}),a("location_id"),t("location_id",n.id)},e.onSuggestionsFetchCustomerID=function(a){var t=a.value;e.setState({suggestions:e.getCustomerIDSuggestions(t)})},e.getCustomerIDSuggestionValue=function(a){return e.setState({selectedCustomerRecords:a,changeFlag:0}),a.RTO_LOCATION+" - "+a.NameCode},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=e.state,l=(r.motorInsurance,r.request_data),o=r.changeFlag,s=x.whatIsCurrentMonth(a.registration_date)<7?6:1,c=Object(M.a)(new Date,1),i=Object(M.a)(new Date(c),364),m=Math.floor(k()().diff(a.registration_date,"months",!0));if(1==o)return A()("Registration city is required"),!1;var d,u=new FormData;d={policy_holder_id:l.policyholder_id,menumaster_id:1,registration_date:k()(a.registration_date).format("YYYY-MM-DD"),location_id:a.location_id,previous_is_claim:a.previous_is_claim,previous_claim_bonus:""==a.previous_claim_bonus?"2":a.previous_claim_bonus,prev_policy_flag:0,vehicleAge:m,pol_start_date:k()(c).format("YYYY-MM-DD"),pol_end_date:k()(i).format("YYYY-MM-DD"),policy_type:s,insurance_company_id:a.insurance_company_id,page_name:"four_wheeler_Vehicle_detailsTP/".concat(n)},console.log("post_data",d),u.append("enc_data",H.encrypt(JSON.stringify(d))),e.props.loadingStart(),S.a.post("/four-wh-tp/vehicle-details",u).then((function(a){e.props.loadingStop();var r=JSON.parse(H.decrypt(a.data));console.log("decryptResp-----",r),0==r.error?e.props.history.push("/four_wheeler_OtherComprehensiveTP/".concat(n)):(t.setSubmitting(!1),A()(r.msg))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(H.decrypt(a.data));console.log("decryptResp-----",n)}))},e.getInsurerList=function(){e.props.loadingStart(),S.a.get("/company").then((function(a){e.setState({insurerList:a.data.data}),e.getAllAddress()})).catch((function(a){e.setState({insurerList:[]}),e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;e.props.loadingStart(),S.a.get("four-wh-tp/details/".concat(localStorage.getItem("policyHolder_refNo"))).then((function(a){var t=JSON.parse(H.decrypt(a.data));console.log("decryptResp_fetchData",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},r=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=n&&n.location&&n.location.RTO_LOCATION?n.location.RTO_LOCATION:"",s=t.data.policyHolder?t.data.policyHolder.step_no:"",c=t.data.policyHolder?t.data.policyHolder.request_data:{};e.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:l,RTO_location:o,step_completed:s,request_data:c}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleChange=function(a){var t=k()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return c.a.createElement("span",null,e.RTO_LOCATION+" - "+e.NameCode)}},{key:"getAllAddress",value:function(){var e=this;S.a.get("location-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.motorInsurance,r=t.CustomerID,l=t.suggestions,o=t.vehicleDetails,s=t.RTO_location,p=t.step_completed,v=t.location_reset_flag,E=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,y=Object.assign(j,{registration_date:n&&n.registration_date?new Date(n.registration_date):"",location_id:n&&n.location_id&&0==v?n.location_id:"",policy_type_Id:n&&n.policytype_id?n.policytype_id:"0"}),b={placeholder:E.SearchCity,value:r||s,onChange:this.onChangeCustomerID};return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},E.SBIGICL),p>="1"&&"6"==o.vehicletype_id?c.a.createElement("section",{className:"brand m-b-25"},c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-30"},E.PleaseVehicleDetails,"."))),c.a.createElement("div",{className:"brand-bg"},c.a.createElement(N.e,{initialValues:y,onSubmit:this.handleSubmit,validationSchema:F},(function(t){var r=t.values,s=t.errors,p=t.setFieldValue,g=t.setFieldTouched,f=(t.isValid,t.isSubmitting),h=t.touched;return c.a.createElement(N.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"fs-18"},E.FirstRegDate))),c.a.createElement(m.a,{sm:12,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement(_.a,{name:"registration_date",minDate:new Date(L),maxDate:new Date(R),dateFormat:"dd MMM yyyy",placeholderText:E.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:r.registration_date,onChange:function(e){g("registration_date"),p("registration_date",e)}}),s.registration_date&&h.registration_date?c.a.createElement("span",{className:"errorMsg"},E[s.registration_date]):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"fs-18"},E.RegCity))),c.a.createElement(m.a,{sm:12,md:6,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(I.a,{suggestions:l,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:b,onChange:function(a){return e.onChange(a,p)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(g,p,n)}}),s.location_id&&h.location_id?c.a.createElement("span",{className:"errorMsg"},E[s.location_id]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!f,onClick:e.selectBrand.bind(e,a)},f?E.Wait:E.Back),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?E.Wait:E.Next))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"vehbox"},c.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},c.a.createElement("div",{className:"txtRegistr"},E.RegNo,".",c.a.createElement("br",null),n&&n.registration_no),c.a.createElement("div",null,c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,a)},E.Edit))),c.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},c.a.createElement("div",{className:"txtRegistr"},E.Brand,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.vehiclebrand&&o.vehiclebrand.name?o.vehiclebrand.name:"")),c.a.createElement("div",null,c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.editBrand.bind(e,a)},E.Edit))),c.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},c.a.createElement("div",{className:"txtRegistr"},E.Model,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.vehiclemodel&&o.vehiclemodel.description?o.vehiclemodel.description+" "+o.varientmodel.varient:"")),c.a.createElement("div",null,c.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectVehicleBrand.bind(e,a)},E.Edit))),c.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},c.a.createElement("div",{className:"txtRegistr"},E.Fuel,c.a.createElement("br",null),c.a.createElement("strong",null,o&&o.varientmodel&&q[Math.floor(o.varientmodel.fuel_type)]," ")))))))})))):""==p?"Forbidden":null,c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())},setData:function(a){return e(Object(O.a)(a))}}}))(T))},1234:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/four_wheeler_additional_detailsTP/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("four-wh-tp/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},o=n.data.policyHolder?n.data.policyHolder.step_no:"",s=n.data.policyHolder?n.data.policyHolder:[],c=n.data.policyHolder?n.data.policyHolder.bcmaster:{},i=n.data.policyHolder?n.data.policyHolder.request_data:{},m=n.data.policyHolder?n.data.policyHolder.menumaster:{},d=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,vehicleDetails:l,step_completed:o,policyHolder:s,bcMaster:c,request_data:i,menumaster:m,paymentgateway:d,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){y.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData,r=new k.a,l={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",access_token:e,idv_value:a.idv_value,policy_type:a?a.policy_type:"",add_more_coverage:a.add_more_coverage,coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:"",policy_for:a?a.policy_for:"",policytype_id:a?a.policytype_id:"",PA_Cover:a?a.pa_cover:"0"};n.append("enc_data",r.encrypt(JSON.stringify(l))),y.a.post("fullQuotePMCARTP",n).then((function(e){e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status?t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,show1:!0,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],step_completed:"0",vehicleDetails:[],policyHolder:[],paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.fulQuoteResp),r=a.motorInsurance,l=a.error,o=(a.error1,a.refNumber,a.bcMaster),s=a.request_data,c=(a.menumaster,a.paymentStatus),_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.step_completed,w=a.paymentgateway,k=this.props.match.params.productId,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=l&&l.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),S>="4"&&"6"==N.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},C.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var l=a.values,c=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,C.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,P),i.a.createElement("h5",null,I),i.a.createElement("h4",null,C.PolRefNumber,n.QuotationNo?n.QuotationNo:"")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},s&&s.start_date?A()(s.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},s&&s.end_date?A()(s.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.DuePremium)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.chasis_no?r.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.engine_no?r.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?D.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,C.OwnerDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==r.policy_for?i.a.createElement(u.a,null,C.Name,":"):i.a.createElement(u.a,null,C.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y&&y.dob?Math.floor(A()().diff(y.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"GSTIN:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==r.policy_for&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(A()().diff(b.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&"m"==b.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==r.policy_for&&b&&"1"==b.is_appointee&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},C.SelectPayGateway,w&&w.length>0?w.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){c("gateway",a.target.value),c("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,k)},C.Back),o&&1==o.eligible_for_payment_link?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",C.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,n.QuotationNo&&""!=l.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},C.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))):""==S?"Forbidden":null,i.a.createElement(E.a,null)))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(R))},1235:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(98),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(912),g=t(909),f=t(377),h=t(910),v=t(48),E=t.n(v),y=(t(172),t(95),t(96),t(2)),b=t(31),N=t(34),S=t(40),w=t(38),k=t(19),C=t(22),P=t(7),D=t(9),I=t(1),M=t(20),B=t.n(M),A=t(99),O=new D.a,x=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,H=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";H.user&&(H=JSON.parse(O.decrypt(H.user)));var R={},L=I.object().shape({PA_Cover:I.string().when(["PA_flag"],{is:function(e){return"1"==e},then:I.string().required("PleasePACover"),otherwise:I.string()}),geographical_extension_length:I.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:I.string().test("geoExtention",(function(){return"Select any one country"}),(function(e){return!(e<1)})),otherwise:I.string()})}),j={C101064:x.C101064,C101065:x.C101065,C101066:x.C101066,C101069:x.C101069,C101072:x.C101072,C101067:x.C101067,C101108:x.C101108,C101111:x.C101111,B00002:x.B00002,B00008:x.B00008,B00013:x.B00013,B00015:x.B00015,B00016:x.B00016,B00009:x.B00009,B00010:x.B00010,NCB:x.NCB,TOTALOD:x.TOTALOD,GEOGRAPHYOD:x.GEOGRAPHYOD,GEOGRAPHYTP:x.GEOGRAPHYTP},F=function(e){Object(o.a)(v,e);var a=Object(s.a)(v);function v(e){var t;return Object(n.a)(this,v),(t=a.call(this,e)).handleChange=function(){t.setState({serverResponse:[],error:[]})},t.sliderValue=function(e){t.setState({sliderVal:e,serverResponse:[],error:[]})},t.vehicleDetails=function(e){t.props.history.push("/four_wheeler_Vehicle_detailsTP/".concat(e))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;t.props.loadingStart(),P.a.get("four-wh-tp/details/".concat(e)).then((function(e){var a=JSON.parse(O.decrypt(e.data));console.log("decryptResp----1",a);var n=[],r=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},l=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},o=a.data.policyHolder?a.data.policyHolder.step_no:"",s=a.data.policyHolder?a.data.policyHolder.request_data:{},c=r&&"2"==r.policy_for?null!=r.add_more_coverage?r.add_more_coverage.split(","):[]:null!=r.add_more_coverage?r.add_more_coverage.split(","):["B00015"];c=c.flat();var i=r&&null!=r.add_more_coverage_request_json?r.add_more_coverage_request_json:"",m=""!=i?JSON.parse(i):[],d=m&&m.geographical_extension?m.geographical_extension:[];n.PA_flag=r&&""!=r.pa_cover?"1":"0",n.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0",t.setState({motorInsurance:r,vehicleDetails:l,step_completed:o,request_data:s,geographical_extension:d,add_more_coverage:c,selectFlag:r&&"2"==r.policy_for?[]:null!=r.add_more_coverage?"0":"1"}),t.props.loadingStop(),t.getAccessToken(n)})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){t.props.loadingStart(),P.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=t.state,r=(n.PolicyArray,n.sliderVal,n.add_more_coverage),l=n.motorInsurance,o=n.geographical_extension,s=new FormData,i={};r&&(i={B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},geographical_extension:o});var m={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,idv_value:"0",add_more_coverage:r.toString(),coverage_data:JSON.stringify(i),policy_type:l?l.policy_type:"",policytype_id:l?l.policytype_id:"",PA_Cover:a.PA_flag?a.PA_Cover:"0",policy_for:l?l.policy_for:""},d=new D.a;s.append("enc_data",d.encrypt(JSON.stringify(m))),console.log("fullquote-postdata--- ",m),P.a.post("fullQuotePMCARTP",s).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[],n=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsGeographicalExtension:0;if("1"==n){var l={};l.PolicyBenefitList=[{BeforeVatPremium:e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList[0].LoadingAmount):0,ProductElementCode:"GEOGRAPHYTP"}],a="1"==n?(m=a,d=1,u=l,[].concat(Object(c.a)(m.slice(0,d)),[u],Object(c.a)(m.slice(d)))):""}t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],serverResponse:e.data.PolicyObject,policyCoverage:a})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status)t.setState({fulQuoteResp:e.data.PolicyObject,error:{message:1},serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]});else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){var o=[];for(var s in e.data.messages){var i="";e.data.messages[s].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[s].code?(i="It is blacklisted vehicle. Please contact Relationship manager",B()(i)):i=e.data.messages[s].message,o.push(i)}t.setState({fulQuoteResp:[],add_more_coverage:r,validation_error:o,serverResponse:[]})}else t.setState({fulQuoteResp:[],add_more_coverage:r,error:e.data,serverResponse:[]});var m,d,u;t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.handleSubmit=function(e){var a=t.props.match.params.productId,n=t.state,r=n.motorInsurance,l=n.PolicyArray,o=(n.sliderVal,n.add_more_coverage),s=n.request_data,c=n.geographical_extension,i=(l.length>0&&Math.floor(l[0].PolicyRiskList[0].IDV_Suggested),new FormData),m=new D.a,d=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",u=new D.a;d.user&&(d=JSON.parse(u.decrypt(d.user)));var p={},_={};if(o&&(_={B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},geographical_extension:c}),p=o.length>0?{policy_holder_id:s.policyholder_id,menumaster_id:1,cng_kit:e.cng_kit,registration_no:r.registration_no,idv_value:"0",add_more_coverage:o,coverage_data:JSON.stringify(_),pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"four_wheeler_OtherComprehensiveTP/".concat(a)}:{policy_holder_id:s.policyholder_id,menumaster_id:1,cng_kit:e.cng_kit,registration_no:r.registration_no,idv_value:"0",pa_flag:e.PA_cover_flag,page_name:"four_wheeler_OtherComprehensiveTP/".concat(a)},console.log("post_data",p),i.append("enc_data",m.encrypt(JSON.stringify(p))),A.a.includes(d.login_type)&&o.indexOf("B00015")<0)return B()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;t.props.loadingStart(),P.a.post("four-wh-tp/insured-value",i).then((function(e){t.props.loadingStop();var n=JSON.parse(m.decrypt(e.data));console.log("decryptResp---",n),0==n.error&&t.props.history.push("/four_wheeler_verifyTP/".concat(a))})).catch((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypterr---",a)}))},t.onRowSelect=function(e,a,n,r){var l=t.state.add_more_coverage;if(a)l.push(e),t.setState({add_more_coverage:l,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),r("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","1")),"geographical_extension"==e&&(n("Geographical_flag"),r("Geographical_flag","1"));else{var o=l.indexOf(e);-1!==o&&(l.splice(o,1),t.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),r("PA_flag","0"),n("PA_Cover"),r("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","0")),"geographical_extension"==e&&(n("Geographical_flag"),r("Geographical_flag","0"),r("GeoExtnBhutan",""),r("GeoExtnNepal",""),r("GeoExtnMaldives",""),r("GeoExtnPakistan",""),r("GeoExtnSriLanka",""),r("GeoExtnBangladesh",""),t.setState({geographical_extension:[]}))}},t.onGeoAreaSelect=function(e,a,n,r,l){var o=t.state,s=(o.add_more_coverage,o.geographical_extension);if(n)s.push(e),t.setState({geographical_extension:s,serverResponse:[],error:[]}),r(e),l(e,"1"),r("geographical_extension_length"),l("geographical_extension_length",s.length);else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),t.setState({serverResponse:[],error:[]})),r(e),l(e,""),r("geographical_extension_length"),l("geographical_extension_length",s.length)}},t.getCoverage=function(){t.props.loadingStart(),P.a.get("/coverage-list/".concat(localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0)).then((function(e){t.setState({moreCoverage:e.data.data}),t.fetchData()})).catch((function(e){t.setState({moreCoverage:[]}),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],step_completed:"0",vehicleDetails:[],selectFlag:"",moreCoverage:[],request_data:[],geographical_extension:[]},t}return Object(r.a)(v,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getCoverage()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.vahanDetails,a.error),r=a.policyCoverage,l=(a.vahanVerify,a.fulQuoteResp),o=(a.PolicyArray,a.motorInsurance),s=a.serverResponse,c=a.add_more_coverage,v=a.step_completed,w=a.vehicleDetails,k=a.selectFlag,C=a.moreCoverage,P=a.geographical_extension,I=this.props.match.params.productId,M=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",O=new D.a;M.user&&(M=JSON.parse(O.decrypt(M.user)));var x=o&&o.add_more_coverage?o.add_more_coverage.split(","):"",H={},F=!o||null!=o.pa_cover&&""!=o.pa_cover?"1":"0",q=o&&null!=o.pa_cover?o.pa_cover:"",T=c&&c[c.indexOf("geographical_extension")]?"1":"0",V=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;R="1"==k?{add_more_coverage:"",cng_kit:"0",B00015:"B00015",PA_flag:"0",PA_Cover:"",PA_cover_flag:"1",Geographical_flag:"0",geographical_extension_length:P&&P.length}:{add_more_coverage:"",cng_kit:"0",PA_flag:"0",PA_Cover:"",PA_cover_flag:o&&o.pa_flag?o.pa_flag:"0",Geographical_flag:"0",geographical_extension_length:P&&P.length};for(var G=0;G<x.length;G++)H[x[G]]=x[G];H.PA_flag=F,H.PA_Cover=q,H.Geographical_flag=T,H.GeoExtnBangladesh=P?P[P.indexOf("GeoExtnBangladesh")]:"",H.GeoExtnBhutan=P?P[P.indexOf("GeoExtnBhutan")]:"",H.GeoExtnNepal=P?P[P.indexOf("GeoExtnNepal")]:"",H.GeoExtnMaldives=P?P[P.indexOf("GeoExtnMaldives")]:"",H.GeoExtnPakistan=P?P[P.indexOf("GeoExtnPakistan")]:"",H.GeoExtnSriLanka=P?P[P.indexOf("GeoExtnSriLanka")]:"";var Y=Object.assign(R,H),J=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList?e.PolicyBenefitList.map((function(e,a){return m.a.createElement("div",null,m.a.createElement(d.a,{key:a+"b"},m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,j[e.ProductElementCode])),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium)))))})):m.a.createElement("div",null,m.a.createElement(d.a,{key:a+"a"},m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,j[e.ProductElementCode])),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"\u20b9 ",Math.round(e.AnnualPremium),"  "))))})):null,z=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",null,j[e.ProductElementCode],":"),m.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium)))}))})):null,Z=n&&n.message?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null;return m.a.createElement(m.a.Fragment,null,m.a.createElement(b.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(N.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox fwhTp"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},V.SBIGICL),v>="2"&&"6"==w.vehicletype_id?m.a.createElement("section",{className:"brand colpd m-b-25"},m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead m-b-10"},m.a.createElement("h4",{className:"m-b-30"},V.ThirdPartyLiability),m.a.createElement("h5",null,Z))),m.a.createElement(y.e,{initialValues:Y,onSubmit:s&&""!=s?s.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:L},(function(a){var n=a.values,r=a.errors,c=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting,a.touched);return m.a.createElement(y.d,null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},m.a.createElement(E.a,{trigger:V.DefaultCovered,open:!0},m.a.createElement("div",{className:"listrghtsideTrigr"},J))),o&&"1"==o.policy_for?m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:12,lg:12},m.a.createElement(p.a,null,m.a.createElement("span",{className:"fs-18"}," ",V.AddCoveragePlan,".")))):null,o&&"1"==o.policy_for&&C.map((function(a,l){return m.a.createElement(d.a,{key:l},m.a.createElement(u.a,{sm:12,md:11,lg:6,key:l+"a"},m.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,m.a.createElement(_.a,{overlay:m.a.createElement(g.a,{id:"tooltip-disabled"},a.description)},m.a.createElement("a",{className:"infoIcon"},m.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))),m.a.createElement(y.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!A.a.includes(M.login_type)||"B00015"!=n[a.code]),onClick:function(t){0==t.target.checked&&"B00015"==n[a.code]&&B()(V.SwalIRDAI,{button:V.OK}),e.onRowSelect(t.target.value,t.target.checked,h,c)},checked:n[a.code]==a.code}),m.a.createElement("span",{className:"checkmark mL-0"}),m.a.createElement("span",{className:"error-message"}))),"1"==n.PA_flag&&"B00016"==n[a.code]?m.a.createElement(u.a,{sm:12,md:11,lg:3,key:l+"b"},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.PA_Cover,onChange:function(a){h("PA_Cover"),c("PA_Cover",a.target.value),e.handleChange()}},m.a.createElement("option",{value:""},V.SSI),m.a.createElement("option",{value:"50000"},"50000"),m.a.createElement("option",{value:"100000"},"100000")),r.PA_Cover&&v.PA_Cover?m.a.createElement("span",{className:"errorMsg"},V[r.PA_Cover]):null))):null,"1"==n.Geographical_flag&&"geographical_extension"==n[a.code]?m.a.createElement(i.Fragment,null,m.a.createElement(u.a,{sm:12,md:11,lg:3,key:l+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,t){return"1"==a.status?m.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,m.a.createElement(y.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:n[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,n,a.target.checked,h,c)}}),m.a.createElement("span",{className:"checkmark mL-0"}),m.a.createElement("span",{className:"error-message"})):null})),r.geographical_extension_length&&v.geographical_extension_length?m.a.createElement("span",{className:"errorMsg"},r.geographical_extension_length):null)):null)})),o&&"2"==o.policy_for&&C.map((function(a,l){return m.a.createElement(d.a,{key:l},"geographical_extension"==a.code||"B00010"==a.code||"B00013"==a.code?m.a.createElement(u.a,{sm:12,md:11,lg:6,key:l+"a"},m.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,m.a.createElement(_.a,{overlay:m.a.createElement(g.a,{id:"tooltip-disabled"},a.description)},m.a.createElement("a",{className:"infoIcon"},m.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))),m.a.createElement(y.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",onClick:function(t){0==t.target.checked&&"B00015"==n[a.code]&&B()(V.SwalIRDAI),e.onRowSelect(t.target.value,t.target.checked,h,c)},checked:n[a.code]==a.code}),m.a.createElement("span",{className:"checkmark mL-0"}),m.a.createElement("span",{className:"error-message"}))):null,"1"==n.Geographical_flag&&"geographical_extension"==n[a.code]?m.a.createElement(i.Fragment,null,m.a.createElement(u.a,{sm:12,md:11,lg:3,key:l+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,t){return"1"==a.status?m.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,m.a.createElement(y.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:n[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,n,a.target.checked,h,c)}}),m.a.createElement("span",{className:"checkmark mL-0"}),m.a.createElement("span",{className:"error-message"})):null})),r.geographical_extension_length?m.a.createElement("span",{className:"errorMsg"},r.geographical_extension_length):null)):null)})),m.a.createElement(d.a,null,"\xa0"),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,I)},V.Back),s&&""!=s?s.message?m.a.createElement(f.a,{className:"proceedBtn",type:"submit"},V.Recalculate):m.a.createElement(f.a,{className:"proceedBtn",type:"submit"},V.Continue):m.a.createElement(f.a,{className:"proceedBtn",type:"submit"},V.Recalculate))),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"justify-content-left regisBox"},m.a.createElement("h3",{className:"premamnt"}," ",V.TPAmount),m.a.createElement("div",{className:"rupee"}," \u20b9 ",l.DuePremium?l.DuePremium:0),m.a.createElement("div",{className:"text-center"},m.a.createElement(f.a,{className:"brkbtn",type:"button",onClick:e.handleShow},V.Breakup))))))}))):""==v?"Forbidden":null,m.a.createElement(S.a,null)))))),m.a.createElement(h.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},m.a.createElement(h.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},m.a.createElement("h3",null,V.PremiumBreakup)),m.a.createElement(h.a.Body,null,m.a.createElement("table",{class:"table table-bordered"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,V.Premium,":"),m.a.createElement("th",null,"\u20b9 ",l.DuePremium))),m.a.createElement("tbody",null,z,m.a.createElement("tr",null,m.a.createElement("td",null,V.GrossPremium,":"),m.a.createElement("td",null,"\u20b9 ",Math.round(l.BeforeVatPremium))),m.a.createElement("tr",null,m.a.createElement("td",null,V.GST,":"),m.a.createElement("td",null,"\u20b9 ",Math.round(l.TGST))))))))}}]),v}(i.Component);a.default=Object(w.g)(Object(C.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(k.a)())},loadingStop:function(){return e(Object(k.b)())}}}))(F))},1236:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(18),i=t(17),m=t(0),d=t.n(m),u=t(913),p=t(903),_=t(904),g=t(377),f=(t(48),t(172),t(41)),h=t.n(f),v=(t(95),t(96),t(2)),E=t(31),y=t(34),b=t(40),N=t(38),S=t(19),w=t(22),k=t(7),C=t(9),P=t(1),D=t(20),I=t.n(D),M=t(3),B=t.n(M),A=t(28),O=t(97),x=t(25),H=new C.a,R=(new A.a,B()(B()().subtract(1,"years").calendar()).add(1,"day").calendar()),L=B()(R).add(30,"day").calendar(),j=(B()().subtract(18,"years").calendar(),{1:"Petrol",2:"Diesel"}),F={registration_no:"",chasis_no:"",chasis_no_last_part:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",previous_start_date:"",previous_end_date:"",previous_policy_no:"",previous_policy_name:"",insurance_company_id:0,policy_type_id:"",puc:"1"},q=P.object().shape({registration_no:P.string().when("newRegistrationNo",{is:"NEW",then:P.string(),otherwise:P.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return!e||""==e&&void 0==e||Object(x.j)(e)}))}),puc:P.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:P.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:P.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:P.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:P.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),previous_start_date:P.date().notRequired("Previous Start date is required").test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(x.b)(e,this.parent.previous_end_date)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.previous_end_date||void 0!=e})),previous_end_date:P.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(x.c)(e,this.parent.previous_start_date)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.previous_start_date||void 0!=e})),previous_policy_name:P.string().notRequired("Please select Policy Type").test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})),insurance_company_id:P.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})),previous_city:P.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseEnterValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),previous_policy_no:P.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!(2==this.parent.policy_type_id&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),T=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={previousPolicy:[],motorInsurance:[],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",chasiNo:"",engineNo:"",length:15,insurerList:[],vehicleDetails:[],step_completed:"0",request_data:[]},e.selectVehicleBrand=function(a){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),e.props.history.push("/four_wheeler_Select-brandTP/".concat(a))},e.selectBrand=function(a){e.props.history.push("/four_wheeler_Select-brandTP/".concat(a))},e.otherComprehensive=function(a){e.props.history.push("/four_wheeler_OtherComprehensiveTP/".concat(a))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.props.loadingStart(),k.a.get("four-wh-tp/details/".concat(a)).then((function(a){var t=JSON.parse(H.decrypt(a.data));console.log("decryptResp====",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},r=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},o=t.data.policyHolder?t.data.policyHolder.step_no:"",s=t.data.policyHolder?t.data.policyHolder.request_data:{};e.getInsurerList(),e.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:l,step_completed:o,request_data:s,vahanVerify:!(!n.chasis_no||!n.engine_no)}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getVahanDetails=function(){var a=Object(l.a)(r.a.mark((function a(t,n,l,o){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=new FormData,"NEW"==t.newRegistrationNo?(s.append("regnNo",t.newRegistrationNo),n("registration_no"),l("registration_no",t.newRegistrationNo)):s.append("regnNo",t.registration_no),s.append("chasiNo",t.chasis_no_last_part),s.append("policy_holder_id",e.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){a.next=8;break}I()("Please provide correct Registration number and Chasis number"),a.next=19;break;case 8:if("NEW"==t.newRegistrationNo){a.next=14;break}return e.props.loadingStart(),a.next=12,k.a.post("/getVahanDetails",s).then((function(a){e.setState({vahanDetails:a.data,vahanVerify:!0}),e.state.vahanDetails.data[0].chasiNo&&e.setState({chasiNo:e.state.vahanDetails.data[0].chasiNo}),e.state.vahanDetails.data[0].engineNo&&e.setState({engineNo:e.state.vahanDetails.data[0].engineNo}),n("vahanVerify"),l("vahanVerify",!0),n("engine_no"),l("engine_no",e.state.engineNo),n("chasis_no"),l("chasis_no",e.state.chasiNo),e.props.loadingStop()})).catch((function(a){e.setState({vahanDetails:[],vahanVerify:!0}),n("vahanVerify"),l("vahanVerify",!0),e.props.loadingStop()}));case 12:a.next=19;break;case 14:e.props.loadingStart(),e.setState({vahanDetails:[],vahanVerify:!0}),n("vahanVerify"),l("vahanVerify",!0),e.props.loadingStop();case 19:case"end":return a.stop()}}),a)})));return function(e,t,n,r){return a.apply(this,arguments)}}(),e.getInsurerList=function(){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;k.a.get("/company/1/".concat(a)).then((function(a){e.setState({insurerList:a.data.data})})).catch((function(a){e.setState({insurerList:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state,r=n.motorInsurance,l=n.request_data,o=new FormData,s=new C.a,c={};c="3"==r.policytype_id?{policy_holder_id:l.policyholder_id,menumaster_id:1,registration_no:a.registration_no,chasis_no:a.chasis_no,chasis_no_last_part:a.chasis_no_last_part,engine_no:a.engine_no,prev_policy_flag:0,cng_kit:0,page_name:"four_wheeler_verifyTP/".concat(t)}:{policy_holder_id:l.policyholder_id,menumaster_id:1,registration_no:a.registration_no,chasis_no:a.chasis_no,chasis_no_last_part:a.chasis_no_last_part,engine_no:a.engine_no,prev_policy_flag:1,previous_start_date:B()(a.previous_start_date).format("YYYY-MM-DD"),previous_end_date:B()(a.previous_end_date).format("YYYY-MM-DD"),previous_policy_no:a.previous_policy_no,previous_policy_name:a.previous_policy_name,insurance_company_id:a.insurance_company_id,cng_kit:0,previous_city:a.previous_city,page_name:"four_wheeler_verifyTP/".concat(t)},a.chasis_no.slice(a.chasis_no.length-5)===a.chasis_no_last_part?(o.append("enc_data",s.encrypt(JSON.stringify(c))),e.props.loadingStart(),k.a.post("four-wh-tp/previous-vehicle-details",o).then((function(a){e.props.loadingStop();var n=JSON.parse(s.decrypt(a.data));0==n.error?e.props.history.push("/four_wheeler_additional_detailsTP/".concat(t)):I()(n.msg)})).catch((function(a){e.props.loadingStop();var t=JSON.parse(s.decrypt(a.data));console.log("decryptErr-----",t)}))):I()("Chassis no mismatch")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(s.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.insurerList,n=(a.vahanDetails,a.error),r=a.vehicleDetails,l=a.vahanVerify,o=a.previousPolicy,s=a.motorInsurance,c=a.step_completed,i=this.props.match.params.productId,f=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,N=Object.assign(F,{registration_no:s.registration_no?s.registration_no:"",chasis_no:s.chasis_no?s.chasis_no:"",chasis_no_last_part:s.chasis_no_last_part?s.chasis_no_last_part:"",engine_no:s.engine_no?s.engine_no:"",vahanVerify:l,previous_start_date:o&&o.start_date?new Date(o.start_date):"",previous_end_date:o&&o.end_date?new Date(o.end_date):"",previous_policy_name:o&&o.name?o.name:"",insurance_company_id:o&&o.insurancecompany_id?o.insurancecompany_id:"",previous_city:o&&o.city?o.city:"",previous_policy_no:o&&o.policy_no?o.policy_no:"",newRegistrationNo:s.registration_no&&"NEW"==s.registration_no?s.registration_no:"",policy_type_id:s&&s.policytype_id?s.policytype_id:""}),S=n&&n.message?d.a.createElement("span",{className:"errorMsg"},d.a.createElement("h6",null,d.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 180 22 1111"))):null;return d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,null,d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"left-sidebar"},d.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},d.a.createElement(y.a,null))),d.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},d.a.createElement("h4",{className:"text-center mt-3 mb-3"},f.SBIGICL),c>="3"&&"6"==r.vehicletype_id?d.a.createElement("section",{className:"brand m-b-25"},d.a.createElement("div",{className:"d-flex justify-content-left"},d.a.createElement("div",{className:"brandhead"},d.a.createElement("h4",{className:"fs-18 m-b-30"},f.VehicleDetails,"."),d.a.createElement("h5",null,S))),d.a.createElement(v.e,{initialValues:N,onSubmit:this.handleSubmit,validationSchema:q},(function(a){var n=a.values,l=a.errors,o=a.setFieldValue,c=a.setFieldTouched,E=(a.isValid,a.isSubmitting,a.touched);return d.a.createElement(v.d,null,d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ",f.VerifyVehicle))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:9,lg:9},d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:12,lg:5},d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},f.RegNo,":"))),d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:n.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,c,o)}}),l.registration_no?d.a.createElement("span",{className:"errorMsg"},f[l.registration_no]):null))))),d.a.createElement(_.a,{sm:12,md:12,lg:4},d.a.createElement(p.a,{sm:12,md:6,lg:4},d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},f.ChassisNo))),d.a.createElement(_.a,{sm:12,md:5,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:n.chasis_no_last_part,maxLength:"5",onChange:function(e){o("vahanVerify",!1),c("chasis_no_last_part"),o("chasis_no_last_part",e.target.value.toUpperCase())}}),l.chasis_no_last_part&&E.chasis_no_last_part?d.a.createElement("span",{className:"errorMsg"},f[l.chasis_no_last_part]):null))))),d.a.createElement(_.a,{sm:12,md:6,lg:2},d.a.createElement(u.a,null,d.a.createElement(g.a,{className:"btn btn-primary vrifyBtn",onClick:l.chasis_no_last_part?null:e.getVahanDetails.bind(e,n,c,o,l)},f.Verify),l.vahanVerify?d.a.createElement("span",{className:"errorMsg"},f[l.vahanVerify]):null))),n.vahanVerify&&!l.chasis_no_last_part?d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:6,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"engine_no",type:"text",placeholder:f.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.engine_no,maxLength:"17",onChange:function(e){c("engine_no"),o("engine_no",e.target.value.toUpperCase())}}),l.engine_no&&E.engine_no?d.a.createElement("span",{className:"errorMsg"},f[l.engine_no]):null))),d.a.createElement(_.a,{sm:12,md:6,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"chasis_no",type:"text",placeholder:f.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.chasis_no,maxLength:"25",onChange:function(e){c("chasis_no"),o("chasis_no",e.target.value.toUpperCase())}}),l.chasis_no&&E.chasis_no?d.a.createElement("span",{className:"errorMsg"},f[l.chasis_no]):null)))):null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," "))))),"2"==n.policy_type_id?d.a.createElement(m.Fragment,null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null,f.PPD))))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:11,lg:4},d.a.createElement(u.a,null,d.a.createElement(h.a,{name:"previous_start_date",minDate:new Date(R),maxDate:new Date(L),dateFormat:"dd MMM yyyy",placeholderText:f.PPSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_start_date,onChange:function(e){o("previous_start_date",e),o("previous_end_date",Object(O.c)(e))}}),l.previous_start_date&&E.previous_start_date?d.a.createElement("span",{className:"errorMsg"},f[l.previous_start_date]):null)),d.a.createElement(_.a,{sm:12,md:11,lg:4},d.a.createElement(u.a,null,d.a.createElement(h.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:f.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_end_date,onChange:function(e){c("previous_end_date"),o("previous_end_date",e)}}),l.previous_end_date&&E.previous_end_date?d.a.createElement("span",{className:"errorMsg"},f[l.previous_end_date]):null)),d.a.createElement(_.a,{sm:12,md:11,lg:3},d.a.createElement(u.a,null,d.a.createElement("div",{className:"formSection"},d.a.createElement(v.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.previous_policy_name},d.a.createElement("option",{value:""},f.SPT),d.a.createElement("option",{value:"1"},f.Package),d.a.createElement("option",{value:"2"},f.Liability)),l.previous_policy_name&&E.previous_policy_name?d.a.createElement("span",{className:"errorMsg"},f[l.previous_policy_name]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:6,lg:6},d.a.createElement(u.a,null,d.a.createElement("div",{className:"formSection"},d.a.createElement(v.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},d.a.createElement("option",{value:""},f.SelectInsurer),t.map((function(e,a){return d.a.createElement("option",{value:e.Id,key:a},e.name)}))),l.insurance_company_id&&E.insurance_company_id?d.a.createElement("span",{className:"errorMsg"},f[l.insurance_company_id]):null))),d.a.createElement(_.a,{sm:12,md:5,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"previous_city",type:"text",placeholder:f.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.previous_city&&E.previous_city?d.a.createElement("span",{className:"errorMsg"},f[l.previous_city]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12,md:5,lg:5},d.a.createElement(u.a,null,d.a.createElement("div",{className:"insurerName"},d.a.createElement(v.b,{name:"previous_policy_no",type:"text",placeholder:f.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.previous_policy_no&&E.previous_policy_no?d.a.createElement("span",{className:"errorMsg"},f[l.previous_policy_no]):null)))),d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")))))):null,d.a.createElement(p.a,null,d.a.createElement(_.a,{sm:12},d.a.createElement(u.a,null,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")),d.a.createElement("div",{className:"col-md-15"},d.a.createElement("div",{className:"brandhead"},f.EffectivePUC,d.a.createElement("div",{className:"carloan"},d.a.createElement("h4",null," ")),d.a.createElement("div",{className:"d-inline-flex m-b-15"},d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(v.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==n.puc,onChange:function(){c("puc"),o("puc","1")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"}," ",f.Yes))),d.a.createElement("div",{className:"p-r-25"},d.a.createElement("label",{className:"customRadio3"},d.a.createElement(v.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==n.puc,onChange:function(){c("puc"),o("puc","2")}}),d.a.createElement("span",{className:"checkmark "}),d.a.createElement("span",{className:"fs-14"}," ",f.No)),l.puc&&E.puc?d.a.createElement("span",{className:"errorMsg"},l.puc):null))))))),d.a.createElement("div",{className:"d-flex justify-content-left resmb"},d.a.createElement(g.a,{className:"backBtn",type:"button",onClick:e.otherComprehensive.bind(e,i)},f.Back),"1"==n.puc?d.a.createElement(g.a,{className:"proceedBtn",type:"submit"},f.Continue):null)),d.a.createElement(_.a,{sm:12,md:3},d.a.createElement("div",{className:"vehbox"},d.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},d.a.createElement("div",{className:"txtRegistr"},f.RegNo,".",d.a.createElement("br",null),s&&s.registration_no),d.a.createElement("div",null,d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,i)},f.Edit))),d.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},d.a.createElement("div",{className:"txtRegistr"},f.Brand,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.vehiclebrand&&r.vehiclebrand.name?r.vehiclebrand.name:"")),d.a.createElement("div",null,d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,i)},f.Edit))),d.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},d.a.createElement("div",{className:"txtRegistr"},f.Model,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.vehiclemodel&&r.vehiclemodel.description?r.vehiclemodel.description+" "+r.varientmodel.varient:"")),d.a.createElement("div",null,d.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectVehicleBrand.bind(e,i)},f.Edit))),d.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},d.a.createElement("div",{className:"txtRegistr"},f.Fuel,d.a.createElement("br",null),d.a.createElement("strong",null,r&&r.varientmodel&&j[Math.floor(r.varientmodel.fuel_type)]," ")))))))}))):""==c?"Forbidden":null,d.a.createElement(b.a,null)))))))}}]),t}(m.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(T))},1237:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=(t(95),t(96),t(40)),h=t(31),v=t(34),E=t(2),y=t(1),b=t(38),N=t(19),S=t(22),w=t(7),k=t(3),C=t.n(k),P=t(28),D=t(9),I=t(25),M=(C()(C()().subtract(100,"years").calendar()),C()().subtract(18,"years").calendar(),C()(C()().subtract(100,"years").calendar()),C()().subtract(3,"months").calendar(),new Date),B=C()(C()().subtract(100,"years").calendar()),A={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",age:"",nominee_age:""},O=y.object().shape({first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("GenderRequired"),otherwise:y.string().nullable()}),dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:y.date().nullable()}),age:y.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:y.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:y.mixed().nullable()}),nominee_age:y.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:y.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:y.mixed().nullable()}),pancard:y.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:y.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:y.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:y.string().required("LocationRequired"),pincode:y.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:y.string().required("AddressRequired").matches(/^[a-zA-Z0-9]+([\s]?[a-zA-Z0-9\s,/.-])*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:y.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:y.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMaxInvalidEmail"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),salutation_id:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("TitleIsRequired"),otherwise:y.string().nullable()}),nominee_salutation:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),nominee_first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("paFlagChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().nullable()}),nominee_gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string()}),nominee_dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:y.date()}),is_eia_account:y.string().required("RequiredField"),eia_no:y.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIA no is required"),appointee_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),appointee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired().test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),date_of_incorporation:y.date().when(["policy_for"],{is:function(e){return"2"==e},then:y.date().required("PleaseIncorporationDate"),otherwise:y.date().nullable()}),org_level:y.string().when(["policy_for"],{is:function(e){return"2"==e},then:y.string().required("OrganizationLevel"),otherwise:y.string()}),gstn_no:y.string().test("first2digitcheck",(function(){return"ValidGST"}),(function(e){return!e||""==e&&void 0==e||Object(I.k)(e)})).nullable(),is_carloan:y.mixed().required("RequiredField"),bank_name:y.string().notRequired("BankNameReq").test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"PleaseEnterBank"})),bank_branch:y.string().notRequired("BankBranchReq").test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"PleaseEnterBranch"})),is_eia_account2:y.string().when(["is_eia_account"],{is:function(e){return 0==e},then:y.string().required("RequiredField")}),tpaInsurance:y.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:y.string().required("RequiredField")})}),x=function(e){Object(o.a)(_,e);var a=Object(s.a)(_);function _(){var e;Object(r.a)(this,_);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new P.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/four_wheeler_verifyTP/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new D.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:1,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"four_wheeler_additional_detailsTP/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=C()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=C()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=C()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),w.a.post("/four-wh-tp/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));e.props.loadingStop(),0==t.error&&e.props.history.push("/four_wheeler_policy_premium_detailsTP/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new D.a;e.props.loadingStart(),w.a.get("four-wh-tp/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchPrevAreaDetails(_),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new D.a;n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),w.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),w.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){w.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(_,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e=this,a=this.state,r=a.showEIA,l=a.showEIA2,o=a.showLoan,s=(a.ishowEIA2,a.is_eia_account),_=a.is_eia_account2,y=a.is_loan_account,b=a.nomineeDetails,N=a.motorInsurance,S=a.appointeeFlag,w=a.is_appointee,k=a.titleList,P=a.tpaInsurance,D=a.bankDetails,I=a.policyHolder,x=a.stateName,H=a.pinDataArr,R=a.quoteId,L=a.addressDetails,j=a.relation,F=a.step_completed,q=a.vehicleDetails,T=a.request_data,V=this.props.match.params.productId,G=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Y=Object.assign(A,{first_name:I&&I.first_name?I.first_name:"",gender:I&&I.gender?I.gender:"",dob:I&&I.dob?new Date(I.dob):"",age:I&&I.dob?Math.floor(C()().diff(I.dob,"years",!0)):"",pancard:I&&I.pancard?I.pancard:"",pincode_id:L&&L.id?L.id:"",pincode:I&&I.pincode?I.pincode:"",is_carloan:y,bank_name:D?D.bank_name:"",bank_branch:D?D.bank_branch:"",nominee_relation_with:b&&b.relation_with?b.relation_with.toString():"",nominee_first_name:b&&b.first_name?b.first_name:"",nominee_gender:b&&b.gender?b.gender:"",nominee_dob:b&&b.dob?new Date(b.dob):"",nominee_age:b&&b.dob?Math.floor(C()().diff(b.dob,"years",!0)):"",gstn_no:I&&I.gstn_no?I.gstn_no:"",phone:I&&I.mobile?I.mobile:"",email:I&&I.email_id?I.email_id:"",address:I&&I.address?I.address:"",is_eia_account:s,is_eia_account2:_,eia_no:I&&I.eia_no?I.eia_no:"",policy_for:N?N.policy_for:"",appointee_relation_with:b&&b.appointee_relation_with?b.appointee_relation_with:"",appointee_name:b&&b.appointee_name?b.appointee_name:"",date_of_incorporation:I&&I.date_of_incorporation?new Date(I.date_of_incorporation):"",org_level:I&&I.org_level?I.org_level:"",pa_flag:N&&N.pa_flag?N.pa_flag:"",salutation_id:I&&I.salutation_id?I.salutation_id:"",nominee_salutation:b&&b.gender?b.title_id:"",net_premium:T&&T.net_premium?T.net_premium:"0",tpaInsurance:I&&I.T_Insurance_Repository_id?I.T_Insurance_Repository_id:""}),J=R?i.a.createElement("h4",null,G.PolicyReady,": ",R," ",G.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},G.SBIGICL),F>="4"&&"6"==q.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(E.e,{initialValues:Y,onSubmit:this.handleSubmit,validationSchema:O},(function(a){var f,h=a.values,v=a.errors,b=a.setFieldValue,D=a.setFieldTouched,I=(a.isValid,a.isSubmitting),A=a.touched;h.nominee_first_name;return console.log("errors",v),i.a.createElement(E.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},J),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",G.FourWheelLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(a){b("is_carloan",a.target.value),e.showLoanText(1)},checked:"1"==h.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(a){b("is_carloan",a.target.value),e.showLoanText(0)},checked:"0"==h.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No)),v.is_carloan&&A.is_carloan?i.a.createElement("span",{className:"errorMsg"},v.is_carloan):null))),o||1==y?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_name",type:"text",placeholder:G.BankName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.bank_name}),v.bank_name&&A.bank_name?i.a.createElement("span",{className:"errorMsg"},G[v.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_branch",type:"text",placeholder:G.BankBranch,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.bank_branch}),v.bank_branch&&A.bank_branch?i.a.createElement("span",{className:"errorMsg"},G[v.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,G.OwnersDetails)),i.a.createElement(m.a,null,N&&"1"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.Title),k.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),v.salutation_id&&A.salutation_id?i.a.createElement("span",{className:"errorMsg"},G[v.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"first_name",type:"text",placeholder:"2"==h.policy_for?G.CompanyName:G.FullName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.first_name}),v.first_name&&A.first_name?i.a.createElement("span",{className:"errorMsg"},G[v.first_name]):null))),N&&"2"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"gstn_no",type:"text",placeholder:G.GSTIN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.gstn_no.toUpperCase(),onChange:function(e){return b("gstn_no",e.target.value.toUpperCase())}}),v.gstn_no&&A.gstn_no?i.a.createElement("span",{className:"errorMsg"},v.gstn_no):null))):null,N&&"2"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:G.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(M),minDate:new Date(B),className:"datePckr",selected:h.date_of_incorporation,onChange:function(e){D("date_of_incorporation"),b("date_of_incorporation",e)}}),v.date_of_incorporation&&A.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},G[v.date_of_incorporation]):null)):null,N&&"1"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.SelectGender),i.a.createElement("option",{value:"m"},G.Male),i.a.createElement("option",{value:"f"},G.Female)),v.gender&&A.gender?i.a.createElement("span",{className:"errorMsg"},G[v.gender]):null))):null),i.a.createElement(m.a,null,N&&"1"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"age",type:"number",placeholder:G.Age,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.age,maxLength:"10",onChange:function(e){var a=C()().subtract(e.target.value,"year").format("YYYY-MM-DD");b("dob",a),b("age",e.target.value)}}),v.age&&A.age?i.a.createElement("span",{className:"errorMsg"},G[v.age]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"email",type:"email",placeholder:G.Email,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.email}),v.email&&A.email?i.a.createElement("span",{className:"errorMsg"},G[v.email]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(E.b,{name:"phone",type:"text",placeholder:G.Mobile,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.phone,maxLength:"10",className:"phoneinput pd-l-25"}),v.phone&&A.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},G[v.phone]):null))),N&&"2"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"org_level",component:"select",autoComplete:"off",value:h.org_level,className:"formGrp"},i.a.createElement("option",{value:""},G.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),v.org_level&&A.org_level?i.a.createElement("span",{className:"errorMsg"},G[v.org_level]):null))):null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address",type:"text",placeholder:G.Address,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.address}),v.address&&A.address?i.a.createElement("span",{className:"errorMsg"},G[v.address]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,(f={name:"pincode",type:"test",placeholder:G.Pincode,autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:h.pincode},Object(n.a)(f,"maxLength","6"),Object(n.a)(f,"onInput",(function(e){D("state"),D("pincode"),b("pincode",e.target.value),b("state",x?x[0]:h.state),b("pincode_id","")})),f)),v.pincode&&A.pincode?i.a.createElement("span",{className:"errorMsg"},G[v.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"pincode_id",component:"select",autoComplete:"off",value:h.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},G.SelectArea),H&&H.length>0&&H.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),v.pincode_id&&A.pincode_id?i.a.createElement("span",{className:"errorMsg"},G[v.pincode_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"state",type:"text",placeholder:G.State,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:x||h.state,disabled:!0}),v.state&&A.state?i.a.createElement("span",{className:"errorMsg"},G[v.state]):null))),N&&"1"==N.policy_for||N&&"2"==N.policy_for&&(l||"1"==_)?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pancard",type:"text",placeholder:G.PAN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.pancard.toUpperCase(),onChange:function(e){return b("pancard",e.target.value.toUpperCase())}}),v.pancard&&A.pancard?i.a.createElement("span",{className:"errorMsg"},G[v.pancard]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),N&&"1"==N.policy_for&&"1"==N.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",G.NomineeDetails)),i.a.createElement(m.a,null,N&&"1"==N.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.Title),k.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),v.nominee_salutation&&A.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},G[v.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_first_name",type:"text",placeholder:G.NomineeName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.nominee_first_name}),v.nominee_first_name&&A.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},G[v.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.SelectGender),i.a.createElement("option",{value:"m"},G.Male),i.a.createElement("option",{value:"f"},G.Female)),v.nominee_gender&&A.nominee_gender?i.a.createElement("span",{className:"errorMsg"},G[v.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_age",type:"number",placeholder:G.Age,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.nominee_age,maxLength:"10",onChange:function(a){var t=C()().subtract(a.target.value,"year").format("YYYY-MM-DD");e.ageCheck(t),b("nominee_dob",t),b("nominee_age",a.target.value)}}),v.nominee_age&&A.nominee_age?i.a.createElement("span",{className:"errorMsg"},v.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:h.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},G.PrimaryRelation),j.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),v.nominee_relation_with&&A.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},G[v.nominee_relation_with]):null)))),S||"1"==w?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",G.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"appointee_name",type:"text",placeholder:G.AppoName,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:h.appointee_name}),v.appointee_name&&A.appointee_name?i.a.createElement("span",{className:"errorMsg"},G[v.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:h.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},G.NomineeRelation),j.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.name)}))),v.appointee_relation_with&&A.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},G[v.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.EIAAccount)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){b("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==h.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){b("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==h.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No),v.is_eia_account&&A.is_eia_account?i.a.createElement("span",{className:"errorMsg"},G[v.is_eia_account]):null))))),r||"1"==s?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"eia_no",type:"text",placeholder:G.EIANumber,autoComplete:"off",value:h.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),v.eia_no&&A.eia_no?i.a.createElement("span",{className:"errorMsg"},G[v.eia_no]):null))):""),0==r&&"0"==s?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){b("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==h.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){b("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==h.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No),v.is_eia_account2&&A.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},G[v.is_eia_account2]):null)))))):"",l||"1"==_?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:h.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},G.SELECT_TPA),P.map((function(e,a){return i.a.createElement("option",{value:e.repository_id,key:a},e.name)}))),v.tpaInsurance&&A.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},G[v.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!I,onClick:e.otherComprehensive.bind(e,V)},I?G.Wait:G.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!I},I?G.Wait:G.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==F?"Forbidden":null),i.a.createElement(f.a,null))))))}}]),_}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(x))},1238:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(25),S={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,lapse_duration:""},w=h.object().shape({check_registration:h.string().notRequired(),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.g)(e)})),otherwise:h.string().nullable()}),policy_type:h.string().required("PleaseSPT"),policy_for:h.string().required("PleasePIC"),subclass_id:h.string().required("PleaseSSP"),lapse_duration:h.string().when("policy_type",{is:"3",then:h.string().required("LapseDuration"),otherwise:h.string()})}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;p.a.get("gcv/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.motorinsurance;e.setState({motorInsurance:r}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new y.a;e.props.loadingStart(),p.a.get("gcv/sub-vehical-list/4").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=new FormData,r=new y.a,l=e.state,o=(l.fastLaneData,l.fastlanelog),s={},c={},i="";"2"==a.check_registration?(c={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},i=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four):(c={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},i="NEW");var m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(r.decrypt(d))),m>0?(s=sessionStorage.getItem("csc_id")?{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",lapse_duration:a.lapse_duration,page_name:"Registration_GCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,lapse_duration:a.lapse_duration,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("gcv/update-registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),0==n.error?e.props.history.push("/SelectBrand_GCV/".concat(t)):E()(n.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(r.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&E()("Registration number required..."),e.props.loadingStop()}))):(s=sessionStorage.getItem("csc_id")?{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",lapse_duration:a.lapse_duration,page_name:"Registration_GCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,lapse_duration:a.lapse_duration,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("gcv/registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),e.props.loadingStop(),0==n.error?(localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),e.props.history.push("/SelectBrand_GCV/".concat(t))):E()(n.msg)})).catch((function(a){e.props.loadingStop(),a&&a.data&&E()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers?JSON.parse(t.registration_part_numbers):[],l=Object.assign(S,{reg_number_part_one:r&&r.reg_number_part_one?r.reg_number_part_one:"",reg_number_part_two:r&&r.reg_number_part_two?r.reg_number_part_two:"",reg_number_part_three:r&&r.reg_number_part_three?r.reg_number_part_three:"",reg_number_part_four:r&&r.reg_number_part_four?r.reg_number_part_four:"",regNumber:t&&t.registration_no?t.registration_no:"",policy_type:t&&t.policytype_id?t.policytype_id:"",policy_for:t&&t.policy_for?t.policy_for:"",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2",lapse_duration:t&&t.lapse_duration?t.lapse_duration:""}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox regcv2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},o.About),c.a.createElement(b.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:w},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,m=(a.isValid,a.isSubmitting,a.touched);return c.a.createElement(b.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.GCVPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Individual))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Corporate)),r.policy_for&&m.policy_for?c.a.createElement("span",{className:"errorMsg"},o[r.policy_for]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.TellAboutPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"1",key:"1",checked:"1"==t.policy_type,onChange:function(){l("policy_type","1"),l("lapse_duration",""),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.NewPolicy))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){l("policy_type","2"),l("lapse_duration",""),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.RollOver))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==t.policy_type,onChange:function(){l("policy_type","3"),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.LapsedPolicy)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),"3"==t.policy_type?c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.LapseDuration),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"1",key:"1",checked:"1"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.BeforeNinety))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"2",key:"1",checked:"2"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.OverNinety)),r.lapse_duration&&m.lapse_duration?c.a.createElement("span",{className:"errorMsg"},o[r.lapse_duration]):null)))):null,c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(b.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},c.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return c.a.createElement("option",{value:e.subclass_id},e.subclass_title)}))),r.subclass_id&&m.subclass_id?c.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(m.reg_number_part_one||m.reg_number_part_two||m.reg_number_part_three||m.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,c.a.createElement(b.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),c.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(m.looking_for_2||m.looking_for_3||m.looking_for_4)?c.a.createElement("span",{className:"error-message"},r.check_registration):""):null,c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),c.a.createElement(u.a,null)))))))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(k))},1239:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("gcv/vehicle/brand-with-image/4/".concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("gcv/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_GCV/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/SelectBrand_GCV/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("gcv/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,gross_vechicle_weight:o,seating:l})},t.setOtherVarient=function(e,a,n,r,l,o,s,c){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,gross_vechicle_weight:c,seating:s})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==c||null==c||void 0==c)return k()(a.PleaseVBrand,{button:a.OK}),!1;var i=new FormData,m=new D.a,d={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_GCV/".concat(n)};i.append("enc_data",m.encrypt(JSON.stringify(d))),console.log("Post Date---------- ",d),t.props.loadingStart(),y.a.post("gcv/insert-brand-model-varient",i).then((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_GCV/".concat(n)))})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],gross_vechicle_weight:"",seating:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.gross_vechicle_weight,C=a.seating,D=this.props.match.params.productId,B=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,A=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")});return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox selctGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},B.SBIGICL),i.a.createElement(v.e,{initialValues:A,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,B.GCVBrand," "),i.a.createElement("p",null,B.GCVDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},B.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},B.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},B.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},B.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},B.GcvBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},B.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,k||(s?"":w&&w.varientmodel&&w.varientmodel.gross_vechicle_weight?w.varientmodel.gross_vechicle_weight:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,B.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:B.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},B.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1240:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(61),A=t(25),O=t(20),x=t.n(O),H=(new Date("Y"),new D.a),R=C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar(),L=C()(C()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),j=C()(C()().subtract(1,"years").calendar()).add(0,"day").calendar(),F=C()(C()().subtract(1,"month").calendar()).add(1,"day").calendar(),q=C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),T=C()().subtract(1,"years").calendar(),V=C()().subtract(20,"years").calendar(),G=C()(C()().subtract(1,"months").calendar()).add(1,"day").calendar(),Y=C()(C()().subtract(1,"years").calendar()).add(31,"day").calendar(),J={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],duration:""},z=N.object().shape({registration_date:N.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,Y)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(A.b)(e,new Date)&&Math.floor(C()(G).diff(e,"days",!0)<0)})).test("checkGreaterTimes","RegistrationDateLessStartDate",(function(e){return!e||Object(A.b)(e,this.parent.previous_start_date)})),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),previous_start_date:N.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.date(),otherwise:N.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(A.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:N.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.date(),otherwise:N.date().test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(A.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_policy_name:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),insurance_company_id:N.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.number(),otherwise:N.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)}))}),previous_city:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"}))}),previous_policy_no:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"PleasePolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),previous_claim_bonus:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!("0"==this.parent.previous_is_claim&&"1"==this.parent.valid_previous_policy&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&"1"==this.parent.previous_policy_name&&(!e||"1"==e))})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&"2"==this.parent.no_of_claim&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90)}))}),previous_is_claim:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){new D.a;return!("2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.previous_policy_name&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&!e)}))}),no_of_claim:N.string().when(["previous_is_claim"],{is:function(e){return"1"==e},then:N.string().required("PleasePNOC"),otherwise:N.string()}),goodscarriedtypes_id:N.string().required((function(){return"PleaseSTOG"})).test("currentMonthChecking",(function(){return"HazardousGNA"}),(function(e){return"1"!=e})),averagemonthlyusages_id:N.string().required((function(){return"PleaseSAM"})),permittypes_id:N.string().required((function(){return"PleaseSTOP"})),valid_previous_policy:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().required((function(){return"RequiredField"}))}),claim_array:N.array().of(N.object().shape({claim_year:N.string((function(){return"PleaseEnterClaimYear"})).required((function(){return"PleaseEnterClaimYear"})).matches(/^[0-9]*$/,(function(){return"InvalidYear"})),claim_amount:N.string((function(){return"PleaseEnterClaiAmmount"})).required((function(){return"PleaseEnterClaiAmmount"})).matches(/^[0-9]*$/,(function(){return"InvalidAmout"})),type_of_claim:N.string((function(){return"PleaseEnterTypeClaim"})).required((function(){return"PleaseEnterTypeClaim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"InvalidValue"}))})),duration:N.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:N.string().required("Previous policy duration required"),otherwise:N.string()})}),Z=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"vehicleDetails",[]),Object(n.a)(e,"averagemonthlyusages",[]),Object(n.a)(e,"goodscarriedtypes",[]),Object(n.a)(e,"permittypes",[]),Object(n.a)(e,"location_reset_flag",0),Object(n.a)(e,"changeFlag",0),Object(n.a)(e,"no_of_claim",[]),e),l.dateRange=function(){return"2008"},l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/SelectBrand_GCV/".concat(e))},l.selectBrand=function(e){l.props.history.push("/SelectBrand_GCV/".concat(e))},l.showClaimText=function(e,a){1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,r=l.state,o=r.motorInsurance,s=r.changeFlag,c=H.whatIsCurrentMonth(e.registration_date)<7?6:1,i=Math.floor(C()().diff(e.registration_date,"months",!0));H.whatIsCurrentMonth(e.registration_date);if(1==s)return x()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return x()("Please fill all claim details"),!1;if("0"==e.valid_previous_policy&&(2==o.policytype_id||"3"==e.policy_type_id&&"1"==e.lapse_duration))return x()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1;(Math.floor(C()().diff(e.previous_end_date,"days",!0))>90||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(e.previous_claim_bonus=1);var m,d=new FormData,u=new P.a,p={};"2"==e.policy_type_id||"3"==e.policy_type_id&&"1"==e.lapse_duration?(m={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?C()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?C()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:i,policy_type:c,prev_policy_flag:1,averagemonthlyusage_id:e.averagemonthlyusages_id,goodscarriedtype_id:e.goodscarriedtypes_id,permittype_id:e.permittypes_id,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails_GCV/".concat(t),claim_array:JSON.stringify(e.claim_array)},Object(n.a)(m,"no_of_claim",e.no_of_claim),Object(n.a)(m,"duration",e.duration),Object(n.a)(m,"is_new_policy",0),p=m):("1"==e.policy_type_id||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(p={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_is_claim:"0",previous_claim_bonus:1,vehicleAge:i,policy_type:c,prev_policy_flag:0,averagemonthlyusage_id:e.averagemonthlyusages_id,goodscarriedtype_id:e.goodscarriedtypes_id,permittype_id:e.permittypes_id,valid_previous_policy:0,page_name:"VehicleDetails_GCV/".concat(t),claim_array:JSON.stringify(e.claim_array),no_of_claim:e.no_of_claim,duration:e.duration,is_new_policy:0});o&&"1"==o.policytype_id&&o&&""==o.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",p),d.append("enc_data",u.encrypt(JSON.stringify(p))),l.props.loadingStart(),w.a.post("gcv/insert-vehicle-details",d).then((function(e){var n=JSON.parse(u.decrypt(e.data));console.log("decrypt",n),l.props.loadingStop(),0==n.error?l.props.history.push("/OtherComprehensive_GCV/".concat(t)):a.setSubmitting(!1)})).catch((function(e){l.props.loadingStop();var t=JSON.parse(u.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),w.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new P.a;w.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};n.valid_previous_policy=n.policytype_id&&"1"==n.policytype_id?"0":n.valid_previous_policy;var r=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=r&&r.previouspoliciesclaims?r.previouspoliciesclaims.length:"",c=n&&n.rtolocation&&n.rtolocation.RTO_LOCATION?n.rtolocation.RTO_LOCATION:"",i=!r||0!=r.is_claim&&1!=r.is_claim?"":r.is_claim;l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchVehicleCarryingList=function(){l.props.match.params.productId;var e=new P.a;l.props.loadingStart(),w.a.get("gcv/carrying-capacity-list/4 ").then((function(a){var t=JSON.parse(e.decrypt(a.data)),n=t.data?t.data.averagemonthlyusages:[],r=t.data?t.data.goodscarriedtypes:[],o=t.data?t.data.permittypes:[];console.log("decrypt--fetchSubVehicle------ ",n),l.setState({averagemonthlyusages:n,goodscarriedtypes:r,permittypes:o}),l.fetchData()})).catch((function(e){l.props.loadingStop()}))},l.handleChange=function(e){var a=C()(e).add(1,"years").format("YYYY-MM-DD");l.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"Own Damage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e.previouspoliciesclaims?e.previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),i.a.createElement("option",{value:p},p)),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_year]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_amount]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l.registration=function(e){l.props.history.push("/Registration_GCV/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new P.a;w.a.get("gcv/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.insurerList,r=t.showClaim,l=t.previous_is_claim,o=t.motorInsurance,s=t.previousPolicy,_=t.CustomerID,E=t.suggestions,y=t.vehicleDetails,b=t.RTO_location,N=t.averagemonthlyusages,w=t.goodscarriedtypes,k=t.permittypes,P=t.location_reset_flag,D=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,I=Object.assign(J,{registration_date:o&&o.registration_date?new Date(o.registration_date):"",location_id:o&&o.location_id&&0==P?o.location_id:"",previous_start_date:s&&s.start_date?new Date(s.start_date):"",previous_end_date:s&&s.end_date?new Date(s.end_date):"",previous_policy_name:s&&s.name?s.name:"",insurance_company_id:s&&s.insurancecompany&&s.insurancecompany.Id?s.insurancecompany.Id:"",previous_city:s&&s.city?s.city:"",previous_policy_no:s&&s.policy_no?s.policy_no:"",previous_is_claim:l,previous_claim_bonus:s&&(s.claim_bonus||0==s.claim_bonus)?s.claim_bonus.toString():"1",no_of_claim:s&&s.previouspoliciesclaims?s.previouspoliciesclaims.length:"",goodscarriedtypes_id:o&&o.goodscarriedtype_id?o.goodscarriedtype_id:"",averagemonthlyusages_id:o&&o.averagemonthlyusage_id?o.averagemonthlyusage_id:"",permittypes_id:o&&o.permittype_id?o.permittype_id:"",policy_type_id:o&&o.policytype_id?o.policytype_id:"",valid_previous_policy:!o||0!=o.valid_previous_policy&&1!=o.valid_previous_policy?"":o.valid_previous_policy,duration:s&&s.duration?s.duration:"",lapse_duration:o&&o.lapse_duration?o.lapse_duration:"",claim_array:this.initClaimDetailsList()}),A={placeholder:D.SearchCity,value:_||b,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vehiGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},D.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},D.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:I,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:z},(function(t){var s=t.values,_=t.errors,f=t.setFieldValue,h=t.setFieldTouched,v=(t.isValid,t.isSubmitting),b=t.touched;return i.a.createElement(S.d,{enableReinitialize:!0},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},D.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",minDate:"1"==s.policy_type_id?new Date(G):new Date(V),maxDate:"1"==s.policy_type_id?new Date:new Date(j),dateFormat:"dd MMM yyyy",placeholderText:D.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.registration_date,onChange:function(e){f("registration_date",e),f("previous_end_date",""),f("previous_start_date","")}}),_.registration_date&&b.registration_date?i.a.createElement("span",{className:"errorMsg"},D[_.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},D.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(M.a,{suggestions:E,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:A,onChange:function(a){return e.onChange(a,f)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(h,f,n)}}),_.location_id&&b.location_id?i.a.createElement("span",{className:"errorMsg"},D[_.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"goodscarriedtypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.goodscarriedtypes_id},i.a.createElement("option",{value:""},D.GCVGoodsType),w.map((function(e,a){return i.a.createElement("option",{value:e.id},e.goodscarriedtype)}))),_.goodscarriedtypes_id&&b.goodscarriedtypes_id?i.a.createElement("span",{className:"errorMsg"},D[_.goodscarriedtypes_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"averagemonthlyusages_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.averagemonthlyusages_id},i.a.createElement("option",{value:""},D.GCVMonthlyUse),N.map((function(e,a){return i.a.createElement("option",{value:e.id},e.usage_description)}))),_.averagemonthlyusages_id&&b.averagemonthlyusages_id?i.a.createElement("span",{className:"errorMsg"},D[_.averagemonthlyusages_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"permittypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.permittypes_id},i.a.createElement("option",{value:""},D.GCVPermit),k.map((function(e,a){return i.a.createElement("option",{value:e.id},e.permittype)}))),_.permittypes_id&&b.permittypes_id?i.a.createElement("span",{className:"errorMsg"},D[_.permittypes_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==s.policy_type_id||"3"==s.policy_type_id&&"1"==s.lapse_duration?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",D.GCVValidPolicy," ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){h("valid_previous_policy"),f("valid_previous_policy",e.target.value)},checked:"0"==s.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",D.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){h("valid_previous_policy"),f("valid_previous_policy",e.target.value)},checked:"1"==s.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},D.Yes)),_.valid_previous_policy&&b.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},D[_.valid_previous_policy]):null)))))):null,("2"==s.policy_type_id||"3"==s.policy_type_id&&"1"==s.lapse_duration)&&"1"==s.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",D.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(s.duration&&s.previous_start_date){var a;a=C()(C()(s.previous_start_date).add(s.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),f("previous_end_date",new Date(a))}else f("previous_end_date","");else if(s.previous_start_date){var t=new Date(s.previous_start_date);t=t.setFullYear(t.getFullYear()+1);var n=new Date(t);n=n.setDate(n.getDate()-1),f("previous_policy_name",e.target.value),f("previous_end_date",new Date(n))}f("previous_policy_name",e.target.value)}},i.a.createElement("option",{value:""},D.SPT),i.a.createElement("option",{value:"1"},D.Package),i.a.createElement("option",{value:"2"},D.LiabilityOnly),i.a.createElement("option",{value:"3"},D.shortTerm)),_.previous_policy_name&&b.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},D[_.previous_policy_name]):null))),"3"==s.previous_policy_name?i.a.createElement(d.a,{sm:12,md:5,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.duration,onChange:function(e){var a=new Date;s.previous_start_date&&(a=C()(C()(s.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),f("previous_end_date",new Date(a))),f("duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),_.duration&&b.duration?i.a.createElement("span",{className:"errorMsg"},_.duration):null))):null,i.a.createElement(d.a,{sm:12,md:11,lg:"3"==s.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_start_date",minDate:"3"==s.policy_type_id?new Date(L):new Date(R),maxDate:"3"==s.previous_policy_name?new Date(F):"3"==s.policy_type_id?new Date(T):new Date(q),dateFormat:"dd MMM yyyy",placeholderText:D.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.previous_start_date,onChange:function(e){var a=new Date(e),t=new Date(e);new Date(e);if("3"==s.previous_policy_name)s.duration&&(t=C()(C()(e).add(s.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"));else if("1"==s.previous_policy_name||"2"==s.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1)}h("previous_start_date"),f("previous_end_date",new Date(t)),f("previous_start_date",e)}}),_.previous_start_date&&b.previous_start_date?i.a.createElement("span",{className:"errorMsg"},D[_.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:"3"==s.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:D.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.previous_end_date}),_.previous_end_date&&b.previous_end_date?i.a.createElement("span",{className:"errorMsg"},D[_.previous_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},D.SelectInsurer),n.map((function(e,a){return i.a.createElement("option",{key:a,value:e.Id},e.name)}))),_.insurance_company_id&&b.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},D[_.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:D.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),_.previous_city&&b.previous_city?i.a.createElement("span",{className:"errorMsg"},D[_.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_policy_no",type:"text",placeholder:D.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),_.previous_policy_no&&b.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},D[_.previous_policy_no]):null)))),("1"==s.previous_policy_name||"3"==s.previous_policy_name)&&Math.floor(C()().diff(s.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,D.ClaimODPolicy))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){h("previous_is_claim"),f("previous_is_claim",a.target.value),f("no_of_claim",""),f("claim_array",[]),e.showClaimText(0,s)},checked:"0"==s.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",D.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){h("previous_is_claim"),f("previous_is_claim",a.target.value),f("previous_claim_bonus","1"),e.showClaimText(1,s)},checked:"1"==s.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},D.YesIHave)),_.previous_is_claim&&b.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},D[_.previous_is_claim]):null))))),"2"==s.previous_claim_for||"0"==l?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},D.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:s.previous_claim_bonus},i.a.createElement("option",{value:""},"--",D.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),_.previous_claim_bonus&&b.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},D[_.previous_claim_bonus]):null)))):null,r||1==l?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:s.no_of_claim,onChange:function(a){h("no_of_claim"),f("no_of_claim",a.target.value),e.handleNoOfClaims(s,a.target.value)}},i.a.createElement("option",{value:""},D.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),_.no_of_claim&&b.no_of_claim?i.a.createElement("span",{className:"errorMsg"},D[_.no_of_claim]):null)))):null,""!=s.no_of_claim||"0"==l?e.handleClaims(s,_,b,h,f):null):null):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.selectBrand.bind(e,a)},v?D.Wait:D.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?D.Wait:D.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},D.RegNo,".",i.a.createElement("br",null),o&&o.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},D.GCVBrand,"- ",i.a.createElement("strong",null,y&&y.vehiclebrand&&y.vehiclebrand.name?y.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.vehiclemodel&&y.vehiclemodel.description?y.vehiclemodel.description+" "+y.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.seating?y.varientmodel.seating:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.gross_vechicle_weight?y.varientmodel.gross_vechicle_weight:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.fueltype?B.a[y.varientmodel.fueltype.id]:null," ")))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(Z))},1241:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=(t(98),t(0)),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(25),R=t(99),L=new I.a,j=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],F=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("PleasePACover"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseAdditionalTowingCharges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseEnterNoWorkman").matches(/^[0-9]*$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePACoverage").test("isLoanChecking",(function(){return"Value16Lto50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePaidDriv").matches(/^[0-9]$/,"PleaseProvideValidNumber"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvideIDV").test("isLoanChecking",(function(){return"Value1Kto10L"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),geographical_extension_length:M.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:M.string().test("geoExtention",(function(){return"SelectAnyOneCountry"}),(function(e){return!(e<1)})),otherwise:M.string()}),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("RegistrationNoRequired").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("ChassisNoIsRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChassisNo"})).min(5,(function(){return"ChassisNoMin"})).max(25,(function(){return"ChassisNoMax"}))}))}),q={B00002:j.B00002,B00003:j.B00003,B00004:j.B00004,B00005:j.B00005,B00006:j.B00006,B00007:j.B00007,B00008:j.B00008,B00009:j.B00009,B00010:j.B00010,B00011:j.B00011,B00012:j.B00012,B00013:j.B00013,B00069:j.B00069,B00070:j.B00070,B00071:j.B00071,B00015:j.B00015,B00073:j.B00073,B00018:j.B00018,B00019:j.B00019,B00020:j.B00020,B00022:j.B00022,GEOGRAPHYOD:j.GEOGRAPHYOD,GEOGRAPHYTP:j.GEOGRAPHYTP},T=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).handleChange=function(){r.setState({serverResponse:[],error:[]})},r.showCNGText=function(e){1==e?r.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):r.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},r.sliderValue=function(e){r.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},r.bodySliderValue=function(e){r.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},r.vehicleDetails=function(e){r.props.history.push("/VehicleDetails_GCV/".concat(e))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;D.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=n.trailers&&null!=n.trailers?n.trailers:null;c=null!=c?JSON.parse(c):[];var i=0,m=n&&n.registration_date?n.registration_date:"",d=l&&l.end_date?l.end_date:"",u=n?n.valid_previous_policy:"0",p=n?n.policytype_id:"";if(Math.floor(x()().diff(d,"months",!0))>1||"0"==u||"1"==p){var _=x()().format("YYYY-MM-DD");i=x()(_).diff(m,"days",!0)}else i=x()(d).add(1,"day").diff(m,"days",!0);console.log("vehicle_age---------- ",i);var g=[],f=[],h=n&&n.body_idv_value?n.body_idv_value:0,v=n&&n.idv_value?n.idv_value:0;if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){var E=["B00015"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015","B00006","B00010"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=["B00006","B00010"];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}else if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}f=f.flat(),g.PA_flag=n&&""!=n.pa_cover?"1":"0",g.PA_Cover=n&&""!=n.pa_cover?n.pa_cover:"0";var y=n&&null!=n.add_more_coverage_request_json?n.add_more_coverage_request_json:"",b=""!=y?JSON.parse(y):[],N=b&&b.geographical_extension?b.geographical_extension:[];g.ATC_value=b.ATC?b.ATC.value:"",g.B00005_value=b.B00005?b.B00005.value:"",g.B00018_value=b.B00018?b.B00018.value:"",g.B00069_value=b.B00069?b.B00069.value:"",g.B00012_value=b.B00012?b.B00012.value:"",g.B00013_value=b.B00013?b.B00013.value:"",g.B00022_value=b.B00022?b.B00022.value:"",g.B00020_value=b.B00020?b.B00020.value:"",g.B00004_value=b.B00004?b.B00004.value:"",g.B00004_description=b.B00004?b.B00004.description:"",g.B00003_value=b.B00003?b.B00003.value:"",g.B00003_description=b.B00003?b.B00003.description:"",g.B00073_value=b.B00073?b.B00073.value:"",g.B00073_description=b.B00073?b.B00073.description:"",g.B00007_value=b.B00007?b.B00007.value:"",g.B00007_description=b.B00007?b.B00007.description:"",g.B00070_value=b.B00070?b.B00070.value:"",g.trailer_array=c,r.setState({motorInsurance:n,add_more_coverage:f,request_data:o,vehicleDetails:s,bodySliderVal:h,sliderVal:v,showCNG:1==n.cng_kit,vahanVerify:!(!n.chasis_no||!n.engine_no),selectFlag:n&&null!=n.add_more_coverage?"0":"1",no_of_claim:b.B00007?b.B00007.value:"",add_more_coverage_request_array:b,trailer_array:c,geographical_extension:N,vehicle_age:i}),r.props.loadingStop(),r.depreciation(g)})).catch((function(e){r.props.loadingStop()}))},r.depreciation=function(e){var a=r.state.vehicle_age,t=new FormData;r.props.loadingStart();var n={vehicle_age:a},l=new I.a;t.append("enc_data",l.encrypt(JSON.stringify(n))),D.a.post("/miscd/getMaxBodyIDV",t).then((function(a){var t=JSON.parse(l.decrypt(a.data));r.setState({depreciationPercentage:t.data}),r.getAccessToken(e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getAccessToken=function(e){r.props.loadingStart(),D.a.post("/callTokenService").then((function(a){r.setState({accessToken:a.data.access_token}),r.fullQuote(a.data.access_token,e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getFuelList=function(e){r.props.loadingStart(),D.a.get("/fuel-list").then((function(e){r.setState({fuelList:e.data.data.fuellist}),r.fetchData()})).catch((function(e){r.setState({fuelList:[]}),r.props.loadingStop()}))},r.getMoreCoverage=function(){r.props.loadingStart();var e=new I.a;D.a.get("gcv/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data)).data;console.log("decryptResp--getMoreCoverage-- ",t),r.setState({moreCoverage:t}),r.getFuelList()})).catch((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptERR--getMoreCoverage-- ",t),r.setState({moreCoverage:[]}),r.props.loadingStop()}))},r.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,n,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),n("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",r.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return r.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){r.setState({vahanDetails:e.data,vahanVerify:!0}),r.state.vahanDetails.data[0].chasiNo&&r.setState({chasiNo:r.state.vahanDetails.data[0].chasiNo}),r.state.vahanDetails.data[0].engineNo&&r.setState({engineNo:r.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),n("vahanVerify",!0),t("engine_no"),n("engine_no",r.state.engineNo),t("chasis_no"),n("chasis_no",r.state.chasiNo),r.props.loadingStop()})).catch((function(e){r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop()}));case 12:e.next=19;break;case 14:r.props.loadingStart(),r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),r.fullQuote=function(e,a){var t,l,o=r.state,s=o.PolicyArray,c=o.sliderVal,i=o.add_more_coverage,m=o.motorInsurance,d=o.bodySliderVal,u=o.vehicleDetails,p=o.geographical_extension,_=(o.chasis_price,o.userIdvStatus),g=o.bodyIdvStatus,f=(s.length>0&&Math.round(s[0].PolicyRiskList[0].IDV_User),{}),h=new FormData,v=new I.a,E=0;i&&(f={B00018:{value:a.B00018_value},B00069:{value:a.B00069_value},B00012:{value:a.B00012_value},B00013:{value:a.B00013_value},B00022:{value:a.B00022_value},B00020:{value:a.B00020_value},ATC:{value:a.ATC_value},B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00073:{value:a.B00073_value,description:a.B00073_description},B00007:{value:a.B00007_value,description:a.B00007_description},B00070:{value:a.B00070_value},B00005:{value:a.B00005_value},geographical_extension:p},a.B00004_value&&(E+=parseInt(a.B00004_value)),a.B00003_value&&(E+=parseInt(a.B00003_value)));var y=(t={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,idv_value:c||0,policy_type:m.policy_type,add_more_coverage:i.toString(),PA_Cover:a.PA_flag?a.PA_Cover:"0",coverage_data:JSON.stringify(f),body_idv_value:d||0,trailer_array:a.trailer_array,userIdvStatus:_||0,bodyIdvStatus:g||0},Object(n.a)(t,"trailer_array",a.trailer_array),Object(n.a)(t,"fuel_type",a.fuel_type?a.fuel_type:u&&u.varientmodel&&u.varientmodel.fueltype?u.varientmodel.fueltype.id:""),t);l=parseInt(E)+parseInt(y.idv_value)+parseInt(y.body_idv_value),console.log("fullQuote_post_data",y);var b=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(b&&(b=JSON.parse(v.decrypt(b.user)),l>5e6&&"POSP"==b.user_type))return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;h.append("enc_data",v.encrypt(JSON.stringify(y))),D.a.post("fullQuotePMGCV",h).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_TotalPremium-e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_NCBAmount:0;e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList,e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsGeographicalExtension;r.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],ncbDiscount:a,userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.PolicyObject.PolicyLobList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var t=[];for(var n in e.data.UnderwritingResult.MessageList)t.push(e.data.UnderwritingResult.MessageList[n].Message);r.setState({fulQuoteResp:e.data.PolicyObject,userIdvStatus:1,bodyIdvStatus:1,error:{message:0},validation_error:t,serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){t=[];for(var l in e.data.messages){var o="";e.data.messages[l].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[l].code?(o="It is blacklisted vehicle. Please contact Relationship manager",A()(o)):o=e.data.messages[l].message,t.push(o)}r.setState({fulQuoteResp:[],add_more_coverage:i,validation_error:t,error:{message:0},serverResponse:[]})}else r.setState({fulQuoteResp:[],add_more_coverage:i,userIdvStatus:1,bodyIdvStatus:1,error:{message:1},serverResponse:[]});r.props.loadingStop()})).catch((function(e){r.setState({serverResponse:[]}),r.props.loadingStop()}))},r.handleSubmit=function(e){var a=r.props.match.params.productId,t=r.state,n=(t.motorInsurance,t.PolicyArray),l=t.sliderVal,o=t.add_more_coverage,s=t.bodySliderVal,c=t.geographical_extension,i=n.length>0?Math.round(n[0].PolicyRiskList[0].IDV_User):0,m={},d=n.length>0?Math.round(n[0].PolicyRiskList[0].SumInsured):0;o&&(m={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value},geographical_extension:c});var u=new FormData,p=new I.a,_=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";_.user&&(_=JSON.parse(p.decrypt(_.user)));var g={};if(g=o.length>0?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():i.toString(),add_more_coverage:o,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive_GCV/".concat(a),coverage_data:JSON.stringify(m),body_idv_value:s||0,fuel_type:e.fuel_type,trailer_array:e.trailer_array}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():i.toString(),puc:e.puc,page_name:"OtherComprehensive_GCV/".concat(a),body_idv_value:s||0,fuel_type:e.fuel_type},_&&d){if(R.a.includes(_.login_type)&&o.indexOf("B00015")<0)return A()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(d>5e6&&"POSP"==_.user_type)return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;console.log("--post Data-- ",g),e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(u.append("enc_data",p.encrypt(JSON.stringify(g))),r.props.loadingStart(),D.a.post("gcv/update-insured-value",u).then((function(e){r.props.loadingStop();var t=JSON.parse(p.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?r.props.history.push("/AdditionalDetails_GCV/".concat(a)):A()(t.msg)})).catch((function(e){var a=JSON.parse(p.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),r.props.loadingStop()}))):A()("Chasis no mismatch")}},r.onRowSelect=function(e,a,t,n,l){var o=r.state.add_more_coverage;if(t)o.push(e),r.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),l("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),l("electric_flag","1")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","1")),"geographical_extension"==e&&(n("Geographical_flag"),l("Geographical_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),r.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),l("PA_flag","0"),n("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),l("electric_flag","0")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","0")),"geographical_extension"==e&&(n("Geographical_flag"),l("Geographical_flag","0"),l("GeoExtnBhutan",""),l("GeoExtnNepal",""),l("GeoExtnMaldives",""),l("GeoExtnPakistan",""),l("GeoExtnSriLanka",""),l("GeoExtnBangladesh",""),r.setState({geographical_extension:[]}))}},r.onGeoAreaSelect=function(e,a,t,n,l){var o=r.state,s=(o.add_more_coverage,o.geographical_extension);if(t)s.push(e),r.setState({geographical_extension:s,serverResponse:[],error:[]}),n(e),l(e,"1"),n("geographical_extension_length"),l("geographical_extension_length",s.length);else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),r.setState({serverResponse:[],error:[]})),n(e),l(e,""),n("geographical_extension_length"),l("geographical_extension_length",s.length)}},r.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},r.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var n=t;n>=a;n--)e.trailer_array.splice(n,1);else if(e.trailer_array.length<a)for(n=e.trailer_array.length;n<a;n++)e.trailer_array.push({chassisNo:"",regNo:""});r.setState({no_of_claim:a,serverResponse:[],error:[]})},r.initClaimDetailsList=function(){for(var e=[],a=r.state.trailer_array,t=0;t<r.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},r.handleClaims=function(e,a,t,n,l){for(var o=[],s=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],c=0;c<e.B00007_value;c++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)},onInput:function(e){r.regnoFormat(e,n,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},s[a.trailer_array[c].regNo]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},s[a.trailer_array[c].chassisNo]):null))))));return o},r.handleShow=r.handleShow.bind(Object(i.a)(r)),r.handleClose=r.handleClose.bind(Object(i.a)(r)),r.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,geographical_extension:[],validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},r}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.add_more_coverage,n=(a.is_CNG_account,a.vahanDetails,a.error),r=a.policyCoverage,l=a.vahanVerify,o=a.selectFlag,s=a.fulQuoteResp,c=a.PolicyArray,i=a.validation_error,m=a.depreciationPercentage,d=a.vehicleDetails,E=a.geographical_extension,k=a.moreCoverage,C=a.sliderVal,P=a.bodySliderVal,D=a.motorInsurance,I=a.serverResponse,M=a.engine_no,B=a.chasis_no,O=a.initialValue,x=a.add_more_coverage_request_array,H=a.ncbDiscount,j=this.props.match.params.productId,T=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";T.user&&(T=JSON.parse(L.decrypt(T.user)));var V=C,G=c.length>0?c[0].PolicyRiskList[0].MinIDV_Suggested:0,Y=c.length>0?c[0].PolicyRiskList[0].MaxIDV_Suggested:0,J=G,z=c.length>0?Math.floor(Y):null,Z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[];0==Number.isInteger(G)&&(J=c.length>0?Math.floor(c[0].PolicyRiskList[0].MinIDV_Suggested):null,J+=1);var $=c.length>0?c[0].PolicyRiskList[0].MSP-c[0].PolicyRiskList[0].MSP*(m/100):0,U=c.length>0?Math.floor($/2):0,Q=P,W=D&&D.add_more_coverage?D.add_more_coverage.split(","):"",K={},X=!D||null!=D.pa_cover&&""!=D.pa_cover?"1":"0",ee=D&&null!=D.pa_cover?D.pa_cover:"",ae=d&&d.varientmodel&&d.varientmodel.fueltype?d.varientmodel.fueltype.id:"",te=x.B00007&&x.B00007.value?"1":"0",ne=x.B00073&&x.B00073.value?"1":"0",re=x.B00004&&x.B00004.value?"1":"0",le=x.B00003&&x.B00003.value?"1":"0",oe=x.B00020&&x.B00020.value?"1":"0",se=x.B00022&&x.B00022.value?"1":"0",ce=x.B00013&&x.B00013.value?"1":"0",ie=x.B00012&&x.B00012.value?"1":"0",me=x.B00069&&x.B00069.value?"1":"0",de=x.B00018&&x.B00018.value?"1":"0",ue=x.ATC&&x.ATC.value?"1":"0",pe=x.B00070&&x.B00070.value?"1":"0",_e=x.B00011&&x.B00011.value?"1":"0",ge=x.B00005&&x.B00005.value?"1":"0",fe=t&&t[t.indexOf("geographical_extension")]?"1":"0",he={};he="1"==o?Object.assign(O,{registration_no:D.registration_no?D.registration_no:"",chasis_no:D.chasis_no?D.chasis_no:B||"",chasis_no_last_part:D.chasis_no_last_part?D.chasis_no_last_part:"",add_more_coverage:D.add_more_coverage?D.add_more_coverage:"",engine_no:D.engine_no?D.engine_no:M||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:D&&"2"==D.policy_for?"":"B00015",B00006:d&&d.varientmodel&&(3==d.varientmodel.fueltype.id||4==d.varientmodel.fueltype.id)?"B00006":"",B00010:d&&d.varientmodel&&(3==d.varientmodel.fueltype.id||4==d.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:D&&"2"==D.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:ae,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:E&&E.length}):Object.assign(O,{registration_no:D.registration_no?D.registration_no:"",chasis_no:D.chasis_no?D.chasis_no:B||"",chasis_no_last_part:D.chasis_no_last_part?D.chasis_no_last_part:"",add_more_coverage:D.add_more_coverage?D.add_more_coverage:"",engine_no:D.engine_no?D.engine_no:M||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:D&&D.pa_flag?D.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:ae,trailer_flag_TP:"0",B00015:"",B00010:"",trailer_array:this.initClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:E&&E.length});for(var ve=0;ve<W.length;ve++)K[W[ve]]=W[ve];K.slider=V,K.PA_flag=X,K.trailer_flag=te,K.pa_coolie_flag=ne,K.electric_flag=re,K.nonElectric_flag=le,K.hospital_cash_OD_flag=oe,K.hospital_cash_PD_flag=se,K.LL_PD_flag=ce,K.LL_Emp_flag=ie,K.LL_Coolie_flag=me,K.enhance_PA_OD_flag=de,K.ATC_flag=ue,K.LL_workman_flag=pe,K.PA_Cover=ee,K.trailer_flag_TP=_e,K.CNG_OD_flag=ge,K.Geographical_flag=fe,K.ATC_value=x.ATC?x.ATC.value:"",K.B00018_value=x.B00018?x.B00018.value:"",K.B00069_value=x.B00069?x.B00069.value:"",K.B00012_value=x.B00012?x.B00012.value:"",K.B00013_value=x.B00013?x.B00013.value:"",K.B00022_value=x.B00022?x.B00022.value:"",K.B00020_value=x.B00020?x.B00020.value:"",K.B00004_value=x.B00004?x.B00004.value:"",K.B00004_description=x.B00004?x.B00004.description:"",K.B00003_value=x.B00003?x.B00003.value:"",K.B00003_description=x.B00003?x.B00003.description:"",K.B00073_value=x.B00073?x.B00073.value:"",K.B00073_description=x.B00073?x.B00073.description:"",K.B00007_value=x.B00007?x.B00007.value:"",K.B00007_description=x.B00007?x.B00007.description:"",K.B00070_value=x.B00070?x.B00070.value:"",K.B00005_value=x.B00005?x.B00005.value:"",K.GeoExtnBangladesh=E?E[E.indexOf("GeoExtnBangladesh")]:"",K.GeoExtnBhutan=E?E[E.indexOf("GeoExtnBhutan")]:"",K.GeoExtnNepal=E?E[E.indexOf("GeoExtnNepal")]:"",K.GeoExtnMaldives=E?E[E.indexOf("GeoExtnMaldives")]:"",K.GeoExtnPakistan=E?E[E.indexOf("GeoExtnPakistan")]:"",K.GeoExtnSriLanka=E?E[E.indexOf("GeoExtnSriLanka")]:"",he=Object.assign(O,K);I.PolicyLobList&&I.PolicyLobList[0].PolicyRiskList[0];var Ee=0;r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?Ee+=e.AnnualPremium:0}))}));var ye=1,be=1,Ne=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.AnnualPremium)))):"B00007"==e.ProductElementCode&&1==ye?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6,data:ye+=1},p.a.createElement(f.a,null,"\u20b9 ",Math.round(Ee)))):null)}))})):null,Se=H&&0!=H&&1==be?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,Z.NCBDiscount)),p.a.createElement(_.a,{sm:12,md:6,data:be+=1},p.a.createElement(f.a,null,"\u20b9 - ",Math.round(H)))):null,we=s&&s.PolicyLobList&&Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,Z.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null;ye=1,be=1;var ke=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?p.a.createElement("tr",null,p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.AnnualPremium))):"B00007"==e.ProductElementCode&&1==ye?p.a.createElement("tr",{label:ye+=1},p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(Ee))):null}))})):null,Ce=H&&0!=H&&1==be?p.a.createElement("tr",{label:be+=1},p.a.createElement("td",null,Z.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 - ",Math.round(H))):null,Pe=s&&s.PolicyLobList&&Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,Z.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,De=n&&n.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Ie=i?i.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox ocGcv"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},Z.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},Z.GSBVehicleDamage),p.a.createElement("h5",null,De),p.a.createElement("h5",null,Ie))),p.a.createElement(b.e,{initialValues:he,onSubmit:I&&""!=I?I.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:F},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:Z.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},Ne,Se,we))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},Z.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},Z[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},Z.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&o.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},Z[n.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},Z.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},Z[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:Z.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&o.engine_no?p.a.createElement("span",{className:"errorMsg"},Z[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:Z.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&o.chasis_no?p.a.createElement("span",{className:"errorMsg"},Z[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},Z.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:V}),n.IDV&&o.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),V?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",min:J,max:z,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:V,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},Z.BodyIDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"body_idv_value",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:Q}),n.body_idv_value&&o.body_idv_value?p.a.createElement("span",{className:"errorMsg"},n.body_idv_value):null))),V?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider1",min:0,max:U,step:"1",disabled:0==e.state.bodyIdvStatus?"disabled":"",value:Q,onChange:function(a){l("slider1"),r("slider1",t.slider1),e.bodySliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},Z.AddMoreCoverage)))),n.B00007||n.B00011?p.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,k&&k.length>0?k.map((function(a,s){return p.a.createElement(g.a,{key:s},D&&"2"==D.policy_for&&"B00015"!=a.code&&"B00018"!=a.code||D&&"1"==D.policy_for?p.a.createElement(_.a,{sm:12,md:11,lg:6,key:s+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!R.a.includes(T.login_type)||"B00015"!=t[a.code]),onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(Z.SwalIRDAI,{button:Z.OK}),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},p.a.createElement("option",{value:""},Z.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:Z.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?p.a.createElement("span",{className:"errorMsg"},Z[n.B00007_description]):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},Z.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00073_value?p.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:Z.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?p.a.createElement("span",{className:"errorMsg"},Z[n.B00073_description]):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:Z.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:Z.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},Z[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:Z.ValueOfAccessory,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:Z.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},Z[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"Sum insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00005_value]):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},Z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00020_value?p.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},Z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00022_value?p.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},Z.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:Z.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:Z.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:Z.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00018_value]):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:Z.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?p.a.createElement("span",{className:"errorMsg"},Z[n.B00070_value]):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},Z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.ATC_value?p.a.createElement("span",{className:"errorMsg"},Z[n.ATC_value]):null)))):null,"1"==t.Geographical_flag&&"geographical_extension"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,n){return"1"==a.status?p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:t[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,t,a.target.checked,l,r)}}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"})):null})),n.geographical_extension_length?p.a.createElement("span",{className:"errorMsg"},Z[n.geographical_extension_length]):null)):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,o,l,r):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},Z.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",Z.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",Z.No)),n.puc&&o.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,j)},Z.Back),I&&""!=I?I.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},Z.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},Z.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},Z.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",Z.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",s.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},Z.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,Z.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,Z.Premium,":"),p.a.createElement("th",null,"\u20b9 ",s.DuePremium))),p.a.createElement("tbody",null,ke,Ce,Pe,p.a.createElement("tr",null,p.a.createElement("td",null,Z.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,Z.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(T))},1242:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required().test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please enter appointee name").min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("This field is required"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Name"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Branch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_GCV/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:4,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_GCV/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("gcv/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_GCV/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("gcv/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aditionalCgv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"8"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var n=e.values,r=e.errors,v=e.setFieldValue,E=e.setFieldTouched,y=(e.isValid,e.isSubmitting),w=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==n.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==n.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),r.is_carloan&&w.is_carloan?i.a.createElement("span",{className:"errorMsg"},r.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_name}),r.bank_name&&w.bank_name?i.a.createElement("span",{className:"errorMsg"},z[r.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_branch}),r.bank_branch&&w.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[r.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.salutation_id&&w.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[r.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==n.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.first_name}),r.first_name&&w.first_name?i.a.createElement("span",{className:"errorMsg"},z[r.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.gstn_no.toUpperCase(),onChange:function(e){return v("gstn_no",e.target.value.toUpperCase())}}),r.gstn_no&&w.gstn_no?i.a.createElement("span",{className:"errorMsg"},r.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.gender&&w.gender?i.a.createElement("span",{className:"errorMsg"},z[r.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");v("dob",a),v("age",e.target.value)}}),r.age&&w.age?i.a.createElement("span",{className:"errorMsg"},z[r.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:n.date_of_incorporation,onChange:function(e){E("date_of_incorporation"),v("date_of_incorporation",e)}}),r.date_of_incorporation&&w.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[r.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.phone,maxLength:"10",className:"phoneinput pd-l-25"}),r.phone&&w.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[r.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.address}),r.address&&w.address?i.a.createElement("span",{className:"errorMsg"},z[r.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:n.pincode,maxLength:"6",onInput:function(e){E("state"),E("pincode"),v("pincode",e.target.value),v("state",L?L[0]:n.state),v("pincode_id","")}}),r.pincode&&w.pincode?i.a.createElement("span",{className:"errorMsg"},z[r.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&w.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[r.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||n.state,disabled:!0}),r.state&&w.state?i.a.createElement("span",{className:"errorMsg"},r.state):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:n.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),r.org_level&&w.org_level?i.a.createElement("span",{className:"errorMsg"},r.org_level):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))):null):null,k&&"1"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null)))):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.nominee_salutation&&w.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_first_name}),r.nominee_first_name&&w.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.nominee_gender&&w.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),v("nominee_dob",t),v("nominee_age",e.target.value)}}),r.nominee_age&&w.nominee_age?i.a.createElement("span",{className:"errorMsg"},r.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:n.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id},e.name):null}))),r.nominee_relation_with&&w.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.appointee_name}),r.appointee_name&&w.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),r.appointee_relation_with&&w.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIAAccount,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account&&w.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:n.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),r.eia_no&&w.eia_no?i.a.createElement("span",{className:"errorMsg"},z[r.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account2&&w.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&w.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!y,onClick:a.otherComprehensive.bind(a,J)},y?z["Wait.."]:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!y},y?z["Wait.."]:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1243:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_GCV/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,menumaster:d,step_completed:i,bcMaster:m,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(O.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";return m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),a.append("page_name","Premium_GCV/".concat(t.props.match.params.productId)),t.props.loadingStart(),new Promise((function(e,n){y.a.post("breakin/create",a).then((function(a){0==a.data.error?(M()("Your breakin request has been raised. Your inspection Number: ".concat(a.data.data.inspection_no)),e(a.data.data.inspection_no),t.props.loadingStop()):(M()("Error: ".concat(a.data.msg)),n(Error("Promise rejected")),t.props.loadingStop())})).catch((function(e){n(Error("Promise rejected")),t.props.loadingStop()}))}))},t.getAccessToken=function(e){y.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData,r=new k.a,l=t.state,o=l.previousPolicy,s=l.request_data,c=l.policyHolder,i=a.trailers?a.trailers:null;i=i?JSON.parse(i):[],t.breakinService(a,o,s,c).then((function(l){var o={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",access_token:e,idv_value:t.state.request_data.IDV_Suggested?t.state.request_data.IDV_Suggested:"0",policy_type:a.policy_type,add_more_coverage:a.add_more_coverage,PA_Cover:a&&a.pa_cover?a.pa_cover:"0",coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:"",body_idv_value:t.state.request_data.VehicleBodyPrice?t.state.request_data.VehicleBodyPrice:"0",userIdvStatus:1,bodyIdvStatus:1,trailer_array:i};n.append("enc_data",r.encrypt(JSON.stringify(o))),console.log("post_data--fullQuotePMGCV- ",o),y.a.post("fullQuotePMGCV",n).then((function(e){e.data.PolicyObject?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.ValidateResult?M()(e.data.ValidateResult.message):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))}))},t.breakinService=function(e,a,n,r){var l=e&&e.policytype_id?e.policytype_id:"",o=0;return new Promise((function(s,c){if(a&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status||"3"==l&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status){o=a?Math.floor(A()().diff(a.end_date,"days",!0)):"";var i=a?a.name:"";if(o>0||"2"==i||"3"==l){var m=new FormData,d=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";m.append("policy_ref_no",d),y.a.post("breakin/checking",m).then((function(a){var r=a.data.data.break_in_checking,l=a.data.data.break_in_inspection_no,o=a.data.data.break_in_status;1==r?(t.setState({breakin_flag:1}),""!=l||null!=o&&"0"!=o?(s({inspectionNumber:l,inspection:1}),M()({title:"Breakin",text:"Breakin already raised. \nBreaking number ".concat(l,"."),icon:"warning"})):M()({title:"Breakin",text:"Your Quotation number is ".concat(n.quote_id,". Your vehicle needs inspection. Do you want to raise inspection."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a?t.callBreakin(e&&e.registration_no).then((function(e){s({inspectionNumber:e,inspection:1})})).catch((function(e){c(e)})):t.props.loadingStop()}))):s({inspectionNumber:"",inspection:2})})).catch((function(e){t.setState({breakin_flag:1}),t.props.loadingStop()}))}else s({inspectionNumber:"",inspection:0})}else s({inspectionNumber:"",inspection:0})}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.fulQuoteResp),r=a.motorInsurance,l=a.error,o=(a.error1,a.refNumber,a.paymentStatus),s=a.bcMaster,c=a.paymentgateway,_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.breakin_flag,w=a.step_completed,k=a.request_data,C=(a.menumaster,this.props.match.params.productId),P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,I=l&&l.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,M=o&&103==o.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),w>="4"&&"8"==N.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumCgv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},P.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var l=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,P.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,I),i.a.createElement("h5",null,M),i.a.createElement("h4",null,P.PolRefNumber," ",n.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:P.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},k&&k.start_date?A()(k.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},k&&k.end_date?A()(k.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:P.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.Premium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.DuePremium)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.GST,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:P.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.chasis_no?r.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.engine_no?r.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?D.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.body_style?N.varientmodel.body_style:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.GrossVehicleWeight)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.gross_vechicle_weight?N.varientmodel.gross_vechicle_weight:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:P.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,P.OwnerDetails," "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==r.policy_for?i.a.createElement(u.a,null,P.Name,":"):i.a.createElement(u.a,null,P.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y&&y.dob?Math.floor(A()().diff(y.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==r.policy_for&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,P.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(A()().diff(b.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&"m"==b.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==r.policy_for&&b&&"1"==b.is_appointee&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,P.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},P.SelectPayGateway,c&&c.length>0?c.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,C)},P.Back),s&&1==s.eligible_for_payment_link&&0==S?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",P.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,n.QuotationNo&&0==S&&""!=l.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},P.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))):""==w?"Forbidden":null,i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(R))},1244:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(25),S={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:"1"},w=h.object().shape({check_registration:h.string().notRequired(),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.g)(e)})),otherwise:h.string().nullable()}),policy_type:h.string().required("PleaseSPT"),policy_for:h.string().required("PleasePIC"),subclass_id:h.string().required("PleaseSSP")}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;p.a.get("gcv/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.motorinsurance;e.setState({motorInsurance:r}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new y.a;e.props.loadingStart(),p.a.get("gcv/sub-vehical-list/4").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t,n=e.props.match.params.productId,r=new FormData,l=new y.a,o=e.state,s=(o.fastLaneData,o.fastlanelog),c={},i=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four;t={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four};var m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(l.decrypt(d))),m>0?(c=sessionStorage.getItem("csc_id")?{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:n,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",page_name:"Registration_GCVST/".concat(n),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""}:{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:n,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCVST/".concat(n),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""},console.log("post_data",c),r.append("enc_data",l.encrypt(JSON.stringify(c))),e.props.loadingStart(),p.a.post("gcv/update-registration",r).then((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decrypt",t),0==t.error?e.props.history.push("/SelectBrand_GCVST/".concat(n)):E()(t.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&E()("Registration number required..."),e.props.loadingStop()}))):(c=sessionStorage.getItem("csc_id")?{registration_no:i,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:n,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",page_name:"Registration_GCVST/".concat(n),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""}:{registration_no:i,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:n,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCVST/".concat(n),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""},console.log("post_data",c),r.append("enc_data",l.encrypt(JSON.stringify(c))),e.props.loadingStart(),p.a.post("gcv/registration",r).then((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decrypt",t),e.props.loadingStop(),0==t.error?(localStorage.setItem("policyHolder_id",t.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",t.data.policyHolder_refNo),e.props.history.push("/SelectBrand_GCVST/".concat(n))):E()(t.msg)})).catch((function(a){e.props.loadingStop(),a&&a.data&&E()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers&&JSON.parse(t.registration_part_numbers),l=Object.assign(S,{reg_number_part_one:r&&r.reg_number_part_one?r.reg_number_part_one:"",reg_number_part_two:r&&r.reg_number_part_two?r.reg_number_part_two:"",reg_number_part_three:r&&r.reg_number_part_three?r.reg_number_part_three:"",reg_number_part_four:r&&r.reg_number_part_four?r.reg_number_part_four:"",regNumber:t&&t.registration_no?t.registration_no:"",policy_type:"2",policy_for:"1",subclass_id:t&&t.subclass_id?t.subclass_id:""}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox regcv2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},o.About),c.a.createElement(b.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:w},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,m=(a.isValid,a.isSubmitting,a.touched);return c.a.createElement(b.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.GCVPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Individual)))))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.TellAboutPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.RollOver)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(b.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},c.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return c.a.createElement("option",{value:e.subclass_id},e.subclass_title)}))),r.subclass_id&&m.subclass_id?c.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(m.reg_number_part_one||m.reg_number_part_two||m.reg_number_part_three||m.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,c.a.createElement(b.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),c.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(m.looking_for_2||m.looking_for_3||m.looking_for_4)?c.a.createElement("span",{className:"error-message"},r.check_registration):""):null,c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),c.a.createElement(u.a,null)))))))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(k))},1245:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("gcv/vehicle/brand-with-image/4/".concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("gcv/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_GCVST/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/SelectBrand_GCVST/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("gcv/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,gross_vechicle_weight:o,seating:l})},t.setOtherVarient=function(e,a,n,r,l,o,s,c){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,gross_vechicle_weight:c,seating:s})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==c||null==c||void 0==c)return k()(a.PleaseVBrand,{button:a.OK}),!1;var i=new FormData,m=new D.a,d={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_GCVST/".concat(n)};i.append("enc_data",m.encrypt(JSON.stringify(d))),console.log("Post Date---------- ",d),t.props.loadingStart(),y.a.post("gcv/insert-brand-model-varient",i).then((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_GCVST/".concat(n)))})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],gross_vechicle_weight:"",seating:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.gross_vechicle_weight,C=a.seating,D=this.props.match.params.productId,B=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,A=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")});return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox selctGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},B.SBIGICL),i.a.createElement(v.e,{initialValues:A,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,B.GCVBrand," "),i.a.createElement("p",null,B.GCVDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},B.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},B.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},B.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},B.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},B.GcvBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},B.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,k||(s?"":w&&w.varientmodel&&w.varientmodel.gross_vechicle_weight?w.varientmodel.gross_vechicle_weight:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},B.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,B.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:B.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},B.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1246:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(61),A=t(25),O=t(20),x=t.n(O),H=(new Date("Y"),new D.a),R=C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar(),L=C()(C()().subtract(1,"years").calendar()).add(0,"day").calendar(),j=C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),F=C()(C()().subtract(1,"month").calendar()).add(1,"day").calendar(),q=C()().subtract(20,"years").calendar(),T=C()(C()().subtract(1,"months").calendar()).add(1,"day").calendar(),V=C()(C()().subtract(1,"years").calendar()).add(31,"day").calendar(),G={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],new_policy_duration:"",duration:"",new_policy_start_date:"",new_policy_end_date:""},Y=N.object().shape({registration_date:N.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,V)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(A.b)(e,new Date)&&Math.floor(C()(T).diff(e,"days",!0)<0)})).test("checkGreaterTimes","RegistrationDateLessStartDate",(function(e){return!e||Object(A.b)(e,this.parent.previous_start_date)})),new_policy_duration:N.string().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.string().required("Policy duration required"),otherwise:N.string()}),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),new_policy_start_date:N.date().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.date().required("PleaseESD").test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,this.parent.new_policy_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.new_policy_end_date||void 0!=e||"2"!=this.parent.policy_type_id})),otherwise:N.date()}),new_policy_end_date:N.date().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.date().required("PleaseEED").test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.c)(e,this.parent.new_policy_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.new_policy_start_date||void 0!=e||"2"!=this.parent.policy_type_id})),otherwise:N.date()}),previous_start_date:N.date().notRequired("Previous Start date is required").test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(A.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_end_date:N.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(A.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_policy_name:N.string().notRequired("PleaseSPT").test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0})),insurance_company_id:N.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})),previous_city:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),previous_policy_no:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"})),previous_claim_bonus:N.mixed().notRequired("No Claim bonus is required").test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!("0"==this.parent.previous_is_claim&&"1"==this.parent.valid_previous_policy&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&("1"==this.parent.previous_policy_name||"3"==this.parent.previous_policy_name)&&(!e||"1"==e))})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!!("1"!=this.parent.previous_is_claim||e&&"1"!=e||"2"!=this.parent.no_of_claim)})),previous_is_claim:N.string().notRequired("Please select one option").test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){new D.a;return!("2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.previous_policy_name&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&!e)})),duration:N.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:N.string().required("Previous policy duration required"),otherwise:N.string()}),no_of_claim:N.string().when(["previous_is_claim"],{is:function(e){return"1"==e},then:N.string().required("PleasePNOC"),otherwise:N.string()}),goodscarriedtypes_id:N.string().required((function(){return"PleaseSTOG"})).test("currentMonthChecking",(function(){return"HazardousGNA"}),(function(e){return"1"!=e})),averagemonthlyusages_id:N.string().required((function(){return"PleaseSAM"})),permittypes_id:N.string().required((function(){return"PleaseSTOP"})),valid_previous_policy:N.string().required((function(){return"RequiredField"})),claim_array:N.array().of(N.object().shape({claim_year:N.string((function(){return"PleaseEnterClaimYear"})).required((function(){return"PleaseEnterClaimYear"})).matches(/^[0-9]*$/,(function(){return"InvalidYear"})),claim_amount:N.string((function(){return"PleaseEnterClaiAmmount"})).required((function(){return"PleaseEnterClaiAmmount"})).matches(/^[0-9]*$/,(function(){return"InvalidAmout"})),type_of_claim:N.string((function(){return"PleaseEnterTypeClaim"})).required((function(){return"PleaseEnterTypeClaim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"InvalidValue"}))}))}),J=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"vehicleDetails",[]),Object(n.a)(e,"averagemonthlyusages",[]),Object(n.a)(e,"goodscarriedtypes",[]),Object(n.a)(e,"permittypes",[]),Object(n.a)(e,"location_reset_flag",0),Object(n.a)(e,"changeFlag",0),Object(n.a)(e,"no_of_claim",[]),Object(n.a)(e,"request_data",{}),e),l.dateRange=function(){return"2008"},l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/SelectBrand_GCVST/".concat(e))},l.selectBrand=function(e){l.props.history.push("/SelectBrand_GCVST/".concat(e))},l.showClaimText=function(e,a){1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},l.handleSubmit=function(e,a){var t,r=l.props.match.params.productId,o=l.state,s=o.motorInsurance,c=o.changeFlag,i=Math.floor(C()().diff(e.registration_date,"months",!0));H.whatIsCurrentMonth(e.registration_date);if(1==c)return x()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return x()("Please fill all claim details"),!1;if("0"==e.valid_previous_policy&&2==s.policytype_id)return x()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1;Math.floor(C()().diff(e.previous_end_date,"days",!0))>90&&(e.previous_claim_bonus=1);var m=new FormData,d=new P.a,u={};t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?C()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?C()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:i,policy_type:1,prev_policy_flag:1,averagemonthlyusage_id:e.averagemonthlyusages_id,goodscarriedtype_id:e.goodscarriedtypes_id,permittype_id:e.permittypes_id,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails_GCVST/".concat(r),claim_array:JSON.stringify(e.claim_array)},Object(n.a)(t,"no_of_claim",e.no_of_claim),Object(n.a)(t,"new_policy_duration",e.new_policy_duration),Object(n.a)(t,"duration",e.duration),Object(n.a)(t,"new_policy_start_date",e.new_policy_start_date?C()(e.new_policy_start_date).format("YYYY-MM-DD"):""),Object(n.a)(t,"new_policy_end_date",e.new_policy_end_date?C()(e.new_policy_end_date).format("YYYY-MM-DD"):""),Object(n.a)(t,"is_new_policy",1),u=t,s&&"1"==s.policytype_id&&s&&""==s.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",u),m.append("enc_data",d.encrypt(JSON.stringify(u))),l.props.loadingStart(),w.a.post("gcv/insert-vehicle-details",m).then((function(e){var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),l.props.loadingStop(),0==t.error?l.props.history.push("/OtherComprehensive_GCVST/".concat(r)):a.setSubmitting(!1)})).catch((function(e){l.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),w.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new P.a;w.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};n.valid_previous_policy=n.policytype_id&&"1"==n.policytype_id?"0":n.valid_previous_policy;var r=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=r&&r.previouspoliciesclaims?r.previouspoliciesclaims.length:"",c=n&&n.rtolocation&&n.rtolocation.RTO_LOCATION?n.rtolocation.RTO_LOCATION:"",i=!r||0!=r.is_claim&&1!=r.is_claim?"":r.is_claim,m=t.data.policyHolder.request_data?t.data.policyHolder.request_data:{};l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s,request_data:m}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchVehicleCarryingList=function(){l.props.match.params.productId;var e=new P.a;l.props.loadingStart(),w.a.get("gcv/carrying-capacity-list/4 ").then((function(a){var t=JSON.parse(e.decrypt(a.data)),n=t.data?t.data.averagemonthlyusages:[],r=t.data?t.data.goodscarriedtypes:[],o=t.data?t.data.permittypes:[];console.log("decrypt--fetchSubVehicle------ ",n),l.setState({averagemonthlyusages:n,goodscarriedtypes:r,permittypes:o}),l.fetchData()})).catch((function(e){l.props.loadingStop()}))},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"Own Damage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e.previouspoliciesclaims?e.previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),c!=p?i.a.createElement("option",{value:p},p):null),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_year]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_amount]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l.registration=function(e){l.props.history.push("/Registration_GCVST/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new P.a;w.a.get("gcv/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,r=t.insurerList,l=t.showClaim,o=t.previous_is_claim,s=t.motorInsurance,_=t.previousPolicy,E=t.CustomerID,y=t.suggestions,b=t.request_data,N=t.vehicleDetails,w=t.RTO_location,k=t.averagemonthlyusages,P=t.goodscarriedtypes,D=t.permittypes,I=t.location_reset_flag,O=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,x=(_&&_.end_date&&new Date(_.end_date),Object.assign(G,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id&&0==I?s.location_id:"",previous_start_date:_&&_.start_date?new Date(_.start_date):"",previous_end_date:_&&_.end_date?new Date(_.end_date):"",previous_policy_name:_&&_.name?_.name:"",insurance_company_id:_&&_.insurancecompany&&_.insurancecompany.Id?_.insurancecompany.Id:"",previous_city:_&&_.city?_.city:"",previous_policy_no:_&&_.policy_no?_.policy_no:"",previous_is_claim:o,previous_claim_bonus:_&&(_.claim_bonus||0==_.claim_bonus)?_.claim_bonus.toString():"1",no_of_claim:_&&_.previouspoliciesclaims?_.previouspoliciesclaims.length:"",goodscarriedtypes_id:s&&s.goodscarriedtype_id?s.goodscarriedtype_id:"",averagemonthlyusages_id:s&&s.averagemonthlyusage_id?s.averagemonthlyusage_id:"",permittypes_id:s&&s.permittype_id?s.permittype_id:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,duration:_&&_.duration?_.duration:"",new_policy_duration:b&&b.duration?b.duration:"",new_policy_start_date:b&&b.start_date?new Date(b.start_date):"",new_policy_end_date:b&&b.end_date?new Date(b.end_date):"",claim_array:this.initClaimDetailsList()})),H={placeholder:O.SearchCity,value:E||w,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vehiGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},O.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},O.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:x,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:Y},(function(t){var _,f=t.values,h=t.errors,v=t.setFieldValue,E=t.setFieldTouched,b=(t.isValid,t.isSubmitting),w=t.touched;return i.a.createElement(S.d,{enableReinitialize:!0},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",minDate:new Date(q),maxDate:new Date(L),dateFormat:"dd MMM yyyy",placeholderText:O.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.registration_date,onChange:function(e){E("registration_date"),v("registration_date",e),v("previous_end_date",""),v("previous_start_date","")}}),h.registration_date&&w.registration_date?i.a.createElement("span",{className:"errorMsg"},O[h.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(M.a,{suggestions:y,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:H,onChange:function(a){return e.onChange(a,v)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(E,v,n)}}),h.location_id&&w.location_id?i.a.createElement("span",{className:"errorMsg"},O[h.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"goodscarriedtypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.goodscarriedtypes_id},i.a.createElement("option",{value:""},O.GCVGoodsType),P.map((function(e,a){return i.a.createElement("option",{value:e.id},e.goodscarriedtype)}))),h.goodscarriedtypes_id&&w.goodscarriedtypes_id?i.a.createElement("span",{className:"errorMsg"},O[h.goodscarriedtypes_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"averagemonthlyusages_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.averagemonthlyusages_id},i.a.createElement("option",{value:""},O.GCVMonthlyUse),k.map((function(e,a){return i.a.createElement("option",{value:e.id},e.usage_description)}))),h.averagemonthlyusages_id&&w.averagemonthlyusages_id?i.a.createElement("span",{className:"errorMsg"},O[h.averagemonthlyusages_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"permittypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.permittypes_id},i.a.createElement("option",{value:""},O.GCVPermit),D.map((function(e,a){return i.a.createElement("option",{value:e.id},e.permittype)}))),h.permittypes_id&&w.permittypes_id?i.a.createElement("span",{className:"errorMsg"},O[h.permittypes_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==f.policy_type_id?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",O.GCVValidPolicy," ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){E("valid_previous_policy"),v("valid_previous_policy",e.target.value)},checked:"0"==f.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",O.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){E("valid_previous_policy"),v("valid_previous_policy",e.target.value)},checked:"1"==f.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},O.Yes)),h.valid_previous_policy&&w.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},O[h.valid_previous_policy]):null)))))):null,"2"==f.policy_type_id&&"1"==f.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",O.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(f.duration&&f.previous_start_date){var a,t;a=C()(C()(f.previous_start_date).add(f.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),t=C()(f.previous_start_date).add(f.duration,"month").format("YYYY-MM-DD"),v("previous_end_date",new Date(a)),v("new_policy_start_date",new Date(t))}else v("previous_end_date","");else v("previous_start_date",""),v("previous_end_date",""),v("new_policy_start_date",""),v("new_policy_end_date","");v("previous_policy_name",e.target.value)}},i.a.createElement("option",{value:""},O.SPT),i.a.createElement("option",{value:"1"},O.Package),i.a.createElement("option",{value:"2"},O.LiabilityOnly),i.a.createElement("option",{value:"3"},O.shortTerm)),h.previous_policy_name&&w.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},O[h.previous_policy_name]):null))),"3"==f.previous_policy_name?i.a.createElement(d.a,{sm:12,md:5,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.duration,onChange:function(e){var a=new Date,t="",n="";f.previous_start_date&&(a=C()(C()(f.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),t=C()(f.previous_start_date).add(e.target.value,"month").format("YYYY-MM-DD"),Object(A.b)(t,new Date)&&(t=C()().add(1,"day").format("YYYY-MM-DD")),f.new_policy_duration&&(n=C()(C()(t).add(f.new_policy_duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(n))),v("previous_end_date",new Date(a)),v("new_policy_start_date",new Date(t))),v("duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),h.duration&&w.duration?i.a.createElement("span",{className:"errorMsg"},h.duration):null))):null,i.a.createElement(d.a,{sm:12,md:11,lg:"3"==f.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,(_={name:"previous_start_date",minDate:new Date(R),maxDate:"3"==f.previous_policy_name?new Date(F):new Date(j),dateFormat:"dd MMM yyyy",placeholderText:O.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12"},Object(n.a)(_,"className","3"==f.previous_policy_name?"datePckr inputfs12ST":"datePckr inputfs12"),Object(n.a)(_,"selected",f.previous_start_date),Object(n.a)(_,"onChange",(function(e){var a=new Date(e),t=new Date(e),n=new Date(e),r="";if("3"==f.previous_policy_name)f.duration&&(t=C()(C()(e).add(f.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),n=C()(e).add(f.duration,"month").format("YYYY-MM-DD"),Object(A.b)(n,new Date)&&(n=C()().add(1,"day").format("YYYY-MM-DD")));else if("1"==f.previous_policy_name||"2"==f.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1),n=C()(t).add(1,"day").format("YYYY-MM-DD"),Object(A.b)(n,new Date)&&(n=C()().add(1,"day").format("YYYY-MM-DD"))}f.new_policy_duration&&(r=C()(C()(n).add(f.new_policy_duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(r))),E("previous_start_date"),v("previous_end_date",new Date(t)),v("new_policy_start_date",new Date(n)),v("previous_start_date",e)})),_)),h.previous_start_date&&w.previous_start_date?i.a.createElement("span",{className:"errorMsg"},O[h.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:"3"==f.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:O.PPED,disabled:!0,dropdownMode:"select",className:"3"==f.previous_policy_name?"datePckr inputfs12ST":"datePckr inputfs12",selected:f.previous_end_date}),h.previous_end_date&&w.previous_end_date?i.a.createElement("span",{className:"errorMsg"},O[h.previous_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},O.SelectInsurer),r.map((function(e,a){return i.a.createElement("option",{key:a,value:e.Id},e.name)}))),h.insurance_company_id&&w.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},O[h.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:O.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),h.previous_city&&w.previous_city?i.a.createElement("span",{className:"errorMsg"},O[h.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_policy_no",type:"text",placeholder:O.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),h.previous_policy_no&&w.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},O[h.previous_policy_no]):null)))),("1"==f.previous_policy_name||"3"==f.previous_policy_name)&&Math.floor(C()().diff(f.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,O.ClaimODPolicy))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){E("previous_is_claim"),v("previous_is_claim",a.target.value),v("no_of_claim",""),v("previous_claim_bonus",1),v("claim_array",[]),e.showClaimText(0,f)},checked:"0"==f.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",O.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){E("previous_is_claim"),v("previous_is_claim",a.target.value),v("no_of_claim",""),v("previous_claim_bonus",1),v("claim_array",[]),e.showClaimText(1,f)},checked:"1"==f.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},O.YesIHave)),h.previous_is_claim&&w.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},O[h.previous_is_claim]):null))))),"0"==f.previous_is_claim?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:f.previous_claim_bonus},i.a.createElement("option",{value:""},"--",O.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),h.previous_claim_bonus&&w.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},O[h.previous_claim_bonus]):null)))):null,l||1==f.previous_is_claim?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:f.no_of_claim,onChange:function(a){E("no_of_claim"),v("no_of_claim",a.target.value),e.handleNoOfClaims(f,a.target.value)}},i.a.createElement("option",{value:""},O.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),h.no_of_claim&&w.no_of_claim?i.a.createElement("span",{className:"errorMsg"},O[h.no_of_claim]):null)))):null,""!=f.no_of_claim||"1"==o?e.handleClaims(f,h,w,E,v):null):null):null,"2"==f.policy_type_id&&"1"==f.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",O.NPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"new_policy_duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.new_policy_duration,onChange:function(e){var a=new Date;f.new_policy_start_date&&(a=C()(C()(f.new_policy_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(a))),v("new_policy_duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),h.new_policy_duration&&w.new_policy_duration?i.a.createElement("span",{className:"errorMsg"},h.new_policy_duration):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"new_policy_start_date",minDate:new Date(R),maxDate:new Date,dateFormat:"dd MMM yyyy",placeholderText:O.NPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,disabled:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.new_policy_start_date}),h.new_policy_start_date&&w.new_policy_start_date?i.a.createElement("span",{className:"errorMsg"},O[h.new_policy_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"new_policy_end_date",dateFormat:"dd MMM yyyy",placeholderText:O.NPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.new_policy_end_date}),h.new_policy_end_date&&w.new_policy_end_date?i.a.createElement("span",{className:"errorMsg"},O[h.new_policy_end_date]):null)))):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!b,onClick:e.selectBrand.bind(e,a)},b?O.Wait:O.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?O.Wait:O.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},O.RegNo,".",i.a.createElement("br",null),s&&s.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},O.GCVBrand,"- ",i.a.createElement("strong",null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.gross_vechicle_weight?N.varientmodel.gross_vechicle_weight:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.fueltype?B.a[N.varientmodel.fueltype.id]:null," ")))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(J))},1247:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=(t(98),t(0)),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(25),R=(t(99),new I.a),L=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],j=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("PleasePACover"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseAdditionalTowingCharges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseEnterNoWorkman").matches(/^[0-9]*$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePACoverage").test("isLoanChecking",(function(){return"Value16Lto50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePaidDriv").matches(/^[0-9]$/,"PleaseProvideValidNumber"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvideIDV").test("isLoanChecking",(function(){return"Value1Kto10L"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),geographical_extension_length:M.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:M.string().test("geoExtention",(function(){return"SelectAnyOneCountry"}),(function(e){return!(e<1)})),otherwise:M.string()}),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("RegistrationNoRequired").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("ChassisNoIsRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChassisNo"})).min(5,(function(){return"ChassisNoMin"})).max(25,(function(){return"ChassisNoMax"}))}))}),F={B00002:L.B00002,B00003:L.B00003,B00004:L.B00004,B00005:L.B00005,B00006:L.B00006,B00007:L.B00007,B00008:L.B00008,B00009:L.B00009,B00010:L.B00010,B00011:L.B00011,B00012:L.B00012,B00013:L.B00013,B00069:L.B00069,B00070:L.B00070,B00071:L.B00071,B00015:L.B00015,B00073:L.B00073,B00018:L.B00018,B00019:L.B00019,B00020:L.B00020,B00022:L.B00022,GEOGRAPHYOD:L.GEOGRAPHYOD,GEOGRAPHYTP:L.GEOGRAPHYTP},q=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).handleChange=function(){r.setState({serverResponse:[],error:[]})},r.showCNGText=function(e){1==e?r.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):r.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},r.sliderValue=function(e){r.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},r.bodySliderValue=function(e){r.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},r.vehicleDetails=function(e){r.props.history.push("/VehicleDetails_GCVST/".concat(e))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;D.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=n.trailers&&null!=n.trailers?n.trailers:null;c=null!=c?JSON.parse(c):[];var i=0,m=n&&n.registration_date?n.registration_date:"",d=l&&l.end_date?l.end_date:"",u=n?n.valid_previous_policy:"0",p=n?n.policytype_id:"";if(Math.floor(x()().diff(d,"months",!0))>1||"0"==u||"1"==p){var _=x()().format("YYYY-MM-DD");i=x()(_).diff(m,"days",!0)}else i=x()(d).add(1,"day").diff(m,"days",!0);var g=[],f=[],h=n&&n.body_idv_value?n.body_idv_value:0,v=n&&n.idv_value?n.idv_value:0;if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){var E=["B00015"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015","B00006","B00010"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=["B00006","B00010"];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}else if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015"];f.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];f.push(E)}else{E=n.add_more_coverage.split(",");f.push(E)}f=f.flat(),g.PA_flag=n&&""!=n.pa_cover?"1":"0",g.PA_Cover=n&&""!=n.pa_cover?n.pa_cover:"0";var y=n&&null!=n.add_more_coverage_request_json?n.add_more_coverage_request_json:"",b=""!=y?JSON.parse(y):[],N=b&&b.geographical_extension?b.geographical_extension:[];g.ATC_value=b.ATC?b.ATC.value:"",g.B00005_value=b.B00005?b.B00005.value:"",g.B00018_value=b.B00018?b.B00018.value:"",g.B00069_value=b.B00069?b.B00069.value:"",g.B00012_value=b.B00012?b.B00012.value:"",g.B00013_value=b.B00013?b.B00013.value:"",g.B00022_value=b.B00022?b.B00022.value:"",g.B00020_value=b.B00020?b.B00020.value:"",g.B00004_value=b.B00004?b.B00004.value:"",g.B00004_description=b.B00004?b.B00004.description:"",g.B00003_value=b.B00003?b.B00003.value:"",g.B00003_description=b.B00003?b.B00003.description:"",g.B00073_value=b.B00073?b.B00073.value:"",g.B00073_description=b.B00073?b.B00073.description:"",g.B00007_value=b.B00007?b.B00007.value:"",g.B00007_description=b.B00007?b.B00007.description:"",g.B00070_value=b.B00070?b.B00070.value:"",g.trailer_array=c,r.setState({motorInsurance:n,add_more_coverage:f,request_data:o,vehicleDetails:s,bodySliderVal:h,sliderVal:v,showCNG:1==n.cng_kit,vahanVerify:!(!n.chasis_no||!n.engine_no),selectFlag:n&&null!=n.add_more_coverage?"0":"1",no_of_claim:b.B00007?b.B00007.value:"",add_more_coverage_request_array:b,trailer_array:c,geographical_extension:N,vehicle_age:i}),r.props.loadingStop(),r.depreciation(g)})).catch((function(e){r.props.loadingStop()}))},r.depreciation=function(e){var a=r.state.vehicle_age,t=new FormData;r.props.loadingStart();var n={vehicle_age:a},l=new I.a;t.append("enc_data",l.encrypt(JSON.stringify(n))),D.a.post("/miscd/getMaxBodyIDV",t).then((function(a){var t=JSON.parse(l.decrypt(a.data));r.setState({depreciationPercentage:t.data}),r.getAccessToken(e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getAccessToken=function(e){r.props.loadingStart(),D.a.post("/callTokenService").then((function(a){r.setState({accessToken:a.data.access_token}),r.fullQuote(a.data.access_token,e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getFuelList=function(e){r.props.loadingStart(),D.a.get("/fuel-list").then((function(e){r.setState({fuelList:e.data.data.fuellist}),r.fetchData()})).catch((function(e){r.setState({fuelList:[]}),r.props.loadingStop()}))},r.getMoreCoverage=function(){r.props.loadingStart();var e=new I.a;D.a.get("gcv/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data)).data;console.log("decryptResp--getMoreCoverage-- ",t),r.setState({moreCoverage:t}),r.getFuelList()})).catch((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptERR--getMoreCoverage-- ",t),r.setState({moreCoverage:[]}),r.props.loadingStop()}))},r.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,n,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),n("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",r.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return r.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){r.setState({vahanDetails:e.data,vahanVerify:!0}),r.state.vahanDetails.data[0].chasiNo&&r.setState({chasiNo:r.state.vahanDetails.data[0].chasiNo}),r.state.vahanDetails.data[0].engineNo&&r.setState({engineNo:r.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),n("vahanVerify",!0),t("engine_no"),n("engine_no",r.state.engineNo),t("chasis_no"),n("chasis_no",r.state.chasiNo),r.props.loadingStop()})).catch((function(e){r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop()}));case 12:e.next=19;break;case 14:r.props.loadingStart(),r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),r.fullQuote=function(e,a){var t,l=r.state,o=l.PolicyArray,s=l.sliderVal,c=l.add_more_coverage,i=l.motorInsurance,m=l.bodySliderVal,d=l.vehicleDetails,u=l.geographical_extension,p=(l.chasis_price,l.userIdvStatus),_=l.bodyIdvStatus,g=(o.length>0&&Math.round(o[0].PolicyRiskList[0].IDV_User),{}),f=new FormData,h=new I.a;c&&(g={B00018:{value:a.B00018_value},B00069:{value:a.B00069_value},B00012:{value:a.B00012_value},B00013:{value:a.B00013_value},B00022:{value:a.B00022_value},B00020:{value:a.B00020_value},ATC:{value:a.ATC_value},B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00073:{value:a.B00073_value,description:a.B00073_description},B00007:{value:a.B00007_value,description:a.B00007_description},B00070:{value:a.B00070_value},B00005:{value:a.B00005_value},geographical_extension:u});var v=(t={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,idv_value:s||0,policy_type:i.policy_type,add_more_coverage:c.toString(),PA_Cover:a.PA_flag?a.PA_Cover:"0",coverage_data:JSON.stringify(g),body_idv_value:m||0,trailer_array:a.trailer_array,userIdvStatus:p||0,bodyIdvStatus:_||0},Object(n.a)(t,"trailer_array",a.trailer_array),Object(n.a)(t,"fuel_type",a.fuel_type?a.fuel_type:d&&d.varientmodel&&d.varientmodel.fueltype?d.varientmodel.fueltype.id:""),t);console.log("fullQuote_post_data",v),f.append("enc_data",h.encrypt(JSON.stringify(v))),D.a.post("fullQuotePMGCVShortTerm",f).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].NCBDiscountAmt:0;e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList,e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsGeographicalExtension;r.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],ncbDiscount:a,userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.PolicyObject.PolicyLobList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var t=[];for(var n in e.data.UnderwritingResult.MessageList)t.push(e.data.UnderwritingResult.MessageList[n].Message);r.setState({fulQuoteResp:e.data.PolicyObject,userIdvStatus:1,bodyIdvStatus:1,error:{message:0},validation_error:t,serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){t=[];for(var l in e.data.messages){var o="";e.data.messages[l].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[l].code?(o="It is blacklisted vehicle. Please contact Relationship manager",A()(o)):o=e.data.messages[l].message,t.push(o)}r.setState({fulQuoteResp:[],add_more_coverage:c,validation_error:t,error:{message:0},serverResponse:[]})}else r.setState({fulQuoteResp:[],add_more_coverage:c,userIdvStatus:1,bodyIdvStatus:1,error:{message:1},serverResponse:[]});r.props.loadingStop()})).catch((function(e){r.setState({serverResponse:[]}),r.props.loadingStop()}))},r.handleSubmit=function(e){var a=r.props.match.params.productId,t=r.state,n=(t.motorInsurance,t.PolicyArray),l=t.sliderVal,o=t.add_more_coverage,s=t.bodySliderVal,c=t.geographical_extension,i=n.length>0?Math.round(n[0].PolicyRiskList[0].IDV_User):0,m={},d=n.length>0?Math.round(n[0].PolicyRiskList[0].SumInsured):0;o&&(m={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value},geographical_extension:c});var u=new FormData,p=new I.a,_=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";_.user&&(_=JSON.parse(p.decrypt(_.user)));var g={};if(g=o.length>0?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():i.toString(),add_more_coverage:o,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive_GCVST/".concat(a),coverage_data:JSON.stringify(m),body_idv_value:s||0,fuel_type:e.fuel_type,trailer_array:e.trailer_array}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():i.toString(),puc:e.puc,page_name:"OtherComprehensive_GCVST/".concat(a),body_idv_value:s||0,fuel_type:e.fuel_type},_){if(d>5e6&&"POSP"==_.user_type)return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(console.log("--post Data-- ",g),u.append("enc_data",p.encrypt(JSON.stringify(g))),r.props.loadingStart(),D.a.post("gcv/update-insured-value",u).then((function(e){r.props.loadingStop();var t=JSON.parse(p.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?r.props.history.push("/AdditionalDetails_GCVST/".concat(a)):A()(t.msg)})).catch((function(e){var a=JSON.parse(p.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),r.props.loadingStop()}))):A()("Chasis no mismatch")}},r.onRowSelect=function(e,a,t,n,l){var o=r.state.add_more_coverage;if(t)o.push(e),r.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),l("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),l("electric_flag","1")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","1")),"geographical_extension"==e&&(n("Geographical_flag"),l("Geographical_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),r.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),l("PA_flag","0"),n("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),l("electric_flag","0")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","0")),"geographical_extension"==e&&(n("Geographical_flag"),l("Geographical_flag","0"),l("GeoExtnBhutan",""),l("GeoExtnNepal",""),l("GeoExtnMaldives",""),l("GeoExtnPakistan",""),l("GeoExtnSriLanka",""),l("GeoExtnBangladesh",""),r.setState({geographical_extension:[]}))}},r.onGeoAreaSelect=function(e,a,t,n,l){var o=r.state,s=(o.add_more_coverage,o.geographical_extension);if(t)s.push(e),r.setState({geographical_extension:s,serverResponse:[],error:[]}),n(e),l(e,"1"),n("geographical_extension_length"),l("geographical_extension_length",s.length);else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),r.setState({serverResponse:[],error:[]})),n(e),l(e,""),n("geographical_extension_length"),l("geographical_extension_length",s.length)}},r.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},r.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var n=t;n>=a;n--)e.trailer_array.splice(n,1);else if(e.trailer_array.length<a)for(n=e.trailer_array.length;n<a;n++)e.trailer_array.push({chassisNo:"",regNo:""});r.setState({no_of_claim:a,serverResponse:[],error:[]})},r.initClaimDetailsList=function(){for(var e=[],a=r.state.trailer_array,t=0;t<r.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},r.handleClaims=function(e,a,t,n,l){for(var o=[],s=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],c=0;c<e.B00007_value;c++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)},onInput:function(e){r.regnoFormat(e,n,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},s[a.trailer_array[c].chassisNo]):null))))));return o},r.handleShow=r.handleShow.bind(Object(i.a)(r)),r.handleClose=r.handleClose.bind(Object(i.a)(r)),r.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,geographical_extension:[],validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},r}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.add_more_coverage,n=(a.is_CNG_account,a.vahanDetails,a.error),r=a.policyCoverage,l=a.vahanVerify,o=a.selectFlag,s=a.fulQuoteResp,c=a.PolicyArray,i=a.validation_error,m=a.depreciationPercentage,d=a.vehicleDetails,E=a.geographical_extension,k=a.moreCoverage,C=a.sliderVal,P=a.bodySliderVal,D=a.motorInsurance,I=a.serverResponse,M=a.engine_no,B=a.chasis_no,O=a.initialValue,x=a.add_more_coverage_request_array,H=a.ncbDiscount,L=this.props.match.params.productId,q=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";q.user&&(q=JSON.parse(R.decrypt(q.user)));var T=C,V=c.length>0?c[0].PolicyRiskList[0].MinIDV_Suggested:0,G=c.length>0?c[0].PolicyRiskList[0].MaxIDV_Suggested:0,Y=V,J=c.length>0?Math.floor(G):null,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[];0==Number.isInteger(V)&&(Y=c.length>0?Math.floor(c[0].PolicyRiskList[0].MinIDV_Suggested):null,Y+=1);var Z=c.length>0?c[0].PolicyRiskList[0].MSP-c[0].PolicyRiskList[0].MSP*(m/100):0,$=c.length>0?Math.floor(Z/2):0,U=P,Q=D&&D.add_more_coverage?D.add_more_coverage.split(","):"",W={},K=!D||null!=D.pa_cover&&""!=D.pa_cover?"1":"0",X=D&&null!=D.pa_cover?D.pa_cover:"",ee=d&&d.varientmodel&&d.varientmodel.fueltype?d.varientmodel.fueltype.id:"",ae=x.B00007&&x.B00007.value?"1":"0",te=x.B00073&&x.B00073.value?"1":"0",ne=x.B00004&&x.B00004.value?"1":"0",re=x.B00003&&x.B00003.value?"1":"0",le=x.B00020&&x.B00020.value?"1":"0",oe=x.B00022&&x.B00022.value?"1":"0",se=x.B00013&&x.B00013.value?"1":"0",ce=x.B00012&&x.B00012.value?"1":"0",ie=x.B00069&&x.B00069.value?"1":"0",me=x.B00018&&x.B00018.value?"1":"0",de=x.ATC&&x.ATC.value?"1":"0",ue=x.B00070&&x.B00070.value?"1":"0",pe=x.B00005&&x.B00005.value?"1":"0",_e=t&&t[t.indexOf("geographical_extension")]?"1":"0",ge={};ge="1"==o?Object.assign(O,{registration_no:D.registration_no?D.registration_no:"",chasis_no:D.chasis_no?D.chasis_no:B||"",chasis_no_last_part:D.chasis_no_last_part?D.chasis_no_last_part:"",add_more_coverage:D.add_more_coverage?D.add_more_coverage:"",engine_no:D.engine_no?D.engine_no:M||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:D&&"2"==D.policy_for?"":"B00015",B00006:d&&d.varientmodel&&(3==d.varientmodel.fueltype.id||4==d.varientmodel.fueltype.id)?"B00006":"",B00010:d&&d.varientmodel&&(3==d.varientmodel.fueltype.id||4==d.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:D&&"2"==D.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:ee,trailer_array:this.initClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:E&&E.length}):Object.assign(O,{registration_no:D.registration_no?D.registration_no:"",chasis_no:D.chasis_no?D.chasis_no:B||"",chasis_no_last_part:D.chasis_no_last_part?D.chasis_no_last_part:"",add_more_coverage:D.add_more_coverage?D.add_more_coverage:"",engine_no:D.engine_no?D.engine_no:M||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:D&&D.pa_flag?D.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:ee,B00015:"",B00010:"",trailer_array:this.initClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:E&&E.length});for(var fe=0;fe<Q.length;fe++)W[Q[fe]]=Q[fe];W.slider=T,W.PA_flag=K,W.trailer_flag=ae,W.pa_coolie_flag=te,W.electric_flag=ne,W.nonElectric_flag=re,W.hospital_cash_OD_flag=le,W.hospital_cash_PD_flag=oe,W.LL_PD_flag=se,W.LL_Emp_flag=ce,W.LL_Coolie_flag=ie,W.enhance_PA_OD_flag=me,W.ATC_flag=de,W.LL_workman_flag=ue,W.PA_Cover=X,W.CNG_OD_flag=pe,W.Geographical_flag=_e,W.ATC_value=x.ATC?x.ATC.value:"",W.B00018_value=x.B00018?x.B00018.value:"",W.B00069_value=x.B00069?x.B00069.value:"",W.B00012_value=x.B00012?x.B00012.value:"",W.B00013_value=x.B00013?x.B00013.value:"",W.B00022_value=x.B00022?x.B00022.value:"",W.B00020_value=x.B00020?x.B00020.value:"",W.B00004_value=x.B00004?x.B00004.value:"",W.B00004_description=x.B00004?x.B00004.description:"",W.B00003_value=x.B00003?x.B00003.value:"",W.B00003_description=x.B00003?x.B00003.description:"",W.B00073_value=x.B00073?x.B00073.value:"",W.B00073_description=x.B00073?x.B00073.description:"",W.B00007_value=x.B00007?x.B00007.value:"",W.B00007_description=x.B00007?x.B00007.description:"",W.B00070_value=x.B00070?x.B00070.value:"",W.B00005_value=x.B00005?x.B00005.value:"",W.GeoExtnBangladesh=E?E[E.indexOf("GeoExtnBangladesh")]:"",W.GeoExtnBhutan=E?E[E.indexOf("GeoExtnBhutan")]:"",W.GeoExtnNepal=E?E[E.indexOf("GeoExtnNepal")]:"",W.GeoExtnMaldives=E?E[E.indexOf("GeoExtnMaldives")]:"",W.GeoExtnPakistan=E?E[E.indexOf("GeoExtnPakistan")]:"",W.GeoExtnSriLanka=E?E[E.indexOf("GeoExtnSriLanka")]:"",ge=Object.assign(O,W);I.PolicyLobList&&I.PolicyLobList[0].PolicyRiskList[0];var he=0;r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?he+=e.BeforeVatPremium:0}))}));var ve=1,Ee=1,ye=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,F[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium)))):"B00007"==e.ProductElementCode&&1==ve?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,F[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6,data:ve+=1},p.a.createElement(f.a,null,"\u20b9 ",Math.round(he)))):null)}))})):null,be=H&&0!=H&&1==Ee?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,z.NCBDiscount)),p.a.createElement(_.a,{sm:12,md:6,data:Ee+=1},p.a.createElement(f.a,null,"\u20b9 - ",Math.round(H)))):null,Ne=s&&s.PolicyLobList&&Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,z.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null;ve=1,Ee=1;var Se=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?p.a.createElement("tr",null,p.a.createElement("td",null,F[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium))):"B00007"==e.ProductElementCode&&1==ve?p.a.createElement("tr",{label:ve+=1},p.a.createElement("td",null,F[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(he))):null}))})):null,we=H&&0!=H&&1==Ee?p.a.createElement("tr",{label:Ee+=1},p.a.createElement("td",null,z.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 - ",Math.round(H))):null,ke=s&&s.PolicyLobList&&Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,z.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,Ce=n&&n.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Pe=i?i.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox ocGcv"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},z.GSBVehicleDamage),p.a.createElement("h5",null,Ce),p.a.createElement("h5",null,Pe))),p.a.createElement(b.e,{initialValues:ge,onSubmit:I&&""!=I?I.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:j},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:z.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},ye,be,Ne))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},z.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},z[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},z.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&o.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},z[n.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},z.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},z[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:z.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&o.engine_no?p.a.createElement("span",{className:"errorMsg"},z[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:z.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&o.chasis_no?p.a.createElement("span",{className:"errorMsg"},z[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},z.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:T}),n.IDV&&o.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),T?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",min:Y,max:J,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:T,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},z.BodyIDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"body_idv_value",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:U}),n.body_idv_value&&o.body_idv_value?p.a.createElement("span",{className:"errorMsg"},n.body_idv_value):null))),T?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider1",min:0,max:$,step:"1",disabled:0==e.state.bodyIdvStatus?"disabled":"",value:U,onChange:function(a){l("slider1"),r("slider1",t.slider1),e.bodySliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},z.AddMoreCoverage)))),n.B00007||n.B00011?p.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,k&&k.length>0?k.map((function(a,s){return p.a.createElement(g.a,{key:s},D&&"2"==D.policy_for&&"B00015"!=a.code&&"B00018"!=a.code||D&&"1"==D.policy_for?p.a.createElement(_.a,{sm:12,md:11,lg:6,key:s+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(z.SwalIRDAI),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},p.a.createElement("option",{value:""},z.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:z.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?p.a.createElement("span",{className:"errorMsg"},z[n.B00007_description]):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},z.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00073_value?p.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:z.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?p.a.createElement("span",{className:"errorMsg"},z[n.B00073_description]):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:z.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:z.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},z[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:z.ValueOfAccessory,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:z.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},z[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"Sum insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00005_value]):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00020_value?p.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00022_value?p.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},z.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:z.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:z.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:z.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00018_value]):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:z.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?p.a.createElement("span",{className:"errorMsg"},z[n.B00070_value]):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},z.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.ATC_value?p.a.createElement("span",{className:"errorMsg"},z[n.ATC_value]):null)))):null,"1"==t.Geographical_flag&&"geographical_extension"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,n){return"1"==a.status?p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:t[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,t,a.target.checked,l,r)}}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"})):null})),n.geographical_extension_length?p.a.createElement("span",{className:"errorMsg"},z[n.geographical_extension_length]):null)):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,o,l,r):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},z.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",z.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",z.No)),n.puc&&o.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,L)},z.Back),I&&""!=I?I.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},z.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},z.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},z.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",z.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",s.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},z.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,z.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,z.Premium,":"),p.a.createElement("th",null,"\u20b9 ",s.DuePremium))),p.a.createElement("tbody",null,Se,we,ke,p.a.createElement("tr",null,p.a.createElement("td",null,z.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,z.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(q))},1248:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please enter appointee name").min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("This field is required"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBank"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBankBranch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_GCVST/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:4,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_GCVST/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("gcv/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_GCVST/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("gcv/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F,". ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aditionalCgv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"17"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var n=e.values,r=e.errors,v=e.setFieldValue,E=e.setFieldTouched,y=(e.isValid,e.isSubmitting),w=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==n.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==n.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),r.is_carloan&&w.is_carloan?i.a.createElement("span",{className:"errorMsg"},r.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_name}),r.bank_name&&w.bank_name?i.a.createElement("span",{className:"errorMsg"},z[r.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_branch}),r.bank_branch&&w.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[r.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.salutation_id&&w.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[r.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==n.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.first_name}),r.first_name&&w.first_name?i.a.createElement("span",{className:"errorMsg"},z[r.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.gstn_no.toUpperCase(),onChange:function(e){return v("gstn_no",e.target.value.toUpperCase())}}),r.gstn_no&&w.gstn_no?i.a.createElement("span",{className:"errorMsg"},r.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.gender&&w.gender?i.a.createElement("span",{className:"errorMsg"},z[r.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");v("dob",a),v("age",e.target.value)}}),r.age&&w.age?i.a.createElement("span",{className:"errorMsg"},z[r.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:n.date_of_incorporation,onChange:function(e){E("date_of_incorporation"),v("date_of_incorporation",e)}}),r.date_of_incorporation&&w.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[r.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.phone,maxLength:"10",className:"phoneinput pd-l-25"}),r.phone&&w.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[r.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.address}),r.address&&w.address?i.a.createElement("span",{className:"errorMsg"},z[r.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:n.pincode,maxLength:"6",onInput:function(e){E("state"),E("pincode"),v("pincode",e.target.value),v("state",L?L[0]:n.state),v("pincode_id","")}}),r.pincode&&w.pincode?i.a.createElement("span",{className:"errorMsg"},z[r.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&w.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[r.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||n.state,disabled:!0}),r.state&&w.state?i.a.createElement("span",{className:"errorMsg"},r.state):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:n.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),r.org_level&&w.org_level?i.a.createElement("span",{className:"errorMsg"},r.org_level):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))):null):null,k&&"1"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null)))):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.nominee_salutation&&w.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_first_name}),r.nominee_first_name&&w.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.nominee_gender&&w.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),v("nominee_dob",t),v("nominee_age",e.target.value)}}),r.nominee_age&&w.nominee_age?i.a.createElement("span",{className:"errorMsg"},r.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:n.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id},e.name):null}))),r.nominee_relation_with&&w.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.appointee_name}),r.appointee_name&&w.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),r.appointee_relation_with&&w.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIAAccount,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account&&w.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:n.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),r.eia_no&&w.eia_no?i.a.createElement("span",{className:"errorMsg"},z[r.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account2&&w.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&w.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!y,onClick:a.otherComprehensive.bind(a,J)},y?z["Wait.."]:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!y},y?z["Wait.."]:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1249:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_GCVST/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,menumaster:d,step_completed:i,bcMaster:m,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("gcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(O.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";return m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),a.append("page_name","Premium_GCVST/".concat(t.props.match.params.productId)),t.props.loadingStart(),new Promise((function(e,n){y.a.post("breakin/create",a).then((function(a){0==a.data.error?(M()("Your breakin request has been raised. Your inspection Number: ".concat(a.data.data.inspection_no)),e(a.data.data.inspection_no),t.props.loadingStop()):(M()("Error: ".concat(a.data.msg)),n(Error("Promise rejected")),t.props.loadingStop())})).catch((function(e){n(Error("Promise rejected")),t.props.loadingStop()}))}))},t.getAccessToken=function(e){y.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData,r=new k.a,l=t.state,o=l.previousPolicy,s=l.request_data,c=l.policyHolder,i=a.trailers?a.trailers:null;i=i?JSON.parse(i):[],t.breakinService(a,o,s,c).then((function(l){var o={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",access_token:e,idv_value:t.state.request_data.IDV_Suggested?t.state.request_data.IDV_Suggested:"0",policy_type:a.policy_type,add_more_coverage:a.add_more_coverage,PA_Cover:a&&a.pa_cover?a.pa_cover:"0",coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:"",body_idv_value:t.state.request_data.VehicleBodyPrice?t.state.request_data.VehicleBodyPrice:"0",userIdvStatus:1,bodyIdvStatus:1,trailer_array:i};n.append("enc_data",r.encrypt(JSON.stringify(o))),console.log("post_data--fullQuotePMGCV- ",o),y.a.post("fullQuotePMGCVShortTerm",n).then((function(e){e.data.PolicyObject?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.ValidateResult?M()(e.data.ValidateResult.message):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))}))},t.breakinService=function(e,a,n,r){var l=e&&e.policytype_id?e.policytype_id:"",o=0;return new Promise((function(s,c){if(a&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status||"3"==l&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status){o=a?Math.floor(A()().diff(a.end_date,"days",!0)):"";var i=a?a.name:"";if(o>0||"2"==i||"3"==l){var m=new FormData,d=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";m.append("policy_ref_no",d),y.a.post("breakin/checking",m).then((function(a){var r=a.data.data.break_in_checking,l=a.data.data.break_in_inspection_no,o=a.data.data.break_in_status;1==r?(t.setState({breakin_flag:1}),""!=l||null!=o&&"0"!=o?(s({inspectionNumber:l,inspection:1}),M()({title:"Breakin",text:"Breakin already raised. \nBreaking number ".concat(l,"."),icon:"warning"})):M()({title:"Breakin",text:"Your Quotation number is ".concat(n.quote_id,". Your vehicle needs inspection. Do you want to raise inspection."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a?t.callBreakin(e&&e.registration_no).then((function(e){s({inspectionNumber:e,inspection:1})})).catch((function(e){c(e)})):t.props.loadingStop()}))):s({inspectionNumber:"",inspection:2})})).catch((function(e){t.setState({breakin_flag:1}),t.props.loadingStop()}))}else s({inspectionNumber:"",inspection:0})}else s({inspectionNumber:"",inspection:0})}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.fulQuoteResp),r=a.motorInsurance,l=a.error,o=(a.error1,a.refNumber,a.paymentStatus),s=a.bcMaster,c=a.paymentgateway,_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.breakin_flag,w=a.step_completed,k=a.request_data,C=(a.menumaster,this.props.match.params.productId),P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,I=l&&l.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,M=o&&103==o.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),w>="4"&&"17"==N.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumCgv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},P.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var l=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,P.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,I),i.a.createElement("h5",null,M),i.a.createElement("h4",null,P.PolRefNumber," ",n.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:P.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},k&&k.start_date?A()(k.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},k&&k.end_date?A()(k.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:P.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.Premium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.DuePremium)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},P.GST,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:P.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.chasis_no?r.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.engine_no?r.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?D.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.body_style?N.varientmodel.body_style:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.GrossVehicleWeight)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.gross_vechicle_weight?N.varientmodel.gross_vechicle_weight:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:P.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,P.OwnerDetails," "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==r.policy_for?i.a.createElement(u.a,null,P.Name,":"):i.a.createElement(u.a,null,P.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y&&y.dob?Math.floor(A()().diff(y.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==r.policy_for&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,P.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(A()().diff(b.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&"m"==b.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==r.policy_for&&b&&"1"==b.is_appointee&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,P.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,P.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},P.SelectPayGateway,c&&c.length>0?c.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,C)},P.Back),s&&1==s.eligible_for_payment_link&&0==S?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",P.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,n.QuotationNo&&0==S&&""!=l.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},P.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))):""==w?"Forbidden":null,i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(R))},1250:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(25),S={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2},w=h.object().shape({check_registration:h.string().notRequired(),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.g)(e)})),otherwise:h.string().nullable()}),policy_type:h.string().required("PleaseSPT"),policy_for:h.string().required("PleasePIC"),subclass_id:h.string().required("PleaseSSP")}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;p.a.get("gcv-tp/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.motorinsurance;e.setState({motorInsurance:r}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new y.a;e.props.loadingStart(),p.a.get("gcv-tp/sub-vehical-list/4").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=new FormData,r=new y.a,l=e.state,o=(l.fastLaneData,l.fastlanelog),s={},c={},i="";"2"==a.check_registration?(c={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},i=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four):(c={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},i="NEW");var m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(r.decrypt(d))),m>0?(s=sessionStorage.getItem("csc_id")?{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",page_name:"Registration_GCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("gcv-tp/update-registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),e.props.loadingStop(),0==n.error?e.props.history.push("/SelectBrand_GCV_TP/".concat(t)):E()(n.msg)})).catch((function(a){var t=JSON.parse(r.decrypt(a.data));console.log("decryptResp--err---",t),e.props.loadingStop(),t&&a.data&&E()("Registration number required...")}))):(s=sessionStorage.getItem("csc_id")?{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",page_name:"Registration_GCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:4,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_GCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("gcv-tp/registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),0==n.error?(localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),e.props.history.push("/SelectBrand_GCV_TP/".concat(t))):E()(n.msg),e.props.loadingStop()})).catch((function(a){a&&a.data&&E()("Please check..something went wrong!!"),e.props.loadingStop()})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers&&JSON.parse(t.registration_part_numbers),l=Object.assign(S,{reg_number_part_one:r&&r.reg_number_part_one?r.reg_number_part_one:"",reg_number_part_two:r&&r.reg_number_part_two?r.reg_number_part_two:"",reg_number_part_three:r&&r.reg_number_part_three?r.reg_number_part_three:"",reg_number_part_four:r&&r.reg_number_part_four?r.reg_number_part_four:"",regNumber:t&&t.registration_no?t.registration_no:"",policy_type:t&&t.policytype_id?t.policytype_id:"",policy_for:t&&t.policy_for?t.policy_for:"",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2"}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox regcvt"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},o.About),c.a.createElement(b.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:w},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,m=(a.isValid,a.isSubmitting,a.touched);return c.a.createElement(b.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.GCVThridParty),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Individual))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Corporate)),r.policy_for&&m.policy_for?c.a.createElement("span",{className:"errorMsg"},o[r.policy_for]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.TellAboutPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"1",key:"1",checked:"1"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.NewPolicy))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.RollOver)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(b.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},c.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return c.a.createElement("option",{value:e.subclass_id},e.subclass_title)}))),r.subclass_id&&m.subclass_id?c.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(m.reg_number_part_one||m.reg_number_part_two||m.reg_number_part_three||m.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,c.a.createElement(b.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),c.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(m.looking_for_2||m.looking_for_3||m.looking_for_4)?c.a.createElement("span",{className:"error-message"},r.check_registration):""):null,c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),c.a.createElement(u.a,null)))))))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(k))},1251:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("gcv-tp/vehicle/brand-with-image/4/".concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("gcv-tp/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("gcv-tp/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_GCV_TP/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/SelectBrand_GCV_TP/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("gcv-tp/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,gross_vechicle_weight:o,seating:l})},t.setOtherVarient=function(e,a,n,r,l,o,s,c){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,gross_vechicle_weight:c,seating:s})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==c||null==c||void 0==c)return k()(a.PleaseVBrand,{button:a.OK}),!1;var i=new FormData,m=new D.a,d={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_GCV_TP/".concat(n)};i.append("enc_data",m.encrypt(JSON.stringify(d))),console.log("Post Date---------- ",d),t.props.loadingStart(),y.a.post("gcv-tp/insert-brand-model-varient",i).then((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),0==a.error?(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_GCV_TP/".concat(n))):k()(a.msg)})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],seating:"",gross_vechicle_weight:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.seating,E=a.gross_vechicle_weight,y=a.selectedModelId,b=a.selectedVarientId,N=a.otherBrands,S=a.brandName,w=a.modelName,k=a.fuelType,C=a.vehicleDetails,D=this.props.match.params.productId,B=Object.assign(M,{selectedBrandId:s||(C&&C.vehiclebrand_id?C.vehiclebrand_id:""),selectedModelId:y||(s?"":C&&C.vehiclemodel_id?C.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:b||(s?"":C&&C.varientmodel_id?C.varientmodel_id:"")}),A=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbGcvt"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},A.SBIGICL),i.a.createElement(v.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,A.GCVBrand," "),i.a.createElement("p",null,A.GCVDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},A.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},A.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.GcvBrand,"- ",i.a.createElement("strong",null,S||(C&&C.vehiclebrand&&C.vehiclebrand.name?C.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,w||(s?"":C&&C.vehiclemodel&&C.vehiclemodel.description?C.vehiclemodel.description+" "+C.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,c||(s?"":C&&C.varientmodel&&C.varientmodel.seating?C.varientmodel.seating:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,E||(s?"":C&&C.varientmodel&&C.varientmodel.gross_vechicle_weight?C.varientmodel.gross_vechicle_weight:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[k]?I.a[k]:C&&C.varientmodel&&C.varientmodel.fueltype?I.a[C.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,A.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:A.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==N?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.seating,t.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.seating,n.gross_vechicle_weight)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),b?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},A.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1252:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(61),A=t(25),O=t(20),x=t.n(O),H=(new Date("Y"),new D.a),R=C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar(),L=C()(C()().subtract(1,"years").calendar()).add(0,"day").calendar(),j=C()(C()().subtract(1,"month").calendar()).add(1,"day").calendar(),F=C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),q=C()().subtract(30,"years").calendar(),T=C()(C()().subtract(1,"months").calendar()).add(1,"day").calendar(),V=C()(C()().subtract(1,"years").calendar()).add(31,"day").calendar(),G={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,previous_claim_for:"",previous_policy_no:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",duration:""},Y=N.object().shape({registration_date:N.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,V)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(A.b)(e,new Date)&&Math.floor(C()(T).diff(e,"days",!0)<0)})).test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(A.b)(e,this.parent.previous_start_date)})),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"No special Character allowed"})),previous_start_date:N.date().notRequired("Previous Start date is required").test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes",(function(){return"StartDateLessEnd"}),(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(A.b)(e,this.parent.previous_end_date)})).test("checkStartDate",(function(){return"PleaseESD"}),(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_end_date:N.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes",(function(){return"EndDateGreaterStart"}),(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(A.c)(e,this.parent.previous_start_date)})).test("checkEndDate",(function(){return"PleaseEED"}),(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_policy_name:N.string().notRequired("PleaseSPT").test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"Since previous policy is a liability policy, issuance of a package policy will be subjet to successful inspection of your vehicle. Our Customer care executive will call you to assit on same, shortly"}),(function(e){return!0})),insurance_company_id:N.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})),previous_city:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),previous_policy_no:N.string().notRequired("Previous policy number is required").test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"Please enter valid policy number"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"})),goodscarriedtypes_id:N.string().required((function(){return"PleaseSTOG"})).test("currentMonthChecking",(function(){return"HazardousGNA"}),(function(e){return"1"!=e})),averagemonthlyusages_id:N.string().required((function(){return"PleaseSAM"})),permittypes_id:N.string().required((function(){return"PleaseSTOP"})),valid_previous_policy:N.string().required((function(){return"This field is required"}))}),J=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"vehicleDetails",[]),Object(n.a)(e,"averagemonthlyusages",[]),Object(n.a)(e,"goodscarriedtypes",[]),Object(n.a)(e,"permittypes",[]),Object(n.a)(e,"location_reset_flag",0),Object(n.a)(e,"changeFlag",0),e),l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/SelectBrand_GCV_TP/".concat(e))},l.selectBrand=function(e){l.props.history.push("/SelectBrand_GCV_TP/".concat(e))},l.showClaimText=function(e){1==e?l.setState({showClaim:!0,previous_is_claim:1}):l.setState({showClaim:!1,previous_is_claim:0})},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,n=l.state,r=n.motorInsurance,o=n.changeFlag,s=Math.floor(C()().diff(e.registration_date,"months",!0));H.whatIsCurrentMonth(e.registration_date);if(1==o)return x()("Registration city is required"),!1;var c=new FormData,i=new P.a,m={};"2"==e.policy_type_id?m={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?C()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?C()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,previous_claim_for:e.previous_claim_for,vehicleAge:s,policy_type:2,prev_policy_flag:1,averagemonthlyusage_id:e.averagemonthlyusages_id,goodscarriedtype_id:e.goodscarriedtypes_id,permittype_id:e.permittypes_id,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails_GCV_TP/".concat(t),duration:e.duration,is_new_policy:0}:"1"==e.policy_type_id&&(m={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_is_claim:"0",previous_claim_bonus:1,vehicleAge:s,policy_type:2,prev_policy_flag:0,averagemonthlyusage_id:e.averagemonthlyusages_id,goodscarriedtype_id:e.goodscarriedtypes_id,permittype_id:e.permittypes_id,valid_previous_policy:0,page_name:"VehicleDetails_GCV_TP/".concat(t),duration:e.duration,is_new_policy:0}),r&&"1"==r.policytype_id&&r&&""==r.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),l.props.loadingStart(),w.a.post("gcv-tp/insert-vehicle-details",c).then((function(e){var n=JSON.parse(i.decrypt(e.data));console.log("decrypt",n),l.props.loadingStop(),0==n.error?l.props.history.push("/OtherComprehensive_GCV_TP/".concat(t)):a.setSubmitting(!1)})).catch((function(e){l.props.loadingStop();var t=JSON.parse(i.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),w.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new P.a;w.a.get("gcv-tp/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};n.valid_previous_policy=n.policytype_id&&"1"==n.policytype_id?"0":n.valid_previous_policy;var r=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=n&&n.rtolocation&&n.rtolocation.RTO_LOCATION?n.rtolocation.RTO_LOCATION:"",c=!r||0!=r.is_claim&&1!=r.is_claim?"":r.is_claim;l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:s,previous_is_claim:c}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchVehicleCarryingList=function(){l.props.match.params.productId;var e=new P.a;l.props.loadingStart(),w.a.get("gcv-tp/carrying-capacity-list/4 ").then((function(a){var t=JSON.parse(e.decrypt(a.data)),n=t.data?t.data.averagemonthlyusages:[],r=t.data?t.data.goodscarriedtypes:[],o=t.data?t.data.permittypes:[];console.log("decrypt--fetchSubVehicle------ ",n),l.setState({averagemonthlyusages:n,goodscarriedtypes:r,permittypes:o}),l.fetchData()})).catch((function(e){l.props.loadingStop()}))},l.handleChange=function(e){var a=C()(e).add(1,"years").format("YYYY-MM-DD");l.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},l.registration=function(e){l.props.history.push("/Registration_GCV_TP/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return console.log("newValue",t),this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new P.a;w.a.get("gcv-tp/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.insurerList,r=(t.showClaim,t.previous_is_claim),l=t.motorInsurance,o=t.previousPolicy,s=t.CustomerID,_=t.suggestions,E=t.vehicleDetails,y=t.RTO_location,b=t.averagemonthlyusages,N=t.goodscarriedtypes,w=t.permittypes,k=t.location_reset_flag,P=Object.assign(G,{registration_date:l&&l.registration_date?new Date(l.registration_date):"",location_id:l&&l.location_id&&0==k?l.location_id:"",previous_start_date:o&&o.start_date?new Date(o.start_date):"",previous_end_date:o&&o.end_date?new Date(o.end_date):"",previous_policy_name:o&&o.name?o.name:"",insurance_company_id:o&&o.insurancecompany&&o.insurancecompany.Id?o.insurancecompany.Id:"",previous_city:o&&o.city?o.city:"",previous_policy_no:o&&o.policy_no?o.policy_no:"",previous_is_claim:r,previous_claim_bonus:o&&o.claim_bonus?Math.floor(o.claim_bonus):"",previous_claim_for:o&&o.claim_for?o.claim_for:"",goodscarriedtypes_id:l&&l.goodscarriedtype_id?l.goodscarriedtype_id:"",averagemonthlyusages_id:l&&l.averagemonthlyusage_id?l.averagemonthlyusage_id:"",permittypes_id:l&&l.permittype_id?l.permittype_id:"",policy_type_id:l&&l.policytype_id?l.policytype_id:"",valid_previous_policy:!l||0!=l.valid_previous_policy&&1!=l.valid_previous_policy?"":l.valid_previous_policy,duration:o&&o.duration?o.duration:""}),D=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,I={placeholder:D.SearchCity,value:s||y,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vehiGcvd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},D.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},D.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:Y},(function(t){var r=t.values,o=t.errors,s=t.setFieldValue,f=t.setFieldTouched,h=(t.isValid,t.isSubmitting),v=t.touched;return i.a.createElement(S.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},D.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",minDate:"1"==r.policy_type_id?new Date(T):new Date(q),maxDate:"1"==r.policy_type_id?new Date:new Date(L),dateFormat:"dd MMM yyyy",placeholderText:D.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:r.registration_date,onChange:function(e){f("registration_date"),s("registration_date",e),s("previous_end_date",""),s("previous_start_date","")}}),o.registration_date&&v.registration_date?i.a.createElement("span",{className:"errorMsg"},D[o.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},D.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(M.a,{suggestions:_,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:I,onChange:function(a){return e.onChange(a,s)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(f,s,n)}}),o.location_id&&v.location_id?i.a.createElement("span",{className:"errorMsg"},D[o.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"goodscarriedtypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.goodscarriedtypes_id},i.a.createElement("option",{value:""},D.GCVGoodsType),N.map((function(e,a){return i.a.createElement("option",{value:e.id},e.goodscarriedtype)}))),o.goodscarriedtypes_id&&v.goodscarriedtypes_id?i.a.createElement("span",{className:"errorMsg"},D[o.goodscarriedtypes_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"averagemonthlyusages_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.averagemonthlyusages_id},i.a.createElement("option",{value:""},D.GCVMonthlyUse),b.map((function(e,a){return i.a.createElement("option",{value:e.id},e.usage_description)}))),o.averagemonthlyusages_id&&v.averagemonthlyusages_id?i.a.createElement("span",{className:"errorMsg"},D[o.averagemonthlyusages_id]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"permittypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.permittypes_id},i.a.createElement("option",{value:""},D.GCVPermit),w.map((function(e,a){return i.a.createElement("option",{value:e.id},e.permittype)}))),o.permittypes_id&&v.permittypes_id?i.a.createElement("span",{className:"errorMsg"},D[o.permittypes_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," \xa0"))))),"2"==r.policy_type_id?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",D.GCVValidPolicy,"  ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){f("valid_previous_policy"),s("valid_previous_policy",e.target.value)},checked:"0"==r.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",D.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){f("valid_previous_policy"),s("valid_previous_policy",e.target.value)},checked:"1"==r.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},D.Yes)),o.valid_previous_policy&&v.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},D[o.valid_previous_policy]):null)))))):null,"2"==r.policy_type_id&&"1"==r.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",D.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(r.duration&&r.previous_start_date){var a;a=C()(C()(r.previous_start_date).add(r.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),s("previous_end_date",new Date(a))}else s("previous_end_date","");else if(r.previous_start_date){var t=new Date(r.previous_start_date);t=t.setFullYear(t.getFullYear()+1);var n=new Date(t);n=n.setDate(n.getDate()-1),s("previous_policy_name",e.target.value),s("previous_end_date",new Date(n))}s("previous_policy_name",e.target.value)}},i.a.createElement("option",{value:""},D.SPT),i.a.createElement("option",{value:"1"},D.Package),i.a.createElement("option",{value:"2"},D.LiabilityOnly),i.a.createElement("option",{value:"3"},D.shortTerm)),o.previous_policy_name&&v.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},D[o.previous_policy_name]):null))),"3"==r.previous_policy_name?i.a.createElement(d.a,{sm:12,md:5,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.duration,onChange:function(e){var a=new Date;r.previous_start_date&&(a=C()(C()(r.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),s("previous_end_date",new Date(a))),s("duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),o.duration&&v.duration?i.a.createElement("span",{className:"errorMsg"},o.duration):null))):null,i.a.createElement(d.a,{sm:12,md:11,lg:"3"==r.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_start_date",minDate:new Date(R),maxDate:"3"==r.previous_policy_name?new Date(j):new Date(F),dateFormat:"dd MMM yyyy",placeholderText:D.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:r.previous_start_date,onChange:function(e){var a=new Date(e),t=new Date(e);new Date(e);if("3"==r.previous_policy_name)r.duration&&(t=C()(C()(e).add(r.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"));else if("1"==r.previous_policy_name||"2"==r.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1)}f("previous_start_date"),s("previous_end_date",new Date(t)),s("previous_start_date",e)}}),o.previous_start_date&&v.previous_start_date?i.a.createElement("span",{className:"errorMsg"},D[o.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:"3"==r.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:D.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:r.previous_end_date}),o.previous_end_date&&v.previous_end_date?i.a.createElement("span",{className:"errorMsg"},D[o.previous_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},D.SelectInsurer),n.map((function(e,a){return i.a.createElement("option",{key:a,value:e.Id},e.name)}))),o.insurance_company_id&&v.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},D[o.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:D.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),o.previous_city&&v.previous_city?i.a.createElement("span",{className:"errorMsg"},D[o.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_policy_no",type:"text",placeholder:D.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),o.previous_policy_no&&v.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},D[o.previous_policy_no]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ")))))):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!h,onClick:e.selectBrand.bind(e,a)},h?D.Wait:D.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!h},h?D.Wait:D.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},D.RegNo,".",i.a.createElement("br",null),l&&l.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},D.GCVBrand,"- ",i.a.createElement("strong",null,E&&E.vehiclebrand&&E.vehiclebrand.name?E.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.GCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.vehiclemodel&&E.vehiclemodel.description?E.vehiclemodel.description+" "+E.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},D.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.Seating,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.varientmodel&&E.varientmodel.seating?E.varientmodel.seating:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.GVW,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.varientmodel&&E.varientmodel.gross_vechicle_weight?E.varientmodel.gross_vechicle_weight:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},D.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.varientmodel&&E.varientmodel.fueltype?B.a[E.varientmodel.fueltype.id]:null," ")))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(J))},1253:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(46),i=t(18),m=t(17),d=t(0),u=t.n(d),p=t(903),_=t(904),g=t(913),f=t(377),h=t(910),v=t(48),E=t.n(v),y=(t(172),t(95),t(96),t(2)),b=t(31),N=t(34),S=t(40),w=t(38),k=t(19),C=t(22),P=t(7),D=t(9),I=t(1),M=t(20),B=t.n(M),A=(t(3),t(25)),O=t(99),x=new D.a,H=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],R=I.object().shape({registration_no:I.string().when("newRegistrationNo",{is:"NEW",then:I.string(),otherwise:I.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(A.j)(e)}))}),puc:I.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:I.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:I.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:I.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:I.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:I.string().when(["PA_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide PA coverage"),otherwise:I.string()}),ATC_value:I.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:I.string().required("Please select additional towing charges"),otherwise:I.string()}),B00070_value:I.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:I.string().required("Please enter No. of workman").matches(/^[0-9]*$/,"Please provide valid No."),otherwise:I.string()}),B00018_value:I.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide enhance PA coverage").test("isLoanChecking",(function(){return"Value should be 16L to 50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:I.string()}),B00069_value:I.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00012_value:I.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00013_value:I.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideDriver"),otherwise:I.string()}),B00022_value:I.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:I.string().required("This field is required"),otherwise:I.string()}),B00020_value:I.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:I.string().required("This field is required"),otherwise:I.string()}),B00004_value:I.string().when(["electric_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide electrical IDV").matches(/^[0-9]*$/,"Please provide valid IDV").max(8,(function(){return"Value should be maximum 8 characters"})),otherwise:I.string()}),B00004_description:I.string().when(["electric_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide accessory desription").matches(/^[a-zA-Z0-9]*$/,"Please provide valid description"),otherwise:I.string()}),B00003_value:I.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide non-electrical IDV").matches(/^[0-9]*$/,"Please provide valid IDV").max(8,(function(){return"Value should be maximum 8 characters"})),otherwise:I.string()}),B00003_description:I.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"Please provide valid description"),otherwise:I.string()}),B00073_value:I.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:I.string()}),B00073_description:I.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide No. of paid driver").matches(/^[0-9]$/,"Please provide valid number"),otherwise:I.string()}),B00007_value:I.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide No. of trailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00007_description:I.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide trailer IDV").matches(/^[0-9]*$/,"Please provide valid IDV"),otherwise:I.string()}),B00011_value:I.string().when(["trailer_flag_TP"],{is:function(e){return"1"==e},then:I.string().required("Please provide No. of trailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00011:I.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:I.string().test("isLoanChecking",(function(e){return!0})),otherwise:I.string()}),fuel_type:I.string().required("Select fuel type"),geographical_extension_length:I.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:I.string().test("geoExtention",(function(){return"Select any one country"}),(function(e){return!(e<1)})),otherwise:I.string()})}),L={B00002:H.B00002,B00003:H.B00003,B00004:H.B00004,B00005:H.B00005,B00006:H.B00006,B00007:H.B00007,B00008:H.B00008,B00009:H.B00009,B00010:H.B00010,B00011:H.B00011,B00012:H.B00012,B00013:H.B00013,B00069:H.B00069,B00070:H.B00070,B00071:H.B00071,B00015:H.B00015,B00073:H.B00073,B00018:H.B00018,B00019:H.B00019,B00020:H.B00020,B00022:H.B00022},j=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleChange=function(){n.setState({serverResponse:[],error:[]})},n.showCNGText=function(e){1==e?n.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):n.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},n.sliderValue=function(e){n.setState({sliderVal:e,serverResponse:[],error:[]})},n.bodySliderValue=function(e){n.setState({bodySliderVal:e,serverResponse:[],error:[]})},n.vehicleDetails=function(e){n.props.history.push("/VehicleDetails_GCV_TP/".concat(e))},n.fetchData=function(){n.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;n.props.loadingStart(),P.a.get("gcv-tp/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var r=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.request_data:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=[],c=[];if(r&&"1"==r.policy_for&&null==r.add_more_coverage){var i=["B00015"];c.push(i)}else if(r&&"2"==r.policy_for&&null==r.add_more_coverage){i=[];c.push(i)}else{i=r.add_more_coverage.split(",");c.push(i)}c=c.flat(),s.PA_flag=r&&""!=r.pa_cover?"1":"0",s.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0";var m=r&&null!=r.add_more_coverage_request_json?r.add_more_coverage_request_json:"",d=""!=m?JSON.parse(m):[],u=d&&d.geographical_extension?d.geographical_extension:[];s.ATC_value=d.ATC?d.ATC.value:"",s.B00018_value=d.B00018?d.B00018.value:"",s.B00069_value=d.B00069?d.B00069.value:"",s.B00012_value=d.B00012?d.B00012.value:"",s.B00013_value=d.B00013?d.B00013.value:"",s.B00022_value=d.B00022?d.B00022.value:"",s.B00020_value=d.B00020?d.B00020.value:"",s.B00004_value=d.B00004?d.B00004.value:"",s.B00004_description=d.B00004?d.B00004.description:"",s.B00003_value=d.B00003?d.B00003.value:"",s.B00003_description=d.B00003?d.B00003.description:"",s.B00073_value=d.B00073?d.B00073.value:"",s.B00073_description=d.B00073?d.B00073.description:"",s.B00007_value=d.B00007?d.B00007.value:"",s.B00007_description=d.B00007?d.B00007.description:"",s.B00070_value=d.B00070?d.B00070.value:"",s.B00011_value=d.B00011?d.B00011.value:"",n.setState({motorInsurance:r,add_more_coverage:c,request_data:l,vehicleDetails:o,showCNG:1==r.cng_kit,vahanVerify:!(!r.chasis_no||!r.engine_no),selectFlag:r&&null!=r.add_more_coverage?"0":"1",add_more_coverage_request_array:d,geographical_extension:u}),n.props.loadingStop(),n.getAccessToken(s)})).catch((function(e){n.props.loadingStop()}))},n.getAccessToken=function(e){n.props.loadingStart(),P.a.post("/callTokenService").then((function(a){n.setState({accessToken:a.data.access_token}),n.fullQuote(a.data.access_token,e)})).catch((function(e){n.setState({accessToken:""}),n.props.loadingStop()}))},n.getFuelList=function(e){n.props.loadingStart(),P.a.get("/fuel-list").then((function(e){n.setState({fuelList:e.data.data.fuellist}),n.fetchData()})).catch((function(e){n.setState({fuelList:[]}),n.props.loadingStop()}))},n.getMoreCoverage=function(){n.props.loadingStart();var e=new D.a;P.a.get("gcv-tp/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decrypt--getMoreCoverage-- ",t),n.setState({moreCoverage:t.data}),n.getFuelList()})).catch((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptERR--getMoreCoverage-- ",t),n.setState({moreCoverage:[]}),n.props.loadingStop()}))},n.getVahanDetails=function(){var e=Object(l.a)(r.a.mark((function e(a,t,l,o){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),l("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",n.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}B()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return n.props.loadingStart(),e.next=12,P.a.post("/getVahanDetails",s).then((function(e){n.setState({vahanDetails:e.data,vahanVerify:!0}),n.state.vahanDetails.data[0].chasiNo&&n.setState({chasiNo:n.state.vahanDetails.data[0].chasiNo}),n.state.vahanDetails.data[0].engineNo&&n.setState({engineNo:n.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),l("vahanVerify",!0),t("engine_no"),l("engine_no",n.state.engineNo),t("chasis_no"),l("chasis_no",n.state.chasiNo),n.props.loadingStop()})).catch((function(e){n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop()}));case 12:e.next=19;break;case 14:n.props.loadingStart(),n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),n.fullQuote=function(e,a){var t=n.state,r=t.PolicyArray,l=(t.sliderVal,t.add_more_coverage),o=t.motorInsurance,s=(t.bodySliderVal,t.vehicleDetails),c=t.geographical_extension,i=(r.length>0&&Math.round(r[0].PolicyRiskList[0].IDV_Suggested),{}),m=new FormData,d=localStorage.getItem("users")?localStorage.getItem("users"):"",u="";if(d&&sessionStorage.getItem("csc_id")){var p=new D.a;d=(d=JSON.parse(d)).user,u=(d=JSON.parse(p.decrypt(d))).type}l&&(i={B00018:{value:a.B00018_value},B00069:{value:a.B00069_value},B00012:{value:a.B00012_value},B00013:{value:a.B00013_value},B00022:{value:a.B00022_value},B00020:{value:a.B00020_value},ATC:{value:a.ATC_value},B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00073:{value:a.B00073_value,description:a.B00073_description},B00007:{value:a.B00007_value,description:a.B00007_description},B00011:{value:a.B00011_value},B00070:{value:a.B00070_value},geographical_extension:c});var _={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,policy_type:o.policy_type,add_more_coverage:l.toString(),PA_Cover:a.PA_flag?a.PA_Cover:"0",coverage_data:JSON.stringify(i),fuel_type:a.fuel_type?a.fuel_type:s&&s.varientmodel&&s.varientmodel.fueltype?s.varientmodel.fueltype.id:""};if(console.log("fullQuote_post_data",_),_.idv_value>5e6&&"POSP"==u)return B()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1;var g=new D.a;m.append("enc_data",g.encrypt(JSON.stringify(_))),P.a.post("fullQuotePMGCV",m).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status)n.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]});else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var a=[];for(var t in e.data.UnderwritingResult.MessageList)a.push(e.data.UnderwritingResult.MessageList[t].Message);n.setState({fulQuoteResp:e.data.PolicyObject,error:{message:0},serverResponse:[],validation_error:a,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){a=[];for(var r in e.data.messages){var o="";e.data.messages[r].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[r].code?(o="It is blacklisted vehicle. Please contact Relationship manager",B()(o)):o=e.data.messages[r].message,a.push(o)}n.setState({fulQuoteResp:[],add_more_coverage:l,validation_error:a,error:{message:0},serverResponse:[]})}else n.setState({fulQuoteResp:[],add_more_coverage:l,error:{message:1},serverResponse:[]});n.props.loadingStop()})).catch((function(e){n.setState({serverResponse:[]}),n.props.loadingStop()}))},n.handleSubmit=function(e){var a=n.props.match.params.productId,t=n.state,r=(t.motorInsurance,t.PolicyArray),l=(t.sliderVal,t.add_more_coverage),o=(t.bodySliderVal,t.geographical_extension),s=(r.length>0&&Math.round(r[0].PolicyRiskList[0].IDV_Suggested),{});l&&(s={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00011:{value:e.B00011_value},B00070:{value:e.B00070_value},geographical_extension:o});var c,i=new FormData,m=new D.a,d=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(d.user&&(d=JSON.parse(m.decrypt(d.user))),c={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:"0",cngkit_cost:"0",engine_no:e.engine_no,idv_value:"0",add_more_coverage:l,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive_GCV_TP/".concat(a),coverage_data:JSON.stringify(s),fuel_type:e.fuel_type},console.log("post_data",c),d){if(O.a.includes(d.login_type)&&l.indexOf("B00015")<0)return B()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(c.idv_value>5e6&&"POSP"==d.user_type)return B()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(i.append("enc_data",m.encrypt(JSON.stringify(c))),n.props.loadingStart(),P.a.post("gcv-tp/update-insured-value",i).then((function(e){n.props.loadingStop();var t=JSON.parse(m.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error&&n.props.history.push("/AdditionalDetails_GCV_TP/".concat(a))})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypterr--fetchData-- ",a),n.props.loadingStop()}))):B()("Chasis no mismatch")}},n.onRowSelect=function(e,a,t,r){var l=n.state.add_more_coverage;if(a)l.push(e),n.setState({add_more_coverage:l,serverResponse:[],error:[]}),"B00016"==e&&(t("PA_flag"),r("PA_flag","1")),"B00015"==e&&(t("PA_cover_flag"),r("PA_cover_flag","1")),"B00007"==e&&(t("trailer_flag"),r("trailer_flag","1")),"B00073"==e&&(t("pa_coolie_flag"),r("pa_coolie_flag","1")),"B00003"==e&&(t("nonElectric_flag"),r("nonElectric_flag","1")),"B00004"==e&&(t("electric_flag"),r("electric_flag","1")),"B00020"==e&&(t("hospital_cash_OD_flag"),r("hospital_cash_OD_flag","1")),"B00022"==e&&(t("hospital_cash_PD_flag"),r("hospital_cash_PD_flag","1")),"B00013"==e&&(t("LL_PD_flag"),r("LL_PD_flag","1")),"B00012"==e&&(t("LL_Emp_flag"),r("LL_Emp_flag","1")),"B00069"==e&&(t("LL_Coolie_flag"),r("LL_Coolie_flag","1")),"B00018"==e&&(t("enhance_PA_OD_flag"),r("enhance_PA_OD_flag","1")),"B00070"==e&&(t("LL_workman_flag"),r("LL_workman_flag","1")),"ATC"==e&&(t("ATC_flag"),r("ATC_flag","1")),"B00011"==e&&(t("trailer_flag_TP"),r("trailer_flag_TP","1")),"geographical_extension"==e&&(t("Geographical_flag"),r("Geographical_flag","1"));else{var o=l.indexOf(e);-1!==o&&(l.splice(o,1),n.setState({serverResponse:[],error:[]})),"B00016"==e&&(t("PA_flag"),r("PA_flag","0"),t("PA_Cover"),r("PA_Cover","")),"B00015"==e&&(t("PA_cover_flag"),r("PA_cover_flag","0")),"B00007"==e&&(t("trailer_flag"),r("trailer_flag","0")),"B00073"==e&&(t("pa_coolie_flag"),r("pa_coolie_flag","0")),"B00003"==e&&(t("nonElectric_flag"),r("nonElectric_flag","0")),"B00004"==e&&(t("electric_flag"),r("electric_flag","0")),"B00020"==e&&(t("hospital_cash_OD_flag"),r("hospital_cash_OD_flag","0")),"B00022"==e&&(t("hospital_cash_PD_flag"),r("hospital_cash_PD_flag","0")),"B00013"==e&&(t("LL_PD_flag"),r("LL_PD_flag","0")),"B00012"==e&&(t("LL_Emp_flag"),r("LL_Emp_flag","0")),"B00069"==e&&(t("LL_Coolie_flag"),r("LL_Coolie_flag","0")),"B00018"==e&&(t("enhance_PA_OD_flag"),r("enhance_PA_OD_flag","0")),"B00070"==e&&(t("LL_workman_flag"),r("LL_workman_flag","0")),"ATC"==e&&(t("ATC_flag"),r("ATC_flag","0")),"B00011"==e&&(t("trailer_flag_TP"),r("trailer_flag_TP","0")),"geographical_extension"==e&&(t("Geographical_flag"),r("Geographical_flag","0"),r("GeoExtnBhutan",""),r("GeoExtnNepal",""),r("GeoExtnMaldives",""),r("GeoExtnPakistan",""),r("GeoExtnSriLanka",""),r("GeoExtnBangladesh",""),n.setState({geographical_extension:[]}))}},n.onGeoAreaSelect=function(e,a,t,r,l){var o=n.state,s=(o.add_more_coverage,o.geographical_extension);if(t)s.push(e),n.setState({geographical_extension:s,serverResponse:[],error:[]}),r(e),l(e,"1"),r("geographical_extension_length"),l("geographical_extension_length",s.length);else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),n.setState({serverResponse:[],error:[]})),r(e),l(e,""),r("geographical_extension_length"),l("geographical_extension_length",s.length)}},n.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},n.handleShow=n.handleShow.bind(Object(c.a)(n)),n.handleClose=n.handleClose.bind(Object(c.a)(n)),n.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],geographical_extension:[]},n}return Object(s.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.add_more_coverage,n=(a.is_CNG_account,a.vahanDetails,a.error),r=a.policyCoverage,l=a.vahanVerify,o=a.selectFlag,s=a.fulQuoteResp,c=(a.PolicyArray,a.validation_error),i=a.vehicleDetails,m=a.geographical_extension,v=a.moreCoverage,w=(a.sliderVal,a.bodySliderVal,a.motorInsurance),k=a.serverResponse,C=a.engine_no,P=a.chasis_no,D=a.initialValue,I=a.add_more_coverage_request_array,M=this.props.match.params.productId,A=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";A.user&&(A=JSON.parse(x.decrypt(A.user)));var H=w&&w.add_more_coverage?w.add_more_coverage.split(","):"",j={},F=!w||null!=w.pa_cover&&""!=w.pa_cover?"1":"0",q=w&&null!=w.pa_cover?w.pa_cover:"",T=i&&i.varientmodel&&i.varientmodel.fueltype?i.varientmodel.fueltype.id:"",V=I.B00007&&I.B00007.value?"1":"0",G=I.B00073&&I.B00073.value?"1":"0",Y=I.B00004&&I.B00004.value?"1":"0",J=I.B00003&&I.B00003.value?"1":"0",z=I.B00020&&I.B00020.value?"1":"0",Z=I.B00022&&I.B00022.value?"1":"0",$=I.B00013&&I.B00013.value?"1":"0",U=I.B00012&&I.B00012.value?"1":"0",Q=I.B00069&&I.B00069.value?"1":"0",W=I.B00018&&I.B00018.value?"1":"0",K=I.ATC&&I.ATC.value?"1":"0",X=I.B00070&&I.B00070.value?"1":"0",ee=I.B00011&&I.B00011.value?"1":"0",ae=t&&t[t.indexOf("geographical_extension")]?"1":"0",te={};te="1"==o?Object.assign(D,{registration_no:w.registration_no?w.registration_no:"",chasis_no:w.chasis_no?w.chasis_no:P||"",chasis_no_last_part:w.chasis_no_last_part?w.chasis_no_last_part:"",add_more_coverage:w.add_more_coverage?w.add_more_coverage:"",engine_no:w.engine_no?w.engine_no:C||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:w&&"2"==w.policy_for?"":"B00015",B00010:"",PA_Cover:"",PA_cover_flag:w&&"2"==w.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:T,trailer_flag_TP:"0",Geographical_flag:"0",geographical_extension_length:m&&m.length}):Object.assign(D,{registration_no:w.registration_no?w.registration_no:"",chasis_no:w.chasis_no?w.chasis_no:P||"",chasis_no_last_part:w.chasis_no_last_part?w.chasis_no_last_part:"",add_more_coverage:w.add_more_coverage?w.add_more_coverage:"",engine_no:w.engine_no?w.engine_no:C||"",vahanVerify:l,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:w&&w.pa_flag?w.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:T,trailer_flag_TP:"0",B00010:"",Geographical_flag:"0",geographical_extension_length:m&&m.length});for(var ne=0;ne<H.length;ne++)j[H[ne]]=H[ne];j.PA_flag=F,j.trailer_flag=V,j.pa_coolie_flag=G,j.electric_flag=Y,j.nonElectric_flag=J,j.hospital_cash_OD_flag=z,j.hospital_cash_PD_flag=Z,j.LL_PD_flag=$,j.LL_Emp_flag=U,j.LL_Coolie_flag=Q,j.enhance_PA_OD_flag=W,j.ATC_flag=K,j.LL_workman_flag=X,j.PA_Cover=q,j.trailer_flag_TP=ee,j.Geographical_flag=ae,j.ATC_value=I.ATC?I.ATC.value:"",j.B00018_value=I.B00018?I.B00018.value:"",j.B00069_value=I.B00069?I.B00069.value:"",j.B00012_value=I.B00012?I.B00012.value:"",j.B00013_value=I.B00013?I.B00013.value:"",j.B00022_value=I.B00022?I.B00022.value:"",j.B00020_value=I.B00020?I.B00020.value:"",j.B00004_value=I.B00004?I.B00004.value:"",j.B00004_description=I.B00004?I.B00004.description:"",j.B00003_value=I.B00003?I.B00003.value:"",j.B00003_description=I.B00003?I.B00003.description:"",j.B00073_value=I.B00073?I.B00073.value:"",j.B00073_description=I.B00073?I.B00073.description:"",j.B00007_value=I.B00007?I.B00007.value:"",j.B00007_description=I.B00007?I.B00007.description:"",j.B00011_value=I.B00011?I.B00011.value:"",j.B00070_value=I.B00070?I.B00070.value:"",j.GeoExtnBangladesh=m?m[m.indexOf("GeoExtnBangladesh")]:"",j.GeoExtnBhutan=m?m[m.indexOf("GeoExtnBhutan")]:"",j.GeoExtnNepal=m?m[m.indexOf("GeoExtnNepal")]:"",j.GeoExtnMaldives=m?m[m.indexOf("GeoExtnMaldives")]:"",j.GeoExtnPakistan=m?m[m.indexOf("GeoExtnPakistan")]:"",j.GeoExtnSriLanka=m?m[m.indexOf("GeoExtnSriLanka")]:"",te=Object.assign(D,j);k.PolicyLobList&&k.PolicyLobList[0].PolicyRiskList[0];var re=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],le=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return u.a.createElement("div",null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6},u.a.createElement(g.a,null,L[e.ProductElementCode])),u.a.createElement(_.a,{sm:12,md:6},u.a.createElement(g.a,null,"\u20b9 ",Math.round(e.AnnualPremium)))))}))})):null,oe=r&&r.length>0?r.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return u.a.createElement("tr",null,u.a.createElement("td",null,L[e.ProductElementCode],":"),u.a.createElement("td",null,"\u20b9 ",Math.round(e.AnnualPremium)))}))})):null,se=n&&n.message?u.a.createElement("span",{className:"errorMsg"},u.a.createElement("h6",null,u.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,ce=c?c.map((function(e,a){return u.a.createElement("span",{className:"errorMsg",key:a},u.a.createElement("li",null,u.a.createElement("strong",null,e)))})):null;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("aside",{className:"left-sidebar"},u.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},u.a.createElement(N.a,null))),u.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherGcvt"},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},re.SBIGICL),u.a.createElement("section",{className:"brand colpd m-b-25"},u.a.createElement("div",{className:"d-flex justify-content-left"},u.a.createElement("div",{className:"brandhead m-b-10"},u.a.createElement("h4",{className:"m-b-30"},re.GCVDamage," "),u.a.createElement("h5",null,se),u.a.createElement("h5",null,ce))),u.a.createElement(y.e,{initialValues:te,onSubmit:k&&""!=k?k.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:R},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isSubmitting,a.touched);return u.a.createElement(y.d,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:9,lg:9},u.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},u.a.createElement(E.a,{trigger:re.DefaultCovered,open:!0},u.a.createElement("div",{className:"listrghtsideTrigr"},le))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:5},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:5,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},re.RegNo,":"))),u.a.createElement(_.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?u.a.createElement(y.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):u.a.createElement(y.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?u.a.createElement("span",{className:"errorMsg"},re[n.registration_no]):null))))),u.a.createElement(_.a,{sm:12,md:12,lg:5},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},re.ChassisNo,"."))),u.a.createElement(_.a,{sm:12,md:5,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&o.chasis_no_last_part?u.a.createElement("span",{className:"errorMsg"},re[n.chasis_no_last_part]):null))),u.a.createElement(_.a,{sm:12,md:5,lg:2},u.a.createElement(f.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},re.Verify),n.vahanVerify?u.a.createElement("span",{className:"errorMsg"},re[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{name:"engine_no",type:"text",placeholder:re.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&o.engine_no?u.a.createElement("span",{className:"errorMsg"},re[n.engine_no]):null))),u.a.createElement(_.a,{sm:12,md:6,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{name:"chasis_no",type:"text",placeholder:re.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&o.chasis_no?u.a.createElement("span",{className:"errorMsg"},re[n.chasis_no]):null)))):null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(g.a,null,u.a.createElement("span",{className:"fs-18"},re.AddMoreCoverage,".")))),v&&v.length>0?v.map((function(a,s){return u.a.createElement(p.a,{key:s},w&&"2"==w.policy_for&&"B00015"!=a.code||w&&"1"==w.policy_for?u.a.createElement(_.a,{sm:12,md:11,lg:6,key:s+"a"},u.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,u.a.createElement(y.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!O.a.includes(A.login_type)||"B00015"!=t[a.code]),onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&B()(re.SwalIRDAI,{button:re.OK}),e.onRowSelect(n.target.value,n.target.checked,l,r)},checked:t[a.code]==a.code}),u.a.createElement("span",{className:"checkmark mL-0"}),u.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},u.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?u.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"1"==t.trailer_flag_TP&&"B00011"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00011_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00011_value,onChange:function(a){l("B00011_value"),r("B00011_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},re.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00011_value?u.a.createElement("span",{className:"errorMsg"},n.B00011_value):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},"Select"),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00073_value?u.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00073_description",type:"text",placeholder:"No of paid drivers",autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?u.a.createElement("span",{className:"errorMsg"},n.B00073_description):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00003_value",type:"text",placeholder:re.ValueAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?u.a.createElement("span",{className:"errorMsg"},n.B00003_value):null))),u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00003_description",type:"text",placeholder:re.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?u.a.createElement("span",{className:"errorMsg"},re[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00004_value",type:"text",placeholder:re.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?u.a.createElement("span",{className:"errorMsg"},n.B00004_value):null))),u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00004_description",type:"text",placeholder:re.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?u.a.createElement("span",{className:"errorMsg"},re[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?u.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},re.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00020_value?u.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},re.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00022_value?u.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},re.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00013_value?u.a.createElement("span",{className:"errorMsg"},re[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:4,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00012_value",type:"text",placeholder:re.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?u.a.createElement("span",{className:"errorMsg"},re[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00069_value",type:"text",placeholder:re.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?u.a.createElement("span",{className:"errorMsg"},re[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00018_value",type:"text",placeholder:re.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?u.a.createElement("span",{className:"errorMsg"},n.B00018_value):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00070_value",type:"text",placeholder:re.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?u.a.createElement("span",{className:"errorMsg"},n.B00070_value):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:2,key:s+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},re.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.ATC_value?u.a.createElement("span",{className:"errorMsg"},n.ATC_value):null)))):null,"1"==t.Geographical_flag&&"geographical_extension"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,n){return"1"==a.status?u.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,u.a.createElement(y.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:t[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,t,a.target.checked,l,r)}}),u.a.createElement("span",{className:"checkmark mL-0"}),u.a.createElement("span",{className:"error-message"})):null})),n.geographical_extension_length?u.a.createElement("span",{className:"errorMsg"},n.geographical_extension_length):null)):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,o,l,r):null)})):null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ")),u.a.createElement("div",{className:"col-md-15"},u.a.createElement("div",{className:"brandhead"},re.EffectivePUC,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ")),u.a.createElement("div",{className:"d-inline-flex m-b-15"},u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(y.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",re.Yes))),u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(y.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",re.No)),n.puc&&o.puc?u.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),u.a.createElement("div",{className:"d-flex justify-content-left resmb"},u.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,M)},re.Back),k&&""!=k?k.message?u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},re.Recalculate):"1"==t.puc?u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},re.Continue):null:u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},re.Recalculate))),u.a.createElement(_.a,{sm:12,md:3},u.a.createElement("div",{className:"justify-content-left regisBox"},u.a.createElement("h3",{className:"premamnt"}," ",re.TPAmount),u.a.createElement("div",{className:"rupee"}," \u20b9 ",s.DuePremium),u.a.createElement("div",{className:"text-center"},u.a.createElement(f.a,{className:"brkbtn",type:"button",onClick:e.handleShow},re.Breakup))))))}))),u.a.createElement(S.a,null)))))),u.a.createElement(h.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},u.a.createElement(h.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},u.a.createElement("div",{className:"cntrbody"},u.a.createElement("h3",null,re.PremiumBreakup," "))),u.a.createElement(h.a.Body,null,u.a.createElement("table",{class:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,re.Premium,":"),u.a.createElement("th",null,"\u20b9 ",s.DuePremium))),u.a.createElement("tbody",null,oe,u.a.createElement("tr",null,u.a.createElement("td",null,re.GrossPremium,":"),u.a.createElement("td",null,"\u20b9 ",Math.round(s.BeforeVatPremium))),u.a.createElement("tr",null,u.a.createElement("td",null,re.GST,":"),u.a.createElement("td",null,"\u20b9 ",Math.round(s.TGST))))))))}}]),t}(d.Component);a.default=Object(w.g)(Object(C.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(k.a)())},loadingStop:function(){return e(Object(k.b)())}}}))(j))},1254:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please enter appointee name").min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"ValidGST"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("This field is required"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Name"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Branch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_GCV_TP/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:4,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_GCV_TP/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};console.log("appointee name===>",e.state.is_appointee,a.appointee_name),console.log("appointee status===>",o.policy_for),"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),console.log("is_appinte==",e.state.is_appointee),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("gcv-tp/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decrypt",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_GCV_TP/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("gcv-tp/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee===>",c?c.is_appointee:"efg"),console.log("is_appointee===>",c),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox aditionalGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"7"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var n=e.values,r=e.errors,v=e.setFieldValue,E=e.setFieldTouched,y=(e.isValid,e.isSubmitting),w=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,"  ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==n.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){v("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==n.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),r.is_carloan&&w.is_carloan?i.a.createElement("span",{className:"errorMsg"},r.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_name}),r.bank_name&&w.bank_name?i.a.createElement("span",{className:"errorMsg"},z[r.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_branch}),r.bank_branch&&w.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[r.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.salutation_id&&w.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[r.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==n.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.first_name}),r.first_name&&w.first_name?i.a.createElement("span",{className:"errorMsg"},z[r.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.gstn_no.toUpperCase(),onChange:function(e){return v("gstn_no",e.target.value.toUpperCase())}}),r.gstn_no&&w.gstn_no?i.a.createElement("span",{className:"errorMsg"},r.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.gender&&w.gender?i.a.createElement("span",{className:"errorMsg"},z[r.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");v("dob",a),v("age",e.target.value)}}),r.age&&w.age?i.a.createElement("span",{className:"errorMsg"},z[r.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:n.date_of_incorporation,onChange:function(e){E("date_of_incorporation"),v("date_of_incorporation",e)}}),r.date_of_incorporation&&w.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[r.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.phone,maxLength:"10",className:"phoneinput pd-l-25"}),r.phone&&w.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[r.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.address}),r.address&&w.address?i.a.createElement("span",{className:"errorMsg"},z[r.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:n.pincode,maxLength:"6",onInput:function(e){E("state"),E("pincode"),v("pincode",e.target.value),v("state",L?L[0]:n.state),v("pincode_id","")}}),r.pincode&&w.pincode?i.a.createElement("span",{className:"errorMsg"},z[r.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&w.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[r.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||n.state,disabled:!0}),r.state&&w.state?i.a.createElement("span",{className:"errorMsg"},r.state):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:n.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),r.org_level&&w.org_level?i.a.createElement("span",{className:"errorMsg"},r.org_level):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))):null):null,i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return v("pancard",e.target.value.toUpperCase())}}),r.pancard&&w.pancard?i.a.createElement("span",{className:"errorMsg"},z[r.pancard]):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&w.email?i.a.createElement("span",{className:"errorMsg"},z[r.email]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.NomineeName)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.nominee_salutation&&w.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_first_name}),r.nominee_first_name&&w.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),r.nominee_gender&&w.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),v("nominee_dob",t),v("nominee_age",e.target.value)}}),r.nominee_age&&w.nominee_age?i.a.createElement("span",{className:"errorMsg"},r.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:n.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id},e.name):null}))),r.nominee_relation_with&&w.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.appointee_name}),r.appointee_name&&w.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),r.appointee_relation_with&&w.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[r.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIAAccount,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){v("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account&&w.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:n.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),r.eia_no&&w.eia_no?i.a.createElement("span",{className:"errorMsg"},z[r.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){v("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),r.is_eia_account2&&w.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[r.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&w.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!y,onClick:a.otherComprehensive.bind(a,J)},y?z["Wait.."]:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!y},y?z["Wait.."]:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1255:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_GCV_TP/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("gcv-tp/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=(n.data.policyHolder&&n.data.policyHolder.previouspolicy,n.data.policyHolder?n.data.policyHolder.bcmaster:{}),c=n.data.policyHolder?n.data.policyHolder.step_no:"",i=n.data.policyHolder?n.data.policyHolder.request_data:{},m=n.data.policyHolder?n.data.policyHolder.menumaster:{},d=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,vehicleDetails:o,step_completed:c,policyHolder:l,bcMaster:s,request_data:i,menumaster:m,paymentgateway:d,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){y.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData,r=new k.a,l={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",access_token:e,idv_value:a.idv_value,policy_type:a.policy_type,add_more_coverage:a.add_more_coverage,cng_kit:a.cng_kit,cngKit_Cost:Math.floor(a.cngkit_cost),PA_Cover:a&&a.pa_cover?a.pa_cover:"0",coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:""};n.append("enc_data",r.encrypt(JSON.stringify(l))),console.log("post_data--fullQuotePMGCV- ",l),y.a.post("fullQuotePMGCV",n).then((function(e){e.data.PolicyObject?t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}):e.data.ValidateResult?M()(e.data.ValidateResult.message):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],step_completed:"0",vehicleDetails:[],policyHolder:[],paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.fulQuoteResp),r=a.motorInsurance,l=a.error,o=(a.error1,a.refNumber,a.bcMaster),s=a.request_data,c=(a.menumaster,a.paymentgateway),_=a.paymentStatus,y=a.relation,b=a.memberdetails,N=a.nomineedetails,S=a.vehicleDetails,w=a.step_completed,k=this.props.match.params.productId,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=l&&l.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=_&&103==_.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),w>="4"&&"7"==S.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumGcv"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},C.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var l=a.values,_=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,C.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,P),i.a.createElement("h5",null,I),i.a.createElement("h4",null,C.PolRefNumber," ",n.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},s&&s.start_date?A()(s.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},s&&s.end_date?A()(s.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},S&&S.vehicletype?S.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.Premium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.DuePremium)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GST,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(n.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:10},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.vehiclebrand&&S.vehiclebrand.name?S.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.vehiclemodel&&S.vehiclemodel.description?S.vehiclemodel.description+" "+S.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.varientmodel&&S.varientmodel.varient?S.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.chasis_no?r.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.engine_no?r.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.varientmodel&&S.varientmodel.fuel_type?D.a[parseInt(S.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.varientmodel&&S.varientmodel.seating?S.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.varientmodel&&S.varientmodel.body_style?S.varientmodel.body_style:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GrossVehicleWeight)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.varientmodel&&S.varientmodel.gross_vechicle_weight?S.varientmodel.gross_vechicle_weight:null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement("strong",null,C.OwnerDetails," "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==r.policy_for?i.a.createElement(u.a,null,C.Name,":"):i.a.createElement(u.a,null,"Company Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.first_name))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(A()().diff(b.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?A()(b.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.email_id))),"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==b.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==r.policy_for&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,"Nominee Details :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N?N.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.dob?Math.floor(A()().diff(N.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},N&&y.map((function(e,a){return e.id==N.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&"m"==N.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==r.policy_for&&N&&"1"==N.is_appointee&&"1"==r.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.appointee_name?N.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},N&&N.appointee_relation_with&&y.map((function(e,a){return e.id==N.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",c&&c.length>0?c.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){_("gateway",a.target.value),_("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,k)},C.Back),o&&1==o.eligible_for_payment_link?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,n.QuotationNo&&""!=l.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},C.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:4,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))):""==w?"Forbidden":null,i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(R))},1256:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=t(31),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(922),N=t(22),S=t(3),w=t.n(S),k=t(1),C=t(20),P=t.n(C),D=t(9),I=t(2),M=w()().format(),B=w()().add(14,"day"),A=(w()().add(15,"day").calendar(),{policy_type:"1",pol_start_date:null}),O=k.object().shape({pol_start_date:k.date().required("Please select both policy start date & time").nullable(),pol_end_date:k.date().required("Please select both policy end date & time").nullable()}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[]},e.handleChange=function(e){},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;new D.a;e.props.loadingStart(),v.a.get("sme/details/".concat(a)).then((function(a){e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new D.a;null==e.props.policy_holder_ref_no&&""!=a&&(e.props.loadingStart(),v.a.get("sme/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.smeinfo.risk_address);e.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&e.props.setSmeOthersDetails({Commercial_consideration:r.data.policyHolder.previouspolicy.Commercial_consideration,previous_start_date:r.data.policyHolder.previouspolicy.start_date,previous_end_date:r.data.policyHolder.previouspolicy.end_date,Previous_Policy_No:r.data.policyHolder.previouspolicy.policy_no,insurance_company_id:r.data.policyHolder.previouspolicy.insurancecompany_id,previous_city:r.data.policyHolder.previouspolicy.address}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()})))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new D.a,o={menumaster_id:"5",page_name:"Registration_SME/".concat(n),vehicle_type_id:n};if(sessionStorage.getItem("csc_id"))o.bcmaster_id="5",o.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",o.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",o.product_id=n;else{var s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";s&&(s=JSON.parse(l.decrypt(s)),o.bcmaster_id=s?s.agent_id:"",o.bc_token=s?s.token:"",o.bc_agent_id=s?s.user_info.data.user.username:"",o.product_id=n)}var c=w()(a.pol_start_date).format("YYYY-MM-DD HH:mm:ss"),i=w()(a.pol_end_date).format("YYYY-MM-DD hh:mm:ss");o.pol_start_date=c,o.pol_end_date=i,e.props.loadingStart(),null!=e.props.policy_holder_id?(o.policy_holder_id=e.props.policy_holder_id,r.append("enc_data",l.encrypt(JSON.stringify(o))),v.a.post("sme/update-policy-info",r).then((function(r){!1===JSON.parse(l.decrypt(r.data)).error?(e.props.loadingStop(),e.props.setDataUpdate({start_date:a.pol_start_date,end_date:a.pol_end_date}),e.props.history.push("/RiskDetails/".concat(n))):(e.props.loadingStop(),P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))):(r.append("enc_data",l.encrypt(JSON.stringify(o))),v.a.post("sme/policy-info",r).then((function(t){var r=JSON.parse(l.decrypt(t.data));console.log("decryptResp-----",r),!1===r.error?(localStorage.setItem("policy_holder_ref_no",r.data.policyHolder_refNo),e.props.loadingStop(),e.props.setData({start_date:a.pol_start_date,end_date:a.pol_end_date,policy_holder_id:r.data.policyHolder_id,policy_holder_ref_no:r.data.policyHolder_refNo,request_data_id:r.data.request_data_id,completed_step:r.data.completedStep,menumaster_id:r.data.menumaster_id}),e.props.history.push("/RiskDetails/".concat(n))):(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),e.props.loadingStop())})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1)})))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails(),console.log("product_id",this.props.match.params)}},{key:"render",value:function(){this.state.motorInsurance;var e=Object.assign(A,{pol_start_date:null!=this.props.start_date?new Date(this.props.start_date):null,pol_end_date:null!=this.props.end_date?new Date(this.props.end_date):null});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox regs2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Pre UW "),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(I.e,{initialValues:e,onSubmit:this.handleSubmit,validationSchema:O},(function(e){var a=e.values,t=e.errors,n=e.setFieldValue,r=e.setFieldTouched,l=(e.isValid,e.isSubmitting,e.touched);return c.a.createElement(I.d,null,console.log("pol_start_date",a.pol_start_date),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"})),c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-30"},"POLICY INFORMATION")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:5,lg:5},c.a.createElement("h6",null,"Policy start date & time:")),c.a.createElement(m.a,{sm:6,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(_.a,{name:"pol_start_date",minDate:new Date(M),maxDate:new Date(B),excludeOutOfBoundsTimes:!0,dateFormat:"dd-MM-yyyy HH:mm",timeFormat:"HH:mm",placeholderText:"Policy Start Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:a.pol_start_date,onSelect:function(e){0==Math.floor(w()().diff(e,"days",!0))?e.setHours(w()().format("HH"),w()().format("mm"),0,0):e.setHours(0,0,0,0),n("pol_start_date",e),r("pol_end_date"),n("pol_end_date",new Date(new Date(w()(e).add(364,"day").calendar()).setHours(23,59,0,0)))}}),t.pol_start_date&&l.pol_start_date?c.a.createElement("span",{className:"errorMsg"},t.pol_start_date):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:5,lg:5},c.a.createElement("h6",null,"Policy end date & time:")),c.a.createElement(m.a,{sm:6,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(_.a,{name:"pol_end_date",minDate:new Date(a.pol_start_date),maxDate:new Date(B),dateFormat:"dd-MM-yyyy HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",placeholderText:"Policy End Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,disabled:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:a.pol_end_date,onChange:function(e){r("pol_end_date"),n("pol_end_date",e)}}),t.pol_end_date&&l.pol_end_date?c.a.createElement("span",{className:"errorMsg"},t.pol_end_date):null)))),c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,"\xa0")),c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(u.a,{className:"btnPrimary",type:"submit"},"Go")))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(E.g)(Object(N.b)((function(e){return{loading:e.loader.loading,start_date:e.sme_fire.start_date,end_date:e.sme_fire.end_date,policy_holder_id:e.sme_fire.policy_holder_id,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,request_data_id:e.sme_fire.request_data_id,completed_step:e.sme_fire.completed_step,menumaster_id:e.sme_fire.menumaster_id}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(b.b)(a))},setDataUpdate:function(a){return e(Object(b.f)(a))},setRiskData:function(a){return e(Object(b.e)(a))},setSmeProposerDetails:function(a){return e(Object(b.d)(a))},setSmeOthersDetails:function(a){return e(Object(b.c)(a))}}}))(x))},1257:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(20),D=t.n(P),I=t(9),M=t(28),B=t(922),A=(new M.a,C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar(),C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),C()().subtract(20,"years").calendar()),O=(C()(A).startOf("year").format("YYYY-MM-DD hh:mm"),new Date,{registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,previous_claim_for:"",previous_policy_no:"",stateName:"",pinDataArr:[]}),x=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state=Object(n.a)({insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},"previous_is_claim",""),e.onChange=function(e,a){a("location_id","")},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else D()("Plese enter a valid pincode"),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(null!=e.props.pincode&&""!=e.props.pincode&&6==e.props.pincode.length?t=e.props.pincode:""!=a&&(t=a),null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.handleSubmit=function(a,t){var n=e.props.match.params.productId;console.log("handleSubmit",a);var r=new FormData,l=new I.a,o={policy_holder_id:e.props.policy_holder_id,menumaster_id:e.props.menumaster_id,page_name:"RiskDetails/".concat(n),house_building_name:a.house_building_name,block_no:a.block_no,house_flat_no:a.house_flat_no,pincode:a.pincode,pincode_id:a.pincode_id,buildings_sum_insured:a.buildings_sum_insured,content_sum_insured:a.content_sum_insured,stock_sum_insured:a.stock_sum_insured},s=parseInt(a.buildings_sum_insured)+parseInt(a.content_sum_insured)+parseInt(a.stock_sum_insured);return r.append("enc_data",l.encrypt(JSON.stringify(o))),s<5e5?(e.props.loadingStop(),D()("Sum total of fire buildings sum insured,contents sum insured and stock sum insured should be more than 5 Lakhs"),!1):s>1e7?(e.props.loadingStop(),D()("Sum total of fire buildings sum insured,contents sum insured and stock sum insured should be less than 1 crore"),!1):(e.props.loadingStart(),void w.a.post("sme/policy-details",r).then((function(n){if(!1===JSON.parse(l.decrypt(n.data)).error){e.props.loadingStop(),e.props.setRiskData({house_building_name:a.house_building_name,block_no:a.block_no,house_flat_no:a.house_flat_no,pincode:a.pincode,pincode_id:a.pincode_id,buildings_sum_insured:a.buildings_sum_insured,content_sum_insured:a.content_sum_insured,stock_sum_insured:a.stock_sum_insured});var r=e.props.match.params.productId;e.props.loadingStop(),e.setState({Fire_sum_insured:s}),e.props.history.push("/OtherDetails/".concat(r))}else e.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1)})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)})))},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new I.a;e.props.loadingStart(),w.a.get("sme/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.smeinfo.risk_address);e.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&(e.props.setSmeOthersDetails({Commercial_consideration:r.data.policyHolder.previouspolicy.Commercial_consideration,previous_start_date:r.data.policyHolder.previouspolicy.start_date,previous_end_date:r.data.policyHolder.previouspolicy.end_date,Previous_Policy_No:r.data.policyHolder.previouspolicy.policy_no,insurance_company_id:r.data.policyHolder.previouspolicy.insurancecompany_id,previous_city:r.data.policyHolder.previouspolicy.address}),e.fetchAreadetailsBack(r.data.policyHolder.smeinfo.pincode)),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.Registration_SME=function(a){e.props.history.push("/Registration_SME/".concat(a))},e}return Object(l.a)(c,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;w.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"fireSumCalculate",value:function(){this.state.Fire_sum_insured}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails(),this.fetchAreadetailsBack(),this.fireSumCalculate()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,r=this.state,l=(r.insurerList,r.showClaim,r.previous_is_claim,r.motorInsurance,r.previousPolicy,r.stateName,r.pinDataArr),o=(r.CustomerID,r.suggestions,r.vehicleDetails,r.RTO_location,Object.assign(O,{house_building_name:this.props.house_building_name,block_no:this.props.block_no,house_flat_no:this.props.house_flat_no,pincode:this.props.pincode,pincode_id:this.props.pincode_id,buildings_sum_insured:this.props.buildings_sum_insured,content_sum_insured:this.props.content_sum_insured,stock_sum_insured:this.props.stock_sum_insured})),s=N.object().shape({house_building_name:N.string().required("Please enter building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).nullable(),block_no:N.string().required("Please enter block no.").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid block no."})).nullable(),house_flat_no:N.string().required("Please enter house/flat no.").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid house/flat no,"})).nullable(),pincode:N.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:N.string().required("Please select area").nullable(),buildings_sum_insured:N.string().required("Please enter building sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),content_sum_insured:N.string().required("Please enter content sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),stock_sum_insured:N.string().required("Please enter stock sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable()});return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox riskdetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Pre UW"),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:o,onSubmit:this.handleSubmit,validationSchema:s},(function(r){var o,s=r.values,c=r.errors,f=r.setFieldValue,h=r.setFieldTouched,v=(r.isValid,r.isSubmitting),E=r.touched;return i.a.createElement(S.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"RISK DETAILS"))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"Type of occupancy at risk location : Shop Risk")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"house_building_name",type:"text",placeholder:"Shop/Building Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.house_building_name}),c.house_building_name&&E.house_building_name?i.a.createElement("span",{className:"errorMsg"},c.house_building_name):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"block_no",type:"text",placeholder:"Block No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.block_no}),c.block_no&&E.block_no?i.a.createElement("span",{className:"errorMsg"},c.block_no):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"house_flat_no",type:"text",placeholder:"House/Flat No",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.house_flat_no}),c.house_flat_no&&E.house_flat_no?i.a.createElement("span",{className:"errorMsg"},c.house_flat_no):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,(o={name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:s.pincode},Object(n.a)(o,"maxLength","6"),Object(n.a)(o,"onInput",(function(e){h("state"),h("pincode"),f("pincode",e.target.value),f("pincode_id","")})),o)),c.pincode&&E.pincode?i.a.createElement("span",{className:"errorMsg"},c.pincode):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"pincode_id",component:"select",autoComplete:"off",value:s.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Location"),l&&l.length>0&&l.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),c.pincode_id&&E.pincode_id?i.a.createElement("span",{className:"errorMsg"},c.pincode_id):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"COVERAGE DETAILS: \xa0\xa0\xa0 SECTION 1 - FIRE"))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"Please enter Sum Insured below :")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:4},i.a.createElement("label",null,"Fire-Building-Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Building Structure including Plinth and Foundation")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"buildings_sum_insured",type:"text",placeholder:"Fire-Building-Sum Insured",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.buildings_sum_insured,onInput:function(e){h("buildings_sum_insured"),f("buildings_sum_insured",e.target.value)}}),c.buildings_sum_insured&&E.buildings_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.buildings_sum_insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:4},i.a.createElement("label",null,"Fire-Contents Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Furniture, Fixtures, Fittings and Electrical Installations.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"content_sum_insured",type:"text",placeholder:"Fire-Contents Sum Insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.content_sum_insured,onInput:function(e){h("content_sum_insured"),f("content_sum_insured",e.target.value)}}),c.content_sum_insured&&E.content_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.content_sum_insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:4},i.a.createElement("label",null,"Fire-Stock Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"stock_sum_insured",type:"text",placeholder:"Fire-Stock Sum Insured",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.stock_sum_insured,onInput:function(e){h("stock_sum_insured"),f("stock_sum_insured",e.target.value)}}),c.stock_sum_insured&&E.stock_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.stock_sum_insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:4},i.a.createElement("label",null,"Fire-Total Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Sum total of fire building sum insured, fire content sum insured and fire stock sum insured")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"fire_sum_insured",type:"number",placeholder:"Fire-Total Sum Insured",maxLength:"10",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:parseInt(s.buildings_sum_insured)+parseInt(s.content_sum_insured)+parseInt(s.stock_sum_insured),disabled:!0,onInput:function(e){h("Fire_sum_insured"),f("Fire_sum_insured",e.target.value)}}),c.Fire_sum_insured&&E.Fire_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.Fire_sum_insured):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.Registration_SME.bind(e,a)},v?"Wait..":"Back"),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Next")))))})))),i.a.createElement(v.a,null)))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){var a;return a={loading:e.loader.loading,start_date:e.sme_fire.start_date,end_date:e.sme_fire.end_date,policy_holder_id:e.sme_fire.policy_holder_id,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,request_data_id:e.sme_fire.request_data_id,completed_step:e.sme_fire.completed_step,menumaster_id:e.sme_fire.menumaster_id,house_building_name:e.sme_fire.house_building_name,block_no:e.sme_fire.block_no,house_flat_no:e.sme_fire.house_flat_no,pincode:e.sme_fire.pincode,pincode_id:e.sme_fire.pincode_id,buildings_sum_insured:e.sme_fire.buildings_sum_insured,content_sum_insured:e.sme_fire.content_sum_insured,stock_sum_insured:e.sme_fire.stock_sum_insured},Object(n.a)(a,"policy_holder_id",e.sme_fire.policy_holder_id),Object(n.a)(a,"menumaster_id",e.sme_fire.menumaster_id),a}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(B.b)(a))},setRiskData:function(a){return e(Object(B.e)(a))},setSmeProposerDetails:function(a){return e(Object(B.d)(a))},setSmeOthersDetails:function(a){return e(Object(B.c)(a))}}}))(x))},1258:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(20),D=t.n(P),I=t(9),M=(t(28),t(922)),B=C()().subtract(1,"years"),A=C()().subtract(2,"years"),O=C()(),x={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,previous_claim_for:"",previous_policy_no:"",previous_policy_check:"0"},H=N.object().shape({previous_start_date:N.date().when(["previous_policy_check"],{is:function(e){return"1"==e},then:N.date().required("Please select previous policy start date"),otherwise:N.date().nullable()}),previous_end_date:N.date().when(["previous_policy_check"],{is:function(e){return"1"==e},then:N.date().required("Please select previous policy end date"),otherwise:N.date().nullable()}),Commercial_consideration:N.string().matches(/^[0-9]*$/,(function(){return"Please enter commercial consideration % in number"})).nullable(),Previous_Policy_No:N.string().when(["previous_policy_check"],{is:function(e){return"1"==e},then:N.string().required("Previous policy number is required").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"Please enter valid policy number"})).min(6,(function(){return"Policy No. must be minimum 6 characters"})).max(28,(function(){return"Policy No. must be maximum 28 characters"})),otherwise:N.string().nullable()}),insurance_company_id:N.number().when(["previous_policy_check"],{is:function(e){return"1"==e},then:N.number().required("Previous insurance company name is required"),otherwise:N.number().nullable()}),previous_city:N.string().matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"Please enter valid address"})).nullable()}),R=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"disable_end_date",!0),e),l.onChange=function(e,a){a("location_id","")},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,n=new FormData,r=""==e.previous_start_date?null:C()(e.previous_start_date).format("YYYY-MM-DD"),o=""==e.previous_end_date?null:C()(e.previous_end_date).format("YYYY-MM-DD"),s=""==e.Previous_Policy_No?null:e.Previous_Policy_No,c=""==e.insurance_company_id?null:e.insurance_company_id,i=new I.a,m={previous_start_date:r,previous_end_date:o,previous_policy_no:s,insurance_company_id:c,address:e.previous_city,menumaster_id:l.props.menumaster_id,page_name:"OtherDetails/".concat(t),policy_holder_id:l.props.policy_holder_id,Commercial_consideration:"5"};console.log("Post Data------------- ",m),n.append("enc_data",i.encrypt(JSON.stringify(m))),w.a.post("sme/previous-policy-details",n).then((function(n){l.props.loadingStop(),l.props.setSmeOthersDetails({previous_start_date:e.previous_start_date,previous_end_date:e.previous_end_date,Commercial_consideration:"5",Previous_Policy_No:e.Previous_Policy_No,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city});var r=new FormData,o={policy_ref_no:l.props.policy_holder_ref_no,menumaster_id:l.props.menumaster_id,page_name:"OtherDetails/".concat(t)};r.append("enc_data",i.encrypt(JSON.stringify(o))),l.props.loadingStart(),w.a.post("/sme/calculate-premium/phase-one",r).then((function(e){var t=JSON.parse(i.decrypt(e.data));console.log("decryptResp--------\x3e",t),!1===t.error?(l.props.loadingStart(),w.a.post("/sme/calculate-premium/phase-two",r).then((function(e){var t=l.props.match.params.productId,n=JSON.parse(i.decrypt(e.data));console.log("decryptResp Phase 2--------\x3e",n),!1===n.error?l.props.history.push("/Summary_SME/".concat(t)):(l.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),a.setSubmitting(!1))})).catch((function(e){l.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),a.setSubmitting(!1)}))):(l.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),a.setSubmitting(!1))})).catch((function(e){l.props.loadingStop();var t=JSON.parse(i.decrypt(e.data));console.log("decryptErr --------\x3e",t),a.setSubmitting(!1)}))})).catch((function(e){var t=JSON.parse(i.decrypt(e.data));console.log("decryptResp--err---",t),l.props.loadingStop(),a.setSubmitting(!1)}))},l.fetchInsurance=function(){w.a.get("company").then((function(e){console.log("fetch_data_insurance",e),l.setState({insurerList:e.data.data}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new I.a;null==l.props.policy_holder_ref_no&&""!=e&&(l.props.loadingStart(),w.a.get("sme/details/".concat(e)).then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decryptResp --------\x3e",n),n.data.policyHolder.step_no>0&&l.props.setData({start_date:n.data.policyHolder.request_data.start_date,end_date:n.data.policyHolder.request_data.end_date,policy_holder_id:n.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:n.data.policyHolder.request_data.id,completed_step:n.data.policyHolder.step_no,menumaster_id:n.data.policyHolder.menumaster_id,payment_link_status:n.data.policyHolder&&n.data.policyHolder.bcmaster?n.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==n.data.policyHolder.step_no||n.data.policyHolder.step_no>1){var r=JSON.parse(n.data.policyHolder.smeinfo.risk_address);l.props.setRiskData({house_building_name:r.house_building_name,block_no:r.block_no,street_name:r.street_name,plot_no:r.plot_no,house_flat_no:r.house_flat_no,pincode:n.data.policyHolder.smeinfo.pincode,pincode_id:n.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:n.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:n.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:n.data.policyHolder.smeinfo.stock_sum_insured})}if((2==n.data.policyHolder.step_no||n.data.policyHolder.step_no>2)&&l.props.setSmeOthersDetails({previous_start_date:n.data.policyHolder.previouspolicy.start_date,previous_end_date:n.data.policyHolder.previouspolicy.end_date,Commercial_consideration:n.data.policyHolder.previouspolicy.Commercial_consideration,Previous_Policy_No:n.data.policyHolder.previouspolicy.policy_no,insurance_company_id:n.data.policyHolder.previouspolicy.insurancecompany_id,previous_city:n.data.policyHolder.previouspolicy.address}),3==n.data.policyHolder.step_no||n.data.policyHolder.step_no>3){var o="";null==n.data.policyHolder.address||(o=JSON.parse(n.data.policyHolder.address),l.props.setSmeProposerDetails({first_name:n.data.policyHolder.first_name,last_name:n.data.policyHolder.last_name,salutation_id:n.data.policyHolder.salutation_id,date_of_birth:n.data.policyHolder.dob,email_id:n.data.policyHolder.email_id,mobile:n.data.policyHolder.mobile,gender:n.data.policyHolder.gender,pan_no:n.data.policyHolder.pancard,gstn_no:n.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:n.data.policyHolder.pincode,com_pincode_id:n.data.policyHolder.pincode_id}))}l.props.loadingStop()})).catch((function(e){l.props.loadingStop()})))},l.RiskDetails=function(e){l.props.history.push("/RiskDetails/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;w.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails(),this.fetchInsurance()}},{key:"render",value:function(){var e=this,a=Object.assign(x,{previous_start_date:null==this.props.previous_start_date||""==this.props.previous_start_date?"":new Date(this.props.previous_start_date),previous_end_date:null==this.props.previous_end_date||""==this.props.previous_end_date?"":new Date(this.props.previous_end_date),Commercial_consideration:this.props.Commercial_consideration,Previous_Policy_No:null!=this.props.Previous_Policy_No?this.props.Previous_Policy_No:"",insurance_company_id:null!=this.props.insurance_company_id?this.props.insurance_company_id:"",previous_city:this.props.previous_city,previous_policy_check:0}),t=this.props.match.params.productId,n=this.state,r=n.insurerList;n.showClaim,n.previous_is_claim,n.motorInsurance,n.previousPolicy,n.CustomerID,n.suggestions,n.vehicleDetails,n.RTO_location;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherDetail2"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Pre UW"),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:a,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var n=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting),_=a.touched;return i.a.createElement(S.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"COVERAGE DETAILS: \xa0\xa0\xa0 SECTION 2 - BURGLARY"))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Burglary: Contents Sum Insured")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"Contents_Sum_Insured",type:"text",placeholder:"Contents Sum Insured",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:e.props.content_sum_insured,disabled:!0}),l.Contents_Sum_Insured&&_.Contents_Sum_Insured?i.a.createElement("span",{className:"errorMsg"},l.Contents_Sum_Insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Burglary: Stocks Sum Insured")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"Stocks_Sum_Insured",type:"text",placeholder:"Stocks Sum Insured",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:e.props.stock_sum_insured,disabled:!0}),l.Stocks_Sum_Insured&&_.Stocks_Sum_Insured?i.a.createElement("span",{className:"errorMsg"},l.Stocks_Sum_Insured):null)))))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-32"}," Do you have any previous policy ? "))),i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_policy_check",value:"0",key:"1",onChange:function(e){s("previous_policy_check"),o("previous_policy_check",e.target.value)},checked:"0"==n.previous_policy_check}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," No"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_policy_check",value:"1",key:"1",onChange:function(e){s("previous_policy_check"),o("previous_policy_check",e.target.value)},checked:"1"==n.previous_policy_check}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"Yes")),l.previous_policy_check&&_.previous_policy_check?i.a.createElement("span",{className:"errorMsg"},l.previous_policy_check):null)))),"1"==n.previous_policy_check?i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"PREVIOUS INSURANCE DETAILS"))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_start_date",minDate:new Date(A),maxDate:new Date(B),dateFormat:"dd MMM yyyy",placeholderText:"Policy start date",autoComplete:"off",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_start_date,onChange:function(e){o("previous_start_date",e),o("previous_end_date",new Date(C()(e).add(365,"day")))}}),l.previous_start_date&&_.previous_start_date?i.a.createElement("span",{className:"errorMsg"},l.previous_start_date):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:"Policy end date",disabled:e.state.disable_end_date,minDate:new Date(O),dropdownMode:"select",className:"datePckr inputfs12",selected:n.previous_end_date,onChange:function(e){s("previous_end_date"),o("previous_end_date",e)}}),l.previous_end_date&&_.previous_end_date?i.a.createElement("span",{className:"errorMsg"},l.previous_end_date):null)),i.a.createElement(d.a,{sm:12,md:5,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"Previous_Policy_No",type:"text",placeholder:"Previous Policy No",autoComplete:"off",minimum:"6",maximum:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.Previous_Policy_No&&_.Previous_Policy_No?i.a.createElement("span",{className:"errorMsg"},l.Previous_Policy_No):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},"Previous Insurance"),r.map((function(e,a){return i.a.createElement("option",{value:e.Id},e.name)}))),l.insurance_company_id&&_.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},l.insurance_company_id):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:"Insurance Company Address",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),l.previous_city&&_.previous_city?i.a.createElement("span",{className:"errorMsg"},l.previous_city):null))))):null),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!c,onClick:e.RiskDetails.bind(e,t)},c?"Wait..":"Back"),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!c},c?"Wait..":"Calculate Premium")))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading,previous_start_date:e.sme_fire.previous_start_date,previous_end_date:e.sme_fire.previous_end_date,Commercial_consideration:e.sme_fire.Commercial_consideration,Previous_Policy_No:e.sme_fire.Previous_Policy_No,insurance_company_id:e.sme_fire.insurance_company_id,previous_city:e.sme_fire.previous_city,policy_holder_id:e.sme_fire.policy_holder_id,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,request_data_id:e.sme_fire.request_data_id,completed_step:e.sme_fire.completed_step,menumaster_id:e.sme_fire.menumaster_id,content_sum_insured:e.sme_fire.content_sum_insured,stock_sum_insured:e.sme_fire.stock_sum_insured}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(M.b)(a))},setRiskData:function(a){return e(Object(M.e)(a))},setSmeProposerDetails:function(a){return e(Object(M.d)(a))},setSmeOthersDetails:function(a){return e(Object(M.c)(a))}}}))(R))},1259:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(18),s=t(17),c=t(11),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=(t(95),t(96),t(40)),v=t(31),E=t(34),y=t(2),b=t(1),N=t(38),S=t(19),w=t(22),k=t(7),C=t(3),P=t.n(C),D=t(20),I=t.n(D),M=t(28),B=t(9),A=t(922),O=t(25),x=P()(P()().subtract(100,"years").calendar()),H=P()().subtract(18,"years").calendar(),R=(P()(P()().subtract(100,"years").calendar()),P()().subtract(3,"months").calendar(),new Date,P()(P()().subtract(100,"years").calendar()),n={first_name:"",last_name:"",gender:"",date_of_birth:"",pan_no:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test"},Object(c.a)(n,"gender",""),Object(c.a)(n,"nominee_dob",""),Object(c.a)(n,"mobile",""),Object(c.a)(n,"email_id",""),Object(c.a)(n,"address",""),Object(c.a)(n,"is_eia_account","0"),Object(c.a)(n,"eia_no",""),Object(c.a)(n,"stateName",""),Object(c.a)(n,"pinDataArr",[]),Object(c.a)(n,"pincode_id",""),Object(c.a)(n,"org_level",""),Object(c.a)(n,"net_premium","0"),Object(c.a)(n,"salutation_id",""),n),L=b.object().shape({salutation_id:b.string().required("Title is required").nullable(),first_name:b.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),last_name:b.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),date_of_birth:b.date().required("Please enter date of birth").nullable(),email_id:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),mobile:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required").nullable(),gender:b.string().required("Please select gender").nullable(),pan_no:b.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,"Invalid PAN number").nullable(),gstn_no:b.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(O.k)(e)})).nullable(),building_name:b.string().required("Please enter Building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).nullable(),plot_no:b.string().required("Please enter Plot number").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid plot number"})).nullable(),street_name:b.string().required("Please enter Dtreet name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid street name"})).nullable(),pincode:b.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:b.string().required("Please select Area").nullable()}),j=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showEIA:!1,is_eia_account:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[]},e.ageCheck=function(a){(new M.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1}):e.setState({showEIA:!1,is_eia_account:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.fetchSalutationdetails=function(a){var t=a.target.value;if(t.length>0){var n=new FormData;e.props.loadingStart();var r=new B.a,l={salutation:t};n.append("enc_data",r.encrypt(JSON.stringify(l))),n.append("salutation",t),k.a.post("salutation-list",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.summary_SME=function(a){e.props.history.push("/Summary_SME/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new B.a,l=new FormData,o=P()(a.date_of_birth).format("YYYY-MM-DD"),s={bcmaster_id:"1",policy_holder_id:e.props.policy_holder_id,menumaster_id:e.props.menumaster_id,page_name:"AdditionalDetails_SME/".concat(n),first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:o,email_id:a.email_id,mobile:a.mobile,gender:a.gender,pan_no:a.pan_no,gstn_no:a.gstn_no,house_building_name:a.building_name,block_no:"",house_flat_no:"",plot_no:a.plot_no,street_name:a.street_name,pincode:a.pincode,pincode_id:a.pincode_id};l.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),k.a.post("sme/proposer-details",l).then((function(l){e.props.setSmeProposerDetails({first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:a.date_of_birth,email_id:a.email_id,mobile:a.mobile,gender:a.gender,pan_no:a.pan_no,gstn_no:a.gstn_no,com_street_name:a.street_name,com_plot_no:a.plot_no,com_building_name:a.building_name,com_block_no:a.block_no,com_house_flat_no:a.flat_no,com_pincode:a.pincode,com_pincode_id:a.pincode_id});var o=new FormData,s={policy_ref_no:e.props.policy_holder_ref_no,menumaster_id:e.props.menumaster_id,page_name:"AdditionalDetails_SME/".concat(n)};o.append("enc_data",r.encrypt(JSON.stringify(s))),k.a.post("/sme/mdm-party",o).then((function(a){k.a.post("/sme/create-quote",o).then((function(a){!1===JSON.parse(r.decrypt(a.data)).error?k.a.post("/sme/con-sequence",o).then((function(a){var n=e.props.match.params.productId;e.props.loadingStop(),!1===JSON.parse(r.decrypt(a.data)).error?e.props.history.push("/Premium_SME/".concat(n)):(e.props.loadingStop(),I()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop(),I()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1)})):(e.props.loadingStop(),I()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1)}))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1)}))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1)}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),k.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),I()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(null!=e.props.com_pincode&&""!=e.props.com_pincode&&6==e.props.com_pincode.length?t=e.props.com_pincode:""!=a&&(t=a),console.log("fetchAreadetailsBack pinCode",t),null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),k.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),k.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),k.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new B.a;null==e.props.policy_holder_ref_no&&""!=a&&(e.props.loadingStart(),k.a.get("sme/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.smeinfo.risk_address);e.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&e.props.setSmeOthersDetails({Commercial_consideration:r.data.policyHolder.previouspolicy.Commercial_consideration,previous_start_date:r.data.policyHolder.previouspolicy.start_date,previous_end_date:r.data.policyHolder.previouspolicy.end_date,Previous_Policy_No:r.data.policyHolder.previouspolicy.policy_no,insurance_company_id:r.data.policyHolder.previouspolicy.insurancecompany_id,previous_city:r.data.policyHolder.previouspolicy.address}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}),e.fetchAreadetailsBack(r.data.policyHolder.pincode))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()})))},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSalutation(),this.fetchPolicyDetails(),this.fetchAreadetailsBack()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showLoan,a.is_eia_account,a.is_loan_account,a.nomineeDetails,a.motorInsurance,a.appointeeFlag,a.is_appointee,a.showEIA,a.titleList),n=(a.bankDetails,a.policyHolder,a.stateName,a.pinDataArr),r=(a.quoteId,a.addressDetails,a.relation,a.step_completed,a.vehicleDetails,a.request_data,this.props.match.params.productId),l=Object.assign(R,{first_name:this.props.first_name,last_name:this.props.last_name,salutation_id:this.props.salutation_id,date_of_birth:null!=this.props.date_of_birth?new Date(this.props.date_of_birth):this.props.date_of_birth,email_id:this.props.email_id,mobile:this.props.mobile,gender:this.props.gender,pan_no:this.props.pan_no,gstn_no:this.props.gstn_no,street_name:this.props.com_street_name,plot_no:this.props.com_plot_no,building_name:this.props.com_building_name,block_no:this.props.com_block_no,flat_no:this.props.com_house_flat_no,pincode:this.props.com_pincode,pincode_id:this.props.com_pincode_id}),o=m.a.createElement("h4",null,"Please share a few more details. ");return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 pd-l-0"},m.a.createElement(E.a,null)),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Pre UW"),m.a.createElement("section",{className:"brand m-b-25"},m.a.createElement("div",{className:"brand-bg"},m.a.createElement(y.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:L},(function(a){var l=a.values,s=a.errors,c=a.setFieldValue,i=a.setFieldTouched,g=(a.isValid,a.isSubmitting),h=a.touched;return m.a.createElement(y.d,null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"d-flex justify-content-left brandhead"},o,m.a.createElement("div",{className:"brandhead"},m.a.createElement("p",null,"\xa0"))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"PROPOSER DETAILS"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),t.map((function(e,a){return m.a.createElement("option",{value:e.id},e.displayvalue)}))),s.salutation_id&&h.salutation_id?m.a.createElement("span",{className:"errorMsg"},s.salutation_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.first_name}),s.first_name&&h.first_name?m.a.createElement("span",{className:"errorMsg"},s.first_name):null))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.last_name}),s.last_name&&h.last_name?m.a.createElement("span",{className:"errorMsg"},s.last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Select Gender"),m.a.createElement("option",{value:"m"},"Male"),m.a.createElement("option",{value:"f"},"Female")),s.gender&&h.gender?m.a.createElement("span",{className:"errorMsg"},s.gender):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement(f.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",selected:l.date_of_birth,onChange:function(e){i("date_of_birth"),c("date_of_birth",e)}}),s.date_of_birth&&h.date_of_birth?m.a.createElement("span",{className:"errorMsg"},s.date_of_birth):null)),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"gstn_no",type:"text",placeholder:"GSTIN",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.gstn_no,onChange:function(e){return c("gstn_no",e.target.value.toUpperCase())}}),s.gstn_no&&h.gstn_no?m.a.createElement("span",{className:"errorMsg"},s.gstn_no):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,{className:"m-b-25"},m.a.createElement("div",{className:"insurerName nmbract"},m.a.createElement("span",null,"+91"),m.a.createElement(y.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),s.mobile&&h.mobile?m.a.createElement("span",{className:"errorMsg msgpositn"},s.mobile):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"pan_no",type:"text",placeholder:"PAN Card No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.pan_no,onChange:function(e){return c("pan_no",e.target.value.toUpperCase())}}),s.pan_no&&h.pan_no?m.a.createElement("span",{className:"errorMsg"},s.pan_no):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.email_id}),s.email_id&&h.email_id?m.a.createElement("span",{className:"errorMsg"},s.email_id):null)))),m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"COMMUNICATION ADDRESS"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:l.pincode,maxLength:"6",onInput:function(e){}}),s.pincode&&h.pincode?m.a.createElement("span",{className:"errorMsg"},s.pincode):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:l.pincode_id,className:"formGrp"},m.a.createElement("option",{value:""},"Select Area"),n&&n.length>0&&n.map((function(e,a){return m.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),s.pincode_id&&h.pincode_id?m.a.createElement("span",{className:"errorMsg"},s.pincode_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"building_name",type:"text",placeholder:"Building/House Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.building_name}),s.building_name&&h.building_name?m.a.createElement("span",{className:"errorMsg"},s.building_name):null)))),m.a.createElement(d.a,null),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"plot_no",type:"text",placeholder:"Plot No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.plot_no}),s.plot_no&&h.plot_no?m.a.createElement("span",{className:"errorMsg"},s.plot_no):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"street_name",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.street_name}),s.street_name&&h.street_name?m.a.createElement("span",{className:"errorMsg"},s.street_name):null)))),m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.summary_SME.bind(e,r)},g?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!g},g?"Wait..":"Next")))))}))))),m.a.createElement(h.a,null)))))}}]),t}(i.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading,first_name:e.sme_fire.first_name,last_name:e.sme_fire.last_name,salutation_id:e.sme_fire.salutation_id,date_of_birth:e.sme_fire.date_of_birth,email_id:e.sme_fire.email_id,mobile:e.sme_fire.mobile,gender:e.sme_fire.gender,pan_no:e.sme_fire.pan_no,gstn_no:e.sme_fire.gstn_no,com_street_name:e.sme_fire.com_street_name,com_plot_no:e.sme_fire.com_plot_no,com_building_name:e.sme_fire.com_building_name,com_block_no:e.sme_fire.com_block_no,com_house_flat_no:e.sme_fire.com_house_flat_no,com_pincode:e.sme_fire.com_pincode,com_pincode_id:e.sme_fire.com_pincode_id,house_building_name:e.sme_fire.house_building_name,block_no:e.sme_fire.block_no,street_name:e.sme_fire.street_name,plot_no:e.sme_fire.plot_no,house_flat_no:e.sme_fire.house_flat_no,pincode:e.sme_fire.pincode,pincode_id:e.sme_fire.pincode_id,policy_holder_id:e.sme_fire.policy_holder_id,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,menumaster_id:e.sme_fire.menumaster_id}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(A.b)(a))},setRiskData:function(a){return e(Object(A.e)(a))},setSmeOthersDetails:function(a){return e(Object(A.c)(a))},setSmeProposerDetails:function(a){return e(Object(A.d)(a))},setAddress:function(a){return e(Object(A.a)(a))}}}))(j))},1260:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(46),s=t(18),c=t(17),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(7),N=t(38),S=t(19),w=t(22),k=t(922),C=t(1),P=t(9),D=t(37),I=t.n(D),M=(t(61),t(20)),B=t.n(M),A=t(3),O=t.n(A),x={gateway:""},H=C.object().shape({refNo:C.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(s.a)(i,e);var a=Object(c.a)(i);function i(e){var t;return Object(r.a)(this,i),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_SME/".concat(e))},t.handleSubmit=function(e){console.log("values-----",e);var a=t.state.policyHolder;a&&a.bcmaster&&a.bcmaster.paymentgateway&&a.bcmaster.paymentgateway.slug&&1==e.gateway?("csc_wallet"==a.bcmaster.paymentgateway.slug&&t.payment(),"razorpay"==a.bcmaster.paymentgateway.slug&&t.Razor_payment(),"PPINL"==a.bcmaster.paymentgateway.slug&&t.paypoint_payment()):a&&a.bcmaster&&a.bcmaster.paymentgateway&&a.bcmaster.paymentgateway.slug&&2==e.gateway&&t.props.history.push("/Vedvag_gateway/".concat(t.props.match.params.productId,"?access_id=").concat(t.state.policyHolder_refNo))},t.callBreakin=function(){var e=new FormData,a=new P.a,n=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",r=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";r&&(r=JSON.parse(a.decrypt(r))),e.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":r?r.agent_id:""),e.append("ref_no",n),t.props.loadingStart(),b.a.post("breakin/create",e).then((function(e){B()("Your breakin request has been raised. Your inspection Number: ".concat(e.data.data.inspection_no)),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.payment=function(){var e=t.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/payment_sme_fire.php?refrence_no=").concat(e)},t.Razor_payment=function(){var e=t.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/razorpay/smefire_pay.php?refrence_no=").concat(e)},t.paypoint_payment=function(){var e=t.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ppinl/pay.php?refrence_no=").concat(e)},t.getGender=function(e){return"m"==e?"Male":"f"==e?"Female":void 0},t.sendPaymentLink=function(){new P.a;var e=new FormData,a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0;e.append("reference_no",a),t.props.loadingStart(),b.a.post("send-payment-link",e).then((function(e){B()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new P.a;t.props.loadingStart(),b.a.get("sme/details/".concat(e)).then((function(n){var r=JSON.parse(a.decrypt(n.data));if(r.data.policyHolder.step_no>0&&t.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.smeinfo.risk_address);t.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}if(3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o=JSON.parse(r.data.policyHolder.address);t.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id})}var s=JSON.parse(r.data.policyHolder.pincode_response);t.setState({salutationName:r.data.policyHolder.salutation.displayvalue,pincodeArea:s.LCLTY_SUBRB_TALUK_TEHSL_NM,quoteId:r.data.policyHolder.request_data.quote_id,gst:r.data.policyHolder.request_data.service_tax,grossPremium:r.data.policyHolder.request_data.gross_premium,payablePremium:r.data.policyHolder.request_data.payable_premium,refNumber:r.data.policyHolder.reference_no,logo:r.data.policyHolder.bcmaster.paymentgateway.logo,policyHolder:r.data.policyHolder}),t.props.loadingStop()})).catch((function(e){return t.props.loadingStop(),B()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1}))},t.handleClose=t.handleClose.bind(Object(o.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:I.a.parse(t.props.location.search).access_id?I.a.parse(t.props.location.search).access_id:localStorage.getItem("policy_holder_ref_no")},t}return Object(l.a)(i,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this,a=this.state,r=a.policyHolder,l=(a.show,a.fulQuoteResp,a.motorInsurance,a.error),o=(a.error1,a.refNumber,a.paymentStatus),s=(a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,this.props.match.params.productId),c=(I.a.parse(this.props.location.search).access_id?I.a.parse(this.props.location.search).access_id:localStorage.getItem("policyHolder_refNo"),l&&l.message?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null),i=o&&103==o.transaction_status?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Payment failed. Please try again"))):null;return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 pd-l-0"},m.a.createElement(E.a,null)),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Pre UW"),m.a.createElement(h.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var l,o=a.values,g=(a.errors,a.setFieldValue),v=(a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return m.a.createElement(h.d,null,m.a.createElement("section",{className:"brand m-t-11 m-b-25"},m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead m-b-10"},m.a.createElement("h4",null,"SME FIRE "))),m.a.createElement("div",{className:"brandhead m-b-30"},m.a.createElement("h5",null,c),m.a.createElement("h5",null,i),m.a.createElement("h4",null)),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Policy Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Policy Start date:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},e.props.start_date?O()(e.props.start_date).format("DD-MM-yyy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Policy End Date:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},e.props.end_date?O()(e.props.end_date).format("DD-MM-yyy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Product Name:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"SME - Fire")))))),m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Premium Details",open:!0},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Premium:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.payablePremium)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"GST:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.gst)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Gross Premium:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.grossPremium)))))),m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Proposer Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Title:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.salutationName))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"First Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.first_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Last Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.last_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Email:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.email_id))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Date Of Birth:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.date_of_birth)).format("LL")))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Mobile Number:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.mobile))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Gender:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.getGender(e.props.gender)))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"GSTN:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.gstn_no))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pan No.:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.pan_no))))),m.a.createElement(d.a,null,m.a.createElement("p",null)))))),m.a.createElement("div",{className:"rghtsideTrigr m-b-30"},m.a.createElement(f.a,{trigger:"Communication Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"House/Building Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_building_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Street Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_street_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Plot No.:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_plot_no))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pincode:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_pincode))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pincode Area:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.pincodeArea))))),m.a.createElement(d.a,null,m.a.createElement("p",null)))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6}),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",m.a.createElement("div",null,m.a.createElement("label",{className:"customRadio3"},m.a.createElement(h.b,{type:"radio",name:"gateway",value:"1",key:"1",onChange:function(e){g("gateway",e.target.value)},checked:"1"==o.gateway}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},r&&r.bcmaster&&r.bcmaster.paymentgateway&&r.bcmaster.paymentgateway.logo?m.a.createElement("img",{src:t(137)("./"+r.bcmaster.paymentgateway.logo),alt:""}):null))),r.bcmaster&&2===r.bcmaster.id?m.a.createElement("div",null,m.a.createElement("label",{className:"customRadio3"},m.a.createElement(h.b,{type:"radio",name:"gateway",value:"2",key:"1",onChange:function(e){g("gateway",e.target.value)},checked:"2"==o.gateway}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},r.bcmaster&&2===r.bcmaster.id?m.a.createElement("img",{src:t(395),alt:""}):null))):null)))),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,s)},"Back"),1==e.props.payment_link_status?m.a.createElement("div",null,m.a.createElement(_.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,e.state.quoteId&&""!=e.state.quoteId&&""!=o.gateway?m.a.createElement(_.a,(l={type:"submit",className:"proceedBtn"},Object(n.a)(l,"type","submit"),Object(n.a)(l,"disabled",!!v),l),"Generate Policy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"regisBox medpd"},m.a.createElement("h5",{className:"medihead"},"Exclusions: "),m.a.createElement("h4",null,m.a.createElement("ul",null,m.a.createElement("li",{className:"txtRegistr resmb-15"},"Shops on wheels"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Kutcha Construction"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Basement Risks"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Shops dealing in Fire-Crackers / Arms / Ammunition, Precious Jewellery "),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Godown / Standalone Storage Risks"))))))))}))),m.a.createElement(y.a,null)))))}}]),i}(i.Component);a.default=Object(N.g)(Object(w.b)((function(e){var a;return a={loading:e.loader.loading,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,menumaster_id:e.sme_fire.menumaster_id,policy_holder_id:e.sme_fire.policy_holder_id,start_date:e.sme_fire.start_date,end_date:e.sme_fire.end_date,house_building_name:e.sme_fire.house_building_name,block_no:e.sme_fire.block_no,street_name:e.sme_fire.street_name,content_sum_insured:e.sme_fire.content_sum_insured,house_flat_no:e.sme_fire.house_flat_no,pincode:e.sme_fire.pincode,pincode_id:e.sme_fire.pincode_id,buildings_sum_insured:e.sme_fire.buildings_sum_insured},Object(n.a)(a,"content_sum_insured",e.sme_fire.content_sum_insured),Object(n.a)(a,"stock_sum_insured",e.sme_fire.stock_sum_insured),Object(n.a)(a,"first_name",e.sme_fire.first_name),Object(n.a)(a,"last_name",e.sme_fire.last_name),Object(n.a)(a,"salutation_id",e.sme_fire.salutation_id),Object(n.a)(a,"date_of_birth",e.sme_fire.date_of_birth),Object(n.a)(a,"email_id",e.sme_fire.email_id),Object(n.a)(a,"mobile",e.sme_fire.mobile),Object(n.a)(a,"gender",e.sme_fire.gender),Object(n.a)(a,"pan_no",e.sme_fire.pan_no),Object(n.a)(a,"gstn_no",e.sme_fire.gstn_no),Object(n.a)(a,"com_street_name",e.sme_fire.com_street_name),Object(n.a)(a,"com_plot_no",e.sme_fire.com_plot_no),Object(n.a)(a,"com_building_name",e.sme_fire.com_building_name),Object(n.a)(a,"com_block_no",e.sme_fire.com_block_no),Object(n.a)(a,"com_house_flat_no",e.sme_fire.com_house_flat_no),Object(n.a)(a,"com_pincode",e.sme_fire.com_pincode),Object(n.a)(a,"com_pincode_id",e.sme_fire.com_pincode_id),Object(n.a)(a,"previous_start_date",e.sme_fire.previous_start_date),Object(n.a)(a,"previous_end_date",e.sme_fire.previous_end_date),Object(n.a)(a,"Previous_Policy_No",e.sme_fire.Previous_Policy_No),Object(n.a)(a,"insurance_company_id",e.sme_fire.insurance_company_id),Object(n.a)(a,"previous_city",e.sme_fire.previous_city),Object(n.a)(a,"payment_link_status",e.sme_fire.payment_link_status),a}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(k.b)(a))},setRiskData:function(a){return e(Object(k.e)(a))},setSmeProposerDetails:function(a){return e(Object(k.d)(a))},setSmeOthersDetails:function(a){return e(Object(k.c)(a))}}}))(R))},1261:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(46),s=t(18),c=t(17),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(7),N=t(38),S=t(19),w=t(922),k=t(22),C=t(1),P=t(9),D=t(37),I=t.n(D),M=(t(61),t(20)),B=t.n(M),A=t(3),O=t.n(A),x=(t(250),{}),H=C.object().shape({refNo:C.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){var a=n.props.match.params.productId;n.props.loadingStop(),n.props.history.push("/AdditionalDetails_SME/".concat(a))},n.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new P.a;n.props.loadingStart(),b.a.get("sme/details/".concat(e)).then((function(t){var r=JSON.parse(a.decrypt(t.data)),l=r.data;if(r.data.policyHolder.step_no>0&&n.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var o=JSON.parse(r.data.policyHolder.smeinfo.risk_address);n.props.setRiskData({house_building_name:o.house_building_name,block_no:o.block_no,street_name:o.street_name,plot_no:o.plot_no,house_flat_no:o.house_flat_no,pincode:r.data.policyHolder.smeinfo.pincode,pincode_id:r.data.policyHolder.smeinfo.pincode_id,buildings_sum_insured:r.data.policyHolder.smeinfo.buildings_sum_insured,content_sum_insured:r.data.policyHolder.smeinfo.content_sum_insured,stock_sum_insured:r.data.policyHolder.smeinfo.stock_sum_insured})}JSON.parse(r.data.policyHolder.pincode_response);n.setState({quoteId:null!=r.data.policyHolder.request_data.quote_id?r.data.policyHolder.request_data.quote_id:0,gst:null!=r.data.policyHolder.request_data.service_tax?r.data.policyHolder.request_data.service_tax:0,netPremium:null!=r.data.policyHolder.request_data.net_premium?r.data.policyHolder.request_data.net_premium:0,finalPremium:null!=r.data.policyHolder.request_data.payable_premium?r.data.policyHolder.request_data.payable_premium:0,rawData:null!=l.policyHolder.smeinfo.smecoverages?l.policyHolder.smeinfo.smecoverages:0}),n.props.loadingStop()})).catch((function(e){return n.props.loadingStop(),B()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1}))},n.getGender=function(e){return"m"==e?"Male":"f"==e?"Female":void 0},n.otherDetails=function(e){n.props.history.push("/OtherDetails/".concat(e))},n.getPostcodeArea=function(e){},n.handleClose=n.handleClose.bind(Object(o.a)(n)),n.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,salutationName:"",policyHolder_refNo:I.a.parse(n.props.location.search).access_id?I.a.parse(n.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},n}return Object(l.a)(t,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.policyHolder,a.show,a.fulQuoteResp,a.motorInsurance,a.error),n=(a.error1,a.refNumber,a.paymentStatus),r=(a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.rawData),l=this.props.match.params.productId,o=t&&t.message?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,s=n&&103==n.transaction_status?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Payment failed. Please try again"))):null,c=r&&r.length>0?r.map((function(e,a){return m.a.createElement("tr",null,m.a.createElement("td",null,e.coverage.description," :"),m.a.createElement("td",null,"Architecture and Surveyor Fee (Upto 3% of Claim Amount)"==e.coverage.description||"Removal of Debris (Upto 1% claim amount)"==e.coverage.description?"   ----":e.sum_insured),m.a.createElement("td",null,null==e.premium?0:e.premium))})):null;return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 pd-l-0"},m.a.createElement(E.a,null)),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},m.a.createElement("div",{className:"text"},m.a.createElement("h4",{className:"text-center mt-3 mb-0"},"SME Summary")),m.a.createElement("h1",{className:"text-center mt-3 mb-4"}," "," "," "),m.a.createElement(h.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid;var t=a.isSubmitting;a.touched;return m.a.createElement(h.d,null,m.a.createElement("section",{className:"brand m-t-11 m-b-25"},m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead m-b-10"},m.a.createElement("h4",null,"SME FIRE "),m.a.createElement("p",null,"You are just one steps away in getting your policy ready.")," ",m.a.createElement("p",null,"Your Quotation Number is: ",m.a.createElement("span",null,m.a.createElement("strong",null,e.state.quoteId))))),m.a.createElement("div",{className:"brandhead m-b-30"},m.a.createElement("h5",null,o),m.a.createElement("h5",null,s),m.a.createElement("h4",null)),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"rghtsideTrigr m-b-30"},m.a.createElement(f.a,{trigger:"Policy Summary",open:!0},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Policy Start Date :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.start_date)).format("DD MMM yyyy"))))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Policy End Date :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.end_date)).format("DD MMM yyyy")))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement("table",{style:{width:"45rem"}},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Cover Type"),m.a.createElement("th",null,"Sum Insured(\u20b9)"),m.a.createElement("th",null,"Premium(\u20b9)"))),m.a.createElement("tbody",null,c)))),m.a.createElement(d.a,null,m.a.createElement("p",null)),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Net Premium(\u20b9) :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.netPremium))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"GST(\u20b9) :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.gst))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Final Premium(\u20b9) :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.finalPremium))))),m.a.createElement(d.a,null,m.a.createElement("p",null)))))),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.otherDetails.bind(e,l)},t?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!t},"Next"))))))}))),m.a.createElement(y.a,null)))))}}]),t}(i.Component);a.default=Object(N.g)(Object(k.b)((function(e){var a;return a={loading:e.loader.loading,policy_holder_ref_no:e.sme_fire.policy_holder_ref_no,menumaster_id:e.sme_fire.menumaster_id,policy_holder_id:e.sme_fire.policy_holder_id,start_date:e.sme_fire.start_date,end_date:e.sme_fire.end_date,house_building_name:e.sme_fire.house_building_name,block_no:e.sme_fire.block_no,street_name:e.sme_fire.street_name,content_sum_insured:e.sme_fire.content_sum_insured,house_flat_no:e.sme_fire.house_flat_no,pincode:e.sme_fire.pincode,pincode_id:e.sme_fire.pincode_id,buildings_sum_insured:e.sme_fire.buildings_sum_insured},Object(n.a)(a,"content_sum_insured",e.sme_fire.content_sum_insured),Object(n.a)(a,"stock_sum_insured",e.sme_fire.stock_sum_insured),Object(n.a)(a,"first_name",e.sme_fire.first_name),Object(n.a)(a,"last_name",e.sme_fire.last_name),Object(n.a)(a,"salutation_id",e.sme_fire.salutation_id),Object(n.a)(a,"date_of_birth",e.sme_fire.date_of_birth),Object(n.a)(a,"email_id",e.sme_fire.email_id),Object(n.a)(a,"mobile",e.sme_fire.mobile),Object(n.a)(a,"gender",e.sme_fire.gender),Object(n.a)(a,"pan_no",e.sme_fire.pan_no),Object(n.a)(a,"gstn_no",e.sme_fire.gstn_no),Object(n.a)(a,"com_street_name",e.sme_fire.com_street_name),Object(n.a)(a,"com_plot_no",e.sme_fire.com_plot_no),Object(n.a)(a,"com_building_name",e.sme_fire.com_building_name),Object(n.a)(a,"com_block_no",e.sme_fire.com_block_no),Object(n.a)(a,"com_house_flat_no",e.sme_fire.com_house_flat_no),Object(n.a)(a,"com_pincode",e.sme_fire.com_pincode),Object(n.a)(a,"com_pincode_id",e.sme_fire.com_pincode_id),Object(n.a)(a,"previous_start_date",e.sme_fire.previous_start_date),Object(n.a)(a,"previous_end_date",e.sme_fire.previous_end_date),Object(n.a)(a,"Previous_Policy_No",e.sme_fire.Previous_Policy_No),Object(n.a)(a,"insurance_company_id",e.sme_fire.insurance_company_id),Object(n.a)(a,"previous_city",e.sme_fire.previous_city),a}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(w.b)(a))},setRiskData:function(a){return e(Object(w.e)(a))},setSmeProposerDetails:function(a){return e(Object(w.d)(a))},setSmeOthersDetails:function(a){return e(Object(w.c)(a))}}}))(R))},1262:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(41),_=t.n(p),g=t(31),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(929),N=t(22),S=t(3),w=t.n(S),k=t(1),C=t(20),P=t.n(C),D=t(9),I=t(2),M=w()().format(),B=w()().add(14,"day"),A=(w()().add(15,"day").calendar(),{policy_type:"1",pol_start_date:null}),O=k.object().shape({pol_start_date:k.date().required("Please select both policy start date & time").nullable(),pol_end_date:k.date().required("Please select both policy end date & time").nullable()}),x=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[]},e.handleChange=function(e){},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new D.a;null==e.props.policy_holder_ref_no&&""!=a&&(e.props.loadingStart(),v.a.get("sookshama/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.sookshamainfo.risk_address);e.props.setRiskData({house_building_name:l.house_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.sookshamainfo.pincode,pincode_id:r.data.policyHolder.sookshamainfo.pincode_id,buildings_si:r.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:r.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:r.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:r.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:r.data.policyHolder.sookshamainfo.finish_goods,stock_wip:r.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:r.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:r.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&e.props.setSmeOthersDetails({financial_party:r.data.policyHolder.sookshamainfo.financial_party?r.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:r.data.policyHolder.sookshamainfo.financial_modgaged?r.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:r.data.policyHolder.sookshamainfo.financer_name?r.data.policyHolder.sookshamainfo.financer_name:""}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()})))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new D.a,o={menumaster_id:"11",page_name:"Registration_Sookshma/".concat(n),vehicle_type_id:n};if(sessionStorage.getItem("csc_id"))o.bcmaster_id="5",o.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",o.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",o.product_id=n;else{var s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";s&&(s=JSON.parse(l.decrypt(s)),o.bcmaster_id=s?s.agent_id:"",o.bc_token=s?s.token:"",o.bc_agent_id=s?s.user_info.data.user.username:"",o.product_id=n)}var c=w()(a.pol_start_date).format("YYYY-MM-DD HH:mm:ss"),i=w()(a.pol_end_date).format("YYYY-MM-DD HH:mm:ss");o.pol_start_date=c,o.pol_end_date=i,e.props.loadingStart(),null!=e.props.policy_holder_id?(o.policy_holder_id=e.props.policy_holder_id,r.append("enc_data",l.encrypt(JSON.stringify(o))),v.a.post("sookshama/update-policy-info",r).then((function(r){!1===JSON.parse(l.decrypt(r.data)).error?(e.props.loadingStop(),e.props.setDataUpdate({start_date:a.pol_start_date,end_date:a.pol_end_date}),e.props.history.push("/RiskDetails_Sookshma/".concat(n))):(e.props.loadingStop(),P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))):(r.append("enc_data",l.encrypt(JSON.stringify(o))),v.a.post("sookshama/policy-info",r).then((function(t){var r=JSON.parse(l.decrypt(t.data));console.log("decryptResp-----",r),!1===r.error?(localStorage.setItem("policy_holder_ref_no",r.data.policyHolder_refNo),e.props.loadingStop(),e.props.setData({start_date:a.pol_start_date,end_date:a.pol_end_date,policy_holder_id:r.data.policyHolder_id,policy_holder_ref_no:r.data.policyHolder_refNo,request_data_id:r.data.request_data_id,completed_step:r.data.completedStep,menumaster_id:r.data.menumaster_id}),e.props.history.push("/RiskDetails_Sookshma/".concat(n))):(P()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),e.props.loadingStop())})).catch((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),e.props.loadingStop(),t.setSubmitting(!1)})))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){this.state.motorInsurance;var e=Object.assign(A,{pol_start_date:null!=this.props.start_date?new Date(this.props.start_date):null,pol_end_date:null!=this.props.end_date?new Date(this.props.end_date):null});return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(f.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox regs2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Package Insurance"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(I.e,{initialValues:e,onSubmit:this.handleSubmit,validationSchema:O},(function(e){var a=e.values,t=e.errors,n=e.setFieldValue,r=e.setFieldTouched,l=(e.isValid,e.isSubmitting,e.touched);return c.a.createElement(I.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"})),c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-30"},"POLICY INFORMATION")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:5,lg:4},c.a.createElement("h6",null,"Policy start date & time:")),c.a.createElement(m.a,{sm:6,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(_.a,{name:"pol_start_date",minDate:new Date(M),maxDate:new Date(B),excludeOutOfBoundsTimes:!0,dateFormat:"dd-MM-yyyy HH:mm",timeFormat:"HH:mm",placeholderText:"Policy Start Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:a.pol_start_date,onSelect:function(e){0==Math.floor(w()().diff(e,"days",!0))?e.setHours(w()().format("HH"),w()().format("mm"),0,0):e.setHours(0,0,0,0),n("pol_start_date",e),r("pol_end_date"),n("pol_end_date",new Date(new Date(w()(e).add(364,"day").calendar()).setHours(23,59,0,0)))}}),t.pol_start_date&&l.pol_start_date?c.a.createElement("span",{className:"errorMsg"},t.pol_start_date):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:5,lg:4},c.a.createElement("h6",null,"Policy end date & time:")),c.a.createElement(m.a,{sm:6,md:11,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(_.a,{name:"pol_end_date",minDate:new Date(a.pol_start_date),maxDate:new Date(B),dateFormat:"dd-MM-yyyy HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",placeholderText:"Policy End Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,disabled:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:a.pol_end_date,onChange:function(e){r("pol_end_date"),n("pol_end_date",e)}}),t.pol_end_date&&l.pol_end_date?c.a.createElement("span",{className:"errorMsg"},t.pol_end_date):null)))),c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,"\xa0")),c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(u.a,{className:"btnPrimary",type:"submit"},"Go")))})))),c.a.createElement(h.a,null)))))))}}]),t}(s.Component);a.default=Object(E.g)(Object(N.b)((function(e){return{loading:e.loader.loading,start_date:e.sukhsam.start_date,end_date:e.sukhsam.end_date,policy_holder_id:e.sukhsam.policy_holder_id,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,request_data_id:e.sukhsam.request_data_id,completed_step:e.sukhsam.completed_step,menumaster_id:e.sukhsam.menumaster_id}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(b.b)(a))},setDataUpdate:function(a){return e(Object(b.f)(a))},setRiskData:function(a){return e(Object(b.e)(a))},setSmeProposerDetails:function(a){return e(Object(b.d)(a))},setSmeOthersDetails:function(a){return e(Object(b.c)(a))}}}))(x))},1263:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(20),D=t.n(P),I=t(9),M=t(28),B=t(929),A=(new M.a,C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar(),C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),C()().subtract(20,"years").calendar()),O=(C()(A).startOf("year").format("YYYY-MM-DD hh:mm"),new Date,{registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,previous_claim_for:"",previous_policy_no:"",stateName:"",pinDataArr:[],fire_sum_insured:0}),x=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(r.a)(this,c);for(var t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state=Object(n.a)({insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},"previous_is_claim",""),e.onChange=function(e,a){a("location_id","")},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else D()("Plese enter a valid pincode"),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}else e.setState({pinDataArr:[],stateName:[]})},e.fetchAreadetailsBack=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(null!=e.props.pincode&&""!=e.props.pincode&&6==e.props.pincode.length?t=e.props.pincode:""!=a&&(t=a),null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}else e.setState({pinDataArr:[],stateName:[]})},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new I.a,o={policy_holder_id:e.props.policy_holder_id,menumaster_id:e.props.menumaster_id,page_name:"RiskDetails_Sookshma/".concat(n),shop_building_name:a.shop_building_name,block_no:a.block_no,house_flat_no:a.house_flat_no,pincode:a.pincode,pincode_id:a.pincode_id,buildings_si:a.buildings_si,plant_machinary_si:a.plant_machinary_si,furniture_fixture_si:a.furniture_fixture_si,stock_raw_mat:a.stock_raw_mat,finish_goods:a.finish_goods,stock_wip:a.stock_wip},s=parseInt(a.buildings_si)+parseInt(a.plant_machinary_si)+parseInt(a.furniture_fixture_si)+parseInt(a.stock_raw_mat)+parseInt(a.finish_goods)+parseInt(a.stock_wip);return console.log("Sookshama....post_data..--- ",o),r.append("enc_data",l.encrypt(JSON.stringify(o))),s<5e5?(e.props.loadingStop(),D()("Sum total of fire buildings sum insured, fire contents sum insured and stock sum insured should be equal to or more than 5 Lakhs"),!1):s>1e7?(e.props.loadingStop(),D()("Sum total of fire buildings sum insured, fire contents sum insured and stock sum insured should be less than 1 crore"),!1):(e.props.loadingStart(),void w.a.post("sookshama/policy-details",r).then((function(n){if(!1===JSON.parse(l.decrypt(n.data)).error){e.props.loadingStop(),e.props.setRiskData({shop_building_name:a.shop_building_name,block_no:a.block_no,house_flat_no:a.house_flat_no,pincode:a.pincode,pincode_id:a.pincode_id,buildings_si:a.buildings_si,plant_machinary_si:a.plant_machinary_si,furniture_fixture_si:a.furniture_fixture_si,stock_raw_mat:a.stock_raw_mat,finish_goods:a.finish_goods,stock_wip:a.stock_wip,content_sum_insured:s,stock_sum_insured:parseInt(a.stock_raw_mat)+parseInt(a.finish_goods)+parseInt(a.stock_wip)});var r=e.props.match.params.productId;e.props.loadingStop(),e.setState({Fire_sum_insured:s}),e.props.history.push("/OtherDetails_Sookshma/".concat(r))}else e.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1)})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)})))},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new I.a;null==e.props.policy_holder_ref_no&&""!=a&&(e.props.loadingStart(),w.a.get("sookshama/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.sookshamainfo.risk_address);e.props.setRiskData({shop_building_name:l.shop_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.sookshamainfo.pincode,pincode_id:r.data.policyHolder.sookshamainfo.pincode_id,buildings_si:r.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:r.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:r.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:r.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:r.data.policyHolder.sookshamainfo.finish_goods,stock_wip:r.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:r.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:r.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&(e.props.setSmeOthersDetails({financial_party:r.data.policyHolder.sookshamainfo.financial_party?r.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:r.data.policyHolder.sookshamainfo.financial_modgaged?r.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:r.data.policyHolder.sookshamainfo.financer_name?r.data.policyHolder.sookshamainfo.financer_name:""}),e.fetchAreadetailsBack(r.data.policyHolder.sookshamainfo.pincode)),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()})))},e.Registration_SME=function(a){e.props.history.push("/Registration_Sookshma/".concat(a))},e}return Object(l.a)(c,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;w.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"fireSumCalculate",value:function(){this.state.Fire_sum_insured}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails(),this.fetchAreadetailsBack(),this.fireSumCalculate()}},{key:"render",value:function(){var e=this,a=parseInt(this.props.plant_machinary_si)+parseInt(this.props.furniture_fixture_si),r=parseInt(this.props.stock_raw_mat)+parseInt(this.props.stock_wip)+parseInt(this.props.finish_goods),l=this.props.match.params.productId,o=this.state,s=(o.insurerList,o.showClaim,o.previous_is_claim,o.motorInsurance,o.previousPolicy,o.stateName,o.pinDataArr),c=(o.CustomerID,o.suggestions,o.vehicleDetails,o.RTO_location,Object.assign(O,{shop_building_name:this.props.shop_building_name,block_no:this.props.block_no,house_flat_no:this.props.house_flat_no,pincode:this.props.pincode,pincode_id:this.props.pincode_id,buildings_si:this.props.buildings_si&&Math.round(this.props.buildings_si),plant_machinary_si:this.props.plant_machinary_si&&Math.round(this.props.plant_machinary_si),furniture_fixture_si:this.props.furniture_fixture_si&&Math.round(this.props.furniture_fixture_si),stock_raw_mat:this.props.stock_raw_mat&&Math.round(this.props.stock_raw_mat),stock_wip:this.props.stock_wip&&Math.round(this.props.stock_wip),finish_goods:this.props.finish_goods&&Math.round(this.props.finish_goods),fire_contents_sum_insured:a&&Math.round(a),fire_stock_sum_insured:r&&Math.round(r)})),E=N.object().shape({shop_building_name:N.string().required("Please enter building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),block_no:N.string().required("Please enter block no.").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid block no."})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),house_flat_no:N.string().required("Please enter house/flat no.").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid house/flat no,"})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),pincode:N.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:N.string().required("Please select area").nullable(),buildings_si:N.string().required("Please enter building sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),plant_machinary_si:N.string().required("Please enter plant and machinery sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),furniture_fixture_si:N.string().required("Please enter furniture & fixture sum insured").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),stock_raw_mat:N.string().required("Please enter stock of raw material").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),finish_goods:N.string().required("Please enter stock of finished goods").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable(),stock_wip:N.string().required("Please enter stock of work in progress").max(8).matches(/^[0-9]*$/,(function(){return"Please enter only numbers"})).nullable()});return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox riskdetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Package Insurance"),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:c,onSubmit:this.handleSubmit,validationSchema:E},(function(a){var r,o=a.values,c=a.errors,f=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting),E=a.touched;return i.a.createElement(S.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"RISK DETAILS"))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"Type of occupancy at risk location : Shop Risk")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"shop_building_name",type:"text",placeholder:"Shop/Building Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.shop_building_name}),c.shop_building_name&&E.shop_building_name?i.a.createElement("span",{className:"errorMsg"},c.shop_building_name):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"block_no",type:"text",placeholder:"Block No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.block_no}),c.block_no&&E.block_no?i.a.createElement("span",{className:"errorMsg"},c.block_no):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"house_flat_no",type:"text",placeholder:"House/Flat No",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.house_flat_no}),c.house_flat_no&&E.house_flat_no?i.a.createElement("span",{className:"errorMsg"},c.house_flat_no):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,(r={name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:o.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){h("state"),h("pincode"),f("pincode",e.target.value),f("pincode_id","")})),r)),c.pincode&&E.pincode?i.a.createElement("span",{className:"errorMsg"},c.pincode):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"pincode_id",component:"select",autoComplete:"off",value:o.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Location"),s&&s.length>0&&s.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),c.pincode_id&&E.pincode_id?i.a.createElement("span",{className:"errorMsg"},c.pincode_id):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"COVERAGE DETAILS: \xa0\xa0\xa0 SECTION 1 - FIRE"))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"Please enter Sum Insured below :")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Fire-Building-Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Building Structure including Plinth and Foundation")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"buildings_si",type:"text",placeholder:"Fire-Building-Sum Insured",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.buildings_si,onInput:function(e){h("buildings_si"),f("buildings_si",e.target.value)}}),c.buildings_si&&E.buildings_si?i.a.createElement("span",{className:"errorMsg"},c.buildings_si):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Plant & Machinery Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Plant & Machinery Sum Insured.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"plant_machinary_si",type:"text",placeholder:"Plant & Machinery Sum Insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.plant_machinary_si,onInput:function(e){h("plant_machinary_si"),f("plant_machinary_si",e.target.value)}}),c.plant_machinary_si&&E.plant_machinary_si?i.a.createElement("span",{className:"errorMsg"},c.plant_machinary_si):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Furniture, Fixture & Fittings Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Furniture, Fixtures, Fittings and Electrical Installations.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"furniture_fixture_si",type:"text",placeholder:"Furniture, Fixture & Fittings Sum Insured",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.furniture_fixture_si,onInput:function(e){h("furniture_fixture_si"),f("furniture_fixture_si",e.target.value)}}),c.furniture_fixture_si&&E.furniture_fixture_si?i.a.createElement("span",{className:"errorMsg"},c.furniture_fixture_si):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Fire-Contents Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"fire_contents_sum_insured",type:"text",placeholder:"Fire-Contents Sum Insured",maxLength:"7",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.plant_machinary_si&&o.furniture_fixture_si&&parseInt(o.plant_machinary_si)+parseInt(o.furniture_fixture_si)}),c.fire_contents_sum_insured&&E.fire_contents_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.fire_contents_sum_insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Stocks of Raw Material :"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"stock_raw_mat",type:"text",placeholder:"Stocks of Raw Material",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.stock_raw_mat,onInput:function(e){h("stock_raw_mat"),f("stock_raw_mat",e.target.value)}}),c.stock_raw_mat&&E.stock_raw_mat?i.a.createElement("span",{className:"errorMsg"},c.stock_raw_mat):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Stock of Finished Goods :"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"finish_goods",type:"text",placeholder:"Stock of Finished Goods",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.finish_goods,onInput:function(e){h("finish_goods"),f("finish_goods",e.target.value)}}),c.finish_goods&&E.finish_goods?i.a.createElement("span",{className:"errorMsg"},c.finish_goods):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Stocks of Work in Progress :"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"stock_wip",type:"text",placeholder:"Stocks of Work in Progress",maxLength:"7",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.stock_wip,onInput:function(e){h("stock_wip"),f("stock_wip",e.target.value)}}),c.stock_wip&&E.stock_wip?i.a.createElement("span",{className:"errorMsg"},c.stock_wip):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Fire-Stock Sum Insured"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Commodity stored inside shops for sale.")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"fire_stock_sum_insured",type:"text",placeholder:"Fire-Stock Sum Insured",maxLength:"7",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.stock_raw_mat&&o.finish_goods&&o.stock_wip&&parseInt(o.stock_raw_mat)+parseInt(o.finish_goods)+parseInt(o.stock_wip)}),c.fire_stock_sum_insured&&E.fire_stock_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.fire_stock_sum_insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:6,lg:6},i.a.createElement("label",null,"Fire-Total Sum Insured:"),i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"Sum total of fire buildings sum insured, fire content sum insured and fire stock sum insured")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"})))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"fire_sum_insured",type:"number",placeholder:"Fire-Total Sum Insured",maxLength:"10",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:parseInt(o.buildings_si)+parseInt(o.plant_machinary_si)+parseInt(o.furniture_fixture_si)+parseInt(o.stock_raw_mat)+parseInt(o.finish_goods)+parseInt(o.stock_wip),disabled:!0,onInput:function(e){h("Fire_sum_insured"),f("Fire_sum_insured",e.target.value)}}),c.Fire_sum_insured&&E.Fire_sum_insured?i.a.createElement("span",{className:"errorMsg"},c.Fire_sum_insured):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.Registration_SME.bind(e,l)},v?"Wait..":"Back"),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?"Wait..":"Next")))))})))),i.a.createElement(v.a,null)))))))}}]),c}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){var a;return a={loading:e.loader.loading,start_date:e.sukhsam.start_date,end_date:e.sukhsam.end_date,policy_holder_id:e.sukhsam.policy_holder_id,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,request_data_id:e.sukhsam.request_data_id,completed_step:e.sukhsam.completed_step,menumaster_id:e.sukhsam.menumaster_id,shop_building_name:e.sukhsam.shop_building_name,block_no:e.sukhsam.block_no,house_flat_no:e.sukhsam.house_flat_no,pincode:e.sukhsam.pincode,pincode_id:e.sukhsam.pincode_id,buildings_si:e.sukhsam.buildings_si,plant_machinary_si:e.sukhsam.plant_machinary_si,furniture_fixture_si:e.sukhsam.furniture_fixture_si},Object(n.a)(a,"policy_holder_id",e.sukhsam.policy_holder_id),Object(n.a)(a,"menumaster_id",e.sukhsam.menumaster_id),Object(n.a)(a,"stock_raw_mat",e.sukhsam.stock_raw_mat),Object(n.a)(a,"stock_wip",e.sukhsam.stock_wip),Object(n.a)(a,"finish_goods",e.sukhsam.finish_goods),a}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(B.b)(a))},setRiskData:function(a){return e(Object(B.e)(a))},setSmeProposerDetails:function(a){return e(Object(B.d)(a))},setSmeOthersDetails:function(a){return e(Object(B.c)(a))}}}))(x))},1264:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(31),g=t(34),f=t(40),h=t(38),v=t(19),E=t(22),y=t(1),b=t(2),N=t(7),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=(t(28),t(929)),I=(w()().subtract(1,"years"),w()().subtract(2,"years"),w()(),{registration_date:"",location_id:"",previous_is_claim:"",financial_party:"",financial_modgaged:"",financer_name:""}),M=y.object().shape({Commercial_consideration:y.string().matches(/^[0-9]*$/,(function(){return"Please enter commercial consideration % in number"})).nullable(),financial_party:y.string().required("This field is required").nullable(),financial_modgaged:y.string().when(["financial_party"],{is:function(e){return"1"==e},then:y.string().required("This field is required").nullable(),otherwise:y.string().nullable()}),financer_name:y.string().when(["financial_party"],{is:function(e){return"1"==e},then:y.string().required("This field is required").matches(/^[a-zA-Z]+([\s]?[a-zA-Z])*$/,(function(){return"Invalid Name"})).nullable(),otherwise:y.string().nullable()})}),B=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"disable_end_date",!0),e),l.onChange=function(e,a){a("location_id","")},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,n=new FormData,r=(""==e.previous_start_date||w()(e.previous_start_date).format("YYYY-MM-DD 00:00:00"),""==e.previous_end_date||w()(e.previous_end_date).format("YYYY-MM-DD 23:59:00"),""==e.Previous_Policy_No||e.Previous_Policy_No,""==e.insurance_company_id||e.insurance_company_id,new P.a),o={menumaster_id:l.props.menumaster_id,page_name:"OtherDetails_Sookshma/".concat(t),policy_holder_id:l.props.policy_holder_id,Commercial_consideration:"5",financial_party:e.financial_party,is_claim:0,financial_modgaged:e.financial_modgaged,financer_name:e.financer_name};console.log("Post Data------------- ",o),n.append("enc_data",r.encrypt(JSON.stringify(o))),l.props.loadingStart(),N.a.post("sookshama/previous-policy-details",n).then((function(n){l.props.setSmeOthersDetails({Commercial_consideration:"5",insurance_company_id:e.insurance_company_id,financial_party:e.financial_party,is_claim:0,financial_modgaged:e.financial_modgaged,financer_name:e.financer_name});var o=new FormData,s={id:l.props.policy_holder_id,menumaster_id:l.props.menumaster_id,page_name:"OtherDetails_Sookshma/".concat(t)};o.append("enc_data",r.encrypt(JSON.stringify(s))),N.a.post("/sookshama/quote",o).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptRespQuote--------\x3e",n),0==n.error&&n.data&&n.data.QuotationNo?(a.setSubmitting(!1),l.props.loadingStop(),l.props.history.push("/Summary_Sookshma/".concat(t))):(C()(n.msg),l.props.loadingStop(),a.setSubmitting(!1))})).catch((function(e){l.props.loadingStop();var t=JSON.parse(r.decrypt(e.data));console.log("decryptErr --------\x3e",t),a.setSubmitting(!1),l.props.loadingStop()}))})).catch((function(e){var t=JSON.parse(r.decrypt(e.data));console.log("decryptResp--err---",t),l.props.loadingStop(),a.setSubmitting(!1)}))},l.fetchInsurance=function(){N.a.get("company").then((function(e){l.setState({insurerList:e.data.data}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new P.a;null==l.props.policy_holder_ref_no&&""!=e&&(l.props.loadingStart(),N.a.get("sookshama/details/".concat(e)).then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decryptResp --------\x3e",n),n.data.policyHolder.step_no>0&&l.props.setData({start_date:n.data.policyHolder.request_data.start_date,end_date:n.data.policyHolder.request_data.end_date,policy_holder_id:n.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:n.data.policyHolder.request_data.id,completed_step:n.data.policyHolder.step_no,menumaster_id:n.data.policyHolder.menumaster_id,payment_link_status:n.data.policyHolder&&n.data.policyHolder.bcmaster?n.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==n.data.policyHolder.step_no||n.data.policyHolder.step_no>1){var r=JSON.parse(n.data.policyHolder.sookshamainfo.risk_address);l.props.setRiskData({shop_building_name:r.shop_building_name,block_no:r.block_no,street_name:r.street_name,plot_no:r.plot_no,house_flat_no:r.house_flat_no,pincode:n.data.policyHolder.sookshamainfo.pincode,pincode_id:n.data.policyHolder.sookshamainfo.pincode_id,buildings_si:n.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:n.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:n.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:n.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:n.data.policyHolder.sookshamainfo.finish_goods,stock_wip:n.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:n.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:n.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==n.data.policyHolder.step_no||n.data.policyHolder.step_no>2)&&l.props.setSmeOthersDetails({financial_party:n.data.policyHolder.sookshamainfo.financial_party?n.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:n.data.policyHolder.sookshamainfo.financial_modgaged?n.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:n.data.policyHolder.sookshamainfo.financer_name?n.data.policyHolder.sookshamainfo.financer_name:""}),3==n.data.policyHolder.step_no||n.data.policyHolder.step_no>3){var o="";null==n.data.policyHolder.address||(o=JSON.parse(n.data.policyHolder.address),l.props.setSmeProposerDetails({first_name:n.data.policyHolder.first_name,last_name:n.data.policyHolder.last_name,salutation_id:n.data.policyHolder.salutation_id,date_of_birth:n.data.policyHolder.dob,email_id:n.data.policyHolder.email_id,mobile:n.data.policyHolder.mobile,gender:n.data.policyHolder.gender,pan_no:n.data.policyHolder.pancard,gstn_no:n.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:n.data.policyHolder.pincode,com_pincode_id:n.data.policyHolder.pincode_id}))}l.props.loadingStop()})).catch((function(e){l.props.loadingStop()})))},l.RiskDetails=function(e){l.props.history.push("/RiskDetails_Sookshma/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;N.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails(),this.fetchInsurance()}},{key:"render",value:function(){var e=this,a=Object.assign(I,{previous_start_date:null==this.props.previous_start_date||""==this.props.previous_start_date?"":new Date(this.props.previous_start_date),previous_end_date:null==this.props.previous_end_date||""==this.props.previous_end_date?"":new Date(this.props.previous_end_date),Commercial_consideration:this.props.Commercial_consideration,Previous_Policy_No:null!=this.props.Previous_Policy_No?this.props.Previous_Policy_No:"",insurance_company_id:null!=this.props.insurance_company_id?this.props.insurance_company_id:"",address:this.props.address,financial_party:this.props.financial_party,is_claim:this.props.is_claim,previous_policy_check:this.props.previous_policy_check,financial_modgaged:this.props.financial_modgaged,financer_name:this.props.financer_name}),t=this.props.match.params.productId,n=this.state;n.insurerList,n.showClaim,n.previous_is_claim,n.motorInsurance,n.previousPolicy,n.CustomerID,n.suggestions,n.vehicleDetails,n.RTO_location;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherDetail2"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Package Insurance"),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:a,onSubmit:this.handleSubmit,validationSchema:M},(function(a){var n=a.values,r=a.errors,l=(a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting),o=a.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"FINANCER INFORMATION:"))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Is any Financial Party Involved?")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"financial_party",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.financial_party},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"1"},"Yes"),i.a.createElement("option",{value:"2"},"No")),r.financial_party&&o.financial_party?i.a.createElement("span",{className:"errorMsg"},r.financial_party):null)))),"1"==n.financial_party?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Is asset mortgaged with SBI Bank & Associates?")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"financial_modgaged",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.financial_modgaged},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"1"},"Yes"),i.a.createElement("option",{value:"2"},"No")),r.financial_modgaged&&o.financial_modgaged?i.a.createElement("span",{className:"errorMsg"},r.financial_modgaged):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Financier Name")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"financer_name",type:"text",autoComplete:"off",className:"formGrp inputfs12",value:n.financer_name}),r.financer_name&&o.financer_name?i.a.createElement("span",{className:"errorMsg"},r.financer_name):null))))):null,i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"COVERAGE DETAILS: \xa0\xa0\xa0 SECTION 2 - BURGLARY"))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Burglary: Contents Sum Insured")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"Contents_Sum_Insured",type:"text",placeholder:"Contents Sum Insured",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:e.props.content_sum_insured?Math.round(e.props.content_sum_insured):0,disabled:!0}),r.Contents_Sum_Insured&&o.Contents_Sum_Insured?i.a.createElement("span",{className:"errorMsg"},r.Contents_Sum_Insured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement("label",null,"Burglary: Stocks Sum Insured")),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"Stocks_Sum_Insured",type:"text",placeholder:"Stocks Sum Insured",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:e.props.stock_sum_insured?Math.round(e.props.stock_sum_insured):0,disabled:!0}),r.Stocks_Sum_Insured&&o.Stocks_Sum_Insured?i.a.createElement("span",{className:"errorMsg"},r.Stocks_Sum_Insured):null)))))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!l,onClick:e.RiskDetails.bind(e,t)},l?"Wait..":"Back"),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!l},l?"Wait..":"Calculate Premium")))})))),i.a.createElement(f.a,null)))))))}}]),t}(c.Component);a.default=Object(h.g)(Object(E.b)((function(e){return{loading:e.loader.loading,previous_start_date:e.sukhsam.previous_start_date,previous_end_date:e.sukhsam.previous_end_date,Commercial_consideration:e.sukhsam.Commercial_consideration,Previous_Policy_No:e.sukhsam.Previous_Policy_No,insurance_company_id:e.sukhsam.insurance_company_id,address:e.sukhsam.address,policy_holder_id:e.sukhsam.policy_holder_id,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,request_data_id:e.sukhsam.request_data_id,completed_step:e.sukhsam.completed_step,menumaster_id:e.sukhsam.menumaster_id,content_sum_insured:e.sukhsam.content_sum_insured,stock_sum_insured:e.sukhsam.stock_sum_insured,financial_party:e.sukhsam.financial_party,is_claim:e.sukhsam.is_claim,previous_policy_check:e.sukhsam.previous_policy_check,financial_modgaged:e.sukhsam.financial_modgaged,financer_name:e.sukhsam.financer_name}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())},setData:function(a){return e(Object(D.b)(a))},setRiskData:function(a){return e(Object(D.e)(a))},setSmeProposerDetails:function(a){return e(Object(D.d)(a))},setSmeOthersDetails:function(a){return e(Object(D.c)(a))}}}))(B))},1265:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(18),s=t(17),c=t(11),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=(t(95),t(96),t(40)),v=t(31),E=t(34),y=t(2),b=t(1),N=t(38),S=t(19),w=t(22),k=t(7),C=t(3),P=t.n(C),D=t(20),I=t.n(D),M=t(28),B=t(9),A=t(929),O=t(25),x=P()(P()().subtract(100,"years").calendar()),H=P()().subtract(18,"years").calendar(),R=(P()(P()().subtract(100,"years").calendar()),P()().subtract(3,"months").calendar(),new Date,P()(P()().subtract(100,"years").calendar()),n={first_name:"",last_name:"",gender:"",date_of_birth:"",pan_no:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test"},Object(c.a)(n,"gender",""),Object(c.a)(n,"nominee_dob",""),Object(c.a)(n,"mobile",""),Object(c.a)(n,"email_id",""),Object(c.a)(n,"address",""),Object(c.a)(n,"is_eia_account","0"),Object(c.a)(n,"eia_no",""),Object(c.a)(n,"stateName",""),Object(c.a)(n,"pinDataArr",[]),Object(c.a)(n,"pincode_id",""),Object(c.a)(n,"org_level",""),Object(c.a)(n,"net_premium","0"),Object(c.a)(n,"salutation_id",""),n),L=b.object().shape({salutation_id:b.string().required("Title is required").nullable(),first_name:b.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),last_name:b.string().notRequired("Name is required").matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),date_of_birth:b.date().required("Please enter date of birth").nullable(),email_id:b.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),mobile:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required").nullable(),gender:b.string().required("Please select gender").nullable(),pan_no:b.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,"Invalid PAN number").nullable(),gstn_no:b.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(O.k)(e)})).nullable(),com_building_name:b.string().required("Please enter Building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),plot_no:b.string().required("Please enter Plot number").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid plot number"})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),street_name:b.string().required("Please enter street name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid street name"})).max(50,(function(){return"Max 50 characters allowed"})).nullable(),pincode:b.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:b.string().required("Please select Area").nullable()}),j=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={showEIA:!1,is_eia_account:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[]},e.ageCheck=function(a){(new M.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1}):e.setState({showEIA:!1,is_eia_account:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.fetchSalutationdetails=function(a){var t=a.target.value;if(t.length>0){var n=new FormData;e.props.loadingStart();var r=new B.a,l={salutation:t};n.append("enc_data",r.encrypt(JSON.stringify(l))),n.append("salutation",t),k.a.post("salutation-list",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.otherDetails=function(a){e.props.history.push("/Summary_Sookshma/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new B.a,l=new FormData,o=P()(a.date_of_birth).format("YYYY-MM-DD"),s={bcmaster_id:"1",policy_holder_id:e.props.policy_holder_id,menumaster_id:e.props.menumaster_id,page_name:"AdditionalDetails_Sookshma/".concat(n),first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:o,email_id:a.email_id,mobile:a.mobile,gender:a.gender,pan_no:a.pan_no,gstn_no:a.gstn_no,house_building_name:a.com_building_name,block_no:"",house_flat_no:"",plot_no:a.plot_no,street_name:a.street_name,pincode:a.pincode,pincode_id:a.pincode_id};console.log("Post_data_proposer-details---------  ",s),l.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),k.a.post("sookshama/proposer-details",l).then((function(t){e.props.setSmeProposerDetails({first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:a.date_of_birth,email_id:a.email_id,mobile:a.mobile,gender:a.gender,pan_no:a.pan_no,gstn_no:a.gstn_no,com_street_name:a.street_name,com_plot_no:a.plot_no,com_building_name:a.com_building_name,com_block_no:a.block_no,com_house_flat_no:a.flat_no,com_pincode:a.pincode,com_pincode_id:a.pincode_id}),e.props.history.push("/Premium_Sookshma/".concat(n));new FormData,e.props.policy_holder_ref_no,e.props.menumaster_id,"AdditionalDetails_SME/".concat(n)})).catch((function(a){e.props.loadingStop();var n=JSON.parse(r.decrypt(a.data));console.log("decryptErr------------ ",n),t.setSubmitting(!1)}))},e.fetchAreadetails=function(a,t,n){var r=a.target.value;if(6==r.length){var l=new FormData;e.props.loadingStart();l.append("pincode",r),k.a.post("pincode-details",l).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),I()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}else e.setState({pinDataArr:[],stateName:[]}),n("pincode_id"),t("pincode_id","")},e.fetchAreadetailsBack=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";if(null!=e.props.com_pincode&&""!=e.props.com_pincode&&6==e.props.com_pincode.length?t=e.props.com_pincode:""!=a&&(t=a),console.log("fetchAreadetailsBack pinCode",t),null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),k.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}else e.setState({pinDataArr:[],stateName:[]}),e.props.setAddress({com_pincode:null,com_pincode_id:null})},e.fetchAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;console.log("fetchAreadetails pinCode"),n.append("pincode",t),e.props.loadingStart(),k.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}else e.setState({pinDataArr:[],stateName:[]})},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),k.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.fetchPolicyDetails=function(){var a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,t=new B.a;null==e.props.policy_holder_ref_no&&""!=a&&(e.props.loadingStart(),k.a.get("sookshama/details/".concat(a)).then((function(n){var r=JSON.parse(t.decrypt(n.data));if(console.log("decryptResp --------\x3e",r),r.data.policyHolder.step_no>0&&e.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:a,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var l=JSON.parse(r.data.policyHolder.sookshamainfo.risk_address);e.props.setRiskData({shop_building_name:l.shop_building_name,block_no:l.block_no,street_name:l.street_name,plot_no:l.plot_no,house_flat_no:l.house_flat_no,pincode:r.data.policyHolder.sookshamainfo.pincode,pincode_id:r.data.policyHolder.sookshamainfo.pincode_id,buildings_si:r.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:r.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:r.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:r.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:r.data.policyHolder.sookshamainfo.finish_goods,stock_wip:r.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:r.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:r.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&e.props.setSmeOthersDetails({financial_party:r.data.policyHolder.sookshamainfo.financial_party?r.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:r.data.policyHolder.sookshamainfo.financial_modgaged?r.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:r.data.policyHolder.sookshamainfo.financer_name?r.data.policyHolder.sookshamainfo.financer_name:""}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var o="";null==r.data.policyHolder.address||(o=JSON.parse(r.data.policyHolder.address),e.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:o.street_name,com_plot_no:o.plot_no,com_building_name:o.house_building_name,com_block_no:o.block_no,com_house_flat_no:o.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}),e.fetchAreadetailsBack(r.data.policyHolder.pincode))}e.props.loadingStop()})).catch((function(a){e.props.loadingStop()})))},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSalutation(),this.fetchPolicyDetails(),this.fetchAreadetailsBack()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showLoan,a.is_eia_account,a.is_loan_account,a.nomineeDetails,a.motorInsurance,a.appointeeFlag,a.is_appointee,a.showEIA,a.titleList),n=(a.bankDetails,a.policyHolder,a.stateName,a.pinDataArr),r=(a.quoteId,a.addressDetails,a.relation,a.step_completed,a.vehicleDetails,a.request_data,this.props.match.params.productId),l=Object.assign(R,{first_name:this.props.first_name,last_name:this.props.last_name,salutation_id:this.props.salutation_id,date_of_birth:null!=this.props.date_of_birth?new Date(this.props.date_of_birth):this.props.date_of_birth,email_id:this.props.email_id,mobile:this.props.mobile,gender:this.props.gender,pan_no:this.props.pan_no,gstn_no:this.props.gstn_no,street_name:this.props.com_street_name,plot_no:this.props.com_plot_no,com_building_name:this.props.com_building_name,block_no:this.props.com_block_no,flat_no:this.props.com_house_flat_no,pincode:this.props.com_pincode,pincode_id:this.props.com_pincode_id}),o=m.a.createElement("h4",null,"Please share a few more details. ");return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(E.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Package Insurance"),m.a.createElement("section",{className:"brand m-b-25"},m.a.createElement("div",{className:"brand-bg"},m.a.createElement(y.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:L},(function(a){var l=a.values,s=a.errors,i=a.setFieldValue,g=a.setFieldTouched,h=(a.isValid,a.isSubmitting),v=a.touched;return m.a.createElement(y.d,null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"d-flex justify-content-left brandhead"},o,m.a.createElement("div",{className:"brandhead"},m.a.createElement("p",null,"\xa0"))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"PROPOSER DETAILS"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),t.map((function(e,a){return m.a.createElement("option",{value:e.id},e.displayvalue)}))),s.salutation_id&&v.salutation_id?m.a.createElement("span",{className:"errorMsg"},s.salutation_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.first_name}),s.first_name&&v.first_name?m.a.createElement("span",{className:"errorMsg"},s.first_name):null))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.last_name}),s.last_name&&v.last_name?m.a.createElement("span",{className:"errorMsg"},s.last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Select Gender"),m.a.createElement("option",{value:"m"},"Male"),m.a.createElement("option",{value:"f"},"Female")),s.gender&&v.gender?m.a.createElement("span",{className:"errorMsg"},s.gender):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement(f.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",selected:l.date_of_birth,onChange:function(e){g("date_of_birth"),i("date_of_birth",e)}}),s.date_of_birth&&v.date_of_birth?m.a.createElement("span",{className:"errorMsg"},s.date_of_birth):null)),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"gstn_no",type:"text",placeholder:"GSTIN",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.gstn_no,onChange:function(e){return i("gstn_no",e.target.value.toUpperCase())}}),s.gstn_no&&v.gstn_no?m.a.createElement("span",{className:"errorMsg"},s.gstn_no):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,{className:"m-b-25"},m.a.createElement("div",{className:"insurerName nmbract"},m.a.createElement("span",null,"+91"),m.a.createElement(y.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),s.mobile&&v.mobile?m.a.createElement("span",{className:"errorMsg msgpositn"},s.mobile):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"pan_no",type:"text",placeholder:"PAN Card No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.pan_no,onChange:function(e){return i("pan_no",e.target.value.toUpperCase())}}),s.pan_no&&v.pan_no?m.a.createElement("span",{className:"errorMsg"},s.pan_no):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.email_id}),s.email_id&&v.email_id?m.a.createElement("span",{className:"errorMsg"},s.email_id):null)))),m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"COMMUNICATION ADDRESS"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,Object(c.a)({name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a,i,g)},value:l.pincode},"maxLength","6")),s.pincode&&v.pincode?m.a.createElement("span",{className:"errorMsg"},s.pincode):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(y.b,{name:"pincode_id",component:"select",autoComplete:"off",value:l.pincode_id,className:"formGrp"},m.a.createElement("option",{value:""},"Select Area"),n&&n.length>0&&n.map((function(e,a){return m.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),s.pincode_id&&v.pincode_id?m.a.createElement("span",{className:"errorMsg"},s.pincode_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"com_building_name",type:"text",placeholder:"Building/House Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.com_building_name}),s.com_building_name&&v.com_building_name?m.a.createElement("span",{className:"errorMsg"},s.com_building_name):null)))),m.a.createElement(d.a,null),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"plot_no",type:"text",placeholder:"Plot No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.plot_no}),s.plot_no&&v.plot_no?m.a.createElement("span",{className:"errorMsg"},s.plot_no):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(y.b,{name:"street_name",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l.street_name}),s.street_name&&v.street_name?m.a.createElement("span",{className:"errorMsg"},s.street_name):null)))),m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.otherDetails.bind(e,r)},h?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!h},h?"Wait..":"Next")))))}))))),m.a.createElement(h.a,null))))))}}]),t}(i.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading,first_name:e.sukhsam.first_name,last_name:e.sukhsam.last_name,salutation_id:e.sukhsam.salutation_id,date_of_birth:e.sukhsam.date_of_birth,email_id:e.sukhsam.email_id,mobile:e.sukhsam.mobile,gender:e.sukhsam.gender,pan_no:e.sukhsam.pan_no,gstn_no:e.sukhsam.gstn_no,com_street_name:e.sukhsam.com_street_name,com_plot_no:e.sukhsam.com_plot_no,com_building_name:e.sukhsam.com_building_name,com_block_no:e.sukhsam.com_block_no,com_house_flat_no:e.sukhsam.com_house_flat_no,com_pincode:e.sukhsam.com_pincode,com_pincode_id:e.sukhsam.com_pincode_id,block_no:e.sukhsam.block_no,street_name:e.sukhsam.street_name,plot_no:e.sukhsam.plot_no,house_flat_no:e.sukhsam.house_flat_no,pincode:e.sukhsam.pincode,pincode_id:e.sukhsam.pincode_id,policy_holder_id:e.sukhsam.policy_holder_id,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,menumaster_id:e.sukhsam.menumaster_id}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(A.b)(a))},setRiskData:function(a){return e(Object(A.e)(a))},setSmeOthersDetails:function(a){return e(Object(A.c)(a))},setSmeProposerDetails:function(a){return e(Object(A.d)(a))},setAddress:function(a){return e(Object(A.a)(a))}}}))(j))},1266:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(46),s=t(18),c=t(17),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(7),N=t(38),S=t(19),w=t(22),k=t(929),C=t(1),P=t(9),D=t(37),I=t.n(D),M=t(20),B=t.n(M),A=t(3),O=t.n(A),x=t(97),H={gateway:""},R=C.object().shape({refNo:C.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),L=function(e){Object(s.a)(i,e);var a=Object(c.a)(i);function i(e){var t;return Object(r.a)(this,i),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_Sookshma/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(x.b)(e,r,n,l)},t.callBreakin=function(){var e=new FormData,a=new P.a,n=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",r=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";r&&(r=JSON.parse(a.decrypt(r))),e.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":r?r.agent_id:""),e.append("ref_no",n),t.props.loadingStart(),b.a.post("breakin/create",e).then((function(e){B()("Your breakin request has been raised. Your inspection Number: ".concat(e.data.data.inspection_no)),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.getGender=function(e){return"m"==e?"Male":"f"==e?"Female":void 0},t.sendPaymentLink=function(){new P.a;var e=new FormData,a=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0;e.append("reference_no",a),t.props.loadingStart(),b.a.post("send-payment-link",e).then((function(e){B()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.quoteUpdate=function(e,a){var n=t.props.match.params.productId;t.fetchPolicyDetails().then((function(e){var a=new P.a,r=new FormData,l={id:t.props.policy_holder_id,menumaster_id:t.props.menumaster_id,page_name:"Premium_Sookshma/".concat(n)};r.append("enc_data",a.encrypt(JSON.stringify(l))),t.props.loadingStart(),b.a.post("/sookshama/quote",r).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptRespQuote --------------- ",n),1==n.error&&(t.setState({paymentgateway:[],quoteId:"",error:{message:n.msg}}),B()(n.msg)),t.props.loadingStop()})).catch((function(e){t.props.loadingStop();var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr --------------- ",n)}))}))},t.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new P.a;return new Promise((function(n,r){t.props.loadingStart(),b.a.get("sookshama/details/".concat(e)).then((function(r){var l=JSON.parse(a.decrypt(r.data));if(console.log("decryptResp --------\x3e",l),l.data.policyHolder.step_no>0&&t.props.setData({start_date:l.data.policyHolder.request_data.start_date,end_date:l.data.policyHolder.request_data.end_date,policy_holder_id:l.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:l.data.policyHolder.request_data.id,completed_step:l.data.policyHolder.step_no,menumaster_id:l.data.policyHolder.menumaster_id,paymentgateway:l.data.policyHolder&&l.data.policyHolder.bcmaster&&l.data.policyHolder.bcmaster.bcpayment,payment_link_status:l.data.policyHolder&&l.data.policyHolder.bcmaster?l.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==l.data.policyHolder.step_no||l.data.policyHolder.step_no>1){var o=JSON.parse(l.data.policyHolder.sookshamainfo.risk_address);t.props.setRiskData({shop_building_name:o.shop_building_name,block_no:o.block_no,street_name:o.street_name,plot_no:o.plot_no,house_flat_no:o.house_flat_no,pincode:l.data.policyHolder.sookshamainfo.pincode,pincode_id:l.data.policyHolder.sookshamainfo.pincode_id,buildings_si:l.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:l.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:l.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:l.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:l.data.policyHolder.sookshamainfo.finish_goods,stock_wip:l.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:l.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:l.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==l.data.policyHolder.step_no||l.data.policyHolder.step_no>2)&&t.props.setSmeOthersDetails({financial_party:l.data.policyHolder.sookshamainfo.financial_party?l.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:l.data.policyHolder.sookshamainfo.financial_modgaged?l.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:l.data.policyHolder.sookshamainfo.financer_name?l.data.policyHolder.sookshamainfo.financer_name:""}),3==l.data.policyHolder.step_no||l.data.policyHolder.step_no>3){var s=JSON.parse(l.data.policyHolder.address);t.props.setSmeProposerDetails({first_name:l.data.policyHolder.first_name,last_name:l.data.policyHolder.last_name,salutation_id:l.data.policyHolder.salutation_id,date_of_birth:l.data.policyHolder.dob,email_id:l.data.policyHolder.email_id,mobile:l.data.policyHolder.mobile,gender:l.data.policyHolder.gender,pan_no:l.data.policyHolder.pancard,gstn_no:l.data.policyHolder.gstn_no,com_street_name:s.street_name,com_plot_no:s.plot_no,com_building_name:s.house_building_name,com_block_no:s.block_no,com_house_flat_no:s.house_flat_no,com_pincode:l.data.policyHolder.pincode,com_pincode_id:l.data.policyHolder.pincode_id})}var c=JSON.parse(l.data.policyHolder.pincode_response),i=l.data.policyHolder?l.data.policyHolder.vehiclebrandmodel:{};t.setState({salutationName:l.data.policyHolder.salutation.displayvalue,pincodeArea:c.LCLTY_SUBRB_TALUK_TEHSL_NM,quoteId:l.data.policyHolder.request_data.quote_id,gst:l.data.policyHolder.request_data.service_tax,grossPremium:l.data.policyHolder.request_data.gross_premium,payablePremium:l.data.policyHolder.request_data.net_premium,refNumber:l.data.policyHolder.reference_no,policyHolder:l.data.policyHolder,paymentgateway:l.data.policyHolder&&l.data.policyHolder.bcmaster&&l.data.policyHolder.bcmaster.bcpayment,vehicleDetails:i}),n("Promise resolved successfully"),t.props.loadingStop()})).catch((function(e){t.props.loadingStop(),B()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),r(Error("Promise rejected"))}))}))},t.handleClose=t.handleClose.bind(Object(o.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:I.a.parse(t.props.location.search).access_id?I.a.parse(t.props.location.search).access_id:localStorage.getItem("policy_holder_ref_no")},t}return Object(l.a)(i,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.quoteUpdate()}},{key:"render",value:function(){var e=this,a=this.state,r=(a.policyHolder,a.show,a.vehicleDetails),l=a.paymentgateway,o=a.error,s=(a.error1,a.quoteId),c=a.paymentStatus,i=(a.relation,a.memberdetails,a.nomineedetails,a.breakin_flag,this.props.match.params.productId),g=(I.a.parse(this.props.location.search).access_id?I.a.parse(this.props.location.search).access_id:localStorage.getItem("policyHolder_refNo"),localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases")),o&&o.message?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,o.message))):null),b=c&&103==c.transaction_status?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Payment failed. Please try again"))):null;return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(E.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SME Package Insurance"),m.a.createElement(h.e,{initialValues:H,onSubmit:this.handleSubmit,validationSchema:R},(function(a){var o,c=a.values,v=(a.errors,a.setFieldValue),E=(a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return m.a.createElement(h.d,null,m.a.createElement("section",{className:"brand m-t-11 m-b-25"},m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead m-b-10"},s?m.a.createElement("h4",null,"Your Quotation Number is: ",s," "):null)),m.a.createElement("div",{className:"brandhead m-b-30"},m.a.createElement("h5",null,g),m.a.createElement("h5",null,b),m.a.createElement("h4",null)),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Policy Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Policy Start date:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},e.props.start_date?O()(e.props.start_date).format("DD-MM-yyy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Policy End Date:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},e.props.end_date?O()(e.props.end_date).format("DD-MM-yyy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Product Name:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},r&&r.vehicletype?r.vehicletype.description:null)))))),m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Premium Details",open:!0},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Net Premium:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.grossPremium)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"GST:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.gst)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"motopremium"},"Final Premium:")),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"premamount"},"\u20b9 ",e.state.payablePremium)))))),m.a.createElement("div",{className:"rghtsideTrigr"},m.a.createElement(f.a,{trigger:"Proposer Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Title:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.salutationName))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"First Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.first_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Last Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.last_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Email:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.email_id))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Date Of Birth:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.date_of_birth)).format("DD-MM-YYYY")))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Mobile Number:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.mobile))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Gender:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.getGender(e.props.gender)))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"GSTN:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.gstn_no))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pan No.:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.pan_no))))),m.a.createElement(d.a,null,m.a.createElement("p",null)))))),m.a.createElement("div",{className:"rghtsideTrigr m-b-30"},m.a.createElement(f.a,{trigger:"Communication Details"},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"House/Building Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_building_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Street Name:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_street_name))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Plot No.:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_plot_no))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pincode:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.props.com_pincode))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,"Pincode Area:")),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,e.state.pincodeArea))))),m.a.createElement(d.a,null,m.a.createElement("p",null)))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6}),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,l&&l.length>0?l.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?m.a.createElement("div",{key:a},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(h.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){v("gateway",a.target.value),v("slug",e.paymentgateway.slug)},checked:c.gateway=="".concat(a+1)}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?m.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null))),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,i)},"Back"),1==e.props.payment_link_status?m.a.createElement("div",null,m.a.createElement(_.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,e.state.quoteId&&""!=e.state.quoteId&&""!=c.gateway?m.a.createElement(_.a,(o={type:"submit",className:"proceedBtn"},Object(n.a)(o,"type","submit"),Object(n.a)(o,"disabled",!!E),o),"Generate Policy"):null)),m.a.createElement(u.a,{sm:12,md:3},m.a.createElement("div",{className:"regisBox medpd"},m.a.createElement("h5",{className:"medihead"},"Exclusions: "),m.a.createElement("h4",null,m.a.createElement("ul",null,m.a.createElement("li",{className:"txtRegistr resmb-15"},"Shops on wheels"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Kutcha Construction"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Basement Risks"),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Shops dealing in Fire-Crackers / Arms / Ammunition, Precious Jewellery "),m.a.createElement("li",{className:"txtRegistr resmb-15"},"Godown / Standalone Storage Risks"))))))))}))),m.a.createElement(y.a,null))))))}}]),i}(i.Component);a.default=Object(N.g)(Object(w.b)((function(e){var a;return a={loading:e.loader.loading,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,menumaster_id:e.sukhsam.menumaster_id,policy_holder_id:e.sukhsam.policy_holder_id,start_date:e.sukhsam.start_date,end_date:e.sukhsam.end_date,house_building_name:e.sukhsam.house_building_name,block_no:e.sukhsam.block_no,street_name:e.sukhsam.street_name,content_sum_insured:e.sukhsam.content_sum_insured,house_flat_no:e.sukhsam.house_flat_no,pincode:e.sukhsam.pincode,pincode_id:e.sukhsam.pincode_id,buildings_sum_insured:e.sukhsam.buildings_sum_insured},Object(n.a)(a,"content_sum_insured",e.sukhsam.content_sum_insured),Object(n.a)(a,"stock_sum_insured",e.sukhsam.stock_sum_insured),Object(n.a)(a,"first_name",e.sukhsam.first_name),Object(n.a)(a,"last_name",e.sukhsam.last_name),Object(n.a)(a,"salutation_id",e.sukhsam.salutation_id),Object(n.a)(a,"date_of_birth",e.sukhsam.date_of_birth),Object(n.a)(a,"email_id",e.sukhsam.email_id),Object(n.a)(a,"mobile",e.sukhsam.mobile),Object(n.a)(a,"gender",e.sukhsam.gender),Object(n.a)(a,"pan_no",e.sukhsam.pan_no),Object(n.a)(a,"gstn_no",e.sukhsam.gstn_no),Object(n.a)(a,"com_street_name",e.sukhsam.com_street_name),Object(n.a)(a,"com_plot_no",e.sukhsam.com_plot_no),Object(n.a)(a,"com_building_name",e.sukhsam.com_building_name),Object(n.a)(a,"com_block_no",e.sukhsam.com_block_no),Object(n.a)(a,"com_house_flat_no",e.sukhsam.com_house_flat_no),Object(n.a)(a,"com_pincode",e.sukhsam.com_pincode),Object(n.a)(a,"com_pincode_id",e.sukhsam.com_pincode_id),Object(n.a)(a,"previous_start_date",e.sukhsam.previous_start_date),Object(n.a)(a,"previous_end_date",e.sukhsam.previous_end_date),Object(n.a)(a,"Previous_Policy_No",e.sukhsam.Previous_Policy_No),Object(n.a)(a,"insurance_company_id",e.sukhsam.insurance_company_id),Object(n.a)(a,"previous_city",e.sukhsam.previous_city),Object(n.a)(a,"payment_link_status",e.sukhsam.payment_link_status),a}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(k.b)(a))},setRiskData:function(a){return e(Object(k.e)(a))},setSmeProposerDetails:function(a){return e(Object(k.d)(a))},setSmeOthersDetails:function(a){return e(Object(k.c)(a))}}}))(L))},1267:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(46),s=t(18),c=t(17),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(7),N=t(38),S=t(19),w=t(929),k=t(22),C=t(1),P=t(9),D=t(37),I=t.n(D),M=(t(61),t(20)),B=t.n(M),A=t(3),O=t.n(A),x=(t(250),{}),H=C.object().shape({refNo:C.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){var a=n.props.match.params.productId;n.props.loadingStop(),n.props.history.push("/AdditionalDetails_Sookshma/".concat(a))},n.fetchPolicyDetails=function(){var e=localStorage.getItem("policy_holder_ref_no")?localStorage.getItem("policy_holder_ref_no"):0,a=new P.a;n.props.loadingStart(),b.a.get("sookshama/details/".concat(e)).then((function(t){var r=JSON.parse(a.decrypt(t.data));console.log("decryptResp --------\x3e",r);var l=r.data;JSON.parse(r.data.policyHolder.pincode_response);if(n.setState({quoteId:null!=r.data.policyHolder.request_data.quote_id?r.data.policyHolder.request_data.quote_id:0,gst:null!=r.data.policyHolder.request_data.service_tax?r.data.policyHolder.request_data.service_tax:0,netPremium:null!=r.data.policyHolder.request_data.net_premium?r.data.policyHolder.request_data.net_premium:0,finalPremium:null!=r.data.policyHolder.request_data.net_premium?r.data.policyHolder.request_data.net_premium:0,rawData:null!=l.policyHolder.sookshamainfo.sookshama_coverages?l.policyHolder.sookshamainfo.sookshama_coverages:0}),r.data.policyHolder.step_no>0&&n.props.setData({start_date:r.data.policyHolder.request_data.start_date,end_date:r.data.policyHolder.request_data.end_date,policy_holder_id:r.data.policyHolder.id,policy_holder_ref_no:e,request_data_id:r.data.policyHolder.request_data.id,completed_step:r.data.policyHolder.step_no,menumaster_id:r.data.policyHolder.menumaster_id,payment_link_status:r.data.policyHolder&&r.data.policyHolder.bcmaster?r.data.policyHolder.bcmaster.eligible_for_payment_link:0}),1==r.data.policyHolder.step_no||r.data.policyHolder.step_no>1){var o=JSON.parse(r.data.policyHolder.sookshamainfo.risk_address);n.props.setRiskData({shop_building_name:o.shop_building_name,block_no:o.block_no,street_name:o.street_name,plot_no:o.plot_no,house_flat_no:o.house_flat_no,pincode:r.data.policyHolder.sookshamainfo.pincode,pincode_id:r.data.policyHolder.sookshamainfo.pincode_id,buildings_si:r.data.policyHolder.sookshamainfo.buildings_si,plant_machinary_si:r.data.policyHolder.sookshamainfo.plant_machinary_si,furniture_fixture_si:r.data.policyHolder.sookshamainfo.furniture_fixture_si,stock_raw_mat:r.data.policyHolder.sookshamainfo.stock_raw_mat,finish_goods:r.data.policyHolder.sookshamainfo.finish_goods,stock_wip:r.data.policyHolder.sookshamainfo.stock_wip,content_sum_insured:r.data.policyHolder.sookshamainfo.total_sum_insured,stock_sum_insured:r.data.policyHolder.sookshamainfo.fire_stock_si})}if((2==r.data.policyHolder.step_no||r.data.policyHolder.step_no>2)&&n.props.setSmeOthersDetails({financial_party:r.data.policyHolder.sookshamainfo.financial_party?r.data.policyHolder.sookshamainfo.financial_party:"",financial_modgaged:r.data.policyHolder.sookshamainfo.financial_modgaged?r.data.policyHolder.sookshamainfo.financial_modgaged:"",financer_name:r.data.policyHolder.sookshamainfo.financer_name?r.data.policyHolder.sookshamainfo.financer_name:""}),3==r.data.policyHolder.step_no||r.data.policyHolder.step_no>3){var s="";null==r.data.policyHolder.address||(s=JSON.parse(r.data.policyHolder.address),n.props.setSmeProposerDetails({first_name:r.data.policyHolder.first_name,last_name:r.data.policyHolder.last_name,salutation_id:r.data.policyHolder.salutation_id,date_of_birth:r.data.policyHolder.dob,email_id:r.data.policyHolder.email_id,mobile:r.data.policyHolder.mobile,gender:r.data.policyHolder.gender,pan_no:r.data.policyHolder.pancard,gstn_no:r.data.policyHolder.gstn_no,com_street_name:s.street_name,com_plot_no:s.plot_no,com_building_name:s.house_building_name,com_block_no:s.block_no,com_house_flat_no:s.house_flat_no,com_pincode:r.data.policyHolder.pincode,com_pincode_id:r.data.policyHolder.pincode_id}))}n.props.loadingStop()})).catch((function(e){return n.props.loadingStop(),B()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1}))},n.getGender=function(e){return"m"==e?"Male":"f"==e?"Female":void 0},n.otherDetails=function(e){n.props.history.push("/OtherDetails_Sookshma/".concat(e))},n.getPostcodeArea=function(e){},n.handleClose=n.handleClose.bind(Object(o.a)(n)),n.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,salutationName:"",policyHolder_refNo:I.a.parse(n.props.location.search).access_id?I.a.parse(n.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},n}return Object(l.a)(t,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.policyHolder,a.show,a.fulQuoteResp,a.motorInsurance,a.error),n=(a.error1,a.refNumber,a.paymentStatus),r=(a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.rawData),l=this.props.match.params.productId,o=t&&t.message?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,s=n&&103==n.transaction_status?m.a.createElement("span",{className:"errorMsg"},m.a.createElement("h6",null,m.a.createElement("strong",null,"Payment failed. Please try again"))):null,c=r&&r.length>0?r.map((function(e,a){return m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},e.coverage.description," :"),m.a.createElement("td",null,null==e.premium?0:Math.round(e.premium)))})):null;return m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(E.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},m.a.createElement("div",{className:"text"},m.a.createElement("h4",{className:"text-center mt-3 mb-0"},"SME Package Insurance")),m.a.createElement("h1",{className:"text-center mt-3 mb-4"}," "," "," "),m.a.createElement(h.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid;var t=a.isSubmitting;a.touched;return m.a.createElement(h.d,null,m.a.createElement("section",{className:"brand m-t-11 m-b-25"},m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead m-b-10"},m.a.createElement("h4",null,"SME Package Insurance "),m.a.createElement("p",null,"You are just one steps away in getting your policy ready.")," ",m.a.createElement("p",null,"Your Quotation Number is: ",m.a.createElement("span",null,m.a.createElement("strong",null,e.state.quoteId))))),m.a.createElement("div",{className:"brandhead m-b-30"},m.a.createElement("h5",null,o),m.a.createElement("h5",null,s),m.a.createElement("h4",null)),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:9,lg:9},m.a.createElement("div",{className:"rghtsideTrigr m-b-30"},m.a.createElement(f.a,{trigger:"Policy Summary",open:!0},m.a.createElement("div",{className:"listrghtsideTrigr"},m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Policy Start Date :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.start_date)).format("DD MMM yyyy"))))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,m.a.createElement("strong",null,"Policy End Date :"))),m.a.createElement(u.a,{sm:12,md:6},m.a.createElement(p.a,null,O()(new Date(e.props.end_date)).format("DD MMM yyyy")))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:12},m.a.createElement("table",{style:{width:"45rem"}},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Cover Type"),m.a.createElement("th",null,"Premium(\u20b9)"))),m.a.createElement("tbody",null,c,m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},"Other Cover Premium :"),m.a.createElement("td",null,"0")),m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},"Discount/Loading if any :"),m.a.createElement("td",null,"0")),m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},"Taxes as applicable :"),m.a.createElement("td",null,e.state.gst?Math.round(e.state.gst):0)),m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},"Kerala Cess :"),m.a.createElement("td",null,"0")),m.a.createElement("tr",null,m.a.createElement("td",{style:{width:"400px"}},m.a.createElement("strong",null,"Final Premium(\u20b9) :")),m.a.createElement("td",null,m.a.createElement("strong",null,e.state.netPremium?Math.round(e.state.netPremium):0))))))),m.a.createElement(d.a,null,m.a.createElement("p",null,"\xa0")))))),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.otherDetails.bind(e,l)},t?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!t},"Next"))))))}))),m.a.createElement(y.a,null))))))}}]),t}(i.Component);a.default=Object(N.g)(Object(k.b)((function(e){var a;return a={loading:e.loader.loading,policy_holder_ref_no:e.sukhsam.policy_holder_ref_no,menumaster_id:e.sukhsam.menumaster_id,policy_holder_id:e.sukhsam.policy_holder_id,start_date:e.sukhsam.start_date,end_date:e.sukhsam.end_date,house_building_name:e.sukhsam.house_building_name,block_no:e.sukhsam.block_no,street_name:e.sukhsam.street_name,content_sum_insured:e.sukhsam.content_sum_insured,house_flat_no:e.sukhsam.house_flat_no,pincode:e.sukhsam.pincode,pincode_id:e.sukhsam.pincode_id,buildings_sum_insured:e.sukhsam.buildings_sum_insured},Object(n.a)(a,"content_sum_insured",e.sukhsam.content_sum_insured),Object(n.a)(a,"stock_sum_insured",e.sukhsam.stock_sum_insured),Object(n.a)(a,"first_name",e.sukhsam.first_name),Object(n.a)(a,"last_name",e.sukhsam.last_name),Object(n.a)(a,"salutation_id",e.sukhsam.salutation_id),Object(n.a)(a,"date_of_birth",e.sukhsam.date_of_birth),Object(n.a)(a,"email_id",e.sukhsam.email_id),Object(n.a)(a,"mobile",e.sukhsam.mobile),Object(n.a)(a,"gender",e.sukhsam.gender),Object(n.a)(a,"pan_no",e.sukhsam.pan_no),Object(n.a)(a,"gstn_no",e.sukhsam.gstn_no),Object(n.a)(a,"com_street_name",e.sukhsam.com_street_name),Object(n.a)(a,"com_plot_no",e.sukhsam.com_plot_no),Object(n.a)(a,"com_building_name",e.sukhsam.com_building_name),Object(n.a)(a,"com_block_no",e.sukhsam.com_block_no),Object(n.a)(a,"com_house_flat_no",e.sukhsam.com_house_flat_no),Object(n.a)(a,"com_pincode",e.sukhsam.com_pincode),Object(n.a)(a,"com_pincode_id",e.sukhsam.com_pincode_id),Object(n.a)(a,"previous_start_date",e.sukhsam.previous_start_date),Object(n.a)(a,"previous_end_date",e.sukhsam.previous_end_date),Object(n.a)(a,"Previous_Policy_No",e.sukhsam.Previous_Policy_No),Object(n.a)(a,"insurance_company_id",e.sukhsam.insurance_company_id),Object(n.a)(a,"previous_city",e.sukhsam.previous_city),a}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())},setData:function(a){return e(Object(w.b)(a))},setRiskData:function(a){return e(Object(w.e)(a))},setSmeProposerDetails:function(a){return e(Object(w.d)(a))},setSmeOthersDetails:function(a){return e(Object(w.c)(a))}}}))(R))},1268:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(1111),m=t(903),d=t(904),u=t(913),p=t(1269),_=t(1348),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(2)),E=t(31),y=t(34),b=t(40),N=t(38),S=t(19),w=t(22),k=t(7),C=t(1),P=t(9),D=t(3),I=t.n(D),M={start_date:new Date,end_date:new Date,report_range:1,report_chart:""},B={maintainAspectRatio:!1,title:{display:!0},scales:{yAxes:[{ticks:{min:0,stepSize:1e3}}]}},A=C.object().shape({start_date:C.date().required("Please Select date or Month")}),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={chartData:{},update_data:[],posts:[],search_flag:1,flag:1},e.handleSubmit=function(a){var t=new FormData,n=new P.a,r=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",l="";if(r)if("4"==(l=JSON.parse(n.decrypt(r.user))).login_type)if(sessionStorage.getItem("csc_id"))t.append("bcmaster_id","5"),t.append("user_id",sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):""),t.append("agent_name",sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):""),t.append("page_name","Dashboard");else{var o=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";o&&(o=JSON.parse(n.decrypt(o)),t.append("bcmaster_id",o?o.agent_id:""),t.append("bc_token",o?o.token:""),t.append("user_id",o?o.user_info.data.user.username:""),t.append("page_name","Dashboard"))}else t.append("bcmaster_id",l?l.bc_master_id:""),t.append("user_id",l?l.master_user_id:""),t.append("login_type",l?l.login_type:""),t.append("role_id",l?l.role_id:""),t.append("page_name","Dashboard");t.append("start_date",I()(a.start_date).format("YYYY-MM-DD")),t.append("end_date",I()(a.end_date).format("YYYY-MM-DD")),e.props.loadingStart(),k.a.post("policy-master",t).then((function(a){var t=a.data.data;e.fetchChartData(t,1),e.setState({rawData:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleChangeChart=function(a){"1"==a?e.setState({flag:1}):"2"==a&&e.setState({flag:2})},e.fetchChartData=function(a){for(var t=0,n=0,r=0,l=0,o=a?a.motor.length:null,s=a?a.health.length:null,c=0;c<o;c++)t=parseInt(a.motor[c].totalPolicyCount)+t,r=parseInt(a.motor[c].totalPremium)+r;for(c=0;c<s;c++)n=parseInt(a.health[c].totalPolicyCount)+n,l=parseInt(a.health[c].totalPremium)+l;var i=parseInt(t)+parseInt(n),m=parseInt(r)+parseInt(l),d={},u=e.state.flag;console.log("flag-----",u),d=1==u?{labels:["Motor","Health","Total"],datasets:[{label:"GWP: ".concat(m),data:[r,l,m],backgroundColor:"#833471",fill:!1}]}:{labels:["Motor","Health","Total"],datasets:[{label:"NOP: ".concat(i),data:[t,n,i],backgroundColor:"#833471",fill:!1}]},e.setState({chartData:d})},e.fetchNotification=function(){e.props.loadingStart(),k.a.get("notifications").then((function(a){var t=a.data.data;e.setState({update_data:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleChange=function(a,t,n){t("start_date",""),n("start_date"),"1"==a?e.setState({search_flag:1}):"2"==a?e.setState({search_flag:2}):"3"==a?e.setState({search_flag:3}):e.setState({search_flag:4})},e.handleDateChange=function(a,t,n){var r=e.state.search_flag;if(1==r){var l=a,o=a;console.log("start_date------",l),t("start_date"),n("start_date",l),t("end_date"),n("end_date",o)}else if(2==r){var s=a,c=new Date(I()(s).add(6,"day"));t("start_date"),n("start_date",s),t("end_date"),n("end_date",c)}else if(3==r){var i=a,m=new Date(I()(i).add(29,"day"));t("start_date"),n("start_date",i),t("end_date"),n("end_date",m)}else{var d=(new Date).getFullYear(),u=new Date("".concat(d," ").concat(a," 01")),p=new Date(u.getFullYear(),u.getMonth()+1,0);t("start_date"),n("start_date",u),t("end_date"),n("end_date",p)}},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fetchNotification()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.chartData,a.rawData),n=a.update_data,r=a.search_flag,l=(a.report_chart,a.flag,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),o=t&&t.health&&t.health.length>0?t.health:[],s=t&&t.motor&&t.motor.length>0?t.motor:[],f=o&&o.length>0?o.map((function(e,a){return c.a.createElement("tr",null,c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.totalPolicyCount),c.a.createElement("td",null,"\u20b9",e.totalPremium))})):null,N=s&&s.length>0?s.map((function(e,a){return c.a.createElement("tr",null,c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.totalPolicyCount),c.a.createElement("td",null,"\u20b9",e.totalPremium))})):null,S=n&&n.length>0?n.map((function(e,a){return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:12,md:12},c.a.createElement(u.a,null,c.a.createElement("h8",null,"\u2022 ",e.description))))))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,null,l?c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(y.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},l.SBIGICL),c.a.createElement("section",{className:"contBox m-b-45 dashboardBrand"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},l.Dashboard),c.a.createElement(v.e,{initialValues:M,onSubmit:this.handleSubmit,validationSchema:A},(function(a){var n=a.values,o=a.errors,s=(a.todayHighlight,a.setFieldValue),E=a.setFieldTouched,y=(a.isValid,a.isSubmitting,a.touched);return c.a.createElement(v.d,null,c.a.createElement(p.a,{fluid:!0},c.a.createElement(m.a,{className:"show-grid contentTopPan",xs:2,md:4,lg:6,mb:3},c.a.createElement(d.a,{sm:12,md:12,lg:12},c.a.createElement("div",{className:"border-cardbody-dash"},c.a.createElement(d.a,{sm:12,md:12,lg:6},c.a.createElement(_.a,{style:{height:"35rem"}},c.a.createElement(_.a.Header,{className:"card-header-custom"},c.a.createElement("h6",null,c.a.createElement("strong",null,l.BusinessAchievement),c.a.createElement(g.a,{type:"submit",className:"ml-4"},l.Fetch))),c.a.createElement(_.a.Body,null,c.a.createElement(_.a.Title,null,c.a.createElement(m.a,null,c.a.createElement(d.a,{sm:6,md:5,lg:5},c.a.createElement(u.a,{className:"dashboard-date"},c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"report_range",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.report_range,onChange:function(a){E("report_range"),s("report_range",a.target.value),e.handleChange(a.target.value,s,E)}},c.a.createElement("option",{value:"1"},l.Daily),c.a.createElement("option",{value:"2"},l.Weekly),c.a.createElement("option",{value:"3"},l.DateMonth),c.a.createElement("option",{value:"4"},l.Monthly)),o.report_range&&y.report_range?c.a.createElement("span",{className:"errorMsg"},o.report_range):null)),c.a.createElement(u.a,{className:"dashboard-date"},c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"report_chart",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.report_chart,onChange:function(a){E("report_chart"),s("report_chart"),e.handleChangeChart(a.target.value),e.fetchChartData(t,a.target.value)}},c.a.createElement("option",{value:"1"},l.GWP),c.a.createElement("option",{value:"2"},l.NOP)),o.report_chart&&y.report_chart?c.a.createElement("span",{className:"errorMsg"},o.report_chart):null))),c.a.createElement(d.a,{sm:6,md:5,lg:6},c.a.createElement(u.a,{className:"dashboard-date"},"4"!=n.report_range?c.a.createElement("div",null,c.a.createElement(h.a,{name:"start_date",selected:n.start_date,dateFormat:"yyyy MMM dd",dropdownMode:"select",showMonthDropdown:3==r,className:"datePckr inputfs12",startDate:n.start_date,endDate:n.end_date,selectsRange:!0,disabledKeyboardNavigation:!0,onChange:function(a){e.handleDateChange(a,E,s)}}),o.start_date&&y.start_date?c.a.createElement("span",{className:"errorMsg"},o.start_date):null):c.a.createElement("div",{className:"formSection"},c.a.createElement(v.b,{name:"report_month",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.report_month,onChange:function(a){E("report_month"),s("report_month",a.target.value),e.handleDateChange(a.target.value,E,s)}},c.a.createElement("option",{value:""},"Select Month"),c.a.createElement("option",{value:"1"},"January"),c.a.createElement("option",{value:"2"},"February"),c.a.createElement("option",{value:"3"},"March"),c.a.createElement("option",{value:"4"},"April"),c.a.createElement("option",{value:"5"},"May"),c.a.createElement("option",{value:"6"},"June"),c.a.createElement("option",{value:"7"},"July"),c.a.createElement("option",{value:"8"},"August"),c.a.createElement("option",{value:"9"},"September"),c.a.createElement("option",{value:"10"},"October"),c.a.createElement("option",{value:"11"},"November"),c.a.createElement("option",{value:"12"},"December")),o.start_date&&y.start_date?c.a.createElement("span",{className:"errorMsg"},o.start_date):null))))),c.a.createElement(_.a.Text,{className:"canvas-container"},c.a.createElement(i.Bar,{data:e.state.chartData,options:B}))))),c.a.createElement(d.a,{sm:12,md:12,lg:6},c.a.createElement(_.a,{style:{height:"35rem"}},c.a.createElement(_.a.Header,{className:"card-header-custom"},c.a.createElement("h6",{className:"mt-1 mb-4"},c.a.createElement("strong",null,l.ProductSummary))),c.a.createElement(_.a.Body,{className:"scrollable"},c.a.createElement(_.a.Text,null,c.a.createElement("table",{className:"table table-bordered",style:{width:"27rem"}},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,l.Product),c.a.createElement("th",null,l.NOP),c.a.createElement("th",null,l.GWP))),c.a.createElement("tbody",null,f,N)))))))),c.a.createElement(d.a,{sm:12,md:12,lg:12},c.a.createElement(_.a,{border:"info",style:{height:"10rem"}},c.a.createElement(_.a.Header,{className:"card-header-custom"},c.a.createElement("h6",{className:"mt-1 mb-4"},c.a.createElement("strong",null,l.Updatesandnotification))),c.a.createElement(_.a.Body,{className:"scrollable"},c.a.createElement(_.a.Text,null,S)))))))})))),c.a.createElement(b.a,null)))):null))}}]),t}(s.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(O))},1270:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(31),u=t(34),p=t(40),_=t(7),g=t(38),f=t(19),h=t(22),v=t(1),E=t(20),y=t.n(E),b=t(9),N=t(2),S=t(25),w={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,lapse_duration:""},k=v.object().shape({check_registration:v.string().notRequired(),reg_number_part_one:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.f)(e)})),otherwise:v.string().nullable()}),reg_number_part_two:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.h)(e)})),otherwise:v.string().nullable()}),reg_number_part_three:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.i)(e)})),otherwise:v.string().nullable()}),reg_number_part_four:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.g)(e)})),otherwise:v.string().nullable()}),policy_type:v.string().required("PleaseSPT"),policy_for:v.string().required("PleasePIC"),subclass_id:v.string().required("PleaseSSP"),lapse_duration:v.string().when("policy_type",{is:"3",then:v.string().required("LapseDuration"),otherwise:v.string()})}),C=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new b.a;_.a.get("miscd/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));if(console.log("decrypt",n),n.data.policyHolder){var r=n.data.policyHolder,l=0;for(var o in r)r.hasOwnProperty(o)&&l++}var s=l>0?n.data.policyHolder.motorinsurance:[];e.setState({motorInsurance:s}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new b.a;e.props.loadingStart(),_.a.get("miscd/sub-vehical-list/".concat(7)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,r=new FormData,l=new b.a,o=e.state,s=(o.fastLaneData,o.fastlanelog),c={},i={},m="";"2"==a.check_registration?(i={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},m=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four):(i={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},m="NEW");var d=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,u=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";u&&(u=JSON.parse(l.decrypt(u))),a.check_registration&&1==a.check_registration?sessionStorage.setItem("check_registration",1):sessionStorage.setItem("check_registration",2),d>0?(c=sessionStorage.getItem("csc_id")?Object(n.a)({policy_holder_id:d,registration_no:m,registration_part_numbers:JSON.stringify(i),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",lapse_duration:a.lapse_duration,page_name:"Registration/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""},"page_name","Registration_MISCD/".concat(t)):Object(n.a)({policy_holder_id:d,registration_no:m,registration_part_numbers:JSON.stringify(i),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:7,vehicle_type_id:t,bcmaster_id:u?u.agent_id:"",bc_token:u?u.token:"",bc_agent_id:u?u.user_info.data.user.username:"",page_name:"Registration/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""},"page_name","Registration_MISCD/".concat(t)),console.log("post_data",c),r.append("enc_data",l.encrypt(JSON.stringify(c))),e.props.loadingStart(),_.a.post("miscd/update-registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),0==n.error?e.props.history.push("/SelectBrand_MISCD/".concat(t)):y()(n.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&y()("Registration number required..."),e.props.loadingStop()}))):(c=sessionStorage.getItem("csc_id")?{registration_no:m,registration_part_numbers:JSON.stringify(i),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",lapse_duration:a.lapse_duration,page_name:"Registration_MISCD/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""}:{registration_no:m,registration_part_numbers:JSON.stringify(i),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:7,vehicle_type_id:t,bcmaster_id:u?u.agent_id:"",bc_token:u?u.token:"",bc_agent_id:u?u.user_info.data.user.username:"",page_name:"Registration_MISCD/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:s&&s.id?s.id:""},console.log("post_data",c),r.append("enc_data",l.encrypt(JSON.stringify(c))),e.props.loadingStart(),_.a.post("miscd/registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),e.props.loadingStop(),0==n.error?(localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),e.props.history.push("/SelectBrand_MISCD/".concat(t))):y()(n.msg)})).catch((function(a){e.props.loadingStop(),a&&a.data&&y()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers?JSON.parse(t.registration_part_numbers):[],l=Object.assign(w,{reg_number_part_one:r&&r.reg_number_part_one?r.reg_number_part_one:"",reg_number_part_two:r&&r.reg_number_part_two?r.reg_number_part_two:"",reg_number_part_three:r&&r.reg_number_part_three?r.reg_number_part_three:"",reg_number_part_four:r&&r.reg_number_part_four?r.reg_number_part_four:"",regNumber:t&&t.registration_no?t.registration_no:"",policy_type:t&&t.policytype_id?t.policytype_id:"",policy_for:t&&t.policy_for?t.policy_for:"",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2",lapse_duration:t&&t.lapse_duration?t.lapse_duration:""}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid asd"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(u.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},o.About),i.a.createElement(N.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:k},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(N.d,null,i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,o.MISDPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.Individual))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","2"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.Corporate)),r.policy_for&&c.policy_for?i.a.createElement("span",{className:"errorMsg"},o[r.policy_for]):null)))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,o.TellAboutPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_type",value:"1",key:"1",checked:"1"==t.policy_type,onChange:function(){l("policy_type","1"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.NewPolicy))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){l("policy_type","2"),l("check_registration","2"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.RollOver))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==t.policy_type,onChange:function(){l("policy_type","3"),l("check_registration","2"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.LapsedPolicy)),r.policy_type&&c.policy_type?i.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),"3"==t.policy_type?i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,o.LapseDuration),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"lapse_duration",value:"1",key:"1",checked:"1"==t.lapse_duration}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.BeforeNinety))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"lapse_duration",value:"2",key:"1",checked:"2"==t.lapse_duration}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.OverNinety)),r.lapse_duration&&c.lapse_duration?i.a.createElement("span",{className:"errorMsg"},o[r.lapse_duration]):null)))):null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"formSection"},i.a.createElement(N.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},i.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return i.a.createElement("option",{disabled:1!=e.status,value:e.subclass_id},e.subclass_title)}))),r.subclass_id&&c.subclass_id?i.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},o.RegName," :"),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(c.reg_number_part_one||c.reg_number_part_two||c.reg_number_part_three||c.reg_number_part_four)?i.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,i.a.createElement(N.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),i.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(c.looking_for_2||c.looking_for_3||c.looking_for_4)?i.a.createElement("span",{className:"error-message"},r.check_registration):""):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),i.a.createElement(p.a,null)))))))}}]),t}(c.Component);a.default=Object(g.g)(Object(h.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(C))},1271:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("miscd/vehicle/brand-with-image/".concat(7,"/").concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("miscd/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_MISCD/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/SelectBrand_MISCD/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("miscd/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,horse_power:o,body_style:l})},t.setOtherVarient=function(e,a,n,r,l,o,s,c){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,horse_power:c,body_style:s})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==c||null==c||void 0==c)return k()(a.PleaseVBrand),!1;var i=new FormData,m=new D.a,d={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_MISCD/".concat(n)};i.append("enc_data",m.encrypt(JSON.stringify(d))),console.log("Post Date---------- ",d),t.props.loadingStart(),y.a.post("miscd/insert-brand-model-varient",i).then((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_MISCD/".concat(n)))})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],horse_power:"",body_style:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.horse_power,C=a.body_style,D=this.props.match.params.productId,B=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")}),A=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},A.SBIGICL),i.a.createElement(v.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,A.MISCDSelectBrand," "),i.a.createElement("p",null,A.MISCDDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},A.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},A.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.MISCDBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.MISCDModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.body_style?w.varientmodel.body_style:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Power,i.a.createElement("br",null),i.a.createElement("strong",null,k?k+" BHP":s?"":w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":""," "))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,A.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:A.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.body_style,t.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.body_style,t.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},A.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1272:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(61),A=t(25),O=t(20),x=t.n(O),H=(new Date("Y"),new D.a,C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar()),R=C()(C()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),L=C()(C()().subtract(1,"years").calendar()).add(0,"day").calendar(),j=C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),F=C()(C()().subtract(1,"month").calendar()).add(1,"day").calendar(),q=C()().subtract(1,"years").calendar(),T=C()().subtract(20,"years").calendar(),V=C()().subtract(1,"months").calendar(),G=C()(C()().subtract(1,"years").calendar()).add(31,"day").calendar(),Y={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],duration:""},J=N.object().shape({registration_date:N.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,G)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(A.b)(e,new Date)&&Math.floor(C()(V).diff(e,"days",!0)<=0)})).test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(A.b)(e,this.parent.previous_start_date)})),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),previous_start_date:N.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.date(),otherwise:N.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(A.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:N.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.date(),otherwise:N.date().test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(A.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_policy_name:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),insurance_company_id:N.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.number(),otherwise:N.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)}))}),previous_city:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"}))}),previous_policy_no:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),previous_claim_bonus:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!(!("0"!=this.parent.previous_is_claim||"1"!=this.parent.previous_policy_name||e&&"1"!=e)&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90)})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&"2"==this.parent.no_of_claim&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90)}))}),previous_is_claim:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){new D.a;return!("2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.previous_policy_name&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&!e)}))}),no_of_claim:N.string().when(["previous_is_claim"],{is:function(e){return"1"==e},then:N.string().required("PleasePNOC"),otherwise:N.string()}),valid_previous_policy:N.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:N.string(),otherwise:N.string().required((function(){return"RequiredField"}))}),claim_array:N.array().of(N.object().shape({claim_year:N.string((function(){return"Please enter claim year"})).required((function(){return"Please enter claim year"})).matches(/^[0-9]*$/,(function(){return"Invalid Year"})),claim_amount:N.string((function(){return"Please enter claim amount"})).required((function(){return"Please enter claim amount"})).matches(/^[0-9]*$/,(function(){return"Invalid Amout"})),type_of_claim:N.string((function(){return"Please enter type of claim"})).required((function(){return"Please enter type of claim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"Invalid Value"}))})),duration:N.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:N.string().required("Previous policy duration required"),otherwise:N.string()})}),z=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"vehicleDetails",[]),Object(n.a)(e,"averagemonthlyusages",[]),Object(n.a)(e,"goodscarriedtypes",[]),Object(n.a)(e,"permittypes",[]),Object(n.a)(e,"location_reset_flag",0),Object(n.a)(e,"changeFlag",0),Object(n.a)(e,"no_of_claim",[]),e),l.dateRange=function(){return"2008"},l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/SelectBrand_MISCD/".concat(e))},l.selectBrand=function(e){l.props.history.push("/SelectBrand_MISCD/".concat(e))},l.showClaimText=function(e,a){1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,r=l.state,o=r.motorInsurance,s=r.changeFlag,c=Math.floor(C()().diff(e.registration_date,"months",!0));if(1==s)return x()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return x()("Please fill all claim details"),!1;if("0"==e.valid_previous_policy&&(2==o.policytype_id||"3"==e.policy_type_id&&"1"==e.lapse_duration))return x()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1;(Math.floor(C()().diff(e.previous_end_date,"days",!0))>90||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(e.previous_claim_bonus=1);var i,m=new FormData,d=new P.a,u={};if("2"==e.policy_type_id||"3"==e.policy_type_id&&"1"==e.lapse_duration)i={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?C()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?C()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:c,policy_type:1,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails/".concat(t),claim_array:JSON.stringify(e.claim_array)},Object(n.a)(i,"no_of_claim",e.no_of_claim),Object(n.a)(i,"page_name","VehicleDetails_MISCD/".concat(t)),Object(n.a)(i,"duration",e.duration),Object(n.a)(i,"is_new_policy",0),u=i;else if("1"==e.policy_type_id||"3"==e.policy_type_id&&"2"==e.lapse_duration){var p;p={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_is_claim:"0",previous_claim_bonus:1,vehicleAge:c,policy_type:1,prev_policy_flag:0,valid_previous_policy:0,page_name:"VehicleDetails/".concat(t),claim_array:JSON.stringify(e.claim_array),no_of_claim:e.no_of_claim},Object(n.a)(p,"page_name","VehicleDetails_MISCD/".concat(t)),Object(n.a)(p,"duration",e.duration),Object(n.a)(p,"is_new_policy",0),u=p}o&&"1"==o.policytype_id&&o&&""==o.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",u),m.append("enc_data",d.encrypt(JSON.stringify(u))),l.props.loadingStart(),w.a.post("miscd/insert-vehicle-details",m).then((function(e){var n=JSON.parse(d.decrypt(e.data));console.log("decrypt",n),l.props.loadingStop(),0==n.error?l.props.history.push("/OtherComprehensive_MISCD/".concat(t)):a.setSubmitting(!1)})).catch((function(e){l.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),w.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new P.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};n.valid_previous_policy=n.policytype_id&&"1"==n.policytype_id?"0":n.valid_previous_policy;var r=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=r&&r.previouspoliciesclaims?r.previouspoliciesclaims.length:"",c=n&&n.rtolocation&&n.rtolocation.RTO_LOCATION?n.rtolocation.RTO_LOCATION:"",i=!r||0!=r.is_claim&&1!=r.is_claim?"":r.is_claim;l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchVehicleCarryingList=function(){l.props.match.params.productId;var e=new P.a;l.props.loadingStart(),w.a.get("miscd/carrying-capacity-list/".concat(7)).then((function(a){var t=JSON.parse(e.decrypt(a.data)),n=t.data?t.data.averagemonthlyusages:[],r=t.data?t.data.goodscarriedtypes:[],o=t.data?t.data.permittypes:[];l.setState({averagemonthlyusages:n,goodscarriedtypes:r,permittypes:o}),l.fetchData()})).catch((function(e){l.props.loadingStop()}))},l.handleChange=function(e){var a=C()(e).add(1,"years").format("YYYY-MM-DD");l.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"OwnDamage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e.previouspoliciesclaims?e.previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),i.a.createElement("option",{value:p},p)),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].claim_year):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].claim_amount):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l.registration=function(e){l.props.history.push("/Registration_MISCD/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new P.a;w.a.get("miscd/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.insurerList,r=t.showClaim,l=t.previous_is_claim,o=t.motorInsurance,s=t.previousPolicy,_=t.CustomerID,E=t.suggestions,y=t.vehicleDetails,b=t.RTO_location,N=(t.averagemonthlyusages,t.goodscarriedtypes,t.permittypes,t.location_reset_flag),w=new Date,k=s&&s.start_date?new Date(s.start_date):"",P=s&&s.start_date?k.getDate():w.getDate(),D=s&&s.start_date?k.getMonth():w.getMonth(),I=s&&s.start_date?k.getFullYear():w.getFullYear()-1,A=(new Date(I,D,P),Object.assign(Y,{registration_date:o&&o.registration_date?new Date(o.registration_date):"",location_id:o&&o.location_id&&0==N?o.location_id:"",previous_start_date:s&&s.start_date?new Date(s.start_date):"",previous_end_date:s&&s.end_date?new Date(s.end_date):"",previous_policy_name:s&&s.name?s.name:"",insurance_company_id:s&&s.insurancecompany&&s.insurancecompany.Id?s.insurancecompany.Id:"",previous_city:s&&s.city?s.city:"",previous_policy_no:s&&s.policy_no?s.policy_no:"",previous_is_claim:l,previous_claim_bonus:s&&(s.claim_bonus||0==s.claim_bonus)?s.claim_bonus.toString():"1",no_of_claim:s&&s.previouspoliciesclaims?s.previouspoliciesclaims.length:"",policy_type_id:o&&o.policytype_id?o.policytype_id:"",valid_previous_policy:!o||0!=o.valid_previous_policy&&1!=o.valid_previous_policy?"":o.valid_previous_policy,duration:s&&s.duration?s.duration:"",lapse_duration:o&&o.lapse_duration?o.lapse_duration:"",claim_array:this.initClaimDetailsList()})),O=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,x={placeholder:O.SearchCity,value:_||b,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand2"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},O.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},O.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:A,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:J},(function(t){var s=t.values,_=t.errors,f=t.setFieldValue,h=t.setFieldTouched,v=(t.isValid,t.isSubmitting),b=t.touched;return i.a.createElement(S.d,{enableReinitialize:!0},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",minDate:"1"==s.policy_type_id?new Date(V):new Date(T),maxDate:"1"==s.policy_type_id?new Date:new Date(L),dateFormat:"dd MMM yyyy",placeholderText:O.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.registration_date,onChange:function(e){f("registration_date",e),f("previous_end_date",""),f("previous_start_date","")}}),_.registration_date&&b.registration_date?i.a.createElement("span",{className:"errorMsg"},O[_.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(M.a,{suggestions:E,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:x,onChange:function(a){return e.onChange(a,f)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(h,f,n)}}),_.location_id&&b.location_id?i.a.createElement("span",{className:"errorMsg"},O[_.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==s.policy_type_id||"3"==s.policy_type_id&&"1"==s.lapse_duration?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",O.GCVValidPolicy,"  ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){h("valid_previous_policy"),f("valid_previous_policy",e.target.value)},checked:"0"==s.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",O.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){h("valid_previous_policy"),f("valid_previous_policy",e.target.value)},checked:"1"==s.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},O.Yes)),_.valid_previous_policy&&b.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},O[_.valid_previous_policy]):null)))))):null,("2"==s.policy_type_id||"3"==s.policy_type_id&&"1"==s.lapse_duration)&&"1"==s.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",O.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(s.duration&&s.previous_start_date){var a;a=C()(C()(s.previous_start_date).add(s.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),f("previous_end_date",new Date(a))}else f("previous_end_date","");else if(s.previous_start_date){var t=new Date(s.previous_start_date);t=t.setFullYear(t.getFullYear()+1);var n=new Date(t);n=n.setDate(n.getDate()-1),f("previous_policy_name",e.target.value),f("previous_end_date",new Date(n))}f("previous_policy_name",e.target.value)}},i.a.createElement("option",{value:""},O.SPT),i.a.createElement("option",{value:"1"},O.Package),i.a.createElement("option",{value:"2"},O.LiabilityOnly),i.a.createElement("option",{value:"3"},O.shortTerm)),_.previous_policy_name&&b.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},O[_.previous_policy_name]):null))),"3"==s.previous_policy_name?i.a.createElement(d.a,{sm:12,md:5,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:s.duration,onChange:function(e){var a=new Date;s.previous_start_date&&(a=C()(C()(s.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),f("previous_end_date",new Date(a))),f("duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),_.duration&&b.duration?i.a.createElement("span",{className:"errorMsg"},_.duration):null))):null,i.a.createElement(d.a,{sm:12,md:11,lg:"3"==s.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_start_date",minDate:"3"==s.policy_type_id?new Date(R):new Date(H),maxDate:"3"==s.previous_policy_name?new Date(F):"3"==s.policy_type_id?new Date(q):new Date(j),dateFormat:"dd MMM yyyy",placeholderText:O.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.previous_start_date,onChange:function(e){var a=new Date(e),t=new Date(e);new Date(e);if("3"==s.previous_policy_name)s.duration&&(t=C()(C()(e).add(s.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"));else if("1"==s.previous_policy_name||"2"==s.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1)}h("previous_start_date"),f("previous_end_date",new Date(t)),f("previous_start_date",e)}}),_.previous_start_date&&b.previous_start_date?i.a.createElement("span",{className:"errorMsg"},O[_.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:"3"==s.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:O.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.previous_end_date}),_.previous_end_date&&b.previous_end_date?i.a.createElement("span",{className:"errorMsg"},O[_.previous_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},O.SelectInsurer),n.map((function(e,a){return i.a.createElement("option",{key:a,value:e.Id},e.name)}))),_.insurance_company_id&&b.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},O[_.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:O.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),_.previous_city&&b.previous_city?i.a.createElement("span",{className:"errorMsg"},O[_.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_policy_no",type:"text",placeholder:O.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),_.previous_policy_no&&b.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},O[_.previous_policy_no]):null)))),("1"==s.previous_policy_name||"3"==s.previous_policy_name)&&Math.floor(C()().diff(s.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,O.ClaimODPolicy))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){h("previous_is_claim"),f("previous_is_claim",a.target.value),f("no_of_claim",""),e.showClaimText(0,s)},checked:"0"==s.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",O.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){h("previous_is_claim"),f("previous_is_claim",a.target.value),f("no_of_claim",""),e.showClaimText(1,s)},checked:"1"==s.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},O.YesIHave)),_.previous_is_claim&&b.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},O[_.previous_is_claim]):null))))),"2"==s.previous_claim_for||"0"==l?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},O.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:s.previous_claim_bonus},i.a.createElement("option",{value:""},"--",O.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),_.previous_claim_bonus&&b.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},O[_.previous_claim_bonus]):null)))):null,r||1==l?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:s.no_of_claim,onChange:function(a){h("no_of_claim"),f("no_of_claim",a.target.value),e.handleNoOfClaims(s,a.target.value)}},i.a.createElement("option",{value:""},O.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),_.no_of_claim&&b.no_of_claim?i.a.createElement("span",{className:"errorMsg"},O[_.no_of_claim]):null)))):null,""!=s.no_of_claim||"0"==l?e.handleClaims(s,_,b,h,f):null):null):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!v,onClick:e.selectBrand.bind(e,a)},v?O.Wait:O.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?O.Wait:O.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},O.RegNo,".",i.a.createElement("br",null),o&&o.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},O.MISCDBrand,"- ",i.a.createElement("strong",null,y&&y.vehiclebrand&&y.vehiclebrand.name?y.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.MISCDModel,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.vehiclemodel&&y.vehiclemodel.description?y.vehiclemodel.description+" "+y.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},O.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.body_style?y.varientmodel.body_style:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.Power,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.horse_power?y.varientmodel.horse_power+" BHP":""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},O.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,y&&y.varientmodel&&y.varientmodel.fueltype?B.a[y.varientmodel.fueltype.id]:null," ")))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(z))},1273:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=t(0),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(25),R=t(99),L=new I.a,j=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],F=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA coverage"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("Please select additional towing charges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("Please enter No. of workman").matches(/^[0-9]*$/,"Please provide valid No."),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide enhance PA coverage").test("isLoanChecking",(function(){return"Value should be 16L to 50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide No. of paid driver").matches(/^[0-9]$/,"Please provide valid number"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("isLoanChecking",(function(){return"Value should be 1K to 5L"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("Please provide registration number").test("last4digitcheck",(function(){return"Invalid Registration number"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("Chassis no is required").matches(/^[0-9a-zA-Z]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"}))}))}),q={B00002:j.B00002,B00003:j.B00003,B00004:j.B00004,B00005:j.B00005,B00006:j.B00006,B00007:j.B00007,B00008:j.B00008,B00009:j.B00009,B00010:j.B00010,B00011:j.B00011,B00012:j.B00012,B00013:j.B00013,B00069:j.B00069,B00070:j.B00070,B00071:j.B00071,B00015:j.B00015,B00073:j.B00073,B00018:j.B00018,B00019:j.B00019,B00020:j.B00020,B00022:j.B00022},T=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).handleChange=function(){r.setState({serverResponse:[],error:[]})},r.showCNGText=function(e){1==e?r.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):r.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},r.sliderValue=function(e){r.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},r.bodySliderValue=function(e){r.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},r.vehicleDetails=function(e){r.props.history.push("/VehicleDetails_MISCD/".concat(e))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;D.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=n.trailers&&null!=n.trailers?n.trailers:null,i=n&&n.registration_date?n.registration_date:"",m=l&&l.end_date?l.end_date:"",d=n?n.valid_previous_policy:"0",u=n?n.policytype_id:"",p=0,_=n&&n.body_idv_value?n.body_idv_value:0,g=n&&n.idv_value?n.idv_value:0;if(Math.floor(x()().diff(m,"months",!0))>1||"0"==d||"1"==u){var f=x()().format("YYYY-MM-DD");p=x()(f).diff(i,"days",!0)}else p=x()(m).add(1,"day").diff(i,"days",!0);console.log("vehicle_age---------- ",p),c=null!=c?JSON.parse(c):[];var h=[],v=[];if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){var E=["B00015"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015","B00006","B00010"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=["B00006","B00010"];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}else if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}v=v.flat(),h.PA_flag=n&&""!=n.pa_cover?"1":"0",h.PA_Cover=n&&""!=n.pa_cover?n.pa_cover:"0";var y=n&&null!=n.add_more_coverage_request_json?n.add_more_coverage_request_json:"",b=""!=y?JSON.parse(y):[];h.ATC_value=b.ATC?b.ATC.value:"",h.B00018_value=b.B00018?b.B00018.value:"",h.B00069_value=b.B00069?b.B00069.value:"",h.B00012_value=b.B00012?b.B00012.value:"",h.B00013_value=b.B00013?b.B00013.value:"",h.B00022_value=b.B00022?b.B00022.value:"",h.B00020_value=b.B00020?b.B00020.value:"",h.B00004_value=b.B00004?b.B00004.value:"",h.B00004_description=b.B00004?b.B00004.description:"",h.B00003_value=b.B00003?b.B00003.value:"",h.B00003_description=b.B00003?b.B00003.description:"",h.B00073_value=b.B00073?b.B00073.value:"",h.B00073_description=b.B00073?b.B00073.description:"",h.B00007_value=b.B00007?b.B00007.value:"",h.B00007_description=b.B00007?b.B00007.description:"",h.B00070_value=b.B00070?b.B00070.value:"",h.trailer_array=c,r.setState({motorInsurance:n,add_more_coverage:v,request_data:o,vehicleDetails:s,bodySliderVal:_,sliderVal:g,showCNG:1==n.cng_kit,vahanVerify:!(!n.chasis_no||!n.engine_no),selectFlag:n&&null!=n.add_more_coverage?"0":"1",no_of_claim:b.B00007?b.B00007.value:"",add_more_coverage_request_array:b,trailer_array:c,vehicle_age:p}),r.props.loadingStop(),r.depreciation(h)})).catch((function(e){r.props.loadingStop()}))},r.depreciation=function(e){var a=r.state.vehicle_age,t=new FormData;r.props.loadingStart();var n={vehicle_age:a},l=new I.a;t.append("enc_data",l.encrypt(JSON.stringify(n))),D.a.post("/miscd/getMaxBodyIDV",t).then((function(a){var t=JSON.parse(l.decrypt(a.data));r.setState({depreciationPercentage:t.data}),r.getAccessToken(e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getAccessToken=function(e){r.props.loadingStart(),D.a.post("/callTokenService").then((function(a){r.setState({accessToken:a.data.access_token}),r.fullQuote(a.data.access_token,e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getFuelList=function(e){r.props.loadingStart(),D.a.get("/fuel-list").then((function(e){r.setState({fuelList:e.data.data.fuellist}),r.fetchData()})).catch((function(e){r.setState({fuelList:[]}),r.props.loadingStop()}))},r.getMoreCoverage=function(){r.props.loadingStart();var e=new I.a;D.a.get("miscd/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:t.data}),r.getFuelList()})).catch((function(a){JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:[]}),r.props.loadingStop()}))},r.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,n,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),n("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",r.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return r.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){r.setState({vahanDetails:e.data,vahanVerify:!0}),r.state.vahanDetails.data[0].chasiNo&&r.setState({chasiNo:r.state.vahanDetails.data[0].chasiNo}),r.state.vahanDetails.data[0].engineNo&&r.setState({engineNo:r.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),n("vahanVerify",!0),t("engine_no"),n("engine_no",r.state.engineNo),t("chasis_no"),n("chasis_no",r.state.chasiNo),r.props.loadingStop()})).catch((function(e){r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop()}));case 12:e.next=19;break;case 14:r.props.loadingStart(),r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),r.fullQuote=function(e,a){var t,n=r.state,l=n.PolicyArray,o=n.sliderVal,s=n.add_more_coverage,c=n.motorInsurance,i=n.bodySliderVal,m=n.vehicleDetails,d=(n.chasis_price,n.userIdvStatus),u=n.bodyIdvStatus,p=(l.length>0&&Math.round(l[0].PolicyRiskList[0].IDV_User),{}),_=new FormData,g=new I.a,f=0;s&&(p={B00018:{value:a.B00018_value},B00069:{value:a.B00069_value},B00012:{value:a.B00012_value},B00013:{value:a.B00013_value},B00022:{value:a.B00022_value},B00020:{value:a.B00020_value},ATC:{value:a.ATC_value},B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00073:{value:a.B00073_value,description:a.B00073_description},B00007:{value:a.B00007_value,description:a.B00007_description},B00070:{value:a.B00070_value},B00005:{value:a.B00005_value}},a.B00004_value&&(f+=parseInt(a.B00004_value)),a.B00003_value&&(f+=parseInt(a.B00003_value)));var h={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,policy_type:c.policy_type,add_more_coverage:s.toString(),PA_Cover:a.PA_flag?a.PA_Cover:"0",coverage_data:JSON.stringify(p),trailer_array:a.trailer_array,fuel_type:a.fuel_type?a.fuel_type:m&&m.varientmodel&&m.varientmodel.fueltype?m.varientmodel.fueltype.id:"",idv_value:o||0,body_idv_value:i||0,userIdvStatus:d||0,bodyIdvStatus:u||0};console.log("fullQuote_post_data",h),t=parseInt(f)+parseInt(h.idv_value)+parseInt(h.body_idv_value);var v=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(v&&(v=JSON.parse(g.decrypt(v.user)),t>5e6&&"POSP"==v.user_type))return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;_.append("enc_data",g.encrypt(JSON.stringify(h))),D.a.post("fullQuoteMISCD",_).then((function(e){if(e.data.data.PolicyObject&&e.data.data.UnderwritingResult&&"Success"==e.data.data.UnderwritingResult.Status){var a=e.data.data.PolicyObject.PolicyLobList,t=e.data.data.PolicyObject.PolicyLobList&&e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_TotalPremium-e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_NCBAmount:0;r.setState({fulQuoteResp:e.data.data.PolicyObject,PolicyArray:a,chasis_price:e.data.data.chasis_price,error:[],validation_error:[],userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.data.PolicyObject.PolicyLobList?Math.round(e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,ncbDiscount:t,serverResponse:e.data.data.PolicyObject,policyCoverage:e.data.data.PolicyObject.PolicyLobList?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.data.PolicyObject&&e.data.data.UnderwritingResult&&"Fail"==e.data.data.UnderwritingResult.Status){var n=[];for(var l in e.data.data.UnderwritingResult.MessageList)n.push(e.data.data.UnderwritingResult.MessageList[l].Message);r.setState({fulQuoteResp:e.data.data.PolicyObject,error:{message:0},validation_error:n,serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,policyCoverage:e.data.data.PolicyObject.PolicyLobList?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.data.code&&e.data.data.message&&"validation failed"==e.data.data.code&&"validation failed"==e.data.data.message){n=[];for(var o in e.data.data.messages){var c="";e.data.data.messages[o].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.data.messages[o].code?(c="It is blacklisted vehicle. Please contact Relationship manager",A()(c)):c=e.data.data.messages[o].message,n.push(c)}r.setState({fulQuoteResp:[],add_more_coverage:s,validation_error:n,error:{message:0},userIdvStatus:1,bodyIdvStatus:1,serverResponse:[]})}else r.setState({fulQuoteResp:[],add_more_coverage:s,error:{message:1},serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,validation_error:[]});r.props.loadingStop()})).catch((function(e){r.setState({serverResponse:[]}),r.props.loadingStop()}))},r.handleSubmit=function(e){var a=r.props.match.params.productId,t=r.state,l=(t.motorInsurance,t.PolicyArray),o=t.sliderVal,s=t.add_more_coverage,c=t.bodySliderVal,i=l.length>0?Math.round(l[0].PolicyRiskList[0].IDV_User):0,m=l.length>0?Math.round(l[0].PolicyRiskList[0].SumInsured):0,d={};s&&(d={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}});var u=new FormData,p=new I.a,_=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";_.user&&(_=JSON.parse(p.decrypt(_.user)));var g={};if(g=s.length>0?Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():i.toString(),add_more_coverage:s,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive/".concat(a),coverage_data:JSON.stringify(d),body_idv_value:c||0,fuel_type:e.fuel_type,trailer_array:e.trailer_array},"page_name","OtherComprehensive_MISCD/".concat(a)):Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():i.toString(),puc:e.puc,page_name:"OtherComprehensive/".concat(a),body_idv_value:c||0,fuel_type:e.fuel_type},"page_name","OtherComprehensive_MISCD/".concat(a)),console.log("post_data",g),_&&m){if(R.a.includes(_.login_type)&&s.indexOf("B00015")<0)return A()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(m>5e6&&"POSP"==_.user_type)return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(u.append("enc_data",p.encrypt(JSON.stringify(g))),r.props.loadingStart(),D.a.post("miscd/update-insured-value",u).then((function(e){r.props.loadingStop();var t=JSON.parse(p.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?r.props.history.push("/AdditionalDetails_MISCD/".concat(a)):A()(t.msg)})).catch((function(e){var a=JSON.parse(p.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),r.props.loadingStop()}))):A()("Chasis no mismatch")}},r.onRowSelect=function(e,a,t,n,l){var o=r.state.add_more_coverage;if(t)o.push(e),r.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),l("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),l("electric_flag","1")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),r.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),l("PA_flag","0"),n("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),l("electric_flag","0")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","0"))}},r.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},r.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var n=t;n>=a;n--)e.trailer_array.splice(n,1);else if(e.trailer_array.length<a)for(n=e.trailer_array.length;n<a;n++)e.trailer_array.push({chassisNo:"",regNo:""});r.setState({no_of_claim:a,serverResponse:[],error:[]})},r.initClaimDetailsList=function(){for(var e=[],a=r.state.trailer_array,t=0;t<r.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},r.handleClaims=function(e,a,t,n,l,o){for(var s=[],c=0;c<e.B00007_value;c++)s.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)},onInput:function(e){r.regnoFormat(e,n,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},o[a.trailer_array[c].chassisNo]):null))))));return s},r.handleShow=r.handleShow.bind(Object(i.a)(r)),r.handleClose=r.handleClose.bind(Object(i.a)(r)),r.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},r}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showCNG,a.is_CNG_account,a.vahanDetails,a.error),n=a.policyCoverage,r=a.vahanVerify,l=a.selectFlag,o=a.fulQuoteResp,s=a.PolicyArray,c=(a.fuelList,a.depreciationPercentage),i=a.vehicleDetails,m=a.validation_error,d=a.moreCoverage,E=a.sliderVal,k=a.bodySliderVal,C=a.motorInsurance,P=a.serverResponse,D=a.engine_no,I=a.chasis_no,M=a.initialValue,B=a.add_more_coverage_request_array,O=a.ncbDiscount,x=this.props.match.params.productId,H=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";H.user&&(H=JSON.parse(L.decrypt(H.user)));var j=E,T=s.length>0?s[0].PolicyRiskList[0].MinIDV_Suggested:0,V=s.length>0?s[0].PolicyRiskList[0].MaxIDV_Suggested:0,G=T,Y=s.length>0?Math.floor(V):null;0==Number.isInteger(T)&&(G=s.length>0?Math.floor(s[0].PolicyRiskList[0].MinIDV_Suggested):null,G+=1);var J=s.length>0?s[0].PolicyRiskList[0].MSP-s[0].PolicyRiskList[0].MSP*(c/100):0,z=s.length>0?Math.floor(J/2):0,Z=k,$=C&&C.add_more_coverage?C.add_more_coverage.split(","):"",U={},Q=!C||null!=C.pa_cover&&""!=C.pa_cover?"1":"0",W=C&&null!=C.pa_cover?C.pa_cover:"",K=i&&i.varientmodel&&i.varientmodel.fueltype?i.varientmodel.fueltype.id:"",X=B.B00007&&B.B00007.value?"1":"0",ee=B.B00073&&B.B00073.value?"1":"0",ae=B.B00004&&B.B00004.value?"1":"0",te=B.B00003&&B.B00003.value?"1":"0",ne=B.B00020&&B.B00020.value?"1":"0",re=B.B00022&&B.B00022.value?"1":"0",le=B.B00013&&B.B00013.value?"1":"0",oe=B.B00012&&B.B00012.value?"1":"0",se=B.B00069&&B.B00069.value?"1":"0",ce=B.B00018&&B.B00018.value?"1":"0",ie=B.ATC&&B.ATC.value?"1":"0",me=B.B00070&&B.B00070.value?"1":"0",de=B.B00011&&B.B00011.value?"1":"0",ue=B.B00005&&B.B00005.value?"1":"0",pe=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],_e={};_e="1"==l?Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:C&&"2"==C.policy_for?"":"B00015",B00006:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00006":"",B00010:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:C&&"2"==C.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:K,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList()}):Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:C&&C.pa_flag?C.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:K,trailer_flag_TP:"0",B00015:"",B00010:"",trailer_array:this.initClaimDetailsList()});for(var ge=0;ge<$.length;ge++)U[$[ge]]=$[ge];U.slider=j,U.PA_flag=Q,U.trailer_flag=X,U.pa_coolie_flag=ee,U.electric_flag=ae,U.nonElectric_flag=te,U.hospital_cash_OD_flag=ne,U.hospital_cash_PD_flag=re,U.LL_PD_flag=le,U.LL_Emp_flag=oe,U.LL_Coolie_flag=se,U.enhance_PA_OD_flag=ce,U.ATC_flag=ie,U.LL_workman_flag=me,U.PA_Cover=W,U.trailer_flag_TP=de,U.CNG_OD_flag=ue,U.ATC_value=B.ATC?B.ATC.value:"",U.B00018_value=B.B00018?B.B00018.value:"",U.B00069_value=B.B00069?B.B00069.value:"",U.B00012_value=B.B00012?B.B00012.value:"",U.B00013_value=B.B00013?B.B00013.value:"",U.B00022_value=B.B00022?B.B00022.value:"",U.B00020_value=B.B00020?B.B00020.value:"",U.B00004_value=B.B00004?B.B00004.value:"",U.B00004_description=B.B00004?B.B00004.description:"",U.B00003_value=B.B00003?B.B00003.value:"",U.B00003_description=B.B00003?B.B00003.description:"",U.B00073_value=B.B00073?B.B00073.value:"",U.B00073_description=B.B00073?B.B00073.description:"",U.B00007_value=B.B00007?B.B00007.value:"",U.B00007_description=B.B00007?B.B00007.description:"",U.B00070_value=B.B00070?B.B00070.value:"",U.B00005_value=B.B00005?B.B00005.value:"",_e=Object.assign(M,U);P.PolicyLobList&&P.PolicyLobList[0].PolicyRiskList[0];var fe=0;n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?fe+=e.AnnualPremium:0}))}));var he=1,ve=1,Ee=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.AnnualPremium)))):"B00007"==e.ProductElementCode&&1==he?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6,data:he+=1},p.a.createElement(f.a,null,"\u20b9 ",Math.round(fe)))):null)}))})):null,ye=O&&0!=O&&1==ve?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,pe.NCBDiscount)),p.a.createElement(_.a,{sm:12,md:6,data:ve+=1},p.a.createElement(f.a,null,"\u20b9 - ",Math.round(O)))):null,be=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,pe.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null;he=1,ve=1;var Ne=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?p.a.createElement("tr",null,p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.AnnualPremium))):"B00007"==e.ProductElementCode&&1==he?p.a.createElement("tr",{label:he+=1},p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(fe))):null}))})):null,Se=O&&0!=O&&1==ve?p.a.createElement("tr",{label:ve+=1},p.a.createElement("td",null,pe.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 - ",Math.round(O))):null,we=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,pe.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,ke=t&&t.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Ce=m?m.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherComprehens"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},pe.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},pe.GSBVehicleDamage),p.a.createElement("h5",null,ke),p.a.createElement("h5",null,Ce))),p.a.createElement(b.e,{initialValues:_e,onSubmit:P&&""!=P?P.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:F},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,s=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:pe.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},Ee,ye,be))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},pe.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},pe[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},pe.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&s.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},pe[n.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},pe.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},pe[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:pe.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&s.engine_no?p.a.createElement("span",{className:"errorMsg"},pe[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:pe.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&s.chasis_no?p.a.createElement("span",{className:"errorMsg"},pe[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},pe.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:j}),n.IDV&&s.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),j?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",min:G,max:Y,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:j,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},pe.BodyIDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"body_idv_value",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:Z}),n.body_idv_value&&s.body_idv_value?p.a.createElement("span",{className:"errorMsg"},n.body_idv_value):null))),j?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider1",min:0,max:z,step:"1",disabled:0==e.state.bodyIdvStatus?"disabled":"",value:Z,onChange:function(a){l("slider1"),r("slider1",t.slider1),e.bodySliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},pe.AddMoreCoverage)))),n.B00007||n.B00011?p.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,d&&d.length>0?d.map((function(a,o){return p.a.createElement(g.a,{key:o},C&&"2"==C.policy_for&&"B00015"!=a.code&&"B00018"!=a.code||C&&"1"==C.policy_for?p.a.createElement(_.a,{sm:12,md:11,lg:5,key:o+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!R.a.includes(H.login_type)||"B00015"!=t[a.code]),onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(pe.SwalIRDAI,{button:pe.OK}),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},p.a.createElement("option",{value:""},pe.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:pe.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?p.a.createElement("span",{className:"errorMsg"},pe[n.B00007_description]):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},pe.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00073_value?p.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:pe.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?p.a.createElement("span",{className:"errorMsg"},n.B00073_description):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:pe.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:pe.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},pe[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:pe.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:pe.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},pe[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},pe.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00020_value?p.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},pe.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00022_value?p.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},pe.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:pe.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:pe.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?p.a.createElement("span",{className:"errorMsg"},pe[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:pe.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?p.a.createElement("span",{className:"errorMsg"},n.B00018_value):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:pe.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?p.a.createElement("span",{className:"errorMsg"},n.B00070_value):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},pe.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.ATC_value?p.a.createElement("span",{className:"errorMsg"},n.ATC_value):null)))):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,s,l,r,pe):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},pe.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",pe.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",pe.No)),n.puc&&s.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,x)},pe.Back),P&&""!=P?P.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},pe.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},pe.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},pe.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",pe.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",o.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},pe.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,pe.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,pe.Premium,":"),p.a.createElement("th",null,"\u20b9 ",o.DuePremium))),p.a.createElement("tbody",null,Ne,Se,we,p.a.createElement("tr",null,p.a.createElement("td",null,pe.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,pe.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(T))},1274:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 100 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired(),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("RequiredField"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Name"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Branch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_MISCD/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:7,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_MISCD/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("miscd/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_MISCD/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("miscd/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox adiDetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"11"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var r,v=e.values,E=e.errors,y=e.setFieldValue,w=e.setFieldTouched,B=(e.isValid,e.isSubmitting),x=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==v.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==v.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),E.is_carloan&&x.is_carloan?i.a.createElement("span",{className:"errorMsg"},E.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_name}),E.bank_name&&x.bank_name?i.a.createElement("span",{className:"errorMsg"},z[E.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_branch}),E.bank_branch&&x.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[E.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),E.salutation_id&&x.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[E.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==v.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.first_name}),E.first_name&&x.first_name?i.a.createElement("span",{className:"errorMsg"},z[E.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.gstn_no.toUpperCase(),onChange:function(e){return y("gstn_no",e.target.value.toUpperCase())}}),E.gstn_no&&x.gstn_no?i.a.createElement("span",{className:"errorMsg"},E.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.gender&&x.gender?i.a.createElement("span",{className:"errorMsg"},z[E.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");y("dob",a),y("age",e.target.value)}}),E.age&&x.age?i.a.createElement("span",{className:"errorMsg"},z[E.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:v.date_of_incorporation,onChange:function(e){w("date_of_incorporation"),y("date_of_incorporation",e)}}),E.date_of_incorporation&&x.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[E.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.phone,maxLength:"10",className:"phoneinput pd-l-25"}),E.phone&&x.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[E.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.address}),E.address&&x.address?i.a.createElement("span",{className:"errorMsg"},z[E.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,(r={name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxLength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:v.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){w("state"),w("pincode"),y("pincode",e.target.value),y("state",L?L[0]:v.state),y("pincode_id","")})),r)),E.pincode&&x.pincode?i.a.createElement("span",{className:"errorMsg"},z[E.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:v.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),E.pincode_id&&x.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[E.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||v.state,disabled:!0}),E.state&&x.state?i.a.createElement("span",{className:"errorMsg"},z[E.state]):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:v.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),E.org_level&&x.org_level?i.a.createElement("span",{className:"errorMsg"},z[E.org_level]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null):null,i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),E.nominee_salutation&&x.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_first_name}),E.nominee_first_name&&x.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.nominee_gender&&x.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),y("nominee_dob",t),y("nominee_age",e.target.value)}}),E.nominee_age&&x.nominee_age?i.a.createElement("span",{className:"errorMsg"},E.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:v.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id},e.name):null}))),E.nominee_relation_with&&x.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.appointee_name}),E.appointee_name&&x.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:v.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),E.appointee_relation_with&&x.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIANumber,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account&&x.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:v.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),E.eia_no&&x.eia_no?i.a.createElement("span",{className:"errorMsg"},z[E.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account2&&x.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:v.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),E.tpaInsurance&&x.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[E.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!B,onClick:a.otherComprehensive.bind(a,J)},B?z.Wait:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!B},B?z.Wait:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1275:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(31),u=t(34),p=t(40),_=t(7),g=t(38),f=t(19),h=t(22),v=t(1),E=t(20),y=t.n(E),b=t(9),N=t(2),S=t(25),w={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:"1"},k=v.object().shape({check_registration:v.string().notRequired(),reg_number_part_one:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.f)(e)})),otherwise:v.string().nullable()}),reg_number_part_two:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.h)(e)})),otherwise:v.string().nullable()}),reg_number_part_three:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.i)(e)})),otherwise:v.string().nullable()}),reg_number_part_four:v.string().when(["check_registration"],{is:function(e){return"2"==e},then:v.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.g)(e)})),otherwise:v.string().nullable()}),policy_type:v.string().required("PleaseSPT"),policy_for:v.string().required("PleasePIC"),subclass_id:v.string().required("PleaseSSP")}),C=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var l=arguments.length,o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new b.a;_.a.get("miscd/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));if(console.log("decrypt",n),n.data.policyHolder){var r=n.data.policyHolder,l=0;for(var o in r)r.hasOwnProperty(o)&&l++}var s=l>0?n.data.policyHolder.motorinsurance:[];e.setState({motorInsurance:s}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new b.a;e.props.loadingStart(),_.a.get("miscd/sub-vehical-list/".concat(7)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t,r=e.props.match.params.productId,l=new FormData,o=new b.a,s=e.state,c=(s.fastLaneData,s.fastlanelog),i={};t={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four};var m=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four,d=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,u=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";u&&(u=JSON.parse(o.decrypt(u))),a.check_registration&&1==a.check_registration?sessionStorage.setItem("check_registration",1):sessionStorage.setItem("check_registration",2),d>0?(i=sessionStorage.getItem("csc_id")?Object(n.a)({policy_holder_id:d,registration_no:m,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:r,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",page_name:"Registration/".concat(r),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:c&&c.id?c.id:""},"page_name","Registration_MISCDST/".concat(r)):Object(n.a)({policy_holder_id:d,registration_no:m,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:r,bcmaster_id:u?u.agent_id:"",bc_token:u?u.token:"",bc_agent_id:u?u.user_info.data.user.username:"",page_name:"Registration/".concat(r),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:c&&c.id?c.id:""},"page_name","Registration_MISCDST/".concat(r)),console.log("post_data",i),l.append("enc_data",o.encrypt(JSON.stringify(i))),e.props.loadingStart(),_.a.post("miscd/update-registration",l).then((function(a){var t=JSON.parse(o.decrypt(a.data));console.log("decrypt",t),0==t.error?e.props.history.push("/SelectBrand_MISCDST/".concat(r)):y()(t.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(o.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&y()("Registration number required..."),e.props.loadingStop()}))):(i=sessionStorage.getItem("csc_id")?{registration_no:m,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:r,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",page_name:"Registration_MISCDST/".concat(r),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:c&&c.id?c.id:""}:{registration_no:m,registration_part_numbers:JSON.stringify(t),check_registration:a.check_registration,menumaster_id:7,vehicle_type_id:r,bcmaster_id:u?u.agent_id:"",bc_token:u?u.token:"",bc_agent_id:u?u.user_info.data.user.username:"",page_name:"Registration_MISCDST/".concat(r),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,is_short_term:1,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:c&&c.id?c.id:""},console.log("post_data",i),l.append("enc_data",o.encrypt(JSON.stringify(i))),e.props.loadingStart(),_.a.post("miscd/registration",l).then((function(a){var t=JSON.parse(o.decrypt(a.data));console.log("decrypt",t),e.props.loadingStop(),0==t.error?(localStorage.setItem("policyHolder_id",t.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",t.data.policyHolder_refNo),e.props.history.push("/SelectBrand_MISCDST/".concat(r))):y()(t.msg)})).catch((function(a){e.props.loadingStop(),a&&a.data&&y()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers&&JSON.parse(t.registration_part_numbers),l=Object.assign(w,{reg_number_part_one:r&&r.reg_number_part_one?r.reg_number_part_one:"",reg_number_part_two:r&&r.reg_number_part_two?r.reg_number_part_two:"",reg_number_part_three:r&&r.reg_number_part_three?r.reg_number_part_three:"",reg_number_part_four:r&&r.reg_number_part_four?r.reg_number_part_four:"",regNumber:t&&t.registration_no?t.registration_no:"",policy_type:"2",policy_for:"1",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2"}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid asd"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(u.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},o.About),i.a.createElement(N.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:k},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(N.d,null,i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,o.MISDPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.Individual)))))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,o.TellAboutPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(N.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","2"),e.handleChange(t,s,l)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",o.RollOver)),r.policy_type&&c.policy_type?i.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"formSection"},i.a.createElement(N.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},i.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return i.a.createElement("option",{disabled:1!=e.status,value:e.subclass_id},e.subclass_title)}))),r.subclass_id&&c.subclass_id?i.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},o.RegName," :"),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(N.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(c.reg_number_part_one||c.reg_number_part_two||c.reg_number_part_three||c.reg_number_part_four)?i.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,i.a.createElement(N.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),i.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(c.looking_for_2||c.looking_for_3||c.looking_for_4)?i.a.createElement("span",{className:"error-message"},r.check_registration):""):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),i.a.createElement(p.a,null)))))))}}]),t}(c.Component);a.default=Object(g.g)(Object(h.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(C))},1276:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("miscd/vehicle/brand-with-image/".concat(7,"/").concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("miscd/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_MISCDST/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/SelectBrand_MISCDST/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("miscd/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,horse_power:o,body_style:l})},t.setOtherVarient=function(e,a,n,r,l,o,s,c){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,horse_power:c,body_style:s})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==c||null==c||void 0==c)return k()(a.PleaseVBrand),!1;var i=new FormData,m=new D.a,d={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_MISCDST/".concat(n)};i.append("enc_data",m.encrypt(JSON.stringify(d))),console.log("Post Date---------- ",d),t.props.loadingStart(),y.a.post("miscd/insert-brand-model-varient",i).then((function(e){t.props.loadingStop();var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_MISCDST/".concat(n)))})).catch((function(e){var a=JSON.parse(m.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],horse_power:"",body_style:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.horse_power,C=a.body_style,D=this.props.match.params.productId,B=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")}),A=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},A.SBIGICL),i.a.createElement(v.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,A.MISCDSelectBrand," "),i.a.createElement("p",null,A.MISCDDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},A.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},A.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.MISCDBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.MISCDModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.body_style?w.varientmodel.body_style:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Power,i.a.createElement("br",null),i.a.createElement("strong",null,k?k+" BHP":s?"":w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":""," "))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,A.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:A.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.body_style,t.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.body_style,t.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.horse_power)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},A.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1277:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(22),N=t(1),S=t(2),w=t(7),k=t(3),C=t.n(k),P=t(9),D=t(28),I=t(138),M=t.n(I),B=t(61),A=t(25),O=t(20),x=t.n(O),H=(new Date("Y"),new D.a,C()(C()().subtract(20,"years").calendar()).add(1,"day").calendar()),R=C()(C()().subtract(1,"years").calendar()).add(0,"day").calendar(),L=C()(C()().subtract(1,"years").calendar()).add(30,"day").calendar(),j=C()(C()().subtract(1,"month").calendar()).add(1,"day").calendar(),F=C()().subtract(20,"years").calendar(),q=C()(C()().subtract(1,"months").calendar()).add(1,"day").calendar(),T=C()(C()().subtract(1,"years").calendar()).add(31,"day").calendar(),V={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",goodscarriedtypes_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],new_policy_duration:"",new_policy_start_date:"",new_policy_end_date:"",duration:""},G=N.object().shape({registration_date:N.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,T)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(A.b)(e,new Date)&&Math.floor(C()(q).diff(e,"days",!0)<0)})).test("checkGreaterTimes","RegistrationDateLessStartDate",(function(e){return!e||Object(A.b)(e,this.parent.previous_start_date)})),new_policy_duration:N.string().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.string().required("Policy duration required"),otherwise:N.string()}),location_id:N.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),new_policy_start_date:N.date().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.date().required("PleaseESD").test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.b)(e,this.parent.new_policy_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.new_policy_end_date||void 0!=e||"2"!=this.parent.policy_type_id})),otherwise:N.date()}),new_policy_end_date:N.date().when(["valid_previous_policy"],{is:function(e){return"1"==e},then:N.date().required("PleaseEED").test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(A.c)(e,this.parent.new_policy_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.new_policy_start_date||void 0!=e||"2"!=this.parent.policy_type_id})),otherwise:N.date()}),previous_start_date:N.date().notRequired("Previous Start date is required").test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(A.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_end_date:N.date().notRequired().test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new D.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(A.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy})),previous_policy_name:N.string().notRequired("PleaseSPT").test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0})),insurance_company_id:N.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})),previous_city:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),previous_policy_no:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"})),previous_claim_bonus:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!("0"==this.parent.previous_is_claim&&"1"==this.parent.valid_previous_policy&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&("1"==this.parent.previous_policy_name||"3"==this.parent.previous_policy_name)&&(!e||"1"==e))})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&"2"==this.parent.no_of_claim)})),previous_is_claim:N.string().notRequired().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){new D.a;return!("2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.previous_policy_name&&Math.floor(C()().diff(this.parent.previous_end_date,"days",!0))<=90&&!e)})),duration:N.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:N.string().required("Previous policy duration required"),otherwise:N.string()}),no_of_claim:N.string().when(["previous_is_claim"],{is:function(e){return"1"==e},then:N.string().required("PleasePNOC"),otherwise:N.string()}),valid_previous_policy:N.string().required((function(){return"RequiredField"})),claim_array:N.array().of(N.object().shape({claim_year:N.string((function(){return"PleaseEnterClaimYear"})).required((function(){return"PleaseEnterClaimYear"})).matches(/^[0-9]*$/,(function(){return"InvalidYear"})),claim_amount:N.string((function(){return"PleaseEnterClaiAmmount"})).required((function(){return"PleaseEnterClaiAmmount"})).matches(/^[0-9]*$/,(function(){return"InvalidAmout"})),type_of_claim:N.string((function(){return"PleaseEnterTypeClaim"})).required((function(){return"PleaseEnterTypeClaim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"InvalidValue"}))}))}),Y=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"vehicleDetails",[]),Object(n.a)(e,"averagemonthlyusages",[]),Object(n.a)(e,"goodscarriedtypes",[]),Object(n.a)(e,"permittypes",[]),Object(n.a)(e,"location_reset_flag",0),Object(n.a)(e,"changeFlag",0),Object(n.a)(e,"no_of_claim",[]),Object(n.a)(e,"request_data",{}),e),l.dateRange=function(){return"2008"},l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/SelectBrand_MISCDST/".concat(e))},l.selectBrand=function(e){l.props.history.push("/SelectBrand_MISCDST/".concat(e))},l.showClaimText=function(e,a){1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},l.handleSubmit=function(e,a){var t,r=l.props.match.params.productId,o=l.state,s=o.motorInsurance,c=o.changeFlag,i=Math.floor(C()().diff(e.registration_date,"months",!0));if(1==c)return x()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return x()("Please fill all claim details"),!1;if("0"==e.valid_previous_policy&&"2"==e.policy_type_id)return x()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1;Math.floor(C()().diff(e.previous_end_date,"days",!0))>90&&(e.previous_claim_bonus=1);var m=new FormData,d=new P.a,u={};t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_date:C()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?C()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?C()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:i,policy_type:1,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails_MISCDST/".concat(r),claim_array:JSON.stringify(e.claim_array)},Object(n.a)(t,"no_of_claim",e.no_of_claim),Object(n.a)(t,"new_policy_duration",e.new_policy_duration),Object(n.a)(t,"duration",e.duration),Object(n.a)(t,"new_policy_start_date",e.new_policy_start_date?C()(e.new_policy_start_date).format("YYYY-MM-DD"):""),Object(n.a)(t,"new_policy_end_date",e.new_policy_end_date?C()(e.new_policy_end_date).format("YYYY-MM-DD"):""),Object(n.a)(t,"is_new_policy",1),u=t,s&&"1"==s.policytype_id&&s&&""==s.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",u),m.append("enc_data",d.encrypt(JSON.stringify(u))),l.props.loadingStart(),w.a.post("miscd/insert-vehicle-details",m).then((function(e){var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),l.props.loadingStop(),0==t.error?l.props.history.push("/OtherComprehensive_MISCDST/".concat(r)):a.setSubmitting(!1)})).catch((function(e){l.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),w.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new P.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};n.valid_previous_policy=n.policytype_id&&"1"==n.policytype_id?"0":n.valid_previous_policy;var r=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=r&&r.previouspoliciesclaims?r.previouspoliciesclaims.length:"",c=n&&n.rtolocation&&n.rtolocation.RTO_LOCATION?n.rtolocation.RTO_LOCATION:"",i=!r||0!=r.is_claim&&1!=r.is_claim?"":r.is_claim,m=t.data.policyHolder.request_data?t.data.policyHolder.request_data:{};l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s,request_data:m}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.fetchVehicleCarryingList=function(){l.props.match.params.productId;var e=new P.a;l.props.loadingStart(),w.a.get("miscd/carrying-capacity-list/".concat(7)).then((function(a){var t=JSON.parse(e.decrypt(a.data)),n=t.data?t.data.averagemonthlyusages:[],r=t.data?t.data.goodscarriedtypes:[],o=t.data?t.data.permittypes:[];l.setState({averagemonthlyusages:n,goodscarriedtypes:r,permittypes:o}),l.fetchData()})).catch((function(e){l.props.loadingStop()}))},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"OwnDamage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e.previouspoliciesclaims?e.previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),c!=p?i.a.createElement("option",{value:p},p):null),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_year]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_amount]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l.registration=function(e){l.props.history.push("/Registration_MISCDST/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new P.a;w.a.get("miscd/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,r=t.insurerList,l=t.showClaim,o=t.previous_is_claim,s=t.motorInsurance,_=t.previousPolicy,E=t.CustomerID,y=t.suggestions,b=t.request_data,N=t.vehicleDetails,w=t.RTO_location,k=(t.averagemonthlyusages,t.goodscarriedtypes,t.permittypes,t.location_reset_flag),P=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,D=(_&&_.end_date&&new Date(_.end_date),Object.assign(V,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id&&0==k?s.location_id:"",previous_start_date:_&&_.start_date?new Date(_.start_date):"",previous_end_date:_&&_.end_date?new Date(_.end_date):"",previous_policy_name:_&&_.name?_.name:"",insurance_company_id:_&&_.insurancecompany&&_.insurancecompany.Id?_.insurancecompany.Id:"",previous_city:_&&_.city?_.city:"",previous_policy_no:_&&_.policy_no?_.policy_no:"",previous_is_claim:o,previous_claim_bonus:_&&(_.claim_bonus||0==_.claim_bonus)?_.claim_bonus.toString():"1",no_of_claim:_&&_.previouspoliciesclaims?_.previouspoliciesclaims.length:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,duration:_&&_.duration?_.duration:"",new_policy_duration:b&&b.duration?b.duration:"",new_policy_start_date:b&&b.start_date?new Date(b.start_date):"",new_policy_end_date:b&&b.end_date?new Date(b.end_date):"",claim_array:this.initClaimDetailsList()})),I={placeholder:P.SearchCity,value:E||w,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand2"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},P.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},P.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(S.e,{initialValues:D,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:G},(function(t){var _,f=t.values,h=t.errors,v=t.setFieldValue,E=t.setFieldTouched,b=(t.isValid,t.isSubmitting),w=t.touched;return i.a.createElement(S.d,{enableReinitialize:!0},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},P.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",minDate:new Date(F),maxDate:new Date(R),dateFormat:"dd MMM yyyy",placeholderText:P.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.registration_date,onChange:function(e){E("registration_date"),v("registration_date",e),v("previous_end_date",""),v("previous_start_date","")}}),h.registration_date&&w.registration_date?i.a.createElement("span",{className:"errorMsg"},P[h.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},P.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(M.a,{suggestions:y,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:I,onChange:function(a){return e.onChange(a,v)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(E,v,n)}}),h.location_id&&w.location_id?i.a.createElement("span",{className:"errorMsg"},P[h.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==f.policy_type_id?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",P.GCVValidPolicy,"  ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){E("valid_previous_policy"),v("valid_previous_policy",e.target.value)},checked:"0"==f.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",P.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){E("valid_previous_policy"),v("valid_previous_policy",e.target.value)},checked:"1"==f.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},P.Yes)),h.valid_previous_policy&&w.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},P[h.valid_previous_policy]):null)))))):null,"2"==f.policy_type_id&&"1"==f.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",P.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(f.duration&&f.previous_start_date){var a,t;a=C()(C()(f.previous_start_date).add(f.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),t=C()(f.previous_start_date).add(f.duration,"month").format("YYYY-MM-DD"),v("previous_end_date",new Date(a)),v("new_policy_start_date",new Date(t))}else v("previous_end_date","");else v("previous_start_date",""),v("previous_end_date",""),v("new_policy_start_date",""),v("new_policy_end_date","");v("previous_policy_name",e.target.value)}},i.a.createElement("option",{value:""},P.SPT),i.a.createElement("option",{value:"1"},P.Package),i.a.createElement("option",{value:"2"},P.LiabilityOnly),i.a.createElement("option",{value:"3"},P.shortTerm)),h.previous_policy_name&&w.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},P[h.previous_policy_name]):null))),"3"==f.previous_policy_name?i.a.createElement(d.a,{sm:12,md:5,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.duration,onChange:function(e){var a=new Date,t="",n="";f.previous_start_date&&(a=C()(C()(f.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),t=C()(f.previous_start_date).add(e.target.value,"month").format("YYYY-MM-DD"),Object(A.b)(t,new Date)&&(t=C()().add(1,"day").format("YYYY-MM-DD")),f.new_policy_duration&&(n=C()(C()(t).add(f.new_policy_duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(n))),v("previous_end_date",new Date(a)),v("new_policy_start_date",new Date(t))),v("duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),h.duration&&w.duration?i.a.createElement("span",{className:"errorMsg"},h.duration):null))):null,i.a.createElement(d.a,{sm:12,md:11,lg:"3"==f.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,(_={name:"previous_start_date",minDate:new Date(H),maxDate:"3"==f.previous_policy_name?new Date(j):new Date(L),dateFormat:"dd MMM yyyy",placeholderText:P.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12"},Object(n.a)(_,"className","3"==f.previous_policy_name?"datePckr inputfs12ST":"datePckr inputfs12"),Object(n.a)(_,"selected",f.previous_start_date),Object(n.a)(_,"onChange",(function(e){var a=new Date(e),t=new Date(e),n=new Date(e),r="";if("3"==f.previous_policy_name)f.duration&&(t=C()(C()(e).add(f.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),n=C()(e).add(f.duration,"month").format("YYYY-MM-DD"),Object(A.b)(n,new Date)&&(n=C()().add(1,"day").format("YYYY-MM-DD")));else if("1"==f.previous_policy_name||"2"==f.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1),n=C()(t).add(1,"day").format("YYYY-MM-DD"),Object(A.b)(n,new Date)&&(n=C()().add(1,"day").format("YYYY-MM-DD"))}f.new_policy_duration&&(r=C()(C()(n).add(f.new_policy_duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(r))),E("previous_start_date"),v("previous_end_date",new Date(t)),v("new_policy_start_date",new Date(n)),v("previous_start_date",e)})),_)),h.previous_start_date&&w.previous_start_date?i.a.createElement("span",{className:"errorMsg"},P[h.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:"3"==f.previous_policy_name?3:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:P.PPED,disabled:!0,dropdownMode:"select",className:"3"==f.previous_policy_name?"datePckr inputfs12ST":"datePckr inputfs12",selected:f.previous_end_date}),h.previous_end_date&&w.previous_end_date?i.a.createElement("span",{className:"errorMsg"},P[h.previous_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},P.SelectInsurer),r.map((function(e,a){return i.a.createElement("option",{key:a,value:e.Id},e.name)}))),h.insurance_company_id&&w.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},P[h.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_city",type:"text",placeholder:P.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),h.previous_city&&w.previous_city?i.a.createElement("span",{className:"errorMsg"},P[h.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(S.b,{name:"previous_policy_no",type:"text",placeholder:P.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),h.previous_policy_no&&w.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},P[h.previous_policy_no]):null)))),("1"==f.previous_policy_name||"3"==f.previous_policy_name)&&Math.floor(C()().diff(f.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,P.ClaimODPolicy))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){E("previous_is_claim"),v("previous_is_claim",a.target.value),v("no_of_claim",""),e.showClaimText(0,f)},checked:"0"==f.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",P.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(S.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){E("previous_is_claim"),v("previous_is_claim",a.target.value),v("no_of_claim",""),e.showClaimText(1,f)},checked:"1"==f.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},P.YesIHave)),h.previous_is_claim&&w.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},P[h.previous_is_claim]):null))))),"2"==f.previous_claim_for||"0"==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},P.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:f.previous_claim_bonus},i.a.createElement("option",{value:""},"--",P.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),h.previous_claim_bonus&&w.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},P[h.previous_claim_bonus]):null)))):null,l||1==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:f.no_of_claim,onChange:function(a){E("no_of_claim"),v("no_of_claim",a.target.value),e.handleNoOfClaims(f,a.target.value)}},i.a.createElement("option",{value:""},P.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),h.no_of_claim&&w.no_of_claim?i.a.createElement("span",{className:"errorMsg"},P[h.no_of_claim]):null)))):null,""!=f.no_of_claim||"0"==o?e.handleClaims(f,h,w,E,v):null):null):null,"2"==f.policy_type_id&&"1"==f.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",P.NPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(S.b,{name:"new_policy_duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:f.new_policy_duration,onChange:function(e){var a=new Date;f.new_policy_start_date&&(a=C()(C()(f.new_policy_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),v("new_policy_end_date",new Date(a))),v("new_policy_duration",e.target.value)}},i.a.createElement("option",{value:""},"Select Duration"),i.a.createElement("option",{value:"1"}," One Month"),i.a.createElement("option",{value:"2"}," Two Month"),i.a.createElement("option",{value:"3"}," Three Month"),i.a.createElement("option",{value:"4"}," Four Month"),i.a.createElement("option",{value:"5"}," Five Month"),i.a.createElement("option",{value:"6"}," Six Month"),i.a.createElement("option",{value:"7"}," Seven Month"),i.a.createElement("option",{value:"8"}," Eight Month")),h.new_policy_duration&&w.new_policy_duration?i.a.createElement("span",{className:"errorMsg"},h.new_policy_duration):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"new_policy_start_date",minDate:new Date(H),maxDate:new Date,dateFormat:"dd MMM yyyy",placeholderText:P.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,disabled:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.new_policy_start_date}),h.new_policy_start_date&&w.new_policy_start_date?i.a.createElement("span",{className:"errorMsg"},P[h.new_policy_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"new_policy_end_date",dateFormat:"dd MMM yyyy",placeholderText:P.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:f.new_policy_end_date}),h.new_policy_end_date&&w.new_policy_end_date?i.a.createElement("span",{className:"errorMsg"},P[h.new_policy_end_date]):null)))):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!b,onClick:e.selectBrand.bind(e,a)},b?P.Wait:P.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?P.Wait:P.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},P.RegNo,".",i.a.createElement("br",null),s&&s.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},P.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},P.MISCDBrand,"- ",i.a.createElement("strong",null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},P.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},P.MISCDModel,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},P.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},P.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.body_style?N.varientmodel.body_style:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},P.Power,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.horse_power?N.varientmodel.horse_power+" BHP":""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},P.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.fueltype?B.a[N.varientmodel.fueltype.id]:null," ")))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(Y))},1278:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=t(0),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(25),R=(t(99),new I.a),L=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],j=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA coverage"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("Please select additional towing charges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("Please enter No. of workman").matches(/^[0-9]*$/,"Please provide valid No."),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide enhance PA coverage").test("isLoanChecking",(function(){return"Value should be 16L to 50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide No. of paid driver").matches(/^[0-9]$/,"Please provide valid number"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("isLoanChecking",(function(){return"Value should be 1K to 5L"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("Please provide registration number").test("last4digitcheck",(function(){return"Invalid Registration number"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("Chassis no is required").matches(/^[0-9A-Za-z]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"}))}))}),F={B00002:L.B00002,B00003:L.B00003,B00004:L.B00004,B00005:L.B00005,B00006:L.B00006,B00007:L.B00007,B00008:L.B00008,B00009:L.B00009,B00010:L.B00010,B00011:L.B00011,B00012:L.B00012,B00013:L.B00013,B00069:L.B00069,B00070:L.B00070,B00071:L.B00071,B00015:L.B00015,B00073:L.B00073,B00018:L.B00018,B00019:L.B00019,B00020:L.B00020,B00022:L.B00022},q=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).handleChange=function(){r.setState({serverResponse:[],error:[]})},r.showCNGText=function(e){1==e?r.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):r.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},r.sliderValue=function(e){r.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},r.bodySliderValue=function(e){r.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},r.vehicleDetails=function(e){r.props.history.push("/VehicleDetails_MISCDST/".concat(e))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;D.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=n.trailers&&null!=n.trailers?n.trailers:null,i=n&&n.registration_date?n.registration_date:"",m=l&&l.end_date?l.end_date:"",d=n?n.valid_previous_policy:"0",u=n?n.policytype_id:"",p=0,_=n&&n.body_idv_value?n.body_idv_value:0,g=n&&n.idv_value?n.idv_value:0;if(Math.floor(x()().diff(m,"months",!0))>1||"0"==d||"1"==u){var f=x()().format("YYYY-MM-DD");p=x()(f).diff(i,"days",!0)}else p=x()(m).add(1,"day").diff(i,"days",!0);c=null!=c?JSON.parse(c):[];var h=[],v=[];if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){var E=["B00015"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015","B00006","B00010"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=["B00006","B00010"];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}else if(n&&"1"==n.policy_for&&null==n.add_more_coverage){E=["B00015"];v.push(E)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){E=[];v.push(E)}else{E=n.add_more_coverage.split(",");v.push(E)}v=v.flat(),h.PA_flag=n&&""!=n.pa_cover?"1":"0",h.PA_Cover=n&&""!=n.pa_cover?n.pa_cover:"0";var y=n&&null!=n.add_more_coverage_request_json?n.add_more_coverage_request_json:"",b=""!=y?JSON.parse(y):[];h.ATC_value=b.ATC?b.ATC.value:"",h.B00018_value=b.B00018?b.B00018.value:"",h.B00069_value=b.B00069?b.B00069.value:"",h.B00012_value=b.B00012?b.B00012.value:"",h.B00013_value=b.B00013?b.B00013.value:"",h.B00022_value=b.B00022?b.B00022.value:"",h.B00020_value=b.B00020?b.B00020.value:"",h.B00004_value=b.B00004?b.B00004.value:"",h.B00004_description=b.B00004?b.B00004.description:"",h.B00003_value=b.B00003?b.B00003.value:"",h.B00003_description=b.B00003?b.B00003.description:"",h.B00073_value=b.B00073?b.B00073.value:"",h.B00073_description=b.B00073?b.B00073.description:"",h.B00007_value=b.B00007?b.B00007.value:"",h.B00007_description=b.B00007?b.B00007.description:"",h.B00070_value=b.B00070?b.B00070.value:"",h.trailer_array=c,r.setState({motorInsurance:n,add_more_coverage:v,request_data:o,vehicleDetails:s,bodySliderVal:_,sliderVal:g,showCNG:1==n.cng_kit,vahanVerify:!(!n.chasis_no||!n.engine_no),selectFlag:n&&null!=n.add_more_coverage?"0":"1",no_of_claim:b.B00007?b.B00007.value:"",add_more_coverage_request_array:b,trailer_array:c,vehicle_age:p}),r.props.loadingStop(),r.depreciation(h)})).catch((function(e){r.props.loadingStop()}))},r.depreciation=function(e){var a=r.state.vehicle_age,t=new FormData;r.props.loadingStart();var n={vehicle_age:a},l=new I.a;t.append("enc_data",l.encrypt(JSON.stringify(n))),D.a.post("/miscd/getMaxBodyIDV",t).then((function(a){var t=JSON.parse(l.decrypt(a.data));r.setState({depreciationPercentage:t.data}),r.getAccessToken(e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getAccessToken=function(e){r.props.loadingStart(),D.a.post("/callTokenService").then((function(a){r.setState({accessToken:a.data.access_token}),r.fullQuote(a.data.access_token,e)})).catch((function(e){r.setState({accessToken:""}),r.props.loadingStop()}))},r.getFuelList=function(e){r.props.loadingStart(),D.a.get("/fuel-list").then((function(e){r.setState({fuelList:e.data.data.fuellist}),r.fetchData()})).catch((function(e){r.setState({fuelList:[]}),r.props.loadingStop()}))},r.getMoreCoverage=function(){r.props.loadingStart();var e=new I.a;D.a.get("miscd/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:t.data}),r.getFuelList()})).catch((function(a){JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:[]}),r.props.loadingStop()}))},r.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,n,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),n("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",r.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return r.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){r.setState({vahanDetails:e.data,vahanVerify:!0}),r.state.vahanDetails.data[0].chasiNo&&r.setState({chasiNo:r.state.vahanDetails.data[0].chasiNo}),r.state.vahanDetails.data[0].engineNo&&r.setState({engineNo:r.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),n("vahanVerify",!0),t("engine_no"),n("engine_no",r.state.engineNo),t("chasis_no"),n("chasis_no",r.state.chasiNo),r.props.loadingStop()})).catch((function(e){r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop()}));case 12:e.next=19;break;case 14:r.props.loadingStart(),r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),r.fullQuote=function(e,a){var t,n=r.state,l=n.PolicyArray,o=n.sliderVal,s=n.add_more_coverage,c=n.motorInsurance,i=n.bodySliderVal,m=n.vehicleDetails,d=(n.chasis_price,n.userIdvStatus),u=n.bodyIdvStatus,p=(l.length>0&&Math.round(l[0].PolicyRiskList[0].IDV_User),{}),_=new FormData,g=new I.a,f=0;s&&(p={B00018:{value:a.B00018_value},B00069:{value:a.B00069_value},B00012:{value:a.B00012_value},B00013:{value:a.B00013_value},B00022:{value:a.B00022_value},B00020:{value:a.B00020_value},ATC:{value:a.ATC_value},B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00073:{value:a.B00073_value,description:a.B00073_description},B00007:{value:a.B00007_value,description:a.B00007_description},B00070:{value:a.B00070_value},B00005:{value:a.B00005_value}},a.B00004_value&&(f+=parseInt(a.B00004_value)),a.B00003_value&&(f+=parseInt(a.B00003_value)));var h={ref_no:localStorage.getItem("policyHolder_refNo"),access_token:e,policy_type:c.policy_type,add_more_coverage:s.toString(),PA_Cover:a.PA_flag?a.PA_Cover:"0",coverage_data:JSON.stringify(p),trailer_array:a.trailer_array,fuel_type:a.fuel_type?a.fuel_type:m&&m.varientmodel&&m.varientmodel.fueltype?m.varientmodel.fueltype.id:"",idv_value:o||0,body_idv_value:i||0,userIdvStatus:d||0,bodyIdvStatus:u||0};console.log("fullQuote_post_data",h),t=parseInt(f)+parseInt(h.idv_value)+parseInt(h.body_idv_value);var v=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(v&&(v=JSON.parse(g.decrypt(v.user)),t>5e6&&"POSP"==v.user_type))return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;_.append("enc_data",g.encrypt(JSON.stringify(h))),D.a.post("fullQuoteMISCDShortTerm",_).then((function(e){if(e.data.data.PolicyObject&&e.data.data.UnderwritingResult&&"Success"==e.data.data.UnderwritingResult.Status){var a=e.data.data.PolicyObject.PolicyLobList,t=e.data.data.PolicyObject.PolicyLobList&&e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].NCBDiscountAmt:0;r.setState({fulQuoteResp:e.data.data.PolicyObject,PolicyArray:a,chasis_price:e.data.data.chasis_price,error:[],validation_error:[],userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.data.PolicyObject.PolicyLobList?Math.round(e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,ncbDiscount:t,serverResponse:e.data.data.PolicyObject,policyCoverage:e.data.data.PolicyObject.PolicyLobList?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.data.PolicyObject&&e.data.data.UnderwritingResult&&"Fail"==e.data.data.UnderwritingResult.Status){var n=[];for(var l in e.data.data.UnderwritingResult.MessageList)n.push(e.data.data.UnderwritingResult.MessageList[l].Message);r.setState({fulQuoteResp:e.data.data.PolicyObject,error:{message:0},validation_error:n,serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,policyCoverage:e.data.data.PolicyObject.PolicyLobList?e.data.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.data.code&&e.data.data.message&&"validation failed"==e.data.data.code&&"validation failed"==e.data.data.message){n=[];for(var o in e.data.data.messages){var c="";e.data.data.messages[o].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.data.messages[o].code?(c="It is blacklisted vehicle. Please contact Relationship manager",A()(c)):c=e.data.data.messages[o].message,n.push(c)}r.setState({fulQuoteResp:[],add_more_coverage:s,validation_error:n,error:{message:0},userIdvStatus:1,bodyIdvStatus:1,serverResponse:[]})}else r.setState({fulQuoteResp:[],add_more_coverage:s,error:{message:1},serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,validation_error:[]});r.props.loadingStop()})).catch((function(e){r.setState({serverResponse:[]}),r.props.loadingStop()}))},r.handleSubmit=function(e){var a=r.props.match.params.productId,t=r.state,l=(t.motorInsurance,t.PolicyArray),o=t.sliderVal,s=t.add_more_coverage,c=t.bodySliderVal,i=l.length>0?Math.round(l[0].PolicyRiskList[0].IDV_User):0,m=l.length>0?Math.round(l[0].PolicyRiskList[0].SumInsured):0,d={};s&&(d={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}});var u=new FormData,p=new I.a,_=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";_.user&&(_=JSON.parse(p.decrypt(_.user)));var g={};if(g=s.length>0?Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():i.toString(),add_more_coverage:s,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive/".concat(a),coverage_data:JSON.stringify(d),body_idv_value:c||0,fuel_type:e.fuel_type,trailer_array:e.trailer_array},"page_name","OtherComprehensive_MISCDST/".concat(a)):Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:7,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():i.toString(),puc:e.puc,page_name:"OtherComprehensive/".concat(a),body_idv_value:c||0,fuel_type:e.fuel_type},"page_name","OtherComprehensive_MISCD/".concat(a)),console.log("post_data",g),_&&m){if(m>5e6&&"POSP"==_.user_type)return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(u.append("enc_data",p.encrypt(JSON.stringify(g))),r.props.loadingStart(),D.a.post("miscd/update-insured-value",u).then((function(e){r.props.loadingStop();var t=JSON.parse(p.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?r.props.history.push("/AdditionalDetails_MISCDST/".concat(a)):A()(t.msg)})).catch((function(e){var a=JSON.parse(p.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),r.props.loadingStop()}))):A()("Chasis no mismatch")}},r.onRowSelect=function(e,a,t,n,l){var o=r.state.add_more_coverage;if(t)o.push(e),r.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),l("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),l("electric_flag","1")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),r.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),l("PA_flag","0"),n("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),l("electric_flag","0")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","0"))}},r.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},r.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var n=t;n>=a;n--)e.trailer_array.splice(n,1);else if(e.trailer_array.length<a)for(n=e.trailer_array.length;n<a;n++)e.trailer_array.push({chassisNo:"",regNo:""});r.setState({no_of_claim:a,serverResponse:[],error:[]})},r.initClaimDetailsList=function(){for(var e=[],a=r.state.trailer_array,t=0;t<r.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},r.handleClaims=function(e,a,t,n,l,o){for(var s=[],c=0;c<e.B00007_value;c++)s.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)},onInput:function(e){r.regnoFormat(e,n,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},o[a.trailer_array[c].chassisNo]):null))))));return s},r.handleShow=r.handleShow.bind(Object(i.a)(r)),r.handleClose=r.handleClose.bind(Object(i.a)(r)),r.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},r}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showCNG,a.is_CNG_account,a.vahanDetails,a.error),n=a.policyCoverage,r=a.vahanVerify,l=a.selectFlag,o=a.fulQuoteResp,s=a.PolicyArray,c=(a.fuelList,a.depreciationPercentage),i=a.vehicleDetails,m=a.validation_error,d=a.moreCoverage,E=a.sliderVal,k=a.bodySliderVal,C=a.motorInsurance,P=a.serverResponse,D=a.engine_no,I=a.chasis_no,M=a.initialValue,B=a.add_more_coverage_request_array,O=a.ncbDiscount,x=this.props.match.params.productId,H=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";H.user&&(H=JSON.parse(R.decrypt(H.user)));var L=E,q=s.length>0?s[0].PolicyRiskList[0].MinIDV_Suggested:0,T=s.length>0?s[0].PolicyRiskList[0].MaxIDV_Suggested:0,V=q,G=s.length>0?Math.floor(T):null;0==Number.isInteger(q)&&(V=s.length>0?Math.floor(s[0].PolicyRiskList[0].MinIDV_Suggested):null,V+=1);var Y=s.length>0?s[0].PolicyRiskList[0].MSP-s[0].PolicyRiskList[0].MSP*(c/100):0,J=s.length>0?Math.floor(Y/2):0,z=k,Z=C&&C.add_more_coverage?C.add_more_coverage.split(","):"",$={},U=!C||null!=C.pa_cover&&""!=C.pa_cover?"1":"0",Q=C&&null!=C.pa_cover?C.pa_cover:"",W=i&&i.varientmodel&&i.varientmodel.fueltype?i.varientmodel.fueltype.id:"",K=B.B00007&&B.B00007.value?"1":"0",X=B.B00073&&B.B00073.value?"1":"0",ee=B.B00004&&B.B00004.value?"1":"0",ae=B.B00003&&B.B00003.value?"1":"0",te=B.B00020&&B.B00020.value?"1":"0",ne=B.B00022&&B.B00022.value?"1":"0",re=B.B00013&&B.B00013.value?"1":"0",le=B.B00012&&B.B00012.value?"1":"0",oe=B.B00069&&B.B00069.value?"1":"0",se=B.B00018&&B.B00018.value?"1":"0",ce=B.ATC&&B.ATC.value?"1":"0",ie=B.B00070&&B.B00070.value?"1":"0",me=B.B00011&&B.B00011.value?"1":"0",de=B.B00005&&B.B00005.value?"1":"0",ue=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],pe={};pe="1"==l?Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:C&&"2"==C.policy_for?"":"B00015",B00006:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00006":"",B00010:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:C&&"2"==C.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:W,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList()}):Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:C&&C.pa_flag?C.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:W,trailer_flag_TP:"0",B00015:"",B00010:"",trailer_array:this.initClaimDetailsList()});for(var _e=0;_e<Z.length;_e++)$[Z[_e]]=Z[_e];$.slider=L,$.PA_flag=U,$.trailer_flag=K,$.pa_coolie_flag=X,$.electric_flag=ee,$.nonElectric_flag=ae,$.hospital_cash_OD_flag=te,$.hospital_cash_PD_flag=ne,$.LL_PD_flag=re,$.LL_Emp_flag=le,$.LL_Coolie_flag=oe,$.enhance_PA_OD_flag=se,$.ATC_flag=ce,$.LL_workman_flag=ie,$.PA_Cover=Q,$.trailer_flag_TP=me,$.CNG_OD_flag=de,$.ATC_value=B.ATC?B.ATC.value:"",$.B00018_value=B.B00018?B.B00018.value:"",$.B00069_value=B.B00069?B.B00069.value:"",$.B00012_value=B.B00012?B.B00012.value:"",$.B00013_value=B.B00013?B.B00013.value:"",$.B00022_value=B.B00022?B.B00022.value:"",$.B00020_value=B.B00020?B.B00020.value:"",$.B00004_value=B.B00004?B.B00004.value:"",$.B00004_description=B.B00004?B.B00004.description:"",$.B00003_value=B.B00003?B.B00003.value:"",$.B00003_description=B.B00003?B.B00003.description:"",$.B00073_value=B.B00073?B.B00073.value:"",$.B00073_description=B.B00073?B.B00073.description:"",$.B00007_value=B.B00007?B.B00007.value:"",$.B00007_description=B.B00007?B.B00007.description:"",$.B00070_value=B.B00070?B.B00070.value:"",$.B00005_value=B.B00005?B.B00005.value:"",pe=Object.assign(M,$);P.PolicyLobList&&P.PolicyLobList[0].PolicyRiskList[0];var ge=0;n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?ge+=e.BeforeVatPremium:0}))}));var fe=1,he=1,ve=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,F[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium)))):"B00007"==e.ProductElementCode&&1==fe?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,F[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6,data:fe+=1},p.a.createElement(f.a,null,"\u20b9 ",Math.round(ge)))):null)}))})):null,Ee=O&&0!=O&&1==he?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,ue.NCBDiscount)),p.a.createElement(_.a,{sm:12,md:6,data:he+=1},p.a.createElement(f.a,null,"\u20b9 - ",Math.round(O)))):null,ye=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,ue.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null;fe=1,he=1;var be=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?p.a.createElement("tr",null,p.a.createElement("td",null,F[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium))):"B00007"==e.ProductElementCode&&1==fe?p.a.createElement("tr",{label:fe+=1},p.a.createElement("td",null,F[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(ge))):null}))})):null,Ne=O&&0!=O&&1==he?p.a.createElement("tr",{label:he+=1},p.a.createElement("td",null,ue.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 - ",Math.round(O))):null,Se=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,ue.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,we=t&&t.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,ke=m?m.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherComprehens"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},ue.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},ue.GSBVehicleDamage),p.a.createElement("h5",null,we),p.a.createElement("h5",null,ke))),p.a.createElement(b.e,{initialValues:pe,onSubmit:P&&""!=P?P.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:j},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,s=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:ue.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},ve,Ee,ye))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ue.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},ue[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ue.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&s.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},ue[n.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},ue.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},ue[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:ue.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&s.engine_no?p.a.createElement("span",{className:"errorMsg"},ue[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:ue.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&s.chasis_no?p.a.createElement("span",{className:"errorMsg"},ue[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ue.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:L}),n.IDV&&s.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),L?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",min:V,max:G,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:L,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ue.BodyIDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"body_idv_value",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:z}),n.body_idv_value&&s.body_idv_value?p.a.createElement("span",{className:"errorMsg"},n.body_idv_value):null))),L?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider1",min:0,max:J,step:"1",disabled:0==e.state.bodyIdvStatus?"disabled":"",value:z,onChange:function(a){l("slider1"),r("slider1",t.slider1),e.bodySliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},ue.AddMoreCoverage)))),n.B00007||n.B00011?p.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,d&&d.length>0?d.map((function(a,o){return p.a.createElement(g.a,{key:o},C&&"2"==C.policy_for&&"B00015"!=a.code&&"B00018"!=a.code||C&&"1"==C.policy_for?p.a.createElement(_.a,{sm:12,md:11,lg:5,key:o+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(ue.SwalIRDAI,{button:ue.OK}),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},p.a.createElement("option",{value:""},ue.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:ue.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?p.a.createElement("span",{className:"errorMsg"},ue[n.B00007_description]):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ue.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00073_value?p.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:ue.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?p.a.createElement("span",{className:"errorMsg"},n.B00073_description):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:ue.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:ue.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},ue[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:ue.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:ue.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},ue[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ue.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00020_value?p.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ue.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00022_value?p.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ue.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:ue.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:ue.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?p.a.createElement("span",{className:"errorMsg"},ue[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:ue.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?p.a.createElement("span",{className:"errorMsg"},n.B00018_value):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:ue.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?p.a.createElement("span",{className:"errorMsg"},n.B00070_value):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ue.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.ATC_value?p.a.createElement("span",{className:"errorMsg"},n.ATC_value):null)))):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,s,l,r,ue):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},ue.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ue.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ue.No)),n.puc&&s.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,x)},ue.Back),P&&""!=P?P.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ue.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ue.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ue.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",ue.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",o.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},ue.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,ue.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,ue.Premium,":"),p.a.createElement("th",null,"\u20b9 ",o.DuePremium))),p.a.createElement("tbody",null,be,Ne,Se,p.a.createElement("tr",null,p.a.createElement("td",null,ue.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,ue.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(q))},1279:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 100 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired(),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("RequiredField"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBank"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBankBranch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_MISCDST/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:7,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_MISCDST/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("miscd/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_MISCDST/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("miscd/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox adiDetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"18"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var r,v=e.values,E=e.errors,y=e.setFieldValue,w=e.setFieldTouched,B=(e.isValid,e.isSubmitting),x=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==v.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==v.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),E.is_carloan&&x.is_carloan?i.a.createElement("span",{className:"errorMsg"},E.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_name}),E.bank_name&&x.bank_name?i.a.createElement("span",{className:"errorMsg"},z[E.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_branch}),E.bank_branch&&x.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[E.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),E.salutation_id&&x.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[E.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==v.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.first_name}),E.first_name&&x.first_name?i.a.createElement("span",{className:"errorMsg"},z[E.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.gstn_no.toUpperCase(),onChange:function(e){return y("gstn_no",e.target.value.toUpperCase())}}),E.gstn_no&&x.gstn_no?i.a.createElement("span",{className:"errorMsg"},E.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.gender&&x.gender?i.a.createElement("span",{className:"errorMsg"},z[E.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");y("dob",a),y("age",e.target.value)}}),E.age&&x.age?i.a.createElement("span",{className:"errorMsg"},z[E.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:v.date_of_incorporation,onChange:function(e){w("date_of_incorporation"),y("date_of_incorporation",e)}}),E.date_of_incorporation&&x.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[E.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.phone,maxLength:"10",className:"phoneinput pd-l-25"}),E.phone&&x.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[E.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.address}),E.address&&x.address?i.a.createElement("span",{className:"errorMsg"},z[E.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,(r={name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxLength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:v.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){w("state"),w("pincode"),y("pincode",e.target.value),y("state",L?L[0]:v.state),y("pincode_id","")})),r)),E.pincode&&x.pincode?i.a.createElement("span",{className:"errorMsg"},z[E.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:v.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),E.pincode_id&&x.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[E.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||v.state,disabled:!0}),E.state&&x.state?i.a.createElement("span",{className:"errorMsg"},z[E.state]):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:v.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),E.org_level&&x.org_level?i.a.createElement("span",{className:"errorMsg"},z[E.org_level]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null):null,i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),E.nominee_salutation&&x.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_first_name}),E.nominee_first_name&&x.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.nominee_gender&&x.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),y("nominee_dob",t),y("nominee_age",e.target.value)}}),E.nominee_age&&x.nominee_age?i.a.createElement("span",{className:"errorMsg"},E.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:v.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id},e.name):null}))),E.nominee_relation_with&&x.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.appointee_name}),E.appointee_name&&x.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:v.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id},e.name)}))),E.appointee_relation_with&&x.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIANumber,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account&&x.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:v.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),E.eia_no&&x.eia_no?i.a.createElement("span",{className:"errorMsg"},z[E.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account2&&x.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:v.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),E.tpaInsurance&&x.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[E.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!B,onClick:a.otherComprehensive.bind(a,J)},B?z.Wait:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!B},B?z.Wait:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1280:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(25),S={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,lapse_duration:""},w=h.object().shape({check_registration:h.string().notRequired(),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.g)(e)})),otherwise:h.string().nullable()}),policy_type:h.string().required("PleaseSPT"),policy_for:h.string().required("PleasePIC"),subclass_id:h.string().required("PleaseSSP"),lapse_duration:h.string().when("policy_type",{is:"3",then:h.string().required("LapseDuration"),otherwise:h.string()})}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;p.a.get("pcv/policy-holder/details/".concat(a)).then((function(a){console.log("checking====",a.data);var n=JSON.parse(t.decrypt(a.data));if(n.data.policyHolder){var r=n.data.policyHolder,l=0;for(var o in r)r.hasOwnProperty(o)&&l++}var s=l>0?n.data.policyHolder.motorinsurance:[];e.setState({motorInsurance:s}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new y.a;e.props.loadingStart(),p.a.get("gcv/sub-vehical-list/".concat(12)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=new FormData,r=new y.a,l=e.state,o=(l.fastLaneData,l.fastlanelog),s={},c={},i="";"2"==a.check_registration?(c={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},i=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four):(c={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},i="NEW");var m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(r.decrypt(d))),a.check_registration&&1==a.check_registration?sessionStorage.setItem("check_registration",1):sessionStorage.setItem("check_registration",2),m>0?(s=sessionStorage.getItem("csc_id")?{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:12,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",lapse_duration:a.lapse_duration,policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:"",page_name:"Registration_PCV/".concat(t)}:{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:12,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:"",page_name:"Registration_PCV/".concat(t)},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("pcv/update-registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("errror ======="/n.error),0==n.error?e.props.history.push("/SelectBrand_PCV/".concat(t)):E()(n.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(r.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&E()("Registration number required..."),e.props.loadingStop()}))):(s=sessionStorage.getItem("csc_id")?{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:12,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",lapse_duration:a.lapse_duration,page_name:"Registration_PCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:12,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_PCV/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("pcv/registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),e.props.loadingStop(),0==n.error?(localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),e.props.history.push("/SelectBrand_PCV/".concat(t))):E()(n.msg)})).catch((function(a){e.props.loadingStop(),a&&a.data&&E()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers&&JSON.parse(t.registration_part_numbers),l=Object.assign(S,{reg_number_part_one:"undefined"==typeof r?"":r&&r.reg_number_part_one,reg_number_part_two:"undefined"==typeof r?"":r&&r.reg_number_part_two,reg_number_part_three:"undefined"==typeof r?"":r&&r.reg_number_part_three,reg_number_part_four:"undefined"==typeof r?"":r&&r.reg_number_part_four,regNumber:t&&t.registration_no?t.registration_no:"",policy_type:t&&t.policytype_id?t.policytype_id:"",policy_for:t&&t.policy_for?t.policy_for:"",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2",lapse_duration:t&&t.lapse_duration?t.lapse_duration:""}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid asd"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},o.About),c.a.createElement(b.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:w},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,m=(a.isValid,a.isSubmitting,a.touched);return console.log("values========",t),c.a.createElement(b.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.customerType),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Individual))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Corporate)),r.policy_for&&m.policy_for?c.a.createElement("span",{className:"errorMsg"},o[r.policy_for]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.businessType),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"1",key:"1",checked:"1"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.NewPolicy))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","2"),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.RollOver))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","3"),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.LapsedPolicy)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),"3"==t.policy_type?c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.LapseDuration),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"1",key:"1",checked:"1"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.BeforeNinety))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"2",key:"1",checked:"2"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.OverNinety)),r.lapse_duration&&m.lapse_duration?c.a.createElement("span",{className:"errorMsg"},o[r.lapse_duration]):null)))):null,c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(b.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},c.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return c.a.createElement("option",{value:e.subclass_id,key:a,disabled:"2"!=e.subclass_id},e.subclass_title)}))),r.subclass_id&&m.subclass_id?c.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(m.reg_number_part_one||m.reg_number_part_two||m.reg_number_part_three||m.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,c.a.createElement(b.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),c.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(m.looking_for_2||m.looking_for_3||m.looking_for_4)?c.a.createElement("span",{className:"error-message"},r.check_registration):""):null,c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),c.a.createElement(u.a,null)))))))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(k))},1281:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("pcv/vehicle/brand-with-image/".concat(12,"/").concat(n)).then((function(e){var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("pcv/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("pcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n.data.policyHolder);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};console.log("vehicle",l),t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_PCV/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.state.brandName="",t.props.history.push("/SelectBrand_PCV/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("pcv/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("varient",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o,s){console.log("varient1 --------- ",s.horse_power),t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,carrying:o,body_style:l&&l.DESCRIPTION,wheels_capacity:s.wheels,power:s.horse_power})},t.setOtherVarient=function(e,a,n,r,l,o,s,c,i){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,carrying:c,body_style:s&&s.DESCRIPTION,wheels_capacity:i.wheels})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=r.carrying,i=r.wheels_capacity,m=c||(l?"":s&&s.varientmodel&&s.varientmodel.carrying?s.varientmodel.carrying:""),d=i||(s&&s.varientmodel?s.varientmodel.wheels:""),u=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==u||null==u||void 0==u)return k()(a.PleaseVBrand),!1;if(!(3==d&&m<=6))return k()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online. Please call 1800 22 1111"),!1;var p=new FormData,_=new D.a,g={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_PCV/".concat(n)};p.append("enc_data",_.encrypt(JSON.stringify(g))),console.log("Post Date---------- ",g),t.props.loadingStart(),y.a.post("pcv/insert-brand-model-varient",p).then((function(e){t.props.loadingStop();var a=JSON.parse(_.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_PCV/".concat(n)))})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],carrying:"",body_style:"",searchText:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.carrying,C=a.body_style,D=this.props.match.params.productId,B=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")}),A=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return console.log("motor==",this.state.motorInsurance),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},A.SBIGICL),i.a.createElement(v.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,A.PCVSelectBrand," "),i.a.createElement("p",null,A.PCVDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},A.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},A.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.PCVBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.PCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.bodystyle?w.varientmodel.bodystyle.DESCRIPTION:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Power,i.a.createElement("br",null),i.a.createElement("strong",null,e.state.power?e.state.power+" BHP":w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.carryingCapacity,i.a.createElement("br",null),i.a.createElement("strong",null,k||(s?"":w&&w.varientmodel&&w.varientmodel.carrying?w.varientmodel.carrying:"")," "))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,A.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:A.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.bodystyle,t.carrying,t)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.bodystyle,t.carrying,t)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.bodystyle,n.carrying,n)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.bodystyle,n.carrying,n)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},A.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1282:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(11),s=t(13),c=t(14),i=t(18),m=t(17),d=t(0),u=t.n(d),p=t(903),_=t(904),g=t(913),f=t(377),h=t(41),v=t.n(h),E=t(31),y=t(34),b=t(40),N=t(38),S=t(19),w=t(22),k=t(1),C=t(2),P=t(7),D=t(3),I=t.n(D),M=t(9),B=t(28),A=t(138),O=t.n(A),x=t(61),H=t(25),R=t(20),L=t.n(R),j=(new Date("Y"),new B.a,I()(I()().subtract(1,"years").calendar()).add(1,"day").calendar()),F=I()(I()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),q=I()(I()().subtract(1,"years").calendar()).add(0,"day").calendar(),T=I()(I()().subtract(1,"month").calendar()).add(1,"day").calendar(),V=I()(I()().subtract(1,"years").calendar()).add(30,"day").calendar(),G=I()().subtract(1,"years").calendar(),Y=I()().subtract(20,"years").calendar(),J=I()(I()().subtract(9,"months").calendar()).add(1,"day").calendar(),z=I()(I()().subtract(1,"years").calendar()).add(31,"day").calendar(),Z={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",proposed_used_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],duration:""},$=k.object().shape({registration_date:k.string().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(H.b)(e,z)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(H.b)(e,new Date)&&Math.floor(I()(J).diff(e,"days",!0)<=0)})).test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(H.b)(e,this.parent.previous_start_date)})),location_id:k.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),previous_start_date:k.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.date(),otherwise:k.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new B.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(H.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:k.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.date(),otherwise:k.date().test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new B.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(H.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_policy_name:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),insurance_company_id:k.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.number(),otherwise:k.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)}))}),previous_city:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/\\.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"}))}),previous_policy_no:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),previous_claim_bonus:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!(!("0"!=this.parent.previous_is_claim||"1"!=this.parent.previous_policy_name||e&&"1"!=e)&&Math.floor(I()().diff(this.parent.previous_end_date,"days",!0))<=90)})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&"2"==this.parent.no_of_claim&&Math.floor(I()().diff(this.parent.previous_end_date,"days",!0))<=90)}))}),previous_is_claim:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){new B.a;return!("2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.previous_policy_name&&Math.floor(I()().diff(this.parent.previous_end_date,"days",!0))<=90&&!e)}))}),no_of_claim:k.string().when(["previous_is_claim"],{is:function(e){return"1"==e},then:k.string().required("PleasePNOC"),otherwise:k.string()}),valid_previous_policy:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().required((function(){return"RequiredField"}))}),proposed_used_id:k.string().required("PleaseSPUID"),averagemonthlyusages_id:k.string().required("PleaseSAM"),permittypes_id:k.string().required("PleaseSTOP"),claim_array:k.array().of(k.object().shape({claim_year:k.string((function(){return"Please enter claim year"})).required((function(){return"Please enter claim year"})).matches(/^[0-9]*$/,(function(){return"Invalid Year"})),claim_amount:k.string((function(){return"Please enter claim amount"})).required((function(){return"Please enter claim amount"})).matches(/^[0-9]*$/,(function(){return"Invalid Amout"})),type_of_claim:k.string((function(){return"Please enter type of claim"})).required((function(){return"Please enter type of claim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"Invalid Value"}))})),duration:k.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:k.string().required("Previous policy duration required"),otherwise:k.string()})}),U=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=a.call.apply(a,[this].concat(l))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(o.a)(e,"previous_is_claim",""),Object(o.a)(e,"vehicleDetails",[]),Object(o.a)(e,"averagemonthlyusages",[]),Object(o.a)(e,"proposedUse",[]),Object(o.a)(e,"permittypes",[]),Object(o.a)(e,"location_reset_flag",0),Object(o.a)(e,"changeFlag",0),Object(o.a)(e,"no_of_claim",[]),e),n.dateRange=function(){return"2008"},n.onChange=function(e,a){a("location_id","")},n.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),n.props.history.push("/SelectBrand_PCV/".concat(e))},n.selectBrand=function(e){n.props.history.push("/SelectBrand_PCV/".concat(e))},n.showClaimText=function(e,a){1==e?n.setState({showClaim:!0,previous_is_claim:1}):(n.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.onChangeCustomerID=function(e,a){var t=a.newValue,r=(a.method,n.state.motorInsurance&&n.state.motorInsurance.location_id?1:0);n.setState({CustomerID:t,RTO_location:"",location_reset_flag:r,changeFlag:1})},n.SuggestionSelected=function(e,a,t){n.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},n.onSuggestionsFetchCustomerID=function(e){var a=e.value;n.setState({suggestions:n.getCustomerIDSuggestions(a)})},n.getCustomerIDSuggestionValue=function(e){return n.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},n.handleSubmit=function(e,a){var t=n.props.match.params.productId,r=n.state,l=r.motorInsurance,s=r.changeFlag,c=Math.floor(I()().diff(e.registration_date,"months",!0));if(1==s)return L()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return L()("Please fill all claim details"),!1;(Math.floor(I()().diff(e.previous_end_date,"days",!0))>90||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(e.previous_claim_bonus=1);var i,m=new FormData,d=new M.a,u={};if("2"==e.policy_type_id||"3"==e.policy_type_id&&"1"==e.lapse_duration)i={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:I()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?I()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?I()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:c,policy_type:1,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetails/".concat(t),claim_array:JSON.stringify(e.claim_array)},Object(o.a)(i,"no_of_claim",e.no_of_claim),Object(o.a)(i,"page_name","VehicleDetails_PCV/".concat(t)),Object(o.a)(i,"duration",e.duration),Object(o.a)(i,"proposed_used_id",e.proposed_used_id),Object(o.a)(i,"averagemonthlyusage_id",e.averagemonthlyusages_id),Object(o.a)(i,"permittype_id",e.permittypes_id),Object(o.a)(i,"is_new_policy",0),u=i;else if("1"==e.policy_type_id||"3"==e.policy_type_id&&"2"==e.lapse_duration){var p;p={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:I()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_is_claim:"0",previous_claim_bonus:1,vehicleAge:c,policy_type:1,prev_policy_flag:0,valid_previous_policy:0,page_name:"VehicleDetails/".concat(t),claim_array:JSON.stringify(e.claim_array),no_of_claim:e.no_of_claim},Object(o.a)(p,"page_name","VehicleDetails_PCV/".concat(t)),Object(o.a)(p,"duration",e.duration),Object(o.a)(p,"proposed_used_id",e.proposed_used_id),Object(o.a)(p,"averagemonthlyusage_id",e.averagemonthlyusages_id),Object(o.a)(p,"permittype_id",e.permittypes_id),Object(o.a)(p,"is_new_policy",0),u=p}l&&"1"==l.policytype_id&&l&&""==l.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",u),m.append("enc_data",d.encrypt(JSON.stringify(u))),n.props.loadingStart(),P.a.post("pcv/insert-vehicle-details",m).then((function(e){var r=JSON.parse(d.decrypt(e.data));console.log("decrypt",r),n.props.loadingStop(),0==r.error?n.props.history.push("/OtherComprehensive_PCV/".concat(t)):a.setSubmitting(!1)})).catch((function(e){n.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},n.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;n.props.loadingStart(),P.a.get("/company/1/".concat(e)).then((function(e){n.setState({insurerList:e.data.data}),n.getAllAddress()})).catch((function(e){n.setState({insurerList:[]}),n.props.loadingStop()}))},n.fetchProposedUse=function(){n.props.match.params.productId;var e=new M.a;n.props.loadingStart(),P.a.post("pcv/proposed-use").then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decrypt--fetchProposedUse------ ",t);var r=t.data;n.setState({proposedUse:r}),n.fetchData()})).catch((function(e){n.props.loadingStop()}))},n.fetchVehicleCarryingList=function(){n.props.match.params.productId;var e=new M.a;n.props.loadingStart(),P.a.get("gcv/carrying-capacity-list/12 ").then((function(a){var t=JSON.parse(e.decrypt(a.data)),r=t.data?t.data.averagemonthlyusages:[],l=t.data?t.data.permittypes:[];console.log("decrypt--fetchSubVehicle------ ",r[0].averagemonthlyusage_id),n.setState({averagemonthlyusages:r,permittypes:l}),n.fetchProposedUse()})).catch((function(e){n.props.loadingStop()}))},n.fetchData=function(){n.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new M.a;P.a.get("pcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t),console.log("lapseduration===",t.data.policyHolder.motorinsurance);var r=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};r.valid_previous_policy=r.policytype_id&&"1"==r.policytype_id?"0":r.valid_previous_policy;var l=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{};console.log("vehicleDetails",o);var s=l&&l.previouspoliciesclaims?l.previouspoliciesclaims.length:"",c=r&&r.rtolocation&&r.rtolocation.RTO_LOCATION?r.rtolocation.RTO_LOCATION:"",i=!l||0!=l.is_claim&&1!=l.is_claim?"":l.is_claim;n.setState({motorInsurance:r,previousPolicy:l,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.handleChange=function(e){var a=I()(e).add(1,"years").format("YYYY-MM-DD");n.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},n.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var r=t;r>=a;r--)e.claim_array.splice(r,1);else if(e.claim_array.length<a)for(r=e.claim_array.length;r<a;r++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"OwnDamage"});n.setState({no_of_claim:a})},n.initClaimDetailsList=function(){for(var e=n.state.previousPolicy,a=e&&e.previouspoliciesclaims?e.previouspoliciesclaims:[],t=[],r=0;r<n.state.no_of_claim;r++)t.push({claim_amount:a&&a[r]&&a[r].claim_amount?a[r].claim_amount:"",claim_year:a&&a[r]&&a[r].claim_year?a[r].claim_year:"",type_of_claim:"Own Damage"});return t},n.handleClaims=function(e,a,t,r,l){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),i=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),m=0;m<e.no_of_claim;m++)s.push(u.a.createElement(p.a,{className:"m-b-30"},u.a.createElement(_.a,{sm:12,md:6,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"claim_array[".concat(m,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},u.a.createElement("option",{value:""},o.SelectYear),u.a.createElement("option",{value:c},c),u.a.createElement("option",{value:i},i)),a.claim_array&&a.claim_array[m]&&a.claim_array[m].claim_year?u.a.createElement("span",{className:"errorMsg"},a.claim_array[m].claim_year):null))),u.a.createElement(_.a,{sm:12,md:6,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"claim_array[".concat(m,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[m]&&a.claim_array[m].claim_amount?u.a.createElement("span",{className:"errorMsg"},a.claim_array[m].claim_amount):null))),u.a.createElement(_.a,{sm:12,md:6,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"claim_array[".concat(m,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[m]&&a.claim_array[m].type_of_claim?u.a.createElement("span",{className:"errorMsg"},a.claim_array[m].type_of_claim):null)))));return s},n.registration=function(e){n.props.history.push("/Registration_PCV/".concat(e))},n}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return u.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new M.a;P.a.get("gcv/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.insurerList,o=t.showClaim,s=t.previous_is_claim,c=t.motorInsurance,i=t.previousPolicy,m=t.CustomerID,h=t.suggestions,N=t.vehicleDetails,S=t.RTO_location,w=t.averagemonthlyusages,k=t.proposedUse,P=t.permittypes,D=t.location_reset_flag,M=new Date,B=i&&i.start_date?new Date(i.start_date):"",A=i&&i.start_date?B.getDate():M.getDate(),H=i&&i.start_date?B.getMonth():M.getMonth(),R=i&&i.start_date?B.getFullYear():M.getFullYear()-1,L=(new Date(R,H,A),Object.assign(Z,{registration_date:c&&c.registration_date?new Date(c.registration_date):"",location_id:c&&c.location_id&&0==D?c.location_id:"",previous_start_date:i&&i.start_date?new Date(i.start_date):"",previous_end_date:i&&i.end_date?new Date(i.end_date):"",previous_policy_name:i&&i.name?i.name:"",insurance_company_id:i&&i.insurancecompany&&i.insurancecompany.Id?i.insurancecompany.Id:"",previous_city:i&&i.city?i.city:"",previous_policy_no:i&&i.policy_no?i.policy_no:"",previous_is_claim:s,previous_claim_bonus:i&&(i.claim_bonus||0==i.claim_bonus)?i.claim_bonus.toString():"1",no_of_claim:i&&i.previouspoliciesclaims?i.previouspoliciesclaims.length:"",policy_type_id:c&&c.policytype_id?c.policytype_id:"",valid_previous_policy:!c||0!=c.valid_previous_policy&&1!=c.valid_previous_policy?"":c.valid_previous_policy,duration:i&&i.duration?i.duration:"",lapse_duration:c&&c.lapse_duration?c.lapse_duration:"",averagemonthlyusages_id:c&&c.averagemonthlyusage_id?c.averagemonthlyusage_id:"",proposed_used_id:N&&N.proposed_used_id?N.proposed_used_id:"",permittypes_id:c&&c.permittype_id?c.permittype_id:"",claim_array:this.initClaimDetailsList()})),z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,U={placeholder:z.SearchCity,value:m||S,onChange:this.onChangeCustomerID};return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("aside",{className:"left-sidebar"},u.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},u.a.createElement(y.a,null))),u.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand2"},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),u.a.createElement("section",{className:"brand m-b-25"},u.a.createElement("div",{className:"d-flex justify-content-left"},u.a.createElement("div",{className:"brandhead"},u.a.createElement("h4",{className:"fs-18 m-b-30"},z.PleaseVehicleDetails,"."))),u.a.createElement("div",{className:"brand-bg"},u.a.createElement(C.e,{initialValues:L,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:$},(function(t){var i=t.values,m=t.errors,E=t.setFieldValue,y=t.setFieldTouched,b=(t.isValid,t.isSubmitting),S=t.touched;return console.log("errors-------------- ",m),console.log("values======",i),console.log("lapse duration=========",e.state.motorInsurance.lapse_duration),u.a.createElement(C.d,{enableReinitialize:!0},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:9,lg:9},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"fs-18"},z.FirstRegDate))),u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"registration_date",minDate:"1"==i.policy_type_id?new Date(J):new Date(Y),maxDate:"1"==i.policy_type_id?new Date:new Date(q),dateFormat:"dd MMM yyyy",placeholderText:z.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:i.registration_date,onChange:function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("registration_date"),e.next=3,E("registration_date",a);case 3:E("previous_end_date",""),E("previous_start_date","");case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),m.registration_date&&S.registration_date?u.a.createElement("span",{className:"errorMsg"},z[m.registration_date]):null))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:4,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"fs-18"},z.RegCity))),u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(O.a,{suggestions:h,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:U,onChange:function(a){return e.onChange(a,E)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;e.SuggestionSelected(y,E,n)}}),m.location_id&&S.location_id?u.a.createElement("span",{className:"errorMsg"},z[m.location_id]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"proposed_used_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:i.proposed_used_id},u.a.createElement("option",{value:""},z.SelectProposedUsage),k.map((function(e,a){return u.a.createElement("option",{value:e.id},e.description)}))),m.proposed_used_id&&S.proposed_used_id?u.a.createElement("span",{className:"errorMsg"},z[m.proposed_used_id]):null))),u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"averagemonthlyusages_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:i.averagemonthlyusages_id},u.a.createElement("option",{value:""},z.GCVMonthlyUse),w.map((function(e,a){return u.a.createElement("option",{value:e.averagemonthlyusage_id},e.usage_description)}))),m.averagemonthlyusages_id&&S.averagemonthlyusages_id?u.a.createElement("span",{className:"errorMsg"},z[m.averagemonthlyusages_id]):null))),u.a.createElement(_.a,{sm:12,md:11,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"permittypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:i.permittypes_id},u.a.createElement("option",{value:""},z.GCVPermit),P.map((function(e,a){return u.a.createElement("option",{value:e.id},e.permittype)}))),m.permittypes_id&&S.permittypes_id?u.a.createElement("span",{className:"errorMsg"},z[m.permittypes_id]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null,"\xa0 "))))),"2"==i.policy_type_id||"3"==i.policy_type_id&&"1"==i.lapse_duration?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ",z.GCVValidPolicy,"  ? "))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"d-inline-flex m-b-35"},u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){y("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"0"==i.valid_previous_policy}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",z.No))),u.a.createElement("div",{className:""},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){y("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"1"==i.valid_previous_policy}),u.a.createElement("span",{className:"checkmark"}),u.a.createElement("span",{className:"fs-14"},z.Yes)),m.valid_previous_policy&&S.valid_previous_policy?u.a.createElement("span",{className:"errorMsg"},z[m.valid_previous_policy]):null)))))):null,("2"==i.policy_type_id||"3"==i.policy_type_id&&"1"==i.lapse_duration)&&"1"==i.valid_previous_policy?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," "))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ",z.PPD))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:11,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:i.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(i.duration&&i.previous_start_date){var a;a=I()(I()(i.previous_start_date).add(i.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),E("previous_end_date",new Date(a))}else E("previous_end_date","");else if(i.previous_start_date){var t=new Date(i.previous_start_date);t=t.setFullYear(t.getFullYear()+1);var n=new Date(t);n=n.setDate(n.getDate()-1),E("previous_policy_name",e.target.value),E("previous_end_date",new Date(n))}E("previous_policy_name",e.target.value)}},u.a.createElement("option",{value:""},z.SPT),u.a.createElement("option",{value:"1"},z.Package),u.a.createElement("option",{value:"2"},z.LiabilityOnly)),m.previous_policy_name&&S.previous_policy_name?u.a.createElement("span",{className:"errorMsg"},z[m.previous_policy_name]):null))),"3"==i.previous_policy_name?u.a.createElement(_.a,{sm:12,md:5,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:i.duration,onChange:function(e){var a=new Date;i.previous_start_date&&(a=I()(I()(i.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),E("previous_end_date",new Date(a))),E("duration",e.target.value)}},u.a.createElement("option",{value:""},"Select Duration"),u.a.createElement("option",{value:"1"}," One Month"),u.a.createElement("option",{value:"2"}," Two Month"),u.a.createElement("option",{value:"3"}," Three Month"),u.a.createElement("option",{value:"4"}," Four Month"),u.a.createElement("option",{value:"5"}," Five Month"),u.a.createElement("option",{value:"6"}," Six Month"),u.a.createElement("option",{value:"7"}," Seven Month"),u.a.createElement("option",{value:"8"}," Eight Month")),m.duration&&S.duration?u.a.createElement("span",{className:"errorMsg"},m.duration):null))):null,u.a.createElement(_.a,{sm:12,md:11,lg:"3"==i.previous_policy_name?3:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"previous_start_date",minDate:"3"==i.policy_type_id?new Date(F):new Date(j),maxDate:"3"==i.previous_policy_name?new Date(T):"3"==i.policy_type_id?new Date(G):new Date(V),dateFormat:"dd MMM yyyy",placeholderText:z.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:i.previous_start_date,onChange:function(e){var a=new Date(e),t=new Date(e);new Date(e);if("3"==i.previous_policy_name)i.duration&&(t=I()(I()(e).add(i.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"));else if("1"==i.previous_policy_name||"2"==i.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1)}y("previous_start_date"),E("previous_end_date",new Date(t)),E("previous_start_date",e)}}),m.previous_start_date&&S.previous_start_date?u.a.createElement("span",{className:"errorMsg"},z[m.previous_start_date]):null)),u.a.createElement(_.a,{sm:12,md:11,lg:"3"==i.previous_policy_name?3:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:z.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:i.previous_end_date}),m.previous_end_date&&S.previous_end_date?u.a.createElement("span",{className:"errorMsg"},z[m.previous_end_date]):null))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},u.a.createElement("option",{value:""},z.SelectInsurer),n.map((function(e,a){return u.a.createElement("option",{key:a,value:e.Id},e.name)}))),m.insurance_company_id&&S.insurance_company_id?u.a.createElement("span",{className:"errorMsg"},z[m.insurance_company_id]):null))),u.a.createElement(_.a,{sm:12,md:5,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(C.b,{name:"previous_city",type:"text",placeholder:z.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),m.previous_city&&S.previous_city?u.a.createElement("span",{className:"errorMsg"},z[m.previous_city]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(C.b,{name:"previous_policy_no",type:"text",placeholder:z.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),m.previous_policy_no&&S.previous_policy_no?u.a.createElement("span",{className:"errorMsg"},z[m.previous_policy_no]):null)))),("1"==i.previous_policy_name||"3"==i.previous_policy_name)&&Math.floor(I()().diff(i.previous_end_date,"days",!0))<=90?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," "))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null,z.ClaimODPolicy))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"d-inline-flex m-b-35"},u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){y("previous_is_claim"),E("previous_is_claim",a.target.value),E("no_of_claim",""),e.showClaimText(0,i)},checked:"0"==i.previous_is_claim}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",z.NoIHavent))),u.a.createElement("div",{className:""},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){y("previous_is_claim"),E("previous_is_claim",a.target.value),E("no_of_claim",""),e.showClaimText(1,i)},checked:"1"==i.previous_is_claim}),u.a.createElement("span",{className:"checkmark"}),u.a.createElement("span",{className:"fs-14"},z.YesIHave)),m.previous_is_claim&&S.previous_is_claim?u.a.createElement("span",{className:"errorMsg"},z[m.previous_is_claim]):null))))),"2"==i.previous_claim_for||"0"==s?u.a.createElement(p.a,{className:"m-b-30"},u.a.createElement(_.a,{sm:12,md:5,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"fs-18"},z.SelectNCB))),u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:i.previous_claim_bonus},u.a.createElement("option",{value:""},"--",z.Select,"--"),u.a.createElement("option",{value:"0"},"0"),u.a.createElement("option",{value:"20"},"20"),u.a.createElement("option",{value:"25"},"25"),u.a.createElement("option",{value:"35"},"35"),u.a.createElement("option",{value:"45"},"45"),u.a.createElement("option",{value:"50"},"50")),m.previous_claim_bonus&&S.previous_claim_bonus?u.a.createElement("span",{className:"errorMsg"},z[m.previous_claim_bonus]):null)))):null,o||1==s?u.a.createElement(p.a,{className:"m-b-30"},u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:i.no_of_claim,onChange:function(a){y("no_of_claim"),E("no_of_claim",a.target.value),e.handleNoOfClaims(i,a.target.value)}},u.a.createElement("option",{value:""},z.NoOfClaims),u.a.createElement("option",{value:"1"},"1"),u.a.createElement("option",{value:"2"},"2"),u.a.createElement("option",{value:"3"},"3"),u.a.createElement("option",{value:"4"},"4"),u.a.createElement("option",{value:"5"},"5"),u.a.createElement("option",{value:"6"},"6"),u.a.createElement("option",{value:"7"},"7"),u.a.createElement("option",{value:"8"},"8"),u.a.createElement("option",{value:"9"},"9"),u.a.createElement("option",{value:"10"},"10")),m.no_of_claim&&S.no_of_claim?u.a.createElement("span",{className:"errorMsg"},z[m.no_of_claim]):null)))):null,""!=i.no_of_claim||"0"==s?e.handleClaims(i,m,S,y,E):null):null):null,u.a.createElement("div",{className:"d-flex justify-content-left resmb"},u.a.createElement(f.a,{className:"backBtn",type:"button",disabled:!!b,onClick:e.selectBrand.bind(e,a)},b?z.Wait:z.Back),u.a.createElement(f.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?z.Wait:z.Next))),u.a.createElement(_.a,{sm:12,md:3},u.a.createElement("div",{className:"regisBox"},u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr resmb-15"},z.RegNo,".",u.a.createElement("br",null),c&&c.registration_no),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},z.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr resmb-15"},z.PCVBrand,"- ",u.a.createElement("strong",null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:"")),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},z.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},z.PCVModel,u.a.createElement("br",null),u.a.createElement("strong",null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:"")),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},z.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},z.BodyStyle,u.a.createElement("br",null),u.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.bodystyle?N.varientmodel.bodystyle.DESCRIPTION:""))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},z.Power,u.a.createElement("br",null),u.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.horse_power?N.varientmodel.horse_power+" BHP":""))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},z.carryingCapacity,u.a.createElement("br",null),u.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.carrying?N.varientmodel.carrying:""," "))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},z.Fuel,u.a.createElement("br",null),u.a.createElement("strong",null,N&&N.varientmodel&&N.varientmodel.fueltype?x.a[N.varientmodel.fueltype.id]:null," ")))))))})))),u.a.createElement(b.a,null)))))))}}]),t}(d.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(U))},1283:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=t(0),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(25),R=t(99),L=new I.a,j=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],F=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA coverage"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("Please select additional towing charges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("Please enter No. of workman").matches(/^[0-9]*$/,"Please provide valid No."),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide enhance PA coverage").test("isLoanChecking",(function(){return"Value should be 16L to 50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("checkCharacter",(function(){return"Please provide valid IDV"}),(function(e){if(e){var a=/^[0-9]*$/;return console.log("checkb",e.match(a)),!!e.match(a)}return!0})).test("minimumValue",(function(){return"Minimum IDV should be 1000"}),(function(e){return!e||e>=1e3})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("checkCharacter",(function(){return"Please provide valid IDV"}),(function(e){if(e){var a=/^[0-9]*$/;return console.log("checkb",e.match(a)),!!e.match(a)}return!0})).test("minimumValue",(function(){return"Minimum IDV should be 1000"}),(function(e){return!e||e>=1e3})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide No. of paid driver").matches(/^[0-9]$/,"Please provide valid number"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("minimumValue",(function(){return"Trailer IDV should be minimum 3000 "}),(function(e){if(e)return 3e3<=e})),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("isLoanChecking",(function(){return"Value should be 1K to 5L"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("Please provide registration number").test("last4digitcheck",(function(){return"Invalid Registration number"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("Chassis no is required").matches(/^[0-9a-zA-Z]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"}))}))}),q={B00002:j.B00002,B00003:j.B00003,B00004:j.B00004,B00005:j.B00005,B00006:j.B00006,B00007:j.B00007,B00008:j.B00008,B00009:j.B00009,B00010:j.B00010,B00011:j.B00011,B00012:j.B00012,B00013:j.B00013,B00069:j.B00069,B00070:j.B00070,B00071:j.B00071,B00015:j.B00015,B00073:j.B00073,B00018:j.B00018,B00019:j.B00019,B00020:j.B00020,B00022:j.B00022},T=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).handleChange=function(){r.setState({serverResponse:[],error:[]})},r.showCNGText=function(e){1==e?r.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):r.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},r.sliderValue=function(e){r.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},r.bodySliderValue=function(e){r.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},r.vehicleDetails=function(e){r.props.history.push("/VehicleDetails_PCV/".concat(e))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;D.a.get("pcv/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=n.trailers&&null!=n.trailers?n.trailers:null,i=n&&n.registration_date?n.registration_date:"",m=l&&l.end_date?l.end_date:"",d=n?n.valid_previous_policy:"0",u=n?n.policytype_id:"",p=0,_=n&&n.idv_value?n.idv_value:0;if(Math.floor(x()().diff(m,"months",!0))>1||"0"==d||"1"==u){var g=x()().format("YYYY-MM-DD");p=x()(g).diff(i,"days",!0)}else p=x()(m).add(1,"day").diff(i,"days",!0);c=null!=c?JSON.parse(c):[];var f=[],h=[];if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){var v=["B00015"];h.push(v)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){v=[];h.push(v)}else{v=n.add_more_coverage.split(",");h.push(v)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(n&&"1"==n.policy_for&&null==n.add_more_coverage){v=["B00015","B00006","B00010"];h.push(v)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){v=["B00006","B00010"];h.push(v)}else{v=n.add_more_coverage.split(",");h.push(v)}else if(n&&"1"==n.policy_for&&null==n.add_more_coverage){v=["B00015"];h.push(v)}else if(n&&"2"==n.policy_for&&null==n.add_more_coverage){v=[];h.push(v)}else{v=n.add_more_coverage.split(",");h.push(v)}h=h.flat(),f.PA_flag=n&&""!=n.pa_cover?"1":"0",f.PA_Cover=n&&""!=n.pa_cover?n.pa_cover:"0";var E=n&&null!=n.add_more_coverage_request_json?n.add_more_coverage_request_json:"",y=""!=E?JSON.parse(E):[];f.ATC_value=y.ATC?y.ATC.value:"",f.B00018_value=y.B00018?y.B00018.value:"",f.B00069_value=y.B00069?y.B00069.value:"",f.B00012_value=y.B00012?y.B00012.value:"",f.B00013_value=y.B00013?y.B00013.value:"",f.B00022_value=y.B00022?y.B00022.value:"",f.B00020_value=y.B00020?y.B00020.value:"",f.B00004_value=y.B00004?y.B00004.value:"",f.B00004_description=y.B00004?y.B00004.description:"",f.B00003_value=y.B00003?y.B00003.value:"",f.B00003_description=y.B00003?y.B00003.description:"",f.B00073_value=y.B00073?y.B00073.value:"",f.B00073_description=y.B00073?y.B00073.description:"",f.B00007_value=y.B00007?y.B00007.value:"",f.B00007_description=y.B00007?y.B00007.description:"",f.B00070_value=y.B00070?y.B00070.value:"",f.trailer_array=c,r.setState({motorInsurance:n,add_more_coverage:h,request_data:o,vehicleDetails:s,sliderVal:_,showCNG:1==n.cng_kit,vahanVerify:!(!n.chasis_no||!n.engine_no),selectFlag:n&&null!=n.add_more_coverage?"0":"1",no_of_claim:y.B00007?y.B00007.value:"",add_more_coverage_request_array:y,trailer_array:c,vehicle_age:p}),r.props.loadingStop(),r.fullQuote(f)})).catch((function(e){r.props.loadingStop()}))},r.getFuelList=function(e){r.props.loadingStart(),D.a.get("/fuel-list").then((function(e){r.setState({fuelList:e.data.data.fuellist}),r.fetchData()})).catch((function(e){r.setState({fuelList:[]}),r.props.loadingStop()}))},r.getMoreCoverage=function(){r.props.loadingStart();var e=new I.a;D.a.get("gcv/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:t.data}),r.getFuelList()})).catch((function(a){JSON.parse(e.decrypt(a.data));r.setState({moreCoverage:[]}),r.props.loadingStop()}))},r.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,n,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),n("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",r.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return r.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){r.setState({vahanDetails:e.data,vahanVerify:!0}),r.state.vahanDetails.data[0].chasiNo&&r.setState({chasiNo:r.state.vahanDetails.data[0].chasiNo}),r.state.vahanDetails.data[0].engineNo&&r.setState({engineNo:r.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),n("vahanVerify",!0),t("engine_no"),n("engine_no",r.state.engineNo),t("chasis_no"),n("chasis_no",r.state.chasiNo),r.props.loadingStop()})).catch((function(e){r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop()}));case 12:e.next=19;break;case 14:r.props.loadingStart(),r.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),n("vahanVerify",!0),r.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),r.fullQuote=function(e){var a,t=r.state,n=t.PolicyArray,l=t.sliderVal,o=t.add_more_coverage,s=t.motorInsurance,c=t.vehicleDetails,i=(t.chasis_price,t.userIdvStatus,t.bodyIdvStatus,n.length>0&&Math.round(n[0].PolicyRiskList[0].IDV_User),{}),m=new FormData,d=new I.a,u=0;o&&(i={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}},e.B00004_value&&(u+=parseInt(e.B00004_value)),e.B00003_value&&(u+=parseInt(e.B00003_value)));var p={ref_no:localStorage.getItem("policyHolder_refNo"),id:localStorage.getItem("policyHolder_id"),policy_type:s.policy_type,add_more_coverage:o.toString(),PA_Cover:e.PA_flag?e.PA_Cover:"0",coverage_data:JSON.stringify(i),trailer_array:e.trailer_array,fuel_type:e.fuel_type?e.fuel_type:c&&c.varientmodel&&c.varientmodel.fueltype?c.varientmodel.fueltype.id:"",idv_value:l||0};console.log("fullQuote_post_data",p),a=parseInt(u)+parseInt(p.idv_value)+parseInt(p.body_idv_value);var _=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(_&&(_=JSON.parse(d.decrypt(_.user)),a>5e6&&"POSP"==_.user_type))return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;m.append("enc_data",d.encrypt(JSON.stringify(p))),r.props.loadingStart(),D.a.post("pcv/full-quote",m).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList,t=e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].NCBDiscountAmt:0;r.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:a,chasis_price:e.data.chasis_price,error:[],validation_error:[],userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.PolicyObject.PolicyLobList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,ncbDiscount:t,serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var n=[];for(var l in e.data.UnderwritingResult.MessageList)n.push(e.data.UnderwritingResult.MessageList[l].Message);r.setState({fulQuoteResp:e.data.PolicyObject,error:{message:0},validation_error:n,serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){n=[];for(var s in e.data.messages){var c="";e.data.messages[s].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[s].code?(c="It is blacklisted vehicle. Please contact Relationship manager",A()(c)):c=e.data.messages[s].message,n.push(c)}r.setState({fulQuoteResp:[],add_more_coverage:o,validation_error:n,error:{message:0},userIdvStatus:1,bodyIdvStatus:1,serverResponse:[]})}else r.setState({fulQuoteResp:[],add_more_coverage:o,error:{message:1},serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,validation_error:[]});r.props.loadingStop()})).catch((function(e){r.setState({serverResponse:[]}),r.props.loadingStop()}))},r.handleSubmit=function(e){console.log("error is coming");var a=r.props.match.params.productId,t=r.state,l=(t.motorInsurance,t.PolicyArray),o=t.sliderVal,s=t.add_more_coverage,c=(t.bodySliderVal,l.length>0?Math.round(l[0].PolicyRiskList[0].IDV_User):0),i=l.length>0?Math.round(l[0].PolicyRiskList[0].SumInsured):0,m={};s&&(m={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}});var d=new FormData,u=new I.a,p=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";p.user&&(p=JSON.parse(u.decrypt(p.user)));var _={};if(_=s.length>0?Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():c.toString(),add_more_coverage:s,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"OtherComprehensive/".concat(a),coverage_data:JSON.stringify(m),fuel_type:e.fuel_type,trailer_array:e.trailer_array},"page_name","OtherComprehensive_PCV/".concat(a)):Object(n.a)({policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o?o.toString():c.toString(),puc:e.puc,page_name:"OtherComprehensive/".concat(a),fuel_type:e.fuel_type},"page_name","OtherComprehensive_PCV/".concat(a)),console.log("post_data",_),p&&i){if(R.a.includes(p.login_type)&&s.indexOf("B00015")<0)return A()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(i>5e6&&"POSP"==p.user_type)return A()("Quote cannot proceed with IDV greater than 5000000"),r.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(d.append("enc_data",u.encrypt(JSON.stringify(_))),r.props.loadingStart(),D.a.post("pcv/update-insured-value",d).then((function(e){r.props.loadingStop();var t=JSON.parse(u.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?r.props.history.push("/AdditionalDetails_PCV/".concat(a)):A()(t.msg)})).catch((function(e){var a=JSON.parse(u.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),r.props.loadingStop()}))):A()("Chasis no mismatch")}},r.onRowSelect=function(e,a,t,n,l){var o=r.state.add_more_coverage;if(t)o.push(e),r.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(n("PA_flag"),l("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),l("electric_flag","1")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),r.setState({serverResponse:[],error:[]})),"B00016"==e&&(n("PA_flag"),l("PA_flag","0"),n("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(n("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(n("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(n("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),l("electric_flag","0")),"B00020"==e&&(n("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(n("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(n("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(n("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(n("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(n("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(n("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(n("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(n("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(n("CNG_OD_flag"),l("CNG_OD_flag","0"))}},r.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},r.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var n=t;n>=a;n--)e.trailer_array.splice(n,1);else if(e.trailer_array.length<a)for(n=e.trailer_array.length;n<a;n++)e.trailer_array.push({chassisNo:"",regNo:""});r.setState({no_of_claim:a,serverResponse:[],error:[]})},r.initClaimDetailsList=function(){for(var e=[],a=r.state.trailer_array,t=0;t<r.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},r.handleClaims=function(e,a,t,n,l,o){for(var s=[],c=0;c<e.B00007_value;c++)s.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)},onInput:function(e){r.regnoFormat(e,n,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return r.changePlaceHoldClassAdd(e)},onBlur:function(e){return r.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},o[a.trailer_array[c].chassisNo]):null))))));return s},r.handleShow=r.handleShow.bind(Object(i.a)(r)),r.handleClose=r.handleClose.bind(Object(i.a)(r)),r.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},r}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showCNG,a.is_CNG_account,a.vahanDetails,a.error),n=a.policyCoverage,r=a.vahanVerify,l=a.selectFlag,o=a.fulQuoteResp,s=a.PolicyArray,c=(a.fuelList,a.depreciationPercentage),i=a.vehicleDetails,m=a.validation_error,d=a.moreCoverage,E=a.sliderVal,k=a.motorInsurance,C=a.serverResponse,P=a.engine_no,D=a.chasis_no,I=a.initialValue,M=a.add_more_coverage_request_array,B=a.ncbDiscount,O=this.props.match.params.productId,x=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";x.user&&(x=JSON.parse(L.decrypt(x.user)));var H=E,j=s.length>0?s[0].PolicyRiskList[0].MinIDV_Suggested:0,T=s.length>0?s[0].PolicyRiskList[0].MaxIDV_Suggested:0,V=j,G=s.length>0?Math.floor(T):null;0==Number.isInteger(j)&&(V=s.length>0?Math.floor(s[0].PolicyRiskList[0].MinIDV_Suggested):null,V+=1);var Y=s.length>0?s[0].PolicyRiskList[0].MSP-s[0].PolicyRiskList[0].MSP*(c/100):0,J=(s.length>0&&Math.floor(Y/2),k&&k.add_more_coverage?k.add_more_coverage.split(","):""),z={},Z=!k||null!=k.pa_cover&&""!=k.pa_cover?"1":"0",$=k&&null!=k.pa_cover?k.pa_cover:"",U=i&&i.varientmodel&&i.varientmodel.fueltype?i.varientmodel.fueltype.id:"",Q=M.B00007&&M.B00007.value?"1":"0",W=M.B00073&&M.B00073.value?"1":"0",K=M.B00004&&M.B00004.value?"1":"0",X=M.B00003&&M.B00003.value?"1":"0",ee=M.B00020&&M.B00020.value?"1":"0",ae=M.B00022&&M.B00022.value?"1":"0",te=M.B00013&&M.B00013.value?"1":"0",ne=M.B00012&&M.B00012.value?"1":"0",re=M.B00069&&M.B00069.value?"1":"0",le=M.B00018&&M.B00018.value?"1":"0",oe=M.ATC&&M.ATC.value?"1":"0",se=M.B00070&&M.B00070.value?"1":"0",ce=M.B00011&&M.B00011.value?"1":"0",ie=M.B00005&&M.B00005.value?"1":"0",me=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],de={};de="1"==l?Object.assign(I,{registration_no:k.registration_no?k.registration_no:"",chasis_no:k.chasis_no?k.chasis_no:D||"",chasis_no_last_part:k.chasis_no_last_part?k.chasis_no_last_part:"",add_more_coverage:k.add_more_coverage?k.add_more_coverage:"",engine_no:k.engine_no?k.engine_no:P||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:k&&"2"==k.policy_for?"":"B00015",B00006:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00006":"",B00010:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:k&&"2"==k.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:U,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList()}):Object.assign(I,{registration_no:k.registration_no?k.registration_no:"",chasis_no:k.chasis_no?k.chasis_no:D||"",chasis_no_last_part:k.chasis_no_last_part?k.chasis_no_last_part:"",add_more_coverage:k.add_more_coverage?k.add_more_coverage:"",engine_no:k.engine_no?k.engine_no:P||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:k&&k.pa_flag?k.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:U,trailer_flag_TP:"0",B00015:"",B00010:"",trailer_array:this.initClaimDetailsList()});for(var ue=0;ue<J.length;ue++)z[J[ue]]=J[ue];z.slider=H,z.PA_flag=Z,z.trailer_flag=Q,z.pa_coolie_flag=W,z.electric_flag=K,z.nonElectric_flag=X,z.hospital_cash_OD_flag=ee,z.hospital_cash_PD_flag=ae,z.LL_PD_flag=te,z.LL_Emp_flag=ne,z.LL_Coolie_flag=re,z.enhance_PA_OD_flag=le,z.ATC_flag=oe,z.LL_workman_flag=se,z.PA_Cover=$,z.trailer_flag_TP=ce,z.CNG_OD_flag=ie,z.ATC_value=M.ATC?M.ATC.value:"",z.B00018_value=M.B00018?M.B00018.value:"",z.B00069_value=M.B00069?M.B00069.value:"",z.B00012_value=M.B00012?M.B00012.value:"",z.B00013_value=M.B00013?M.B00013.value:"",z.B00022_value=M.B00022?M.B00022.value:"",z.B00020_value=M.B00020?M.B00020.value:"",z.B00004_value=M.B00004?M.B00004.value:"",z.B00004_description=M.B00004?M.B00004.description:"",z.B00003_value=M.B00003?M.B00003.value:"",z.B00003_description=M.B00003?M.B00003.description:"",z.B00073_value=M.B00073?M.B00073.value:"",z.B00073_description=M.B00073?M.B00073.description:"",z.B00007_value=M.B00007?M.B00007.value:"",z.B00007_description=M.B00007?M.B00007.description:"",z.B00070_value=M.B00070?M.B00070.value:"",z.B00005_value=M.B00005?M.B00005.value:"",de=Object.assign(I,z);C.PolicyLobList&&C.PolicyLobList[0].PolicyRiskList[0];var pe=0;n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?pe+=e.AnnualPremium:0}))}));var _e=1,ge=1,fe=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.AnnualPremium)))):"B00007"==e.ProductElementCode&&1==_e?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,q[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6,data:_e+=1},p.a.createElement(f.a,null,"\u20b9 ",Math.round(pe)))):null)}))})):null,he=B&&0!=B&&1==ge?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,me.NCBDiscount)),p.a.createElement(_.a,{sm:12,md:6,data:ge+=1},p.a.createElement(f.a,null,"\u20b9 - ",Math.round(B)))):null,ve=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,me.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null;_e=1,ge=1;var Ee=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?p.a.createElement("tr",null,p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.AnnualPremium))):"B00007"==e.ProductElementCode&&1==_e?p.a.createElement("tr",{label:_e+=1},p.a.createElement("td",null,q[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(pe))):null}))})):null,ye=B&&0!=B&&1==ge?p.a.createElement("tr",{label:ge+=1},p.a.createElement("td",null,me.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 - ",Math.round(B))):null,be=o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,me.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,Ne=t&&t.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Se=m?m.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherComprehens"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},me.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},me.GSBVehicleDamage),p.a.createElement("h5",null,Ne),p.a.createElement("h5",null,Se))),p.a.createElement(b.e,{initialValues:de,onSubmit:C&&""!=C?C.message?this.fullQuote:this.handleSubmit:this.fullQuote,validationSchema:F},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,s=(a.isValid,a.isSubmitting,a.touched);return console.log("server ===",C),p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:me.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},fe,he,ve))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},me.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},me[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},me.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&s.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},me[n.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},me.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},me[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:me.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no.toUpperCase(),maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value)}}),n.engine_no&&s.engine_no?p.a.createElement("span",{className:"errorMsg"},me[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:me.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no.toUpperCase(),maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&s.chasis_no?p.a.createElement("span",{className:"errorMsg"},me[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},me.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:H}),n.IDV&&s.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),H?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",min:V,max:G,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:H,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},me.AddMoreCoverage)))),n.B00007||n.B00011?p.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,d&&d.length>0?d.map((function(a,o){return p.a.createElement(g.a,{key:o},k&&"2"==k.policy_for&&"B00015"!=a.code&&"B00018"!=a.code&&"B00019"!=a.code&&"B00073"!=a.code||k&&"1"==k.policy_for?p.a.createElement(_.a,{sm:12,md:11,lg:5,key:o+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!R.a.includes(x.login_type)||"B00015"!=t[a.code]),onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(me.SwalIRDAI,{button:me.OK}),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},p.a.createElement("option",{value:""},me.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?p.a.createElement("span",{className:"errorMsg"},me[n.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:me.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?p.a.createElement("span",{className:"errorMsg"},me[n.B00007_description],n.B00007_description):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},me.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00073_value?p.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:me.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?p.a.createElement("span",{className:"errorMsg"},n.B00073_description):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:me.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},n.B00003_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:me.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},me[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:me.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},n.B00004_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:me.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},me[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},me.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00020_value?p.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},me.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00022_value?p.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},me.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},me[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:me.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?p.a.createElement("span",{className:"errorMsg"},me[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:me.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?p.a.createElement("span",{className:"errorMsg"},me[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:me.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?p.a.createElement("span",{className:"errorMsg"},n.B00018_value):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:me.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?p.a.createElement("span",{className:"errorMsg"},n.B00070_value):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:o+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},me.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.ATC_value?p.a.createElement("span",{className:"errorMsg"},n.ATC_value):null)))):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,s,l,r,me):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},me.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",me.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",me.No)),n.puc&&s.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,O)},me.Back),C&&""!=C?C.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},me.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},me.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},me.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",me.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",o.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},me.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,me.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,me.Premium,":"),p.a.createElement("th",null,"\u20b9 ",o.DuePremium))),p.a.createElement("tbody",null,Ee,ye,be,p.a.createElement("tr",null,p.a.createElement("td",null,me.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,me.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(o.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(T))},1284:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 100 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>=.3})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired(),appointee_name:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired().test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable().matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("RequiredField"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Name"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Branch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_PCV/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:12,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_PCV/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("pcv/owner-details",c).then((function(a){var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_PCV/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("pcv/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox adiDetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"1"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var r,v=e.values,E=e.errors,y=e.setFieldValue,w=e.setFieldTouched,B=(e.isValid,e.isSubmitting),x=e.touched;return i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==v.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==v.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),E.is_carloan&&x.is_carloan?i.a.createElement("span",{className:"errorMsg"},E.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_name}),E.bank_name&&x.bank_name?i.a.createElement("span",{className:"errorMsg"},z[E.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_branch}),E.bank_branch&&x.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[E.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),E.salutation_id&&x.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[E.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==v.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.first_name}),E.first_name&&x.first_name?i.a.createElement("span",{className:"errorMsg"},z[E.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.gstn_no.toUpperCase(),onChange:function(e){return y("gstn_no",e.target.value.toUpperCase())}}),E.gstn_no&&x.gstn_no?i.a.createElement("span",{className:"errorMsg"},E.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.gender&&x.gender?i.a.createElement("span",{className:"errorMsg"},z[E.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");y("dob",a),y("age",e.target.value)}}),E.age&&x.age?i.a.createElement("span",{className:"errorMsg"},z[E.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:v.date_of_incorporation,onChange:function(e){w("date_of_incorporation"),y("date_of_incorporation",e)}}),E.date_of_incorporation&&x.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[E.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.phone,maxLength:"10",className:"phoneinput pd-l-25"}),E.phone&&x.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[E.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.address}),E.address&&x.address?i.a.createElement("span",{className:"errorMsg"},z[E.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,(r={name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxLength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:v.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){w("state"),w("pincode"),y("pincode",e.target.value),y("state",L?L[0]:v.state),y("pincode_id","")})),r)),E.pincode&&x.pincode?i.a.createElement("span",{className:"errorMsg"},z[E.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:v.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),E.pincode_id&&x.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[E.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||v.state,disabled:!0}),E.state&&x.state?i.a.createElement("span",{className:"errorMsg"},z[E.state]):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:v.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),E.org_level&&x.org_level?i.a.createElement("span",{className:"errorMsg"},z[E.org_level]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null):null,i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),E.nominee_salutation&&x.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_first_name}),E.nominee_first_name&&x.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.nominee_gender&&x.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),y("nominee_dob",t),y("nominee_age",e.target.value)}}),E.nominee_age&&x.nominee_age?i.a.createElement("span",{className:"errorMsg"},E.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:v.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id,key:a},e.pcv_relation_name):null}))),E.nominee_relation_with&&x.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.appointee_name}),E.appointee_name&&x.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:v.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.pcv_relation_name)}))),E.appointee_relation_with&&x.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIANumber,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account&&x.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:v.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),E.eia_no&&x.eia_no?i.a.createElement("span",{className:"errorMsg"},z[E.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account2&&x.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:v.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id,key:a},e.name)}))),E.tpaInsurance&&x.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[E.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!B,onClick:a.otherComprehensive.bind(a,J)},B?z.Wait:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!B},B?z.Wait:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1285:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(2),D=t(28),I=t(9),M=S()(S()().subtract(66,"years").calendar()).add(1,"day").calendar(),B=S()().subtract(18,"years").calendar(),A=S()(S()().subtract(26,"years").calendar()).add(1,"day").calendar(),O=S()().subtract(3,"months").calendar(),x={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",primaryInsured:"self",varient_type_id:"3",productTypes:"3"},H=w.object().shape({gender:w.string().required("Please select gender"),varient_type_id:w.string().required("Please select product type"),ksbplan_id:w.string().required("Please select Plan")}),R=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_6:w.string(),looking_for_0:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_6"],{is:function(e,a){return"spouse"==e&&"father"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_7"],{is:function(e,a){return"spouse"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_8"],{is:function(e,a){return"spouse"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_9"],{is:function(e,a){return"spouse"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_7"],{is:function(e,a){return"father"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_8"],{is:function(e,a){return"father"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_9"],{is:function(e,a){return"father"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_8"],{is:function(e,a){return"mother"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_9"],{is:function(e,a){return"mother"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_8","looking_for_9"],{is:function(e,a){return"fatherInLaw"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 45 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child4Gender:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 Gender field is required"),othewise:w.string()}).nullable(),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and father age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and father difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and mother age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_9:w.string().when(["looking_for_9"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),primaryInsured:w.string().when(["productTypes"],{is:function(e){return"3"==e},then:w.string().required("Please select primary insured").nullable(),othewise:w.string()})});var L=function(e){Object(o.a)(p,e);var a=Object(s.a)(p);function p(e){var t;return Object(n.a)(this,p),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]=a[5]?a[5]:null,n[6]="m",n[7]="f",n[8]="m",n[9]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.chanageProductType=function(e){sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),t.setState({productTypes:e})},t.handleFormSubmit=function(e){var a=t.props.match.params.productId,n=new FormData,r=new I.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=[],i=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";i&&(i=JSON.parse(r.decrypt(i))),console.log("bc_data------------ ",i),c.menumaster_id=6,c.vehicle_type_id=10,c.proposer_gender=e.gender,c.varient_type_id=e.varient_type_id,c.ksbbusniessplan_id=1,c.page_name="Health_KSB/".concat(a),c.primaryInsured=t.state.primaryInsured,c.ksbplan_id=e.ksbplan_id;for(var m=[],d=0;d<o.length;d++){var u=o[d]?o[d]:s[d].dob;m.push(u)}c.dob=m;m=[];for(var p=0;p<l.length;p++){var _=l[p]?l[p]:s[p].relation_with;"self"==_,m.push(_)}c.looking_for=m;var g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,f=t.state.gender_for;m=[];for(var h=0;h<f.length;h++){var E;E=f[h]?f[h]:s[h].gender,m.push(E)}c.gender=m,c.confirm=t.state.confirm,localStorage.setItem("confirm",t.state.confirm),sessionStorage.getItem("csc_id")?(c.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",c.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",c.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",c.bcmaster_id="5"):(c.bcmaster_id=i?i.agent_id:"",c.bc_token=i?i.token:"",c.bc_agent_id=i?i.user_info.data.user.username:"",c.agent_name=i?i.user_info.data.user.name:"");var y={};console.log("postData========",c),g>0?(c.policy_holder_id=g,Object.assign(y,c),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),v.a.post("ksb/update-yourself",n).then((function(e){!1===e.data.error?(localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/PreExistingDisease_KSB/".concat(a))):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(y,c),n.append("enc_data",r.encrypt(JSON.stringify(y))),t.props.loadingStart(),v.a.post("ksb/yourself",n).then((function(e){!1===e.data.error?(localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/PreExistingDisease_KSB/".concat(a))):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()})))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=e.child4Gender?e.child4Gender:null,o[6]=t.state.gender?"m":null,o[7]=t.state.gender?"f":null,o[8]=t.state.gender?"m":null,o[9]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i,primaryInsured:e.primaryInsured}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchInsurePlan=function(){v.a.get("ksbplan").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({insurePlan:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");t.props.loadingStart(),v.a.get("ksb/details/".concat(e)).then((function(e){var a=e.data.data.policyHolder&&e.data.data.policyHolder.request_data&&e.data.data.policyHolder.request_data.family_members?e.data.data.policyHolder.request_data.family_members:[],n=JSON.parse(e.data.data.policyHolder.address),r=e.data.data.policyHolder.is_eia_account,l=e.data.data.policyHolder.gender,o=a&&a.length>0?1:0,s=e.data.data.policyHolder&&e.data.data.policyHolder.ksbinfo?e.data.data.policyHolder.ksbinfo:[],c=s?s.varient_type_id:"";t.setState({familyMembers:a,addressDetails:n,is_eia_account:r,gender:l,validateCheck:o,ksbinfo:s,productTypes:c}),t.setStateForPreviousData(a)})).catch((function(e){t.props.loadingStop()}))},t.fetchInsureBusinessPlan=function(){v.a.get("ksbbusniessplan").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({insureBusinessPlan:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchRelations=function(){t.props.loadingStart(),v.a.get("relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurePlan()})).catch((function(e){t.props.loadingStop()}))},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",productTypes:"3",insureRepository:[],insureBusinessPlan:[],insurePlan:[],ksbinfo:[],primaryInsured:""},t}return Object(r.a)(p,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),p=a.display_dob,v=a.display_gender,E=(a.confirm,a.productTypes),y=(a.insureRepository,a.insureBusinessPlan,a.insurePlan),b=a.ksbinfo,N=this.getInsuredList(o),S=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],w=p&&p.length>0?p:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],k=v&&v.length>0?v:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],C=Object.assign(x,{check_input:r||0,gender:l||"",looking_for_0:S[0]?S[0]:"",dob_0:w[0]?new Date(w[0]):"",looking_for_1:S[1]?S[1]:"",dob_1:w[1]?new Date(w[1]):"",looking_for_2:S[2]?S[2]:"",dob_2:w[2]?new Date(w[2]):"",child1Gender:k?k[2]:"",looking_for_3:S[3]?S[3]:"",dob_3:w[3]?new Date(w[3]):"",child2Gender:k?k[3]:"",looking_for_4:S[4]?S[4]:"",dob_4:w[4]?new Date(w[4]):"",child3Gender:k?k[4]:"",looking_for_5:S[5]?S[5]:"",dob_5:w[5]?new Date(w[5]):"",child4Gender:k?k[5]:"",looking_for_6:S[6]?S[6]:"",dob_6:w[6]?new Date(w[6]):"",looking_for_7:S[7]?S[7]:"",dob_7:w[7]?new Date(w[7]):"",looking_for_8:S[8]?S[8]:"",dob_8:w[8]?new Date(w[8]):"",looking_for_9:S[9]?S[9]:"",dob_9:w[9]?new Date(w[9]):"",insureList:N?N.toString():n||"",primaryInsured:b&&b.primary_insured?b.primary_insured:"self",confirm:localStorage.getItem("confirm")?localStorage.getItem("confirm"):"",ksbplan_id:b&&b.ksbplan_id?b.ksbplan_id:""});return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthkas"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(P.e,{initialValues:C,onSubmit:this.handleFormSubmit,validationSchema:H},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=(a.setFieldTouched,a.isValid,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Plan Name:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"ksbplan_id",component:"select",autoComplete:"off",value:r.ksbplan_id,className:"formGrp",onChange:function(e){o("ksbplan_id",e.target.value)}},i.a.createElement("option",{value:""},"Select Plan"),y.map((function(e,a){return i.a.createElement("option",{value:e.id},e.descriptions)}))),l.ksbplan_id&&s.ksbplan_id?i.a.createElement("span",{className:"errorMsg"},l.ksbplan_id):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&s.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(P.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&s.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(P.e,{initialValues:C,onSubmit:this.handleSubmitForm,validationSchema:R},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,"1"==E||"2"==E||"3"==E?i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))):null,"2"==E||"3"==E?i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1",""),r("primaryInsured","self")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))):null,"3"==E?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 4",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_5",value:"child4",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child4"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child4Gender",component:"select",autoComplete:"off",value:t.child4Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child4Gender&&o.child4Gender?i.a.createElement("span",{className:"error-message"},n.child4Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_6",value:"father",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_7",value:"mother",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_8",value:"fatherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_9",value:"motherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_9",a.target.value):(r("looking_for_9",""),r("dob_9","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_9}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_9",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_9"),r("dob_9",e)},selected:t.dob_9}),i.a.createElement("label",{className:"formGrp error"},n.dob_9&&o.dob_9?i.a.createElement("span",{className:"error-message"},n.dob_9):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-7"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},i.a.createElement("h5",null,"Select Primary Insured"))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(P.b,{type:"radio",name:"primaryInsured",value:"self",key:"1",onChange:function(e){r("primaryInsured",e.target.value)},checked:"self"==t.primaryInsured}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Self"))),"spouse"==t.looking_for_1?i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(P.b,{type:"radio",name:"primaryInsured",value:"spouse",key:"1",onChange:function(e){r("primaryInsured",e.target.value)},checked:"spouse"==t.primaryInsured}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"Spouse"))):null)),i.a.createElement("label",{className:"formGrp error"},n.primaryInsured&&o.primaryInsured?i.a.createElement("span",{className:"errorMsg"},n.primaryInsured):"")))):null,t.looking_for_2||t.looking_for_3||t.looking_for_4||t.looking_for_5?i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(P.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4||o.looking_for_5)?i.a.createElement("span",{className:"error-message"},n.confirm):"")))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),p}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(L))},1286:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(2),h=t(1),v=t(7),E=t(38),y=t(19),b=t(22),N=t(20),S=t.n(N),w=(t(95),t(96),t(9)),k={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},C={proposerAsInsured:"",family_members:[k],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:"",is_eia_account:"",is_ckyc_account:"",eia_no:"",ckyc_account_no:""},P=h.object().shape({family_members:h.array().of(h.object().shape({looking_for:h.string(),preExistingDisease:h.string().required("Pre-existing disease required"),preExistingDetails:h.string().when(["preExistingDisease"],{is:function(e){return"yes"==e},then:h.string().required("Pre-existing disease required").min(3,(function(){return"Pre-existing disease must be minimum 3 chracters"})).max(50,(function(){return"Pre-existing disease must be maximum 50 chracters"})).matches(/^([A-Za-z,\s]*)$/,(function(){return"Please enter valid disease name"})),otherwise:h.string()})}))}),D=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");r.props.loadingStart(),v.a.get("ksb/details/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,t=e.data.data.policyHolder.request_data.family_members,n=!1,l=e.data.data.policyHolder.ksbinfo&&e.data.data.policyHolder.ksbinfo.ksbpreexisting?e.data.data.policyHolder.ksbinfo.ksbpreexisting:[],o=0;o<t.length;o++)if("self"==t[o].relation_with){n=!0;break}r.setState({selfFlag:n,policy_holder:a,familyMembers:t,ksbPreExisting:l})})).catch((function(e){})),r.props.loadingStop()},r.sumInsured=function(e){r.props.history.push("/Health_KSB/".concat(e))},r.handleSubmit=function(e,a){var t=r.props.match.params.productId,n=localStorage.getItem("policyHolder_id"),l=new FormData,o=[];o.policy_holder_id=n;var s=e.family_members,c=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",c);for(var i=[],m=[],d=[],u=[],p=0;p<s.length;p++)i.push(s[p].looking_for),m.push(s[p].family_member_id),d.push(s[p].preExistingDisease),u.push(s[p].preExistingDetails&&"yes"==s[p].preExistingDisease?s[p].preExistingDetails:"");o.looking_for=i,o.family_member_id=m,o.policy_holder_id=n,o.pre_existing_disease=d,o.pre_existing_details=u,o.page_name="PreExistingDisease_KSB/".concat(t);var _={};Object.assign(_,o);var g=new w.a;l.append("enc_data",g.encrypt(JSON.stringify(_))),r.props.loadingStart(),v.a.post("ksb/pre-existing-disease",l).then((function(e){r.props.loadingStop(),r.props.history.push("/SelectDuration_KSB/".concat(t))})).catch((function(e){401==e.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),a.setSubmitting(!1),r.props.loadingStop()}))},r.initPreExisting=function(e,a){return e.length>0?e.map((function(e,t){return{looking_for:e.relation_with,family_member_id:e.id,preExistingDisease:a&&a.length>0&&t<a.length?a[t].description:"",preExistingDetails:a&&a.length>0&&t<a.length&&a[t].pre_existing_details?a[t].pre_existing_details:""}})):[k]},r.state={policy_holder:{},familyMembers:[],addressDetails:{},selfFlag:!1,ksbPreExisting:[]},r}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,t=(a.policy_holder,a.familyMembers),n=a.ksbPreExisting,r=a.selfFlag,l=Object.assign(C,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):r?1:0,family_members:this.initPreExisting(t,n)});console.log("innitial family_members------------------- ",l);var o=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox prehealthex"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(f.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:P},(function(a){var n=a.values,r=a.errors,l=(a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return console.log("errors--------------- ",r),c.a.createElement(f.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about Pre-existing disease of Insured Members")),c.a.createElement(f.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,t&&t.length>0&&t.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"motherInLaw"==a.relation_with?"MOTHER IN LAW":"fatherInLaw"==a.relation_with?"FATHER IN LAW":a.relation_with.toUpperCase(),c.a.createElement(f.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(f.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDisease"),type:"radio",value:"yes",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},checked:"yes"==n.family_members[t].preExistingDisease}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDisease"),type:"radio",value:"no",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},checked:"no"==n.family_members[t].preExistingDisease}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},r.family_members&&r.family_members[t]&&r.family_members[t].preExistingDisease?c.a.createElement("span",{className:"errorMsg"},r.family_members[t].preExistingDisease):null)))),"yes"==n.family_members[t].preExistingDisease?c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDetails"),type:"text",placeholder:"Pre-existing disease ",autoComplete:"off",maxLength:50,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].preExistingDetails}),r.family_members&&r.family_members[t]&&r.family_members[t].preExistingDetails?c.a.createElement("span",{className:"errorMsg"},r.family_members[t].preExistingDetails):null))):null))})))}})),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!l,onClick:e.sumInsured.bind(e,o)},l?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!l},l?"Wait..":"Continue")))))})))),c.a.createElement(g.a,null)))))))}}]),t}(s.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(D))},1287:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:"5",ksbperiod_id:"3",installment_premium_payment:"0",ksbplan_id:"1"},A=(w()().add(30,"days"),D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e})),insureValue:D.string().required((function(){return"Please enter sum insured"})),ksbplan_id:D.string().required("Please select Plan")})),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],insurePlan:[],ksbinfo:[],insurePeriod:[],fulQuoteResp:[],showInstallment:!1,installment_premium_payment:"",validation_error:[]},e.medicalQuestions=function(a){e.props.history.push("/PreExistingDisease_KSB/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state.serverResponse,r=new FormData,l=new M.a,o={policy_holder_id:localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,start_date:n.EffectiveDate,end_date:w()(n.ExpiryDate).format("YYYY-MM-DD"),ksbplan_id:a.ksbplan_id,ksbperiod_id:a.ksbperiod_id,installment_premium_payment:a.installment_premium_payment,page_name:"SelectDuration_KSB/".concat(t)};console.log("post_data---------- ",o),r.append("enc_data",l.encrypt(JSON.stringify(o)));var s=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(s){var c=n&&n.PolicyLobList[0]&&n.PolicyLobList[0].PolicyRiskList?n.PolicyLobList[0].PolicyRiskList:[];s=JSON.parse(l.decrypt(s.user));var i=0;if(c&&c.map((function(e,a){e&&e.PolicyCoverageList.map((function(e,a){e.SumInsured>1e5&&"POSP"==s.user_type&&"HO_BEN"==e.ProductElementCode&&(C()("Quote cannot proceed with Hospital Daily Cash greater than 100000"),i++)}))})),i>0)return!1;e.props.loadingStart(),E.a.post("ksb/duration-premium",r).then((function(a){e.props.loadingStop(),e.props.history.push("/Address_KSB/".concat(t))})).catch((function(a){e.props.loadingStop()}))}},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");E.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder&&a.data.data.policyHolder.ksbinfo?a.data.data.policyHolder.ksbinfo:[],n=a.data.data.policyHolder.ksbinfo&&0==a.data.data.policyHolder.ksbinfo.installment_premium_payment?"0":a.data.data.policyHolder.ksbinfo.installment_premium_payment;e.setState({policyHolderDetails:a.data.data.policyHolder,ksbinfo:t,installment_premium_payment:n}),e.fetchInsurePlan()})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.quote=function(a){e.state.accessToken;null===a.polStartDate&&(a.polStartDate=new Date,a.polEndDate=new Date(w()(a.polStartDate).add(1,"years").format("YYYY-MM-DD"))),0===a.ksbplan_id&&(a.ksbplan_id="1");var t=w()(a.polStartDate).format("YYYY-MM-DD"),n=w()(a.polEndDate).format("YYYY-MM-DD"),r=new FormData;e.props.loadingStart();localStorage.getItem("policyHolder_id"),a.ksbplan_id,a.ksbperiod_id,new M.a;r.append("id",localStorage.getItem("policyHolder_id")),r.append("policyStartDate",t),r.append("policyEndDate",n),r.append("ksbplan_id",a.ksbplan_id),r.append("ksbperiod_id",a.ksbperiod_id),r.append("insureValue",1),E.a.post("/fullQuoteServiceKSBRetail",r).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]});else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}});else if(a.data.code&&a.data.message&&"validation failed"==a.data.code&&"validation failed"==a.data.message){var t=[];for(var n in a.data.messages)t.push(a.data.messages[n].message);e.setState({fulQuoteResp:[],validation_error:t,error:[],serverResponse:[]})}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]});e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleChange=function(a){var t=w()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e.fetchInsurePlan=function(){E.a.get("ksbplan").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({insurePlan:t}),console.log("policyHolderDetails",e.state.policyHolderDetails),console.log("ksbinfo",e.state.ksbinfo);var n=[];n.polStartDate=e.state.policyHolderDetails.request_data.start_date,n.polEndDate=new Date(w()(n.polStartDate).add(1,"years").format("YYYY-MM-DD")),n.ksbplan_id=e.state.ksbinfo.ksbplan_id,n.ksbperiod_id="3",e.quote(n)})).catch((function(a){e.props.loadingStop()}))},e.fetchPaymentPeriod=function(){E.a.get("ksbperiod").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({insurePeriod:t})})).catch((function(a){e.props.loadingStop()}))},e.showInstalmentText=function(a){1==a?e.setState({showInstallment:!0,installment_premium_payment:1}):e.setState({showInstallment:!1,installment_premium_payment:0})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.fulQuoteResp),g=t.insurePlan,E=t.ksbinfo,y=(t.insurePeriod,t.showInstallment,t.installment_premium_payment,t.validation_error),b=n?n.request_data:null,N=b&&b.start_date?new Date(b.start_date):"",S=b&&b.end_date?new Date(b.end_date):"",k=Object.assign(B,{polStartDate:N||new Date,polEndDate:S||new Date(w()().add(1,"years").format("YYYY-MM-DD")),ksbplan_id:E&&E.ksbplan_id?E.ksbplan_id:"1"}),C=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,l.message))):null,D=y?y.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,"Errors :",c.a.createElement("strong",null,c.a.createElement("ul",null,c.a.createElement("li",null,e)))))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox heathDuration"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,C),c.a.createElement("h5",null,D),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:k,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:A},(function(t){var n=t.values,l=t.errors,i=t.setFieldValue,m=t.setFieldTouched,v=(t.isValid,t.isSubmitting,t.touched);return c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){m("polStartDate"),i("polStartDate",a),i("polEndDate",Object(h.a)(new Date,364)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&v.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),364)}),l.polEndDate&&v.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Plan Name")),c.a.createElement(u.a,{sm:12,md:12,lg:8},c.a.createElement(p.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(P.b,{name:"ksbplan_id",component:"select",autoComplete:"off",value:n.ksbplan_id,className:"formGrp",onChange:function(a){i("ksbplan_id",a.target.value),e.handleAmountChange(a)}},c.a.createElement("option",{value:""},"Select Plan"),g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.descriptions)}))),l.ksbplan_id&&v.ksbplan_id?c.a.createElement("span",{className:"errorMsg"},l.ksbplan_id):null)))),o&&o.SumInsured?c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Sum Insured")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Sum Insured for One Year : "),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",o?o.SumInsured:0))))):"",c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for One Year : "),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",o?o.message?0:o.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("b",null,"Base"),c.a.createElement("li",null,"24 Doctor consultation calls in a year"),c.a.createElement("li",null,"1 lakh PA Cover to Primary Insured ")),c.a.createElement("ul",null,c.a.createElement("b",null,"Medium"),c.a.createElement("li",null,"36 Doctor Consultation calls in a year"),c.a.createElement("li",null,"Hospital Daily Cash Benefit of Rs 250/day up to 30 Days "),c.a.createElement("li",null,"3 Lakhs PA Cover to Primary Insured  ")),c.a.createElement("ul",null,c.a.createElement("b",null,"Top"),c.a.createElement("li",null,"60 Doctor Consultation calls in a year"),c.a.createElement("li",null,"Hospital Daily Cash Benefit of Rs 250/day up to 60 Days "),c.a.createElement("li",null,"5 Lakhs PA Cover to Primary Insured")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0"))),c.a.createElement(u.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(O))},1288:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(2),y=t(1),b=t(7),N=t(38),S=t(19),w=t(22),k=t(28),C=t(65),P=t.n(C),D=t(3),I=t.n(D),M=t(20),B=t.n(M),A=(t(95),t(96),t(9)),O=P()(new Date,"mm/dd/yyyy"),x=I()(I()().subtract(66,"years").calendar()).add(1,"day").calendar(),H=I()().subtract(18,"years").calendar(),R={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},L={proposerAsInsured:"",family_members:[R],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:"",is_eia_account:"",is_eia_account2:"",is_ckyc_account:"",eia_no:"",ckyc_account_no:""},j=y.object().shape({proposerAsInsured:y.string().required((function(){return"Please select a value"})),address1:y.string().notRequired((function(){return"Enter plot number."})).matches(/^[a-zA-Z0-9][a-zA-Z0-9]*$/,(function(){return"Invalid plot number"})),address2:y.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Invalid building name / number"})),address3:y.string().required((function(){return"Enter street name"})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Invalid street name"})),email:y.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:y.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required"),panNo:y.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"Enter PAN number"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:y.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:y.string().required((function(){return"Select area"})),family_members:y.array().of(y.object().shape({looking_for:y.string(),fname:y.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:y.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:y.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:y.date().required("Please enter DOB").max(O,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 65 years"}),(function(e){if(e){var a=new k.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0}))}),gender:y.string().nullable().required("Require Gender")})),proposerName:y.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:y.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:y.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 65 years"}),(function(e){var a=new k.a;if(e){new k.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:y.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account:y.string().required("This field is required"),eia_no:y.string().test("isEIAchecking",(function(){return"Please enter EIA no"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIA no must be minimum 13 characters"})).max(13,(function(){return"EIA no must be maximum 13 characters"})).matches(/^[1245][0-9]{0,13}$/,"Please enter valid EIA no").notRequired("EIA no is required"),is_ckyc_account:y.string().required("This field is required").nullable(),ckyc_account_no:y.string().test("isCKYCchecking",(function(){return"Please enter CKYC no"}),(function(e){return!(1==this.parent.is_ckyc_account&&!e)})).min(14,(function(){return"CKYC no must be minimum 14 characters"})).max(14,(function(){return"CKYC no must be maximum 14 characters"})).matches(/^[1245][0-9]{0,13}$/,"Please enter valid CKYC no").notRequired("CKYC no is required"),is_eia_account2:y.string().when(["is_eia_account"],{is:function(e){return 0==e},then:y.string().required("RequiredField")}),tpaInsurance:y.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:y.string().required("RequiredField")})}),F=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var l,o;return Object(r.a)(this,t),(o=a.call(this,e)).tpaInsuranceRepository=function(){b.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),o.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},o.fetchData=function(){o.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");o.props.loadingStart(),b.a.get("ksb/details/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,t=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,s=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"",c=2==e.data.data.policyHolder.ckyc_no?"":e.data.data.policyHolder.ckyc_no,i=!1,m=JSON.parse(e.data.data.policyHolder.pincode_response),d=e.data.data.policyHolder&&e.data.data.policyHolder.ksbinfo?e.data.data.policyHolder.ksbinfo:[],u=0;u<t.length;u++)if("self"==t[u].relation_with){i=!0;break}o.setState(Object(n.a)({selfFlag:i,policy_holder:a,familyMembers:t,addressDetails:r,is_eia_account:l,is_eia_account2:s,is_ckyc_account:c,pincode_Details:m,ksbinfo:d},"is_eia_account2",s)),o.fetchPrevAreaDetails(m)})).catch((function(e){})),o.props.loadingStop()},o.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,t=new FormData;t.append("pincode",a),o.props.loadingStart(),b.a.post("pincode-details",t).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";o.setState({pinDataArr:e.data.data,stateName:a}),o.props.loadingStop()})).catch((function(e){o.props.loadingStop()}))}},o.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var t=new FormData;o.props.loadingStart();new A.a;t.append("pincode",a),b.a.post("pincode-details",t).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";o.setState({pinDataArr:e.data.data,stateName:a}),o.props.loadingStop()})).catch((function(e){o.props.loadingStop()}))}},o.sumInsured=function(e){o.props.history.push("/SelectDuration_KSB/".concat(e))},o.handleSubmit=function(e,a){var t,n=o.props.match.params.productId,r=localStorage.getItem("policyHolder_id"),l=new FormData;t=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=r;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(I()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.policy_holder_id=r,s.phoneNo=e.phoneNo,s.email_id=e.email,s.is_eia_account=e.is_eia_account,s.ckyc_no=e.is_ckyc_account,s.page_name="Address_KSB/".concat(n),s.create_eia_account=t,s.tpaInsurance=e.tpaInsurance;var v={};Object.assign(v,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(v),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=I()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.is_eia_account&&(s.eia_no=e.eia_no),1==e.is_ckyc_account&&(s.ckyc_account_no=e.ckyc_account_no),console.log("formArr=="),console.log(s);var E={};Object.assign(E,s);var y=new A.a;l.append("enc_data",y.encrypt(JSON.stringify(E))),o.props.loadingStart(),b.a.post("ksb/insured-member-details",l).then((function(e){o.props.loadingStop(),o.props.history.push("/NomineeDetails_KSB/".concat(n))})).catch((function(e){401==e.status?B()("Session out. Please login"):B()("Something wrong happened. Please try after some"),a.setSubmitting(!1),o.props.loadingStop()}))},o.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[R]},o.showEIAText=function(e){1==e?o.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):o.setState({showEIA:!1,is_eia_account:0})},o.showEIAText2=function(e){1==e?o.setState({showEIA2:!0,is_eia_account2:1}):o.setState({showEIA2:!1,is_eia_account2:0})},o.showCKYCText=function(e){1==e?o.setState({showckyc_no:!0,is_ckyc_account:1}):o.setState({showckyc_no:!1,is_ckyc_account:0})},o.state=(l={policy_holder:{},familyMembers:[],addressDetails:{},showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",is_ckyc_account:"",selfFlag:!1,pinDataArr:[],stateName:[]},Object(n.a)(l,"showEIA",!1),Object(n.a)(l,"showckyc_no",!1),Object(n.a)(l,"pincode_Details",[]),Object(n.a)(l,"ksbinfo",[]),Object(n.a)(l,"tpaInsurance",[]),l),o}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,t=a.policy_holder,n=a.familyMembers,r=a.addressDetails,l=a.is_eia_account,o=a.is_eia_account2,s=a.is_ckyc_account,c=a.selfFlag,_=a.pinDataArr,y=a.stateName,b=a.showEIA,N=a.showEIA2,S=a.pincode_Details,w=a.showckyc_no,k=(a.ksbinfo,a.tpaInsurance),C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=Object.assign(L,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):c?1:0,family_members:this.initFamilyDetailsList(n),panNo:t&&t.pancard?t.pancard:"",phoneNo:r&&r.phoneNo?r.phoneNo:"",email:t&&t.email_id?t.email_id:"",address1:r&&r.address1?r.address1:"",address2:r&&r.address2?r.address2:"",address3:r&&r.address3?r.address3:"",pincode:r&&r.pincode?r.pincode:"",pincode_id:S&&S.id?S.id:"",state:r&&r.state?r.state:"",is_eia_account:l,is_eia_account2:o,eia_no:t&&t.eia_no?t.eia_no:"",proposerName:t&&t.first_name?t.first_name:"",proposerLname:t&&t.last_name?t.last_name:"",proposerDob:t&&t.dob?new Date(t.dob):"",proposerGender:t&&t.gender?t.gender:"",is_ckyc_account:s,ckyc_account_no:t&&t.ckyc_account_no?t.ckyc_account_no:"",tpaInsurance:t&&t.T_Insurance_Repository_id?t.T_Insurance_Repository_id:""}),D=this.props.match.params.productId;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthAddress"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement(E.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:j},(function(a){var t=a.values,r=a.errors,c=a.setFieldValue,f=a.setFieldTouched,h=(a.isValid,a.isSubmitting),v=a.touched;return console.log("errors--------------- ",r),i.a.createElement(E.d,null,i.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},i.a.createElement("div",{className:"proposr prsres m-r-60"},i.a.createElement("p",null,"Is the Proposer same as insured")),i.a.createElement("div",{className:"d-inline-flex"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){c("proposerAsInsured",e.target.value)},checked:"1"==t.proposerAsInsured,disabled:!0}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){c("proposerAsInsured",e.target.value)},checked:"0"==t.proposerAsInsured,disabled:!0}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.proposerAsInsured&&v.proposerAsInsured?i.a.createElement("span",{className:"errorMsg"},r.proposerAsInsured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement(i.a.Fragment,null,"0"==P.proposerAsInsured?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement("h4",null," Proposer Details")),i.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},i.a.createElement("div",{className:"W12"},"Proposer",i.a.createElement(E.b,{name:"name",type:"hidden",value:t.name}),i.a.createElement(E.b,{name:"name",type:"hidden",value:t.name})),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.proposerName}),r.proposerName&&v.proposerName?i.a.createElement("span",{className:"errorMsg"},r.proposerName):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.proposerLname}),r.proposerLname&&v.proposerLname?i.a.createElement("span",{className:"errorMsg"},r.proposerLname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",selected:t.proposerDob,onChange:function(e){f("proposerDob"),c("proposerDob",e)}}),r.proposerDob&&v.proposerDob?i.a.createElement("span",{className:"errorMsg"},r.proposerDob):null)),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),r.proposerGender&&v.proposerGender?i.a.createElement("span",{className:"errorMsg"},r.proposerGender):null)))))):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement("h4",null," Tell us more about the Insured Members")),i.a.createElement(E.c,{name:"family_members",render:function(a){return i.a.createElement("div",null,n&&n.length>0&&n.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},i.a.createElement("div",{className:"W12"},a.relation_with,i.a.createElement(E.b,{name:"family_members.".concat(n,".family_member_id"),type:"hidden",value:t.family_members[n].family_member_id}),i.a.createElement(E.b,{name:"family_members.".concat(n,".looking_for"),type:"hidden",value:t.family_members[n].looking_for}))," \xa0\xa0",i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"family_members.".concat(n,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.family_members[n].fname}),r.family_members&&r.family_members[n]&&r.family_members[n].fname?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].fname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"family_members.".concat(n,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.family_members[n].lname}),r.family_members&&r.family_members[n]&&r.family_members[n].lname?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].lname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"family_members.".concat(n,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",disabled:!0,selected:t.family_members[n].dob?new Date(t.family_members[n].dob):new Date,onChange:function(e){f("family_members.".concat(n,".dob")),c("family_members.".concat(n,".dob"),e)}}),r.family_members&&r.family_members[n]&&r.family_members[n].dob?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].dob):null)),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"family_members.".concat(n,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),r.family_members&&r.family_members[n]&&r.family_members[n].gender?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].gender):null)))))})))}})),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.panNo.toUpperCase(),onChange:function(e){return c("panNo",e.target.value.toUpperCase())}}),r.panNo&&v.panNo?i.a.createElement("span",{className:"errorMsg"},r.panNo):null)),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"phoneNo",type:"text",placeholder:"MOBILE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.phoneNo}),r.phoneNo&&v.phoneNo?i.a.createElement("span",{className:"errorMsg"},r.phoneNo):null)),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.email}),r.email&&v.email?i.a.createElement("span",{className:"errorMsg"},r.email):null))),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," Communication Address")),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address1,onChange:function(e){return c("address1",e.target.value)}}),r.address1&&v.address1?i.a.createElement("span",{className:"errorMsg"},r.address1):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address2,onChange:function(e){return c("address2",e.target.value)}}),r.address2&&v.address2?i.a.createElement("span",{className:"errorMsg"},r.address2):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address3,onChange:function(e){return c("address3",e.target.value)}}),r.address3&&v.address3?i.a.createElement("span",{className:"errorMsg"},r.address3):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:t.pincode,onInput:function(e){f("state"),f("pincode"),c("pincode",e.target.value),c("state",y?y[0]:t.state),c("pincode_id","")}}),r.pincode&&v.pincode?i.a.createElement("span",{className:"errorMsg"},r.pincode):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"pincode_id",component:"select",autoComplete:"off",value:t.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Area"),_&&_.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&v.pincode_id?i.a.createElement("span",{className:"errorMsg"},r.pincode_id):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:y||t.state,disabled:!0}),r.state&&v.state?i.a.createElement("span",{className:"errorMsg"},r.state):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},"Do you have CKYC account")))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_ckyc_account",value:"1",key:"1",onChange:function(a){c("is_ckyc_account",a.target.value),e.showCKYCText(1)},checked:"1"==t.is_ckyc_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_ckyc_account",value:"0",key:"1",onChange:function(a){c("is_ckyc_account",a.target.value),e.showCKYCText(0)},checked:"0"==t.is_ckyc_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.is_ckyc_account&&v.is_ckyc_account?i.a.createElement("span",{className:"errorMsg"},r.is_ckyc_account):null))))),w||"1"==s?i.a.createElement(d.a,{sm:12,md:10,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"ckyc_account_no",type:"text",placeholder:"CKYC Number",autoComplete:"off",value:t.ckyc_account_no,maxLength:"14",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),r.ckyc_account_no&&v.ckyc_account_no?i.a.createElement("span",{className:"errorMsg"},r.ckyc_account_no):null))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},"Do you have EIA account")))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){c("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==t.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){c("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==t.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.is_eia_account&&v.is_eia_account?i.a.createElement("span",{className:"errorMsg"},r.is_eia_account):null))))),b||"1"==l?i.a.createElement(d.a,{sm:12,md:10,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"eia_no",type:"text",placeholder:"EIA Number",autoComplete:"off",value:t.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),r.eia_no&&v.eia_no?i.a.createElement("span",{className:"errorMsg"},r.eia_no):null))):""),0==b&&"0"==l?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},C.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){c("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==t.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",C.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){c("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==t.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},C.No),r.is_eia_account2&&v.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},C[r.is_eia_account2]):null)))))):"",N||"1"==o?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},C.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:t.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},C.SELECT_TPA),k.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&v.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},C[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!h,onClick:e.sumInsured.bind(e,D)},h?"Wait..":"Back"),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!h},h?"Wait..":"Continue"))),i.a.createElement(d.a,{sm:12,md:12,lg:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"Kutumb Swasthya Bima is for anyone and everyone who is looking for health insurance that is cost effective and offers great value")))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(F))},1289:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=(t(95),t(96),t(31)),v=t(34),E=t(40),y=t(2),b=t(1),N=t(3),S=t.n(N),w=t(20),k=t.n(w),C=t(7),P=t(38),D=t(19),I=t(22),M=t(28),B=(t(65),t(9)),A=S()(S()().subtract(100,"years").calendar()).calendar(),O=S()().subtract(3,"months").calendar(),x={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:"",whatsapp_const_decl:"0",auto_renewal:"0",language_id:"",ksb_phyformat:"1"},H=b.object().shape({last_name:b.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:b.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:b.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:b.string().required((function(){return"Please select relation"})),appointee_name:b.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new M.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:b.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new M.a).whatIsMyAge(this.parent.dob)<18&&!e)})),language_id:b.string().required("Select preferred Language of communication"),auto_renewal:b.string().required("Select auto renewal").nullable(),whatsapp_const_decl:b.boolean().oneOf([!0],"Please check WhatsApp consent")}),R=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0,languageList:[],ksbinfo:[],policy_holder:[]},e.ageCheck=function(a){(new M.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address_KSB/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?S()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.language_id=a.language_id,l.auto_renewal=a.auto_renewal,l.ksb_eformat=a.ksb_eformat,l.whatsapp_const_decl=a.whatsapp_const_decl,l.page_name="NomineeDetails_KSB/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new B.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),C.a.post("ksb/insert-nominee",r).then((function(a){console.log("decrypt - Resp---- ",a.data),e.props.loadingStop(),e.props.history.push("/PolicyDetails_KSB/".concat(n))})).catch((function(a){console.log("decrypt - Err---- ",a.data),401==a.status?k()("Session out. Please login"):k()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n}),e.fetchLanguageList()},e.getNomineeDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");C.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[],n=a.data.data.policyHolder&&a.data.data.policyHolder.ksbinfo?a.data.data.policyHolder.ksbinfo:[],r=a.data.data.policyHolder;e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee,ksbinfo:n,policy_holder:r})})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e.fetchLanguageList=function(){C.a.get("language").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({languageList:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.NomineeDetails,l=n.appointeeFlag,o=n.is_appointee,s=n.self_selected,g=n.languageList,b=(n.ksbinfo,n.policy_holder);S.a.defaultFormat="YYYY-MM-YY";var N=Object.assign(x,{first_name:r?r.first_name:"",last_name:r?r.last_name:"",gender:r?r.gender:"",dob:r&&r.dob?new Date(r.dob):"",relation_with:r?r.relation_with:"",appointee_relation_with:r&&r.appointee_relation_with?r.appointee_relation_with:"",appointee_name:r&&r.appointee_name?r.appointee_name:"",language_id:b&&b.ksbinfo&&b.ksbinfo.language_id?b.ksbinfo.language_id:"",ksb_eformat:b&&b.ksbinfo?b.ksbinfo.ksb_eformat:"",whatsapp_const_decl:b&&b.ksbinfo?b.ksbinfo.whatsapp_const_decl:"0"});return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthnominee2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(y.e,{initialValues:N,onSubmit:this.handleSubmit,validationSchema:H},(function(n){var r=n.values,h=n.errors,v=n.setFieldValue,E=n.setFieldTouched,b=(n.isValid,n.isSubmitting),N=n.touched;return c.a.createElement(y.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.first_name}),h.first_name&&N.first_name?c.a.createElement("span",{className:"errorMsg"},h.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.last_name}),h.last_name&&N.last_name?c.a.createElement("span",{className:"errorMsg"},h.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),h.gender&&N.gender?c.a.createElement("span",{className:"errorMsg"},h.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(O),minDate:new Date(A),className:"datePckr",onChange:function(a){E("dob"),v("dob",a),e.ageCheck(a)},selected:r.dob}),h.dob&&N.dob?c.a.createElement("span",{className:"errorMsg"},h.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"relation_with",component:"select",autoComplete:"off",value:r.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),s?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),h.relation_with&&N.relation_with?c.a.createElement("span",{className:"errorMsg"},h.relation_with):null)))),l||"1"==o?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.appointee_name}),h.appointee_name&&N.appointee_name?c.a.createElement("span",{className:"errorMsg"},h.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:r.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),s?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),h.appointee_relation_with&&N.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},h.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Additional Details")),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," \xa0")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(d.a,null,"Preferred Language for Teleconsultation")),c.a.createElement(m.a,{sm:12,md:12,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"language_id",component:"select",autoComplete:"off",value:r.language_id,className:"formGrp"},c.a.createElement("option",{value:""},"Preferred Language"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.descriptions)}))),h.language_id&&N.language_id?c.a.createElement("span",{className:"errorMsg"},h.language_id):null))),c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(d.a,null,"Do you want Kutumb Swasthya Bima Policy related information in e-Format when applicable?")),c.a.createElement(m.a,{sm:12,md:8,lg:2},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"ksb_eformat",value:"1",key:"1",onChange:function(e){v("ksb_eformat",e.target.value)},checked:"1"==r.ksb_eformat}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))))),c.a.createElement(m.a,{sm:12,md:8,lg:2},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"ksb_eformat",value:"0",key:"1",onChange:function(e){v("ksb_eformat",e.target.value)},checked:"0"==r.ksb_eformat}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"),h.ksb_eformat&&N.ksb_eformat?c.a.createElement("span",{className:"errorMsg"},h.ksb_eformat):null)))),c.a.createElement(m.a,{sm:12,md:8,lg:1},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},"\xa0"))),c.a.createElement(m.a,{sm:12,md:8,lg:11,className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Declaration for Update via Digital Mode",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"I/We acknowledge that by opting for digital services (including WhatsApp), I/We provide consent to receive communication/services from SBI General Insurance Company Limited related to my insurance policy through my registered mobile number & email")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement(y.b,{type:"checkbox",name:"whatsapp_const_decl",onChange:function(e){!0===e.target.checked?(E("whatsapp_const_decl"),v("whatsapp_const_decl","1")):v("whatsapp_const_decl","0")},checked:"1"==r.whatsapp_const_decl}),c.a.createElement("span",{className:"checkmark mL-0"}))),h.whatsapp_const_decl?c.a.createElement("span",{className:"errorMsg"},h.whatsapp_const_decl):"")),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!b,onClick:e.addressInfo.bind(e,a)},b?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(P.g)(Object(I.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(D.a)())},loadingStop:function(){return e(Object(D.b)())}}}))(R))},1290:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={M:"Male",F:"Female"},O={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x={gateway:""},H=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],nomineeDetails:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails_KSB/".concat(a))},e.getPolicyHolderDetails=function(){var a=e.state.policyHolder_refNo;e.props.loadingStart(),v.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder:[],n=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},o=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},s=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:t,bcMaster:n,menumaster:r,request_data:l,vehicleDetails:o,paymentgateway:s,nomineeDetails:t.request_data&&t.request_data.nominee&&t.request_data.nominee[0],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[]}),e.fullQuote(a.data.data.policyHolder)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.updatePolicyHolderDetails=function(){var a=e.state.policyHolder_refNo;e.props.loadingStart(),v.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{};e.setState({request_data:t}),e.props.loadingStop()})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a){var t=a.id,n=a.ksbinfo.ksbplan_id,r=a.request_data.start_date;console.log("policyHolderDetails",a);var l=new FormData;l.append("id",t),l.append("ksbplan_id",n),l.append("policyStartDate",r),l.append("ksbperiod_id","3"),v.a.post("/fullQuoteServiceKSBRetail",l).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?(e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}),e.updatePolicyHolderDetails()):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(B.b)(a,r,n,l)},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.nomineeDetails,y=n.bcMaster,b=(n.menumaster,n.request_data),N=n.vehicleDetails,S=n.paymentgateway,k=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,C=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.InsuredName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?O[parseInt(e.ArgInsuredRelToProposer)+1]:O[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,P=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?v.first_name+" "+v.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?w()(v.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?O[v.relation_with]:[]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v&&"m"==v.gender?"Male":"Female"))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v&&v.appointee_name?v.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?O[v.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),I=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,B=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthplicyDetail"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement(M.e,{initialValues:x,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,I),c.a.createElement("h5",null,B),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,b&&b.start_date?w()(b.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,b&&b.end_date?w()(b.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:6},c.a.createElement(d.a,null,N&&N.vehicletype?N.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"KSB Retail Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(r.BeforeVatPremium))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("strong",null,"Member Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},C),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},P),v&&"1"==v.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,v&&"1"==v.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},D):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address_KSB/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",S&&S.length>0?S.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),y&&1==y.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(H))},1291:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(377),d=t(910),u=t(913),p=t(41),_=t.n(p),g=(t(95),t(96),t(31)),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(1),k=t(20),C=t.n(k),P=t(2),D=t(28),I=t(9),M=S()(S()().subtract(66,"years").calendar()).add(1,"day").calendar(),B=S()().subtract(18,"years").calendar(),A=S()(S()().subtract(26,"years").calendar()).add(1,"day").calendar(),O=S()().subtract(3,"months").calendar(),x={self:0,selfDob:"",spouse:0,spouseDob:"",child1:0,child1Dob:"",child1Gender:"",father:0,fatherDob:"",mother:0,motherDob:"",fatherInLaw:0,fatherInLawDob:"",motherInLaw:0,motherInLawDob:"",gender:"",insureList:"",primaryInsured:"self",varient_type_id:"3",productTypes:"3",ksbplan_id:"1"},H=w.object().shape({gender:w.string().required("Please select gender"),varient_type_id:w.string().required("Please select product type"),ksbplan_id:w.string().required("Please select Plan")}),R=w.object().shape({confirm:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Please agree to the terms"),othewise:w.string()}),looking_for_1:w.string(),looking_for_6:w.string(),looking_for_0:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_6"],{is:function(e,a){return"spouse"==e&&"father"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_7"],{is:function(e,a){return"spouse"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_8"],{is:function(e,a){return"spouse"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_1","looking_for_9"],{is:function(e,a){return"spouse"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_7"],{is:function(e,a){return"father"==e&&"mother"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_8"],{is:function(e,a){return"father"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_6","looking_for_9"],{is:function(e,a){return"father"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_8"],{is:function(e,a){return"mother"==e&&"fatherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_7","looking_for_9"],{is:function(e,a){return"mother"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}).when(["looking_for_8","looking_for_9"],{is:function(e,a){return"fatherInLaw"==e&&"motherInLaw"==a},then:w.string().required("Please select self"),othewise:w.string()}),dob_0:w.string().when(["looking_for_0"],{is:function(e){return"self"==e},then:w.string().required("Self DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 and maximum 45 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).nullable(),othewise:w.string()}),dob_1:w.string().when(["looking_for_1"],{is:function(e){return"spouse"==e},then:w.string().required("Spouse DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),othewise:w.string()}),dob_2:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_0,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child1Gender:w.string().when(["looking_for_2"],{is:function(e){return"child1"==e},then:w.string().required("Child 1 Gender field is required"),othewise:w.string()}).nullable(),dob_3:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child2Gender:w.string().when(["looking_for_3"],{is:function(e){return"child2"==e},then:w.string().required("Child 2 Gender field is required"),othewise:w.string()}).nullable(),dob_4:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child3Gender:w.string().when(["looking_for_4"],{is:function(e){return"child3"==e},then:w.string().required("Child 3 Gender field is required"),othewise:w.string()}).nullable(),dob_5:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 DOB field is required").test("3monthsChecking",(function(){return"Age should be minimum 3 months and maximum 25 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<26&&a.whatIsMyAgeMonth(e)>=3}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and child age difference should be 1 year"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(Math.abs(S()(e).diff(this.parent.dob_1,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))<0)})).test("greaterAgeDiffChecking",(function(){return"Child age should be less than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))<0)})),othewise:w.string()}),child4Gender:w.string().when(["looking_for_5"],{is:function(e){return"child4"==e},then:w.string().required("Child 4 Gender field is required"),othewise:w.string()}).nullable(),dob_6:w.string().when(["looking_for_6"],{is:function(e){return"father"==e},then:w.string().required("Father DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and father age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and father difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_7:w.string().when(["looking_for_7"],{is:function(e){return"mother"==e},then:w.string().required("Mother DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Self and mother age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_8:w.string().when(["looking_for_8"],{is:function(e){return"fatherInLaw"==e},then:w.string().required("Father-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and father-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Father-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),dob_9:w.string().when(["looking_for_9"],{is:function(e){return"motherInLaw"==e},then:w.string().required("Mother-In-Law DOB field is required").test("18YearsChecking",(function(){return"Age should be minimum 18 years"}),(function(e){if(e){var a=new D.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})).test("1yearAgeDiffChecking",(function(){return"Spouse and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_1).diff(e,"years",!0)))<=0)})).test("1yearAgeDiffChecking",(function(){return"Self and mother-in-law age difference should be 1 year"}),(function(e){return!(Math.floor(Math.abs(S()(this.parent.dob_0).diff(e,"years",!0)))<=0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than self"}),(function(e){return"undefined"==typeof this.parent.dob_0||!(Math.floor(S()(e).diff(this.parent.dob_0,"years",!0))>0)})).test("greaterAgeDiffChecking",(function(){return"Mother-in-law age should be greater than spouse"}),(function(e){return"undefined"==typeof this.parent.dob_1||!(Math.floor(S()(e).diff(this.parent.dob_1,"years",!0))>0)})),othewise:w.string()}),primaryInsured:w.string().when(["productTypes"],{is:function(e){return"3"==e},then:w.string().required("Please select primary insured").nullable(),othewise:w.string()})});var L=function(e){Object(o.a)(p,e);var a=Object(s.a)(p);function p(e){var t;return Object(n.a)(this,p),(t=a.call(this,e)).chanageGender=function(e){var a=localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],n=[],r=sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[];if(a){n[0]=e||null,n[1]=e?"m"==e?"f":"m":null,n[2]=a[2]?a[2]:null,n[3]=a[3]?a[3]:null,n[4]=a[4]?a[4]:null,n[5]=a[5]?a[5]:null,n[6]="m",n[7]="f",n[8]="m",n[9]="f";for(var l=[],o=[],s=0;s<r.length;s++)""!=r[s]&&(l.push(r[s]),o.push(n[s]));localStorage.setItem("display_gender",JSON.stringify(n)),t.setState({display_gender:n,display_looking_for:r,looking_for:l,gender_for:o})}t.setState({gender:e})},t.chanageProductType=function(e){sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),t.setState({productTypes:e})},t.handleFormSubmit=function(e){var a=t.props.match.params.productId,n=new FormData,r=new I.a,l=t.state.lookingFor,o=t.state.dob,s=t.state.familyMembers,c=[],i=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",m="";i&&(m=JSON.parse(r.decrypt(i.user))),c.menumaster_id=6,c.vehicle_type_id=22,c.proposer_gender=e.gender,c.varient_type_id=e.varient_type_id,c.ksbbusniessplan_id=1,c.page_name="Health_KSB/".concat(a),c.primaryInsured=t.state.primaryInsured,c.ksbplan_id=e.ksbplan_id,c.product_id=t.props.match.params.productId,c.bc_agent_id=m.master_user_id,c.bcmaster_id=m.bc_master_id;for(var d=[],u=0;u<o.length;u++){var p=o[u]?o[u]:s[u].dob;d.push(p)}c.dob=d;d=[];for(var _=0;_<l.length;_++){var g=l[_]?l[_]:s[_].relation_with;"self"==g,d.push(g)}c.looking_for=d;var f=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,h=t.state.gender_for;d=[];for(var E=0;E<h.length;E++){var y;y=h[E]?h[E]:s[E].gender,d.push(y)}c.gender=d,c.confirm=t.state.confirm,localStorage.setItem("confirm",t.state.confirm);var b={};console.log("postData========",c),f>0?(c.policy_holder_id=f,Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("ksb/update-yourself",n).then((function(e){!1===e.data.error?(localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/PreExistingDisease_KSB_Micro/".concat(a))):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()}))):(Object.assign(b,c),n.append("enc_data",r.encrypt(JSON.stringify(b))),t.props.loadingStart(),v.a.post("ksb/yourself",n).then((function(e){!1===e.data.error?(localStorage.setItem("policyHolder_id",e.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",e.data.data.policyHolder_refNo),localStorage.setItem("display_gender",JSON.stringify(t.state.display_gender)),t.props.loadingStop(),t.props.history.push("/PreExistingDisease_KSB_Micro/".concat(a))):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){console.log("err.data---------- ",e.data),e&&e.data&&C()("Family Member fields are required..."),t.props.loadingStop()})))},t.handleSubmitForm=function(e,a){var n=[],r=[],l=[],o=[];if(o[0]=t.state.gender?t.state.gender:null,o[1]=t.state.gender?"m"==t.state.gender?"f":"m":null,o[2]=e.child1Gender?e.child1Gender:null,o[3]=e.child2Gender?e.child2Gender:null,o[4]=e.child3Gender?e.child3Gender:null,o[5]=e.child4Gender?e.child4Gender:null,o[6]=t.state.gender?"m":null,o[7]=t.state.gender?"f":null,o[8]=t.state.gender?"m":null,o[9]=t.state.gender?"f":null,1==t.state.validateCheck){for(var s in e)e.hasOwnProperty(s)&&s.match(/looking_for/gi)&&""!=e[s]&&n.push(e[s]);n&&n.length>0&&t.setState({insureList:n.toString()});t.props.match.params.productId,t.state.gender,new FormData;var c=[],i=[],m=[],d=[];for(var u in e)e.hasOwnProperty(u)&&(u.match(/looking_for/gi)&&(r[d=u.substr(12,1)]=e[u]?e[u]:"",e[u]&&(c.push(e[u]),i.push(o[d]))),u.match(/dob/gi)&&(l[d=u.substr(4,1)]=e[u]?e[u]:"",e[u]&&m.push(S()(e[u]).format("YYYY-MM-DD"))));sessionStorage.setItem("display_looking_for",JSON.stringify(r)),sessionStorage.setItem("display_dob",JSON.stringify(l)),t.setState({lookingFor:c,display_looking_for:r,display_gender:o,gender_for:i,primaryInsured:e.primaryInsured}),t.setState({dob:m,display_dob:l}),t.handleClose()}else C()("Please select at least one option")},t.fetchInsurePlan=function(){v.a.get("ksbplan").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({insurePlan:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");t.props.loadingStart(),v.a.get("ksb/details/".concat(e)).then((function(e){var a=e.data.data.policyHolder&&e.data.data.policyHolder.request_data&&e.data.data.policyHolder.request_data.family_members?e.data.data.policyHolder.request_data.family_members:[],n=JSON.parse(e.data.data.policyHolder.address),r=e.data.data.policyHolder.is_eia_account,l=e.data.data.policyHolder.gender,o=a&&a.length>0?1:0,s=e.data.data.policyHolder&&e.data.data.policyHolder.ksbinfo?e.data.data.policyHolder.ksbinfo:[],c=s?s.varient_type_id:"";t.setState({familyMembers:a,addressDetails:n,is_eia_account:r,gender:l,validateCheck:o,ksbinfo:s,productTypes:c}),t.setStateForPreviousData(a)})).catch((function(e){t.props.loadingStop()}))},t.fetchInsureBusinessPlan=function(){v.a.get("ksbbusniessplan").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({insureBusinessPlan:a}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchRelations=function(){t.props.loadingStart(),v.a.get("relations").then((function(e){var a=e.data&&e.data.data?e.data.data:[];t.setState({relationList:a}),t.fetchInsurePlan()})).catch((function(e){t.props.loadingStop()}))},t.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},t.setStateForPreviousData=function(e){if(e.length>0){var a=e.map((function(e){return e.relation_with})),n=e.map((function(e){return e.gender})),r=e.map((function(e){return S()(e.dob).format("YYYY-MM-DD")})),l=a.toString(),o=JSON.parse(localStorage.getItem("display_gender")),s=[];if(o&&o.length>0)for(var c=0;c<9;c++)s[c]=o?o[c]:null;t.setState({insureList:l,lookingFor:a,dob:r,gender_for:n,display_gender:s})}},t.getInsuredList=function(e){return e.length>0?e.map((function(e){return e.relation_with})):[]},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,insureList:"",lookingFor:[],dob:[],gender:"",validateCheck:0,familyMembers:[],addressDetails:{},is_eia_account:"",display_dob:[],display_looking_for:[],relationList:[],display_gender:[],gender_for:[],confirm:"",productTypes:"3",insureRepository:[],insureBusinessPlan:[],insurePlan:[],ksbinfo:[],primaryInsured:""},t}return Object(r.a)(p,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelations()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.memberInfo,a.insureList),r=a.validateCheck,l=a.gender,o=a.familyMembers,s=(a.lookingFor,a.dob,a.display_looking_for),p=a.display_dob,v=a.display_gender,E=(a.confirm,a.productTypes),y=(a.insureRepository,a.insureBusinessPlan,a.insurePlan),b=a.ksbinfo,N=this.getInsuredList(o),S=s&&s.length>0?s:sessionStorage.getItem("display_looking_for")?JSON.parse(sessionStorage.getItem("display_looking_for")):[],w=p&&p.length>0?p:sessionStorage.getItem("display_dob")?JSON.parse(sessionStorage.getItem("display_dob")):[],k=v&&v.length>0?v:localStorage.getItem("display_gender")?JSON.parse(localStorage.getItem("display_gender")):[],C=Object.assign(x,{check_input:r||0,gender:l||"",looking_for_0:S[0]?S[0]:"",dob_0:w[0]?new Date(w[0]):"",looking_for_1:S[1]?S[1]:"",dob_1:w[1]?new Date(w[1]):"",looking_for_2:S[2]?S[2]:"",dob_2:w[2]?new Date(w[2]):"",child1Gender:k?k[2]:"",looking_for_3:S[3]?S[3]:"",dob_3:w[3]?new Date(w[3]):"",child2Gender:k?k[3]:"",looking_for_4:S[4]?S[4]:"",dob_4:w[4]?new Date(w[4]):"",child3Gender:k?k[4]:"",looking_for_5:S[5]?S[5]:"",dob_5:w[5]?new Date(w[5]):"",child4Gender:k?k[5]:"",looking_for_6:S[6]?S[6]:"",dob_6:w[6]?new Date(w[6]):"",looking_for_7:S[7]?S[7]:"",dob_7:w[7]?new Date(w[7]):"",looking_for_8:S[8]?S[8]:"",dob_8:w[8]?new Date(w[8]):"",looking_for_9:S[9]?S[9]:"",dob_9:w[9]?new Date(w[9]):"",insureList:N?N.toString():n||"",primaryInsured:b&&b.primary_insured?b.primary_insured:"self",confirm:localStorage.getItem("confirm")?localStorage.getItem("confirm"):"",ksbplan_id:b&&b.ksbplan_id?b.ksbplan_id:"1"});return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthkas"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("h4",{className:"m-b-30"},"Help us with some information about yourself"),i.a.createElement(P.e,{initialValues:C,onSubmit:this.handleFormSubmit,validationSchema:H},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=(a.setFieldTouched,a.isValid,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Plan Name:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"ksbplan_id",component:"select",autoComplete:"off",value:r.ksbplan_id,className:"formGrp",disabled:!0,onChange:function(e){o("ksbplan_id",e.target.value)}},i.a.createElement("option",{value:""},"Select Plan"),y.map((function(e,a){return i.a.createElement("option",{value:e.id},e.descriptions)}))),l.ksbplan_id&&s.ksbplan_id?i.a.createElement("span",{className:"errorMsg"},l.ksbplan_id):null)),i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},"Gender:"),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(P.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp",onChange:function(a){o("gender",a.target.value),e.chanageGender(a.target.value)}},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),l.gender&&s.gender?i.a.createElement("span",{className:"errorMsg"},l.gender):null)),i.a.createElement("div",{className:"row formSection m-b-30"},i.a.createElement("label",{className:"col-md-4"},"Looking to Insure: ",i.a.createElement("br",null),i.a.createElement("span",{className:"small"},"(Add Family Members to be Insured)")),i.a.createElement("div",{className:"d-flex col-md-4",onClick:e.handleShow,href:"#"},i.a.createElement(P.b,{name:"insureList",type:"text",placeholder:"Select",className:"hght45",autoComplete:"off",readonly:"true",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n||r.insureList}),i.a.createElement("img",{src:t(388),alt:"",className:"plus-sign"}),i.a.createElement("br",null),i.a.createElement("br",null),l.insureList&&s.insureList?i.a.createElement("span",{className:"errorMsg"},l.insureList):null)),i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary",type:"submit"},"Go")))})))),i.a.createElement(h.a,null)),i.a.createElement(d.a,{className:"customModal1",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(P.e,{initialValues:C,onSubmit:this.handleSubmitForm,validationSchema:R},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isValidating,a.isSubmitting,a.touched);return i.a.createElement(P.d,null,i.a.createElement("div",{className:"customModalfamlyForm"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h4",{className:"modal-title"},"Add Family Members to be Insured")),i.a.createElement(d.a.Body,null,"1"==E||"2"==E||"3"==E?i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Self",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_0",value:"self",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_0",a.target.value):(r("looking_for_0",""),r("dob_0","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"self"==t.looking_for_0}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}," "))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_0",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_0"),r("dob_0",e)},selected:t.dob_0}),i.a.createElement("label",{className:"formGrp error"},n.dob_0&&o.dob_0?i.a.createElement("span",{className:"error-message"},n.dob_0):"",n.looking_for_0&&o.looking_for_0?i.a.createElement("span",{className:"error-message"},n.looking_for_0):"")))):null,"2"==E||"3"==E?i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Spouse",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_1",value:"spouse",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_1",a.target.value):(r("looking_for_1",""),r("dob_1",""),r("primaryInsured","self")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"spouse"==t.looking_for_1}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_1",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_1"),r("dob_1",e)},selected:t.dob_1}),i.a.createElement("label",{className:"formGrp error"},n.dob_1&&o.dob_1?i.a.createElement("span",{className:"error-message"},n.dob_1):"")))):null,"3"==E?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 1",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_2",value:"child1",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_2",a.target.value):(r("looking_for_2",""),r("dob_2","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child1"==t.looking_for_2}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_2",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_2"),r("dob_2",e)},selected:t.dob_2}),i.a.createElement("label",{className:"formGrp error"},n.dob_2&&o.dob_2?i.a.createElement("span",{className:"error-message"},n.dob_2):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child1Gender",component:"select",autoComplete:"off",value:t.child1Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child1Gender&&o.child1Gender?i.a.createElement("span",{className:"error-message"},n.child1Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 2",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_3",value:"child2",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_3",a.target.value):(r("looking_for_3",""),r("dob_3","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child2"==t.looking_for_3}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_3",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_3"),r("dob_3",e)},selected:t.dob_3}),i.a.createElement("label",{className:"formGrp error"},n.dob_3&&o.dob_3?i.a.createElement("span",{className:"error-message"},n.dob_3):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child2Gender",component:"select",autoComplete:"off",value:t.child2Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child2Gender&&o.child2Gender?i.a.createElement("span",{className:"error-message"},n.child2Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 3",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_4",value:"child3",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_4",a.target.value):(r("looking_for_4",""),r("dob_4","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child3"==t.looking_for_4}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_4",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_4"),r("dob_4",e)},selected:t.dob_4}),i.a.createElement("label",{className:"formGrp error"},n.dob_4&&o.dob_4?i.a.createElement("span",{className:"error-message"},n.dob_4):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child3Gender",component:"select",autoComplete:"off",value:t.child3Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child3Gender&&o.child3Gender?i.a.createElement("span",{className:"error-message"},n.child3Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Child 4",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_5",value:"child4",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_5",a.target.value):(r("looking_for_5",""),r("dob_5","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"child4"==t.looking_for_5}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_5",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(O),minDate:new Date(A),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_5"),r("dob_5",e)},selected:t.dob_5}),i.a.createElement("label",{className:"formGrp error"},n.dob_5&&o.dob_5?i.a.createElement("span",{className:"error-message"},n.dob_5):""))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(P.b,{name:"child4Gender",component:"select",autoComplete:"off",value:t.child4Gender,className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),i.a.createElement("label",{className:"formGrp error"},n.child4Gender&&o.child4Gender?i.a.createElement("span",{className:"error-message"},n.child4Gender):""))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_6",value:"father",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_6",a.target.value):(r("looking_for_6",""),r("dob_6","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"father"==t.looking_for_6}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_6",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_6"),r("dob_6",e)},selected:t.dob_6}),i.a.createElement("label",{className:"formGrp error"},n.dob_6&&o.dob_6?i.a.createElement("span",{className:"error-message"},n.dob_6):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_7",value:"mother",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_7",a.target.value):(r("looking_for_7",""),r("dob_7","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"mother"==t.looking_for_7}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_7",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_7"),r("dob_7",e)},selected:t.dob_7}),i.a.createElement("label",{className:"formGrp error"},n.dob_7&&o.dob_7?i.a.createElement("span",{className:"error-message"},n.dob_7):"")))),i.a.createElement("div",{className:"row dropinput"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Father in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_8",value:"fatherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_8",a.target.value):(r("looking_for_8",""),r("dob_8","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"fatherInLaw"==t.looking_for_8}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_8",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_8"),r("dob_8",e)},selected:t.dob_8}),i.a.createElement("label",{className:"formGrp error"},n.dob_8&&o.dob_8?i.a.createElement("span",{className:"error-message"},n.dob_8):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Mother in law",i.a.createElement(P.b,{type:"checkbox",name:"looking_for_9",value:"motherInLaw",className:"user-self",onChange:function(a){!0===a.target.checked?r("looking_for_9",a.target.value):(r("looking_for_9",""),r("dob_9","")),e.setValueData()?e.setState({validateCheck:1}):e.setState({validateCheck:0})},checked:"motherInLaw"==t.looking_for_9}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement(u.a,null,i.a.createElement(_.a,{name:"dob_9",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,maxDate:new Date(B),minDate:new Date(M),className:"datePckr",dropdownMode:"select",onChange:function(e,a){a&&"function"===typeof a.preventDefault&&a.preventDefault(),l("dob_9"),r("dob_9",e)},selected:t.dob_9}),i.a.createElement("label",{className:"formGrp error"},n.dob_9&&o.dob_9?i.a.createElement("span",{className:"error-message"},n.dob_9):"")))),i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-7"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},i.a.createElement("h5",null,"Select Primary Insured"))),i.a.createElement("div",{className:"col-md-4 formSection"},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(P.b,{type:"radio",name:"primaryInsured",value:"self",key:"1",onChange:function(e){r("primaryInsured",e.target.value)},checked:"self"==t.primaryInsured}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Self"))),"spouse"==t.looking_for_1?i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(P.b,{type:"radio",name:"primaryInsured",value:"spouse",key:"1",onChange:function(e){r("primaryInsured",e.target.value)},checked:"spouse"==t.primaryInsured}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"Spouse"))):null)),i.a.createElement("label",{className:"formGrp error"},n.primaryInsured&&o.primaryInsured?i.a.createElement("span",{className:"errorMsg"},n.primaryInsured):"")))):null,t.looking_for_2||t.looking_for_3||t.looking_for_4||t.looking_for_5?i.a.createElement("div",{className:"row dropinput m-b-45"},i.a.createElement("div",{className:"col-md-15"},i.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"I confirm that the child is/ children are financially dependent on me",i.a.createElement(P.b,{type:"checkbox",name:"confirm",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?r("confirm",a.target.value):r("confirm",""),e.setValueData()?e.setState({confirm:1}):e.setState({confirm:0})},checked:"1"==t.confirm}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("label",{className:"formGrp error"},n.confirm&&(o.looking_for_2||o.looking_for_3||o.looking_for_4||o.looking_for_5)?i.a.createElement("span",{className:"error-message"},n.confirm):"")))):null,i.a.createElement("div",{className:"cntrbtn"},i.a.createElement(m.a,{className:"btnPrimary m-r-15",type:"submit"},e.setValueData()||"1"==e.state.validateCheck?"Submit":"Select"),i.a.createElement(m.a,{className:"btnPrimary",type:"button",onClick:function(a){return e.handleClose()}},"Cancel")))))}))))))))}}]),p}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(L))},1292:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(18),i=t(17),m=t(11),d=t(0),u=t.n(d),p=t(377),_=t(31),g=t(34),f=t(40),h=t(38),v=t(19),E=t(22),y=t(1),b=t(9),N=t(919),S=t(2),w=t(20),k=t.n(w),C=(t(918),t(7)),P=t(3),D=t.n(P),I=t(37),M=t.n(I),B={ksb_branch_id:""},A=y.object().shape(Object(m.a)({fpo_ksb_file:y.mixed().required("Only xls, xlsx file format is allowed")},"fpo_ksb_file",y.mixed().required("Please select a file").test("type","Only xls, xlsx file format is allowed",(function(e){if(e){var a=e[0].name.split(".").pop();return"xlsx"===a||"xls"===a}}))));var O=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).makePayment=function(e){var a=new b.a,t=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",r="";t?(r=(r=JSON.parse(a.decrypt(t.user))).master_user_id,n.props.loadingStart(),C.a.get("acd/status-change-batch-policy/".concat(r,"/").concat(e)).then((function(e){0==e.data.error?k()(e.data.msg,{icon:"success"}).then((function(){n.batchList()})):(n.props.loadingStop(),k()(e.data.msg))})).catch((function(e){n.props.loadingStop(),k()(e.data.msg)}))):k()("User Id not found")},n.fileUpload=function(){var e=Object(l.a)(r.a.mark((function e(a,t,l){var o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a[0]||""===a[0].name){e.next=10;break}return o=a[0].size,l("fileSize"),t("fileSize",o),s=a[0],c=a[0].name,l("fpo_ksb_file"),t("fpo_ksb_file",a),e.next=10,n.setState({selectedFile:s,selectedFileName:c});case 10:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),n.handleFormSubmit=function(e,a){var t=a.resetForm,r=new FormData,l=new b.a,o=Math.random().toString(36),s="",c="",i="",m=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(m&&(m=JSON.parse(l.decrypt(m.user))),"4"==m.login_type){var d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(l.decrypt(d))),s=sessionStorage.getItem("csc_id")?"csc":"bc",c=sessionStorage.getItem("csc_id")?"5":d?d.agent_id:"0",i=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):d?d.user_info.data.user.username:""}else s=m.user_type,c=m.bc_master_id,i=m.master_user_id;r.append("user_type",s),r.append("master_id",c),r.append("user_id",i);var u=n.props.match.params.productId,p=n.state,_=p.selectedFile,g=p.selectedFileName;r.append("excel_file",_),r.append("fileName",g),r.append("product_id",u),n.props.loadingStart(),C.a.post("ksb-group-excel/upload",r).then((function(e){e.data.error?n.setState({resmessage:e.data.msg,reserror:e.data.error,tempBatchId:e.data.data.temp_batch_id,theInputKey:o}):(n.setState({resmessage:e.data.msg,reserror:e.data.error,theInputKey:o}),k()("File successfully uploaded"),n.batchList()),t(),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.fetchBranches=function(){n.setState({KSBbranches:[{id:1,branch:"Branch One"},{id:2,branch:"Branch Two"},{id:3,branch:"Branch Three"},{id:4,branch:"Branch Four"}]}),n.batchList()},n.KSBFileDelete=function(e){k()({title:"Delete",text:"Delete File",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.a.get("group-excel/delete-batch/".concat(e,"/ksb")).then((function(e){0==e.data.error?k()(e.data.msg,{icon:"success"}).then((function(){n.batchList()})):k()("",e.data.msg,"error")})).catch((function(e){k()("",e.data.msg,"error"),n.props.loadingStop()}))}))},n.downloadErrorFile=function(){var e=n.state.tempBatchId,a="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/ksb-group-excel/error-file/").concat(e);n.props.loadingStart();var t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),n.props.loadingStop()},n.downloadSampleFile=function(){n.state.tempBatchId;var e="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/ksb-group-excel/sample-file");n.props.loadingStart();var a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),n.props.loadingStop()},n.batchList=function(){var e=new FormData,a=new b.a,t="",r="",l="",o=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(o&&(o=JSON.parse(a.decrypt(o.user))),"4"==o.login_type){var s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";s&&(s=JSON.parse(a.decrypt(s))),t=sessionStorage.getItem("csc_id")?"csc":"bc",r=sessionStorage.getItem("csc_id")?"5":s?s.agent_id:"0",l=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):s?s.user_info.data.user.username:""}else t=o.user_type,r=o.bc_master_id,l=o.master_user_id;var c=n.props.match.params.productId;e.append("user_type",t),e.append("master_id",r),e.append("user_id",l),e.append("product_id",c),n.props.loadingStart(),C.a.post("ksb-group-excel/uploded-batch-list",e).then((function(e){e.data.error?n.setState({ksbFileList:[]}):n.setState({ksbFileList:e.data.data.batch_details}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.paymentmesg=function(){var e=M.a.parse(n.props.location.search).status,a=M.a.parse(n.props.location.search).access_id;""!==a&&"pay_success"==e&&C.a.get("group-excel/check-payment-status/".concat(a)).then((function(e){e.data.error?k()(e.data.msg,{icon:"error"}):k()(e.data.msg,{icon:"success"}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.state={KSBbranches:[],clickedKSBStatus:"",clickedKSBBranch:"",clickedKSBAction:"",resmessage:"",reserror:!1,ksbFileList:[]},n}return Object(s.a)(t,[{key:"KSBFileDownload",value:function(e){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/ksb-group-excel/succeed-file/").concat(e);this.props.loadingStart();var t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),this.props.loadingStop()}},{key:"GroupPDFDownload",value:function(e){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/group-excel/download-zip-policy-pdf/").concat(e);this.props.loadingStart();var t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),this.props.loadingStop()}},{key:"componentDidMount",value:function(){this.fetchBranches(),this.paymentmesg()}},{key:"render",value:function(){var e,a=this,t=this.state,n=(t.KSBbranches,t.reserror),r=t.resmessage,l=t.clickedKSBStatus,o=t.clickedKSBBranch,s=t.ksbFileList,c=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,i={page:1,sizePerPageList:[{text:"5",value:5},{text:"10",value:10},{text:"15",value:15},{text:"20",value:20},{text:"All",value:s.length}],sizePerPage:10,pageStartIndex:1,paginationSize:3,prePage:c.Prev,nextPage:c.Next,firstPage:c.First,lastPage:c.Last,paginationShowsTotal:this.renderShowsTotal,paginationPosition:c.bottom,noDataText:c.NoData};return u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("aside",{className:"left-sidebar"},u.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},u.a.createElement(g.a,null))),u.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthkas"},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),u.a.createElement("section",{className:"brand"},u.a.createElement("div",{className:"boxpd"},u.a.createElement("button",{class:"policy m-b-10",onClick:this.downloadSampleFile,style:{float:"left"}},"Download Sample Group KSB File "),u.a.createElement(S.e,{initialValues:B,onSubmit:this.handleFormSubmit,validationSchema:A},(function(e){e.values;var t=e.errors,n=e.setFieldValue,r=e.setFieldTouched;e.touched;return u.a.createElement(S.d,null,u.a.createElement("div",{className:"row formSection"},u.a.createElement("label",{className:"col-md-4"},"Upload the FPO-KSB file:"),u.a.createElement("div",{className:"col-md-4"},u.a.createElement("input",{type:"file",key:a.state.theInputKey||"",name:"fpo_ksb_file",onChange:function(e){e.target.value.length>0&&a.fileUpload(e.target.files,n,r)}}),t.fpo_ksb_file?u.a.createElement("span",{className:"errorMsg"},t.fpo_ksb_file):null),u.a.createElement("div",{className:"cntrbtn"},u.a.createElement(p.a,{className:"btnPrimary",type:"submit"},"Upload"))))})),n?u.a.createElement(u.a.Fragment,null,r?u.a.createElement("span",{className:"errorMsg",style:{textAlign:"right"}},r):null,u.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadErrorFile,style:{float:"right"}},"Download the Error FPO-KSB file ")):null,u.a.createElement(d.Fragment,null,u.a.createElement("div",{className:"contBox m-b-45 tickedTable",style:{marginTop:"50px"}},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Uploaded Files"),u.a.createElement("div",{className:"customInnerTable dataTableCustom customAlign"},u.a.createElement(N.BootstrapTable,{ref:"table",data:s,pagination:!0,options:i,striped:!0,hover:!0,wrapperClasses:"table-responsive"},u.a.createElement(N.TableHeaderColumn,{width:"100px",dataField:"batch_no",isKey:!0,dataFormat:function(e,a,t){return u.a.createElement("div",null,u.a.createElement("a",{href:"".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/group-excel/succeed-file/").concat(e),title:"Download"},e))}},"Batch Code"),u.a.createElement(N.TableHeaderColumn,{width:"100px",dataField:"microbatchstatus",dataFormat:function(e,a,t){return u.a.createElement("div",null,e.status_name?e.status_name:null)}},"Status"),u.a.createElement(N.TableHeaderColumn,{width:"100px",dataField:"total_members"},"Total Member"),u.a.createElement(N.TableHeaderColumn,{width:"100px",dataField:"all_total_premium"},"Total Premium"),u.a.createElement(N.TableHeaderColumn,{width:"100px",dataField:"uploded_time",dataFormat:function(e){return"0000-00-00 00:00:00"!==e?D()(e).format("DD-MM-YYYY"):""}},"Upload Date"),u.a.createElement(N.TableHeaderColumn,{width:"150px",dataField:"batch_no",dataFormat:(e=this,function(a,t,n){return u.a.createElement("div",null,t.microbatchstatus.id&&5==t.microbatchstatus.id?u.a.createElement("span",{href:"#",onClick:function(){return e.GroupPDFDownload(a)},id:"tooltip-1"},u.a.createElement(p.a,{type:"button"},"Download")):null,"\xa0",!t.microbatchstatus.id||1!=t.microbatchstatus.id&&2!=t.microbatchstatus.id?null:u.a.createElement("span",{href:"#",onClick:function(){return e.KSBFileDelete(a)},id:"tooltip-1"},u.a.createElement(p.a,{type:"button",className:"btn btn-danger"},"Delete"),u.a.createElement("i",{className:"far fa-trash-alt"})),"\xa0",t.microbatchstatus.id&&2==t.microbatchstatus.id?u.a.createElement("span",{href:"#",onClick:function(){return e.makePayment(a)},id:"tooltip-1"},u.a.createElement(p.a,{type:"button",className:"btn btn-success"},"Pay now"),u.a.createElement("i",{className:"far fa-trash-alt"})):null)})},"Action"))))),""!=l&&""!=o?u.a.createElement(d.Fragment,null,u.a.createElement("h4",{className:"m-b-30"},"File Details"),u.a.createElement("div",{className:"row formSection"},u.a.createElement("label",{className:"col-md-4"},"Total No. Of Families:"),u.a.createElement("div",{className:"col-md-4"},"200")),u.a.createElement("div",{className:"row formSection"},u.a.createElement("label",{className:"col-md-4"},"Total Premium:"),u.a.createElement("div",{className:"col-md-4"},"200")),u.a.createElement("div",{className:"cntrbtn"},u.a.createElement(p.a,{className:"btnPrimary",disabled:"true"},"Pay now"))):null)),u.a.createElement(f.a,null)))))))}}]),t}(d.Component);a.default=Object(h.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(O))},1293:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(2),h=t(1),v=t(7),E=t(38),y=t(19),b=t(22),N=t(20),S=t.n(N),w=(t(95),t(96),t(9)),k={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},C={proposerAsInsured:"",family_members:[k],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:"",is_eia_account:"",is_ckyc_account:"",eia_no:"",ckyc_account_no:""},P=h.object().shape({family_members:h.array().of(h.object().shape({looking_for:h.string(),preExistingDisease:h.string().required("Pre-existing disease required"),preExistingDetails:h.string().when(["preExistingDisease"],{is:function(e){return"yes"==e},then:h.string().required("Pre-existing disease required").min(3,(function(){return"Pre-existing disease must be minimum 3 chracters"})).max(50,(function(){return"Pre-existing disease must be maximum 50 chracters"})).matches(/^([A-Za-z,\s]*)$/,(function(){return"Please enter valid disease name"})),otherwise:h.string()})}))}),D=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");r.props.loadingStart(),v.a.get("ksb/details/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,t=e.data.data.policyHolder.request_data.family_members,n=!1,l=e.data.data.policyHolder.ksbinfo&&e.data.data.policyHolder.ksbinfo.ksbpreexisting?e.data.data.policyHolder.ksbinfo.ksbpreexisting:[],o=0;o<t.length;o++)if("self"==t[o].relation_with){n=!0;break}r.setState({selfFlag:n,policy_holder:a,familyMembers:t,ksbPreExisting:l})})).catch((function(e){})),r.props.loadingStop()},r.sumInsured=function(e){r.props.history.push("/Health_KSB_Micro/".concat(e))},r.handleSubmit=function(e,a){var t=r.props.match.params.productId,n=localStorage.getItem("policyHolder_id"),l=new FormData,o=[];o.policy_holder_id=n;var s=e.family_members,c=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",c);for(var i=[],m=[],d=[],u=[],p=0;p<s.length;p++)i.push(s[p].looking_for),m.push(s[p].family_member_id),d.push(s[p].preExistingDisease),u.push(s[p].preExistingDetails&&"yes"==s[p].preExistingDisease?s[p].preExistingDetails:"");o.looking_for=i,o.family_member_id=m,o.policy_holder_id=n,o.pre_existing_disease=d,o.pre_existing_details=u,o.page_name="PreExistingDisease_KSB/".concat(t);var _={};Object.assign(_,o);var g=new w.a;l.append("enc_data",g.encrypt(JSON.stringify(_))),r.props.loadingStart(),v.a.post("ksb/pre-existing-disease",l).then((function(e){r.props.loadingStop(),r.props.history.push("/SelectDuration_KSB_Micro/".concat(t))})).catch((function(e){401==e.status?S()("Session out. Please login"):S()("Something wrong happened. Please try after some"),a.setSubmitting(!1),r.props.loadingStop()}))},r.initPreExisting=function(e,a){return e.length>0?e.map((function(e,t){return{looking_for:e.relation_with,family_member_id:e.id,preExistingDisease:a&&a.length>0&&t<a.length?a[t].description:"",preExistingDetails:a&&a.length>0&&t<a.length&&a[t].pre_existing_details?a[t].pre_existing_details:""}})):[k]},r.state={policy_holder:{},familyMembers:[],addressDetails:{},selfFlag:!1,ksbPreExisting:[]},r}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,t=(a.policy_holder,a.familyMembers),n=a.ksbPreExisting,r=a.selfFlag,l=Object.assign(C,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):r?1:0,family_members:this.initPreExisting(t,n)});console.log("innitial family_members------------------- ",l);var o=this.props.match.params.productId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox prehealthex"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(f.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:P},(function(a){var n=a.values,r=a.errors,l=(a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return console.log("errors--------------- ",r),c.a.createElement(f.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Tell us more about Pre-existing disease of Insured Members")),c.a.createElement(f.c,{name:"family_members",render:function(a){return c.a.createElement("div",null,t&&t.length>0&&t.map((function(a,t){return c.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},c.a.createElement("div",{className:"W12"},"motherInLaw"==a.relation_with?"MOTHER IN LAW":"fatherInLaw"==a.relation_with?"FATHER IN LAW":a.relation_with.toUpperCase(),c.a.createElement(f.b,{name:"family_members.".concat(t,".family_member_id"),type:"hidden",value:n.family_members[t].family_member_id}),c.a.createElement(f.b,{name:"family_members.".concat(t,".looking_for"),type:"hidden",value:n.family_members[t].looking_for}))," \xa0\xa0",c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDisease"),type:"radio",value:"yes",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},checked:"yes"==n.family_members[t].preExistingDisease}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDisease"),type:"radio",value:"no",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},checked:"no"==n.family_members[t].preExistingDisease}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},r.family_members&&r.family_members[t]&&r.family_members[t].preExistingDisease?c.a.createElement("span",{className:"errorMsg"},r.family_members[t].preExistingDisease):null)))),"yes"==n.family_members[t].preExistingDisease?c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(f.b,{name:"family_members.".concat(t,".preExistingDetails"),type:"text",placeholder:"Pre-existing disease ",autoComplete:"off",maxLength:50,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.family_members[t].preExistingDetails}),r.family_members&&r.family_members[t]&&r.family_members[t].preExistingDetails?c.a.createElement("span",{className:"errorMsg"},r.family_members[t].preExistingDetails):null))):null))})))}})),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",disabled:!!l,onClick:e.sumInsured.bind(e,o)},l?"Wait..":"Back"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!l},l?"Wait..":"Continue")))))})))),c.a.createElement(g.a,null)))))))}}]),t}(s.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(D))},1294:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(911),v=t(40),E=(t(95),t(96),t(7)),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(2),D=t(1),I=t(25),M=t(9),B={polStartDate:"",polEndDate:"",insureValue:"5",ksbperiod_id:"3",installment_premium_payment:"0",ksbplan_id:"1"},A=(w()().add(30,"days"),D.object().shape({polStartDate:D.date().required("Please enter start date").test("checkGreaterTimes","Start date must be less than end date",(function(e){return!e||Object(I.b)(e,this.parent.polEndDate)})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.polEndDate||void 0!=e})),polEndDate:D.date().required("Please enter end date").test("checkGreaterTimes","End date must be greater than start date",(function(e){return!e||Object(I.c)(e,this.parent.polStartDate)})).test("checkEndDate","Enter End Date",(function(e){return void 0==this.parent.polStartDate||void 0!=e})),insureValue:D.string().required((function(){return"Please enter sum insured"})),ksbplan_id:D.string().required("Please select Plan")})),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accessToken:"",policyHolderDetails:[],polStartDate:"",EndDate:"",insureValue:"",error:[],endDateFlag:!1,serverResponse:[],insurePlan:[],ksbinfo:[],insurePeriod:[],fulQuoteResp:[],showInstallment:!1,installment_premium_payment:"",validation_error:[]},e.medicalQuestions=function(a){e.props.history.push("/PreExistingDisease_KSB_Micro/".concat(a))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=e.state.serverResponse,r=new FormData,l=new M.a,o=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;if(n.SumInsured>1e5)return C()("Quote cannot proceed with IDV greater than 100000"),e.props.loadingStop(),!1;var s={policy_holder_id:o,start_date:n.EffectiveDate,end_date:w()(n.ExpiryDate).format("YYYY-MM-DD"),ksbplan_id:a.ksbplan_id,ksbperiod_id:a.ksbperiod_id,installment_premium_payment:a.installment_premium_payment,page_name:"SelectDuration_KSB/".concat(t)};console.log("post_data---------- ",s),r.append("enc_data",l.encrypt(JSON.stringify(s))),e.props.loadingStart(),E.a.post("ksb/duration-premium",r).then((function(a){e.props.loadingStop(),e.props.history.push("/Address_KSB_Micro/".concat(t))})).catch((function(a){e.props.loadingStop()}))},e.getPolicyHolderDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");E.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder&&a.data.data.policyHolder.ksbinfo?a.data.data.policyHolder.ksbinfo:[],n=a.data.data.policyHolder.ksbinfo&&0==a.data.data.policyHolder.ksbinfo.installment_premium_payment?"0":a.data.data.policyHolder.ksbinfo.installment_premium_payment;e.setState({policyHolderDetails:a.data.data.policyHolder,ksbinfo:t,installment_premium_payment:n}),e.fetchInsurePlan()})).catch((function(a){e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.quote=function(a){e.state.accessToken;null===a.polStartDate&&(a.polStartDate=new Date,a.polEndDate=new Date(w()(a.polStartDate).add(1,"years").format("YYYY-MM-DD"))),0===a.ksbplan_id&&(a.ksbplan_id="1");var t=w()(a.polStartDate).format("YYYY-MM-DD"),n=w()(a.polEndDate).format("YYYY-MM-DD"),r=new FormData;e.props.loadingStart();localStorage.getItem("policyHolder_id"),a.ksbplan_id,a.ksbperiod_id,new M.a;r.append("id",localStorage.getItem("policyHolder_id")),r.append("policyStartDate",t),r.append("policyEndDate",n),r.append("ksbplan_id",a.ksbplan_id),r.append("ksbperiod_id",a.ksbperiod_id),r.append("insureValue",1),E.a.post("/fullQuoteServiceKSBRetail",r).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]});else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}});else if(a.data.code&&a.data.message&&"validation failed"==a.data.code&&"validation failed"==a.data.message){var t=[];for(var n in a.data.messages)t.push(a.data.messages[n].message);e.setState({fulQuoteResp:[],validation_error:t,error:[],serverResponse:[]})}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]});e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleChange=function(a){var t=w()(a).add(1,"years").format("YYYY-MM-DD");e.setState({EndDate:t,endDateFlag:!0,serverResponse:[],error:[]})},e.handleAmountChange=function(a){e.setState({serverResponse:[],error:[]})},e.fetchInsurePlan=function(){E.a.get("ksbplan").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({insurePlan:t}),console.log("policyHolderDetails",e.state.policyHolderDetails),console.log("ksbinfo",e.state.ksbinfo);var n=[];n.polStartDate=e.state.policyHolderDetails.request_data.start_date,n.polEndDate=new Date(w()(n.polStartDate).add(1,"years").format("YYYY-MM-DD")),n.ksbplan_id=e.state.ksbinfo.ksbplan_id,n.ksbperiod_id="3",e.quote(n)})).catch((function(a){e.props.loadingStop()}))},e.fetchPaymentPeriod=function(){E.a.get("ksbperiod").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({insurePeriod:t})})).catch((function(a){e.props.loadingStop()}))},e.showInstalmentText=function(a){1==a?e.setState({showInstallment:!0,installment_premium_payment:1}):e.setState({showInstallment:!1,installment_premium_payment:0})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.policyHolderDetails,r=t.serverResponse,l=t.error,o=(t.EndDate,t.endDateFlag,t.fulQuoteResp),g=t.insurePlan,E=t.ksbinfo,y=(t.insurePeriod,t.showInstallment,t.installment_premium_payment,t.validation_error),b=n?n.request_data:null,N=b&&b.start_date?new Date(b.start_date):"",S=b&&b.end_date?new Date(b.end_date):"",k=Object.assign(B,{polStartDate:N||new Date,polEndDate:S||new Date(w()().add(1,"years").format("YYYY-MM-DD")),ksbplan_id:E&&E.ksbplan_id?E.ksbplan_id:"1"}),C=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,l.message))):null,D=y?y.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,"Errors :",c.a.createElement("strong",null,c.a.createElement("ul",null,c.a.createElement("li",null,e)))))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox heathDuration"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,C),c.a.createElement("h5",null,D),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Select the duration for your Health Insurance")),c.a.createElement(P.e,{initialValues:k,onSubmit:r&&""!=r?r.message?this.quote:this.handleSubmit:this.quote,validationSchema:A},(function(t){var n=t.values,l=t.errors,i=t.setFieldValue,m=t.setFieldTouched,v=(t.isValid,t.isSubmitting,t.touched);return c.a.createElement(P.d,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,{className:"m-b-25"},c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement("div",{className:"insurerName"},"Policy Start Date"))),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polStartDate",minDate:new Date,maxDate:Object(h.a)(new Date,30),showDisabledMonthNavigation:!0,dateFormat:"dd MMM yyyy",placeholderText:"Start Date",dropdownMode:"select",className:"datePckr",onChange:function(a){m("polStartDate"),i("polStartDate",a),i("polEndDate",Object(h.a)(new Date,364)),e.handleChange(a)},selected:n.polStartDate}),l.polStartDate&&v.polStartDate?c.a.createElement("span",{className:"errorMsg"},l.polStartDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Policy End Date")),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,c.a.createElement(f.a,{name:"polEndDate",dateFormat:"dd MMM yyyy",placeholderText:"End Date",disabled:!0,className:"datePckr",selected:Object(h.a)(new Date(n.polStartDate),364)}),l.polEndDate&&v.polEndDate?c.a.createElement("span",{className:"errorMsg"},l.polEndDate):null)),c.a.createElement(u.a,{sm:12,md:6,lg:3},c.a.createElement(p.a,null,"Plan Name")),c.a.createElement(u.a,{sm:12,md:12,lg:8},c.a.createElement(p.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(P.b,{name:"ksbplan_id",component:"select",autoComplete:"off",value:n.ksbplan_id,className:"formGrp",disabled:!0,onChange:function(a){i("ksbplan_id",a.target.value),e.handleAmountChange(a)}},c.a.createElement("option",{value:""},"Select Plan"),g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.descriptions)}))),l.ksbplan_id&&v.ksbplan_id?c.a.createElement("span",{className:"errorMsg"},l.ksbplan_id):null)))),o&&o.SumInsured?c.a.createElement(s.Fragment,null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Sum Insured")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Sum Insured for One Year : "),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",o?o.SumInsured:0))))):"",c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Premium")),c.a.createElement(d.a,null,c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Your Total Premium for One Year : "),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs:")," ",o?o.message?0:o.DuePremium:0))),c.a.createElement(u.a,{sm:12},c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("b",null,"Base"),c.a.createElement("li",null,"24 Doctor consultation calls in a year"),c.a.createElement("li",null,"1 lakh PA Cover to Primary Insured ")))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.medicalQuestions.bind(e,a)},"Back"),r&&""!=r?r.message?c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Quote"))),c.a.createElement(d.a,null,c.a.createElement("div",null,"\xa0"))),c.a.createElement(u.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))})))),c.a.createElement(v.a,null)))))))}}]),t}(s.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(O))},1295:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(2),y=t(1),b=t(7),N=t(38),S=t(19),w=t(22),k=t(28),C=t(65),P=t.n(C),D=t(3),I=t.n(D),M=t(20),B=t.n(M),A=(t(95),t(96),t(9)),O=P()(new Date,"mm/dd/yyyy"),x=I()(I()().subtract(66,"years").calendar()).add(1,"day").calendar(),H=I()().subtract(18,"years").calendar(),R={fname:"",lname:"",dob:new Date,gender:"",family_member_id:0,looking_for:""},L={proposerAsInsured:"",family_members:[R],panNo:"",phoneNo:"",email:"",address1:"",address2:"",address3:"",pincode:"",state:"",proposerName:"",proposerLname:"",proposerDob:"",proposerGender:"",is_eia_account:"",is_eia_account2:"",is_ckyc_account:"",eia_no:"",ckyc_account_no:""},j=y.object().shape({proposerAsInsured:y.string().required((function(){return"Please select a value"})),address1:y.string().notRequired((function(){return"Enter plot number."})).matches(/^[a-zA-Z0-9][a-zA-Z0-9]*$/,(function(){return"Invalid plot number"})),address2:y.string().required((function(){return"Enter building name / number"})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Invalid building name / number"})),address3:y.string().required((function(){return"Enter street name"})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Invalid street name"})),email:y.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 chracters"})).max(75,(function(){return"Email must be maximum 75 chracters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id"),phoneNo:y.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required"),panNo:y.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"Enter PAN number"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),pincode:y.string().required((function(){return"Enter pin code"})).matches(/^([0-9]*)$/,(function(){return"Invalid pin code"})).min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits"),pincode_id:y.string().required((function(){return"Select area"})),family_members:y.array().of(y.object().shape({looking_for:y.string(),fname:y.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})),lname:y.string((function(){return"Please enter last name"})).required((function(){return"Please enter last name"})).min(1,(function(){return"Last name must be minimum 1 chracters"})).max(40,(function(){return"Last name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})),dob:y.date().when(["looking_for"],{is:function(e){return["self","spouse","mother","father","fatherInLaw","motherInLaw"].includes(e)},then:y.date().required("Please enter DOB").max(O,(function(){return"Date should not be future date"})).test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 65 years"}),(function(e){if(e){var a=new k.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0}))}),gender:y.string().nullable().required("Require Gender")})),proposerName:y.string((function(){return"Please enter proposer name"})).notRequired((function(){return"Please enter proposer name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerLname:y.string((function(){return"Please enter proposer last name"})).notRequired((function(){return"Please enter proposer last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid name"})).test("proposerAsInsured",(function(){return"Please enter proposer last name"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),proposerDob:y.date().notRequired((function(){return"Please enter proposer date of birth"})).test("proposerAsInsured",(function(){return"Please enter proposer date of birth"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})).test("18YearsChecking",(function(){return"Proposer age should be between 18 to 65 years"}),(function(e){var a=new k.a;if(e){new k.a;return a.whatIsMyAge(e)<66&&a.whatIsMyAge(e)>=18}return!0})),proposerGender:y.string().notRequired((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})).test("proposerAsInsured",(function(){return"Please select proposer gender"}),(function(e){return!("0"==this.parent.proposerAsInsured&&!e)})),is_eia_account:y.string().required("This field is required"),eia_no:y.string().test("isEIAchecking",(function(){return"Please enter EIA no"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIA no must be minimum 13 characters"})).max(13,(function(){return"EIA no must be maximum 13 characters"})).matches(/^[1245][0-9]{0,13}$/,"Please enter valid EIA no").notRequired("EIA no is required"),is_ckyc_account:y.string().required("This field is required").nullable(),ckyc_account_no:y.string().test("isCKYCchecking",(function(){return"Please enter CKYC no"}),(function(e){return!(1==this.parent.is_ckyc_account&&!e)})).min(14,(function(){return"CKYC no must be minimum 14 characters"})).max(14,(function(){return"CKYC no must be maximum 14 characters"})).matches(/^[1245][0-9]{0,13}$/,"Please enter valid CKYC no").notRequired("CKYC no is required"),is_eia_account2:y.string().when(["is_eia_account"],{is:function(e){return 0==e},then:y.string().required("RequiredField")}),tpaInsurance:y.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:y.string().required("RequiredField")})}),F=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var l,o;return Object(r.a)(this,t),(o=a.call(this,e)).tpaInsuranceRepository=function(){b.a.get("/tpaInsuranceRepository").then((function(e){var a=e.data?e.data:{};console.log("tpaInsuranceRepository===",a),o.setState({tpaInsurance:a})})),console.log("tpaInsuranceRepository=")},o.fetchData=function(){o.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo");o.props.loadingStart(),b.a.get("ksb/details/".concat(e)).then((function(e){for(var a=e.data.data.policyHolder,t=e.data.data.policyHolder.request_data.family_members,r=JSON.parse(e.data.data.policyHolder.address),l=2==e.data.data.policyHolder.is_eia_account?"":e.data.data.policyHolder.is_eia_account,s=1===e.data.data.policyHolder.create_eia_account||0===e.data.data.policyHolder.create_eia_account?e.data.data.policyHolder.create_eia_account:"",c=2==e.data.data.policyHolder.ckyc_no?"":e.data.data.policyHolder.ckyc_no,i=!1,m=JSON.parse(e.data.data.policyHolder.pincode_response),d=e.data.data.policyHolder&&e.data.data.policyHolder.ksbinfo?e.data.data.policyHolder.ksbinfo:[],u=0;u<t.length;u++)if("self"==t[u].relation_with){i=!0;break}o.setState(Object(n.a)({selfFlag:i,policy_holder:a,familyMembers:t,addressDetails:r,is_eia_account:l,is_eia_account2:s,is_ckyc_account:c,pincode_Details:m,ksbinfo:d},"is_eia_account2",s)),o.fetchPrevAreaDetails(m)})).catch((function(e){})),o.props.loadingStop()},o.fetchPrevAreaDetails=function(e){if(e){var a=e.PIN_CD,t=new FormData;t.append("pincode",a),o.props.loadingStart(),b.a.post("pincode-details",t).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";o.setState({pinDataArr:e.data.data,stateName:a}),o.props.loadingStop()})).catch((function(e){o.props.loadingStop()}))}},o.fetchAreadetails=function(e){var a=e.target.value;if(6==a.length){var t=new FormData;o.props.loadingStart();new A.a;t.append("pincode",a),b.a.post("pincode-details",t).then((function(e){var a=e.data.data&&e.data.data[0]&&e.data.data[0].pinstate.STATE_NM?e.data.data[0].pinstate.STATE_NM:"";o.setState({pinDataArr:e.data.data,stateName:a}),o.props.loadingStop()})).catch((function(e){o.props.loadingStop()}))}},o.sumInsured=function(e){o.props.history.push("/SelectDuration_KSB_Micro/".concat(e))},o.handleSubmit=function(e,a){var t,n=o.props.match.params.productId,r=localStorage.getItem("policyHolder_id"),l=new FormData;t=""===e.is_eia_account2?2:e.is_eia_account2;var s=[];s.policy_holder_id=r;var c=e.family_members,i=e.proposerAsInsured;sessionStorage.setItem("proposed_insured",i);for(var m=[],d=[],u=[],p=[],_=[],g=[],f=[],h=0;h<c.length;h++)m.push(c[h].looking_for),d.push(c[h].family_member_id),u.push(c[h].gender),p.push(c[h].fname),_.push(c[h].lname),g.push(I()(c[h].dob).format("YYYY-MM-DD")),f.push(e.panNo);s.looking_for=m,s.family_member_id=d,s.gender=u,s.first_name=p,s.last_name=_,s.dob=g,s.pancard_no=f,s.policy_holder_id=r,s.phoneNo=e.phoneNo,s.email_id=e.email,s.is_eia_account=e.is_eia_account,s.ckyc_no=e.is_ckyc_account,s.page_name="Address_KSB/".concat(n),s.create_eia_account=t,s.tpaInsurance=e.tpaInsurance;var v={};Object.assign(v,{address1:e.address1,address2:e.address2,address3:e.address3,pincode_id:e.pincode_id,phoneNo:e.phoneNo,pincode:e.pincode,state:e.state}),s.communication_address=JSON.stringify(v),s.panNo=e.panNo,s.phoneNo=e.phoneNo,s.email=e.email,s.proposerName=e.proposerName,s.proposerLname=e.proposerLname,s.proposerDob=I()(e.proposerDob).format("YYYY-MM-DD"),s.proposerGender=e.proposerGender,s.pincode_id=e.pincode_id,1==e.is_eia_account&&(s.eia_no=e.eia_no),1==e.is_ckyc_account&&(s.ckyc_account_no=e.ckyc_account_no),console.log("formArr=="),console.log(s);var E={};Object.assign(E,s);var y=new A.a;l.append("enc_data",y.encrypt(JSON.stringify(E))),o.props.loadingStart(),b.a.post("ksb/insured-member-details",l).then((function(e){o.props.loadingStop(),o.props.history.push("/NomineeDetails_KSB_Micro/".concat(n))})).catch((function(e){401==e.status?B()("Session out. Please login"):B()("Something wrong happened. Please try after some"),a.setSubmitting(!1),o.props.loadingStop()}))},o.initFamilyDetailsList=function(e){return e.length>0?e.map((function(e){return{fname:e.first_name?e.first_name:"",lname:e.last_name?e.last_name:"",dob:e.dob,gender:e.gender?e.gender:"",looking_for:e.relation_with,family_member_id:e.id,pancard_no:e.pancard_no}})):[R]},o.showEIAText=function(e){1==e?o.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):o.setState({showEIA:!1,is_eia_account:0})},o.showEIAText2=function(e){1==e?o.setState({showEIA2:!0,is_eia_account2:1}):o.setState({showEIA2:!1,is_eia_account2:0})},o.showCKYCText=function(e){1==e?o.setState({showckyc_no:!0,is_ckyc_account:1}):o.setState({showckyc_no:!1,is_ckyc_account:0})},o.state=(l={policy_holder:{},familyMembers:[],addressDetails:{},showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",is_ckyc_account:"",selfFlag:!1,pinDataArr:[],stateName:[]},Object(n.a)(l,"showEIA",!1),Object(n.a)(l,"showckyc_no",!1),Object(n.a)(l,"pincode_Details",[]),Object(n.a)(l,"ksbinfo",[]),Object(n.a)(l,"tpaInsurance",[]),l),o}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=this.state,t=a.policy_holder,n=a.familyMembers,r=a.addressDetails,l=a.is_eia_account,o=a.is_eia_account2,s=a.is_ckyc_account,c=a.selfFlag,_=a.pinDataArr,y=a.stateName,b=a.showEIA,N=a.showEIA2,S=a.pincode_Details,w=a.showckyc_no,k=(a.ksbinfo,a.tpaInsurance),C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=Object.assign(L,{proposerAsInsured:sessionStorage.getItem("proposed_insured")?sessionStorage.getItem("proposed_insured"):c?1:0,family_members:this.initFamilyDetailsList(n),panNo:t&&t.pancard?t.pancard:"",phoneNo:r&&r.phoneNo?r.phoneNo:"",email:t&&t.email_id?t.email_id:"",address1:r&&r.address1?r.address1:"",address2:r&&r.address2?r.address2:"",address3:r&&r.address3?r.address3:"",pincode:r&&r.pincode?r.pincode:"",pincode_id:S&&S.id?S.id:"",state:r&&r.state?r.state:"",is_eia_account:l,is_eia_account2:o,eia_no:t&&t.eia_no?t.eia_no:"",proposerName:t&&t.first_name?t.first_name:"",proposerLname:t&&t.last_name?t.last_name:"",proposerDob:t&&t.dob?new Date(t.dob):"",proposerGender:t&&t.gender?t.gender:"",is_ckyc_account:s,ckyc_account_no:t&&t.ckyc_account_no?t.ckyc_account_no:"",tpaInsurance:t&&t.T_Insurance_Repository_id?t.T_Insurance_Repository_id:""}),D=this.props.match.params.productId;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthAddress"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement(E.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:j},(function(a){var t=a.values,r=a.errors,c=a.setFieldValue,f=a.setFieldTouched,h=(a.isValid,a.isSubmitting),v=a.touched;return console.log("errors--------------- ",r),i.a.createElement(E.d,null,i.a.createElement("div",{className:"d-flex flex-column flex-sm-column flex-md-column flex-lg-row justify-content-left m-b-15"},i.a.createElement("div",{className:"proposr prsres m-r-60"},i.a.createElement("p",null,"Is the Proposer same as insured")),i.a.createElement("div",{className:"d-inline-flex"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"proposerAsInsured",value:"1",key:"0",onChange:function(e){c("proposerAsInsured",e.target.value)},checked:"1"==t.proposerAsInsured,disabled:!0}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"proposerAsInsured",value:"0",key:"0",onChange:function(e){c("proposerAsInsured",e.target.value)},checked:"0"==t.proposerAsInsured,disabled:!0}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.proposerAsInsured&&v.proposerAsInsured?i.a.createElement("span",{className:"errorMsg"},r.proposerAsInsured):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement(i.a.Fragment,null,"0"==P.proposerAsInsured?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement("h4",null," Proposer Details")),i.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},i.a.createElement("div",{className:"W12"},"Proposer",i.a.createElement(E.b,{name:"name",type:"hidden",value:t.name}),i.a.createElement(E.b,{name:"name",type:"hidden",value:t.name})),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"proposerName",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.proposerName}),r.proposerName&&v.proposerName?i.a.createElement("span",{className:"errorMsg"},r.proposerName):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"proposerLname",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.proposerLname}),r.proposerLname&&v.proposerLname?i.a.createElement("span",{className:"errorMsg"},r.proposerLname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"proposerDob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",selected:t.proposerDob,onChange:function(e){f("proposerDob"),c("proposerDob",e)}}),r.proposerDob&&v.proposerDob?i.a.createElement("span",{className:"errorMsg"},r.proposerDob):null)),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"proposerGender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),r.proposerGender&&v.proposerGender?i.a.createElement("span",{className:"errorMsg"},r.proposerGender):null)))))):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement("h4",null," Tell us more about the Insured Members")),i.a.createElement(E.c,{name:"family_members",render:function(a){return i.a.createElement("div",null,n&&n.length>0&&n.map((function(a,n){return i.a.createElement("div",{className:"d-flex justify-content-left prsnlinfo"},i.a.createElement("div",{className:"W12"},a.relation_with,i.a.createElement(E.b,{name:"family_members.".concat(n,".family_member_id"),type:"hidden",value:t.family_members[n].family_member_id}),i.a.createElement(E.b,{name:"family_members.".concat(n,".looking_for"),type:"hidden",value:t.family_members[n].looking_for}))," \xa0\xa0",i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"family_members.".concat(n,".fname"),type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.family_members[n].fname}),r.family_members&&r.family_members[n]&&r.family_members[n].fname?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].fname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"family_members.".concat(n,".lname"),type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.family_members[n].lname}),r.family_members&&r.family_members[n]&&r.family_members[n].lname?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].lname):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"family_members.".concat(n,".dob"),dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(H),minDate:new Date(x),className:"datePckr",disabled:!0,selected:t.family_members[n].dob?new Date(t.family_members[n].dob):new Date,onChange:function(e){f("family_members.".concat(n,".dob")),c("family_members.".concat(n,".dob"),e)}}),r.family_members&&r.family_members[n]&&r.family_members[n].dob?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].dob):null)),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"family_members.".concat(n,".gender"),component:"select",autoComplete:"off",className:"formGrp",disabled:!0},i.a.createElement("option",{value:""},"Select gender"),i.a.createElement("option",{value:"m"},"Male"),i.a.createElement("option",{value:"f"},"Female")),r.family_members&&r.family_members[n]&&r.family_members[n].gender?i.a.createElement("span",{className:"errorMsg"},r.family_members[n].gender):null)))))})))}})),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"panNo",type:"text",placeholder:"PAN NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.panNo.toUpperCase(),onChange:function(e){return c("panNo",e.target.value.toUpperCase())}}),r.panNo&&v.panNo?i.a.createElement("span",{className:"errorMsg"},r.panNo):null)),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"phoneNo",type:"text",placeholder:"MOBILE NO",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.phoneNo}),r.phoneNo&&v.phoneNo?i.a.createElement("span",{className:"errorMsg"},r.phoneNo):null)),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"email",type:"text",placeholder:"EMAIL",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.email}),r.email&&v.email?i.a.createElement("span",{className:"errorMsg"},r.email):null))),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," Communication Address")),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address1",type:"text",placeholder:"Plot / Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address1,onChange:function(e){return c("address1",e.target.value)}}),r.address1&&v.address1?i.a.createElement("span",{className:"errorMsg"},r.address1):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address2",type:"text",placeholder:"Building Name / Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address2,onChange:function(e){return c("address2",e.target.value)}}),r.address2&&v.address2?i.a.createElement("span",{className:"errorMsg"},r.address2):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address3",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.address3,onChange:function(e){return c("address3",e.target.value)}}),r.address3&&v.address3?i.a.createElement("span",{className:"errorMsg"},r.address3):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pincode",type:"number",placeholder:"Pincode",autoComplete:"off",maxlength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:t.pincode,onInput:function(e){f("state"),f("pincode"),c("pincode",e.target.value),c("state",y?y[0]:t.state),c("pincode_id","")}}),r.pincode&&v.pincode?i.a.createElement("span",{className:"errorMsg"},r.pincode):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"pincode_id",component:"select",autoComplete:"off",value:t.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Area"),_&&_.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&v.pincode_id?i.a.createElement("span",{className:"errorMsg"},r.pincode_id):null))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"state",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:y||t.state,disabled:!0}),r.state&&v.state?i.a.createElement("span",{className:"errorMsg"},r.state):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},"Do you have CKYC account")))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_ckyc_account",value:"1",key:"1",onChange:function(a){c("is_ckyc_account",a.target.value),e.showCKYCText(1)},checked:"1"==t.is_ckyc_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_ckyc_account",value:"0",key:"1",onChange:function(a){c("is_ckyc_account",a.target.value),e.showCKYCText(0)},checked:"0"==t.is_ckyc_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.is_ckyc_account&&v.is_ckyc_account?i.a.createElement("span",{className:"errorMsg"},r.is_ckyc_account):null))))),w||"1"==s?i.a.createElement(d.a,{sm:12,md:10,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"ckyc_account_no",type:"text",placeholder:"CKYC Number",autoComplete:"off",value:t.ckyc_account_no,maxLength:"14",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),r.ckyc_account_no&&v.ckyc_account_no?i.a.createElement("span",{className:"errorMsg"},r.ckyc_account_no):null))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},"Do you have EIA account")))),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){c("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==t.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Yes"))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){c("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==t.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},"No"),r.is_eia_account&&v.is_eia_account?i.a.createElement("span",{className:"errorMsg"},r.is_eia_account):null))))),b||"1"==l?i.a.createElement(d.a,{sm:12,md:10,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"eia_no",type:"text",placeholder:"EIA Number",autoComplete:"off",value:t.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),r.eia_no&&v.eia_no?i.a.createElement("span",{className:"errorMsg"},r.eia_no):null))):""),0==b&&"0"==l?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},C.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){c("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==t.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",C.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){c("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==t.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},C.No),r.is_eia_account2&&v.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},C[r.is_eia_account2]):null)))))):"",N||"1"==o?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},C.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:t.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},C.SELECT_TPA),k.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&v.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},C[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!h,onClick:e.sumInsured.bind(e,D)},h?"Wait..":"Back"),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!h},h?"Wait..":"Continue"))),i.a.createElement(d.a,{sm:12,md:12,lg:3},i.a.createElement("div",{className:"regisBox medpd"},i.a.createElement("h3",{className:"medihead"},"Kutumb Swasthya Bima is for anyone and everyone who is looking for health insurance that is cost effective and offers great value")))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))(F))},1296:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(912),p=t(909),_=t(377),g=t(41),f=t.n(g),h=(t(95),t(96),t(31)),v=t(34),E=t(40),y=t(2),b=t(1),N=t(3),S=t.n(N),w=t(20),k=t.n(w),C=t(7),P=t(38),D=t(19),I=t(22),M=t(28),B=(t(65),t(9)),A=S()(S()().subtract(100,"years").calendar()).calendar(),O=S()().subtract(3,"months").calendar(),x={first_name:"",last_name:"",gender:"",dob:"",relation_with:"",appointee_relation_with:"",appointee_name:"",whatsapp_const_decl:"0",auto_renewal:"0",language_id:"",ksb_phyformat:"1"},H=b.object().shape({last_name:b.string().required((function(){return"Please enter a last name"})).matches(/^[A-Za-z]*$/,(function(){return"Please enter valid last name"})).min(1,(function(){return"Name must be minimum 1 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),first_name:b.string((function(){return"Please enter name"})).required((function(){return"Please enter name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),gender:b.string().required((function(){return"Please select gender"})).matches(/^[MmFf]$/,(function(){return"Please select valid gender"})),dob:b.date().required((function(){return"Please enter DOB"})).test("3monthsChecking",(function(){return"Age should be minium 3 months"}),(function(e){if(e){var a=new M.a;return a.whatIsMyAge(e)<111&&a.whatIsMyAgeMonth(e)>=3}return!0})),relation_with:b.string().required((function(){return"Please select relation"})),appointee_name:b.string((function(){return"Please enter appointee name"})).notRequired((function(){return"Please enter appointee name"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new M.a).whatIsMyAge(this.parent.dob)<18&&!e)})).min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})),appointee_relation_with:b.string().notRequired((function(){return"Please select relation"})).test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new M.a).whatIsMyAge(this.parent.dob)<18&&!e)})),language_id:b.string().required("Select preferred Language of communication"),auto_renewal:b.string().required("Select auto renewal").nullable(),whatsapp_const_decl:b.boolean().oneOf([!0],"Please check WhatsApp consent")}),R=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={NomineeDetails:[],appointeeFlag:!1,is_appointee:0,languageList:[],ksbinfo:[],policy_holder:[]},e.ageCheck=function(a){(new M.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.addressInfo=function(a){e.props.history.push("/Address_KSB_Micro/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=[];for(var o in a)a.hasOwnProperty(o)&&(l[o]="dob"==o?S()(a[o]).format("YYYY-MM-DD"):a[o]);l.policy_holder_id=localStorage.getItem("policyHolder_id"),l.is_appointee=e.state.is_appointee,l.language_id=a.language_id,l.auto_renewal=a.auto_renewal,l.ksb_eformat=a.ksb_eformat,l.whatsapp_const_decl=a.whatsapp_const_decl,l.page_name="NomineeDetails_KSB/".concat(n);var s={};Object.assign(s,l),console.log("PostData---",s);var c=new B.a;r.append("enc_data",c.encrypt(JSON.stringify(s))),e.props.loadingStart(),C.a.post("ksb/insert-nominee",r).then((function(a){console.log("decrypt - Resp---- ",a.data),e.props.loadingStop(),e.props.history.push("/PolicyDetails_KSB_Micro/".concat(n))})).catch((function(a){console.log("decrypt - Err---- ",a.data),401==a.status?k()("Session out. Please login"):k()("Something wrong happened. Please try after some"),t.setSubmitting(!1),e.props.loadingStop()}))},e.fetchPolicyRelations=function(a){var t=a.map((function(e){return"self"==e.relation_with?1:0})),n=t&&t.length>0&&t.includes(1);e.setState({self_selected:n}),e.fetchLanguageList()},e.getNomineeDetails=function(){e.props.loadingStart();var a=localStorage.getItem("policyHolder_refNo");C.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data.family_members:[],n=a.data.data.policyHolder&&a.data.data.policyHolder.ksbinfo?a.data.data.policyHolder.ksbinfo:[],r=a.data.data.policyHolder;e.fetchPolicyRelations(t),e.setState({NomineeDetails:a.data.data.policyHolder.request_data.nominee[0],is_appointee:a.data.data.policyHolder.request_data.nominee[0].is_appointee,ksbinfo:n,policy_holder:r})})).catch((function(a){e.setState({NomineeDetails:[]}),e.props.loadingStop()}))},e.fetchLanguageList=function(){C.a.get("language").then((function(a){var t=a.data&&a.data.data?a.data.data:[];e.setState({languageList:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getNomineeDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.NomineeDetails,l=n.appointeeFlag,o=n.is_appointee,s=n.self_selected,g=n.languageList,b=(n.ksbinfo,n.policy_holder);S.a.defaultFormat="YYYY-MM-YY";var N=Object.assign(x,{first_name:r?r.first_name:"",last_name:r?r.last_name:"",gender:r?r.gender:"",dob:r&&r.dob?new Date(r.dob):"",relation_with:r?r.relation_with:"",appointee_relation_with:r&&r.appointee_relation_with?r.appointee_relation_with:"",appointee_name:r&&r.appointee_name?r.appointee_name:"",language_id:b&&b.ksbinfo&&b.ksbinfo.language_id?b.ksbinfo.language_id:"",ksb_eformat:b&&b.ksbinfo?b.ksbinfo.ksb_eformat:"",whatsapp_const_decl:b&&b.ksbinfo?b.ksbinfo.whatsapp_const_decl:"0"});return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(v.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthnominee2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"justify-content-left brandhead  m-b-20"},c.a.createElement("h4",{className:"fs-18"},"You are just one step away from geting your policy ready")),c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Nominee  Details")),c.a.createElement(y.e,{initialValues:N,onSubmit:this.handleSubmit,validationSchema:H},(function(n){var r=n.values,h=n.errors,v=n.setFieldValue,E=n.setFieldTouched,b=(n.isValid,n.isSubmitting),N=n.touched;return c.a.createElement(y.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.first_name}),h.first_name&&N.first_name?c.a.createElement("span",{className:"errorMsg"},h.first_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.last_name}),h.last_name&&N.last_name?c.a.createElement("span",{className:"errorMsg"},h.last_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"gender",component:"select",autoComplete:"off",value:r.gender,className:"formGrp"},c.a.createElement("option",{value:""},"Select gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),h.gender&&N.gender?c.a.createElement("span",{className:"errorMsg"},h.gender):null)))),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement(f.a,{name:"dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(O),minDate:new Date(A),className:"datePckr",onChange:function(a){E("dob"),v("dob",a),e.ageCheck(a)},selected:r.dob}),h.dob&&N.dob?c.a.createElement("span",{className:"errorMsg"},h.dob):null)),c.a.createElement(m.a,{sm:12,md:8,lg:8},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"relation_with",component:"select",autoComplete:"off",value:r.relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Primary Insured"),s?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),h.relation_with&&N.relation_with?c.a.createElement("span",{className:"errorMsg"},h.relation_with):null)))),l||"1"==o?c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement("h4",null," Appointee  Details")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(y.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.appointee_name}),h.appointee_name&&N.appointee_name?c.a.createElement("span",{className:"errorMsg"},h.appointee_name):null))),c.a.createElement(m.a,{sm:12,md:4,lg:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:r.appointee_relation_with,className:"formGrp"},c.a.createElement("option",{value:""},"Relation with Nominee"),s?"":c.a.createElement("option",{value:"1"},"Self"),c.a.createElement("option",{value:"2"},"Spouse"),c.a.createElement("option",{value:"3"},"Son"),c.a.createElement("option",{value:"4"},"Daughter"),c.a.createElement("option",{value:"5"},"Father"),c.a.createElement("option",{value:"6"},"Mother"),c.a.createElement("option",{value:"7"},"Father In Law"),c.a.createElement("option",{value:"8"},"Mother In Law")),h.appointee_relation_with&&N.appointee_relation_with?c.a.createElement("span",{className:"errorMsg"},h.appointee_relation_with):null))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Additional Details")),c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," \xa0")),c.a.createElement(i.a,{className:"m-b-45"},c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(d.a,null,"Preferred Language for Teleconsultation")),c.a.createElement(m.a,{sm:12,md:12,lg:5},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(y.b,{name:"language_id",component:"select",autoComplete:"off",value:r.language_id,className:"formGrp"},c.a.createElement("option",{value:""},"Preferred Language"),g&&g.map((function(e,a){return c.a.createElement("option",{value:e.id},e.descriptions)}))),h.language_id&&N.language_id?c.a.createElement("span",{className:"errorMsg"},h.language_id):null))),c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(d.a,null,"Do you want Kutumb Swasthya Bima Policy related information in e-Format when applicable?")),c.a.createElement(m.a,{sm:12,md:8,lg:2},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"ksb_eformat",value:"1",key:"1",onChange:function(e){v("ksb_eformat",e.target.value)},checked:"1"==r.ksb_eformat}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes"))))),c.a.createElement(m.a,{sm:12,md:8,lg:2},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(y.b,{type:"radio",name:"ksb_eformat",value:"0",key:"1",onChange:function(e){v("ksb_eformat",e.target.value)},checked:"0"==r.ksb_eformat}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"),h.ksb_eformat&&N.ksb_eformat?c.a.createElement("span",{className:"errorMsg"},h.ksb_eformat):null)))),c.a.createElement(m.a,{sm:12,md:8,lg:1},c.a.createElement(d.a,null,c.a.createElement("div",{className:"p-r-25"},"\xa0"))),c.a.createElement(m.a,{sm:12,md:8,lg:11,className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},"Declaration for Update via Digital Mode",c.a.createElement(u.a,{overlay:c.a.createElement(p.a,{id:"tooltip-disabled"},"I/We acknowledge that by opting for digital services (including WhatsApp), I/We provide consent to receive communication/services from SBI General Insurance Company Limited related to my insurance policy through my registered mobile number & email")},c.a.createElement("a",{href:"#",className:"infoIcon"},c.a.createElement("img",{src:t(119),alt:""}))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement(y.b,{type:"checkbox",name:"whatsapp_const_decl",onChange:function(e){!0===e.target.checked?(E("whatsapp_const_decl"),v("whatsapp_const_decl","1")):v("whatsapp_const_decl","0")},checked:"1"==r.whatsapp_const_decl}),c.a.createElement("span",{className:"checkmark mL-0"}))),h.whatsapp_const_decl?c.a.createElement("span",{className:"errorMsg"},h.whatsapp_const_decl):"")),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!b,onClick:e.addressInfo.bind(e,a)},b?"Wait..":"Back"),c.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?"Wait..":"Next"))),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))})))),c.a.createElement(E.a,null)))))))}}]),s}(s.Component);a.default=Object(P.g)(Object(I.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(D.a)())},loadingStop:function(){return e(Object(D.b)())}}}))(R))},1297:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(20),C=t.n(k),P=t(9),D=t(37),I=t.n(D),M=t(2),B=t(97),A={M:"Male",F:"Female"},O={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x={gateway:""},H=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],nomineeDetails:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails_KSB_Micro/".concat(a))},e.getPolicyHolderDetails=function(){var a=e.state.policyHolder_refNo;e.props.loadingStart(),v.a.get("ksb/details/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder:[],n=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},o=a.data.data.policyHolder?a.data.data.policyHolder.vehiclebrandmodel:{},s=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:t,bcMaster:n,menumaster:r,request_data:l,vehicleDetails:o,paymentgateway:s,nomineeDetails:t.request_data&&t.request_data.nominee&&t.request_data.nominee[0],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[]}),e.fullQuote(a.data.data.policyHolder)})).catch((function(a){401==a.status?C()("Session out. Please login"):C()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a){var t=a.id,n=a.ksbinfo.ksbplan_id,r=a.request_data.start_date;console.log("policyHolderDetails",a);var l=new FormData;l.append("id",t),l.append("ksbplan_id",n),l.append("policyStartDate",r),l.append("ksbperiod_id","3"),v.a.post("/fullQuoteServiceKSBRetail",l).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.sendPaymentLink=function(){new P.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){C()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(B.b)(a,r,n,l)},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.nomineeDetails,y=n.bcMaster,b=(n.menumaster,n.request_data),N=n.vehicleDetails,S=n.paymentgateway,k=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,C=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.InsuredName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth?w()(e.DateOfBirth).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?O[parseInt(e.ArgInsuredRelToProposer)+1]:O[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,P=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?v.first_name+" "+v.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?w()(v.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?O[v.relation_with]:[]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v&&"m"==v.gender?"Male":"Female"))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v&&v.appointee_name?v.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v?O[v.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),I=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,B=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthplicyDetail"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"KSB Retail Policy"),c.a.createElement(M.e,{initialValues:x,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(M.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,I),c.a.createElement("h5",null,B),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,b&&b.start_date?w()(b.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,b&&b.end_date?w()(b.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:6},c.a.createElement(d.a,null,N&&N.vehicletype?N.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"KSB Retail Policy, SBI General Insurance Company Limited",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(r.BeforeVatPremium))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,k.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("strong",null,"Member Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},C),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},P),v&&"1"==v.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,v&&"1"==v.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},D):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address_KSB/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",S&&S.length>0?S.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(M.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),y&&1==y.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox medpd"},c.a.createElement("h3",{className:"medihead"},"Ab Kutumb Swasthya Bima Ke Saath Doctor Ki Salah Phone Par")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(H))},1298:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(20),S=t.n(N),w=t(9),k=t(2),C=t(41),P=t.n(C),D=(t(95),t(96),t(3)),I=t.n(D),M=I()(I()().subtract(65,"years").calendar()).format("YYYY-MM-DD"),B=I()().subtract(18,"years").format("YYYY-MM-DD"),A={titleList:[],pinDataArr:[],pincode:"",pincode_id:""},O={1:1e5,2:2e5,3:3e5,4:4e5,5:5e5},x=b.object().shape({salutation_id:b.string().required("Title is required").nullable(),first_name:b.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"First name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),last_name:b.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Last name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),date_of_birth:b.date().required("Please enter date of birth").nullable(),email_id:b.string().email("Enter valid email").min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),mobile:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required").nullable(),pincode:b.string().required("Please enter pincode"),pincode_id:b.string().required("Location is required").nullable(),sumInsured:b.number().required("Please select sum insured").nullable()}),H=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accidentDetails:[]},e.fetchSalutation=function(){var a=new FormData,t=new w.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),h.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.salutationlist;console.log("titlelist-----\x3e>",r),e.setState({titleList:r}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new w.a,o=I()(a.date_of_birth).format("yyyy-MM-DD");e.props.loadingStart();var s={menumaster_id:"9",page_name:"Registration_SME/".concat(n),vehicle_type_id:"13",sum_insured:a.sumInsured?O[a.sumInsured]:null,proposer_title_id:a.salutation_id,proposer_first_name:a.first_name,proposer_last_name:a.last_name,proposer_dob:o,proposer_mobile:a.mobile,proposer_email:a.email_id,pincode:a.pincode,pincode_id:a.pincode_id},c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;if(sessionStorage.getItem("csc_id"))s.bcmaster_id="5",s.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",s.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",s.product_id=n;else{var i=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";i&&(i=JSON.parse(l.decrypt(i)),s.bcmaster_id=i?i.agent_id:"",s.bc_token=i?i.token:"",s.bc_agent_id=i?i.user_info.data.user.username:"",s.product_id=n)}console.log("Post data------\x3e>",s),c>0?(s.policy_holder_id=c,r.append("enc_data",l.encrypt(JSON.stringify(s))),h.a.post("ipa/update-registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),0==n.error?e.props.history.push("/AccidentAddDetails/".concat(e.props.match.params.productId)):(S()(n.msg),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))):(r.append("enc_data",l.encrypt(JSON.stringify(s))),h.a.post("ipa/registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),e.props.loadingStop(),0==n.error?e.props.history.push("/AccidentAddDetails/".concat(e.props.match.params.productId)):(S()(n.msg),t.setSubmitting(!1)),e.props.loadingStop(),t.setSubmitting(!1)})).catch((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),e.props.loadingStop(),t.setSubmitting(!1)})))},e.handleSubmitNxtPage=function(a,t){e.props.history.push("/AccidentAddDetails/".concat(e.props.match.params.productId))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new w.a;h.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder?n.data.policyHolder:null,l=r&&r.pincode_response?JSON.parse(r.pincode_response):{};console.log("---accidentDetails---\x3e>",r),e.setState({accidentDetails:r,pincodeRESP:l});var o=l&&l.PIN_CD?l.PIN_CD:"";e.fetchAreadetailsBack(o),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),h.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),S()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(a){var t=a.toString();if(null!=t&&""!=t&&6==t.length){console.log("fetchAreadetailsBack pinCode",t);var n=new FormData;e.props.loadingStart();n.append("pincode",t),h.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.bcInfo=function(){var e=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"",a=new w.a;return e&&(e=JSON.parse(a.decrypt(e))),e},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSalutation(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.titleList,r=a.accidentDetails,l=a.serverResponse,o=a.validation_error,s=a.error,c=a.pinDataArr,h=a.pincodeRESP,v=Object.assign(A,{sumInsured:r&&r.ipainfo?1e5==r.ipainfo.sum_insured?1:2e5==r.ipainfo.sum_insured?2:3e5==r.ipainfo.sum_insured?3:4e5==r.ipainfo.sum_insured?4:5e5==r.ipainfo.sum_insured?5:0:null,salutation_id:r&&r.ipainfo?r.ipainfo.ipatitle.id:"",first_name:r?r.first_name:"",last_name:r?r.last_name:"",date_of_birth:r&&r.dob?new Date(r.dob):null,mobile:r?r.mobile:"",email_id:r?r.email_id:"",proposer_gender:r?r.gender:"",pincode:r?r.pincode:"",pincode_id:h&&h.id?h.id:""}),E=s&&s.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,s.message))):null,y=o?o.map((function(e,a){return i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,"Errors :",i.a.createElement("strong",null,i.a.createElement("ul",null,i.a.createElement("li",null,e)))))})):null;return console.log("bcInfo.agent_id------------ ",this.bcInfo().agent_id),i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox induvidualplan"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("div",null,E),i.a.createElement("h4",null,y),i.a.createElement(k.e,{initialValues:v,onSubmit:this.handleSubmit,validationSchema:x},(function(a){var r,o=a.values,s=a.errors,_=a.setFieldValue,g=a.setFieldTouched,f=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(k.d,null,i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"Select the Sum Insured for individual personal accident")),i.a.createElement(m.a,null," ",i.a.createElement("h1",null," ")," "),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,"Sum Insured")),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"sumInsured",component:"select",autoComplete:"off",value:o.sumInsured,className:"formGrp",onChange:function(e){g("sumInsured"),_("sumInsured",e.target.value)}},i.a.createElement("option",{value:""},"Select sum insured"),i.a.createElement("option",{value:"1"},"100 000"),i.a.createElement("option",{value:"2"},"200 000"),i.a.createElement("option",{value:"3"},"300 000"),i.a.createElement("option",{value:"4"},"400 000"),i.a.createElement("option",{value:"5"},"500 000")),s.sumInsured&&f.sumInsured?i.a.createElement("span",{className:"errorMsg"}," ",s.sumInsured," "):null)))),i.a.createElement(m.a,null,i.a.createElement("h4",null,"\xa0")),l&&l.QuotationNo?i.a.createElement(m.a,{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Quotation No:"),i.a.createElement("p",null,i.a.createElement("b",null," ",l?l.message?"---":l.QuotationNo:"---")))),i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Total Premium:"),i.a.createElement("p",null,i.a.createElement("strong",null,"Rs: ",l?l.message?0:l.DuePremium:0))))):null,i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"Enter proposer details"))),i.a.createElement(m.a,null," ",i.a.createElement("h1",null," ")," "),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},"Title"),t&&t.length>0&&t.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),s.salutation_id&&f.salutation_id?i.a.createElement("span",{className:"errorMsg"},s.salutation_id):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.first_name}),s.first_name&&f.first_name?i.a.createElement("span",{className:"errorMsg"},s.first_name):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.last_name}),s.last_name&&f.last_name?i.a.createElement("span",{className:"errorMsg"},s.last_name):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement(P.a,{name:"date_of_birth",dateFormat:"dd-MM-yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",selected:o.date_of_birth,onChange:function(e){g("date_of_birth"),_("date_of_birth",e)}}),s.date_of_birth&&f.date_of_birth?i.a.createElement("span",{className:"errorMsg"},s.date_of_birth):null)),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(k.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),s.mobile&&f.mobile?i.a.createElement("span",{className:"errorMsg msgpositn"},s.mobile):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.email_id}),s.email_id&&f.email_id?i.a.createElement("span",{className:"errorMsg"},s.email_id):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,(r={name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:o.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){})),r)),s.pincode&&f.pincode?i.a.createElement("span",{className:"errorMsg"},s.pincode):null))),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"pincode_id",component:"select",autoComplete:"off",value:o.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Area"),c&&c.length>0&&c.map((function(e,a){return i.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),s.pincode_id&&f.pincode_id?i.a.createElement("span",{className:"errorMsg"},s.pincode_id):null)))),i.a.createElement(m.a,null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},"Continue")))})))),i.a.createElement(f.a,null)))))))}}]),t}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(H))},1299:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(7),h=t(38),v=t(19),E=t(22),y=t(1),b=t(20),N=t.n(b),S=t(9),w=t(2),k=t(41),C=t.n(k),P=(t(95),t(96),t(3)),D=t.n(P),I=t(926),M={pol_start_date:"",pol_end_date:"",first_name:"",last_name:"",date_of_birth:"",insured:"1",occupation_id:"",gender:"",previous_policy_check:"",disability:""},B=y.object().shape({occupation_id:y.string().required("Please select occupation type"),gender:y.string().required("Please select gender").nullable(),insured:y.string().required("Please select insured type")}),A=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={occupationList:[],requestedData:[],fulQuoteResp:[],serverResponse:[],error:{},validation_error:[],declineStatus:""},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new S.a;f.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder?n.data.policyHolder:null,l=r&&r.request_data?r.request_data:null;console.log("---accidentDetails---\x3e>",r),e.setState({accidentDetails:r,requestedData:l}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.select_Plan=function(a){e.props.history.push("/AccidentSelectPlan/".concat(a))},e.handleChange=function(a){var t=e.state.occupationList,n="";t&&t&&t.length>0&&t.map((function(e,t){return e.id==a.target.value&&"Decline"==e.decline_status&&N()("Insurance Policy cannot be offered"),e.id==a.target.value&&(n=e.decline_status)})),e.setState({serverResponse:[],error:[],declineStatus:n,selectedOption:[]})},e.quote=function(a,t){var n=e.state,r=(n.accessToken,n.accidentDetails);if("Decline"==n.declineStatus)return N()("Insurance Policy cannot be offered"),!1;var l=new FormData;e.props.loadingStart();var o=D()(r.dob).format("yyyy-MM-DD"),s=(r&&r.ipainfo&&r.ipainfo,{id:localStorage.getItem("policyHolder_id"),proposer_dob:o,occupation_id:a.occupation_id}),c=new S.a;l.append("enc_data",c.encrypt(JSON.stringify(s))),f.a.post("/fullQuoteServiceIPA",l).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}}),e.props.loadingStop();else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop();t.setSubmitting(!1)})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=e.state,l=r.accidentDetails,o=r.declineStatus,s=r.fulQuoteResp,c=s&&s.PolicyLobList.length>0?Math.round(s.PolicyLobList[0].PolicyRiskList[0].SumInsured):0;if("Decline"==o)return N()("Insurance Policy cannot be offered"),!1;var i=new FormData,m=new S.a,d=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";d.user&&(d=JSON.parse(m.decrypt(d.user))),e.props.loadingStart();var u=D()(a.pol_start_date).format("yyyy-MM-DD HH:mm:ss"),p=D()(a.pol_end_date).format("yyyy-MM-DD HH:mm:ss"),_={policy_holder_id:l.id,menumaster_id:"9",page_name:"AccidentAddDetails/".concat(n),pol_start_date:u,pol_end_date:p,insured_type_id:a.insured,claim_existing:a.previous_policy_check,existing_physical_disability:a.disability,occupation_id:a.occupation_id,proposer_gender:a.gender};if(console.log("post_data",_),i.append("enc_data",m.encrypt(JSON.stringify(_))),(1==a.previous_policy_check||1==a.disability)&&N()("Insurance Policy cannot be offered"),d&&c){if(c>5e6&&"POSP"==d.user_type)return N()("Quote cannot proceed with IDV greater than 5000000"),e.props.loadingStop(),!1;f.a.post("ipa/policy-details",i).then((function(a){var r=JSON.parse(m.decrypt(a.data));console.log("decryptResp-----",r),e.props.loadingStop(),0==r.error?e.props.history.push("/AccidentAdditionalDetails/".concat(n)):(t.setSubmitting(!1),1==r.error&&N()(r.msg))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(m.decrypt(a.data));console.log("decryptErr-----",n)}))}},e.fetchInsurance=function(){var a=new S.a;f.a.get("occupations").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypOccupation-----",n),e.setState({occupationList:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSelectedValChange=function(a,t,n){t("occupation_id",a.value),e.setState({selectedOption:a}),console.log("Option selected:",a)},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchInsurance()}},{key:"render",value:function(){var e=this,a=this.state,t=a.occupationList,n=a.accidentDetails,r=a.requestedData,l=a.serverResponse,o=a.validation_error,s=a.error,f=a.selectedOption,h=this.props.match.params.productId,v=Object.assign(M,{pol_start_date:r&&r.start_date?new Date(r.start_date):new Date,pol_end_date:r&&r.end_date?new Date(r.end_date):new Date(D()().add(364,"day").calendar()),insured:n&&n.ipainfo&&0!=n.ipainfo.insured_type_id?n.ipainfo.insured_type_id:"1",previous_policy_check:0,disability:0,first_name:n?n.first_name:"",last_name:n?n.last_name:"",date_of_birth:n&&n.dob?new Date(n.dob):"",occupation_id:n&&n.ipainfo&&n.ipainfo.occupation?n.ipainfo.occupation.id:"",gender:n?n.gender:""}),E=s&&s.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,s.message))):null,y=o?o.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,"Errors :",c.a.createElement("strong",null,c.a.createElement("ul",null,c.a.createElement("li",null,e)))))})):null,b=t&&t.length>0?t.map((function(e,a){return{value:e.id,label:e.occupation}})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox add2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,E),c.a.createElement("h4",null,y),c.a.createElement(w.e,{initialValues:v,onSubmit:l&&""!=l?l.message?this.quote:this.handleSubmit:this.quote,validationSchema:B},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,o=a.setFieldTouched,s=(a.isValid,a.isSubmitting),p=a.touched;return console.log("values------------------",t),c.a.createElement(w.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement("h6",null,"Policy start date:")),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(C.a,{name:"pol_start_date",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:ss",className:"datePckr inputfs12",disabled:!0,selected:t.pol_start_date,onChange:function(e){o("pol_start_date"),r("pol_start_date",e)}}),n.pol_start_date&&p.pol_start_date?c.a.createElement("span",{className:"errorMsg"},n.pol_start_date):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement("h6",null,"Policy end date")),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(C.a,{name:"pol_end_date",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:ss",className:"datePckr inputfs12",disabled:!0,selected:t.pol_end_date,onChange:function(e){o("pol_end_date"),r("pol_end_date",e)}}),n.pol_end_date&&p.pol_end_date?c.a.createElement("span",{className:"errorMsg"},n.pol_end_date):null)))),c.a.createElement(i.a,null," ",c.a.createElement("h1",null," ")," "),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",null,"Insured details"))),c.a.createElement(i.a,null," ",c.a.createElement("h1",null," ")," "),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(w.b,{name:"insured",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Insured Type"),c.a.createElement("option",{value:"1"},"Primary Insured")),n.insured&&p.insured?c.a.createElement("span",{className:"errorMsg"},n.insured):null))),c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(w.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",disabled:!0,value:t.first_name}),n.first_name&&p.first_name?c.a.createElement("span",{className:"errorMsg"},n.first_name):null))),c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(w.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",disabled:!0,value:t.last_name}),n.last_name&&p.last_name?c.a.createElement("span",{className:"errorMsg"},n.last_name):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement(C.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,disabled:!0,dropdownMode:"select",className:"datePckr",selected:t.date_of_birth,onChange:function(e){o("date_of_birth"),r("date_of_birth",e)}}),n.date_of_birth&&p.date_of_birth?c.a.createElement("span",{className:"errorMsg"},n.date_of_birth):null)),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(w.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select Gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),n.gender&&p.gender?c.a.createElement("span",{className:"errorMsg"},n.gender):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:6,lg:9},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(I.a,{placeholder:"Select Occupation",value:f||(b?b.find((function(e){return e.value===t.occupation_id})):""),name:"occupation_id",onChange:function(a){return e.handleSelectedValChange(a,r,o)},options:b}),n.occupation_id&&p.occupation_id?c.a.createElement("span",{className:"errorMsg"},n.occupation_id):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-32"}," ","Have you made any claim in any existing or previous accident policy?"," "))),c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"previous_policy_check",value:"0",key:"1",checked:"0"==t.previous_policy_check,onChange:function(e){o("previous_policy_check"),r("previous_policy_check",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"previous_policy_check",value:"1",key:"1",checked:"1"==t.previous_policy_check,onChange:function(e){o("previous_policy_check"),r("previous_policy_check",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes")),n.previous_policy_check&&p.previous_policy_check?c.a.createElement("span",{className:"errorMsg"},n.previous_policy_check):null))))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-32"},"Do yo have any existing physical disability?"),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"disability",value:"0",key:"1",checked:"0"==t.disability,onChange:function(e){o("disability"),r("disability",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"disability",value:"1",key:"1",checked:"1"==t.disability,onChange:function(e){o("disability"),r("disability",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes")),n.disability&&p.disability?c.a.createElement("span",{className:"errorMsg"},n.disability):null)))),l&&l.QuotationNo?c.a.createElement(i.a,{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement(m.a,{sm:4},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Quotation No:"),c.a.createElement("p",null,c.a.createElement("b",null," ",l?l.message?"---":l.QuotationNo:"---")))),c.a.createElement(m.a,{sm:4},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Total Premium:"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs: ",l?l.message?0:l.DuePremium:0))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," ")),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.select_Plan.bind(e,h)},s?"Wait..":"Back"),l&&""!=l?l.message?c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Quote")))})))),c.a.createElement(g.a,null)))))))}}]),t}(s.Component);a.default=Object(h.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(A))},1300:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(18),s=t(17),c=t(11),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(31),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(1),S=t(20),w=t.n(S),k=t(9),C=t(2),P=t(41),D=t.n(P),I=(t(95),t(96),t(28)),M=t(3),B=t.n(M),A=(n={regNumber:"",check_registration:2,pinDataArr:[],titleList:[],first_name:"",last_name:"",salutation_id:"",date_of_birth:"",email_id:"",building_name:"",city:"",plot_no:"",street_name:"",pincode:"",pincode_id:"",nominee_dob:null,nominee_first_name:"",nominee_last_name:"",nominee_salutation_id:""},Object(c.a)(n,"date_of_birth",""),Object(c.a)(n,"relation_with",""),Object(c.a)(n,"appointee_name",""),Object(c.a)(n,"appointee_dob",null),Object(c.a)(n,"appointee_relation_with",""),Object(c.a)(n,"marital_status_id",""),Object(c.a)(n,"pancard",""),Object(c.a)(n,"is_eia_account",""),Object(c.a)(n,"is_eia_account2",""),Object(c.a)(n,"eia_no",""),n),O=B()(B()().subtract(111,"years").calendar()).add(1,"day").calendar(),x=B()().subtract(3,"months").calendar(),H=(B()(B()().subtract(111,"years").calendar()).add(1,"day").calendar(),B()().subtract(3,"months").calendar(),N.object().shape({email_id:N.string().email().min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),building_name:N.string().required("Please enter Building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).nullable(),plot_no:N.string().required("Please enter Plot number").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid plot number"})).nullable(),city:N.string().required("Please enter City").nullable(),street_name:N.string().required("Please enter City").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid street name"})).nullable(),pincode:N.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:N.string().required("Please select Area").nullable(),pancard:N.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"Enter PAN number"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),nominee_salutation_id:N.string().required("Title is required").nullable(),nominee_first_name:N.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),nominee_last_name:N.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),nominee_dob:N.date().required("Please enter date of birth").nullable(),relation_with:N.string().required((function(){return"Please select relation"})),nominee_gender:N.string().required("Nominee gender required"),appointee_name:N.string().min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z\s]*$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})).test("FirstNameCheck",(function(){return"Please enter First Name"}),(function(e){if(e){var a=e.split(" ");if(a.length>=1&&""==a[0])return!1}return!0})).test("LastNameCheck",(function(){return"Please enter Last Name"}),(function(e){if(e){var a=e.split(" ");if(2==a.length&&""==a[1])return!1;if(1==a.length)return!1}return!0})).nullable(),appointee_relation_with:N.string().test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})).nullable(),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),marital_status_id:N.string().required("Please select marital status"),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})})),R=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={appointeeFlag:!1,is_appointee:0,request_data:[],nominee_age:"",nomineeRelation:[],titleNomineeList:[],showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",tpaInsurance:[]},e.tpaInsuranceRepository=function(){v.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e.fetchNomineeRel=function(){e.props.match.params.productId;var a=new k.a;e.props.loadingStart(),v.a.get("ipa/ipa-relation-list").then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decrypt--fetchSubVehicle------ ",n),0==n.error){var r=n.data.iparelationList;e.setState({nomineeRelation:r}),e.fetchSalutation()}})).catch((function(a){e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new k.a;v.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=new I.a,l=n.data&&n.data.policyHolder?n.data.policyHolder:null;console.log("---accidentDetails---\x3e>",l);var o=l&&l.address?JSON.parse(l.address):{},s=l&&l.pincode_response?JSON.parse(l.pincode_response):{},c=l.request_data.nominee.length>0?l.request_data.nominee[0].is_appointee:"0",i=l&&l.request_data&&l.request_data.nominee.length>0?r.whatIsMyAge(new Date(l.request_data.nominee[0].dob)):null,m=!l||0!=l.is_eia_account&&1!=l.is_eia_account?"":l.is_eia_account,d=!l||0!==l.create_eia_account&&1!==l.create_eia_account?"":l.create_eia_account;l.T_Insurance_Repository_id&&l.T_Insurance_Repository_id;e.setState({accidentDetails:l,address:o,pincodeRESP:s,is_appointee:c,nominee_age:i,is_eia_account:m,is_eia_account2:d});var u=s&&s.PIN_CD?s.PIN_CD:"";e.fetchAreadetailsBack(u),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n,r,l=e.props.match.params.productId,o=e.state.accidentDetails,s=new FormData,i=new k.a,m=B()(a.nominee_dob).format("yyyy-MM-DD");e.props.loadingStart(),r=""===a.is_eia_account2?2:a.is_eia_account2;var d=(n={policy_holder_id:o.id,menumaster_id:"9",page_name:"AccidentAdditionalDetails/".concat(l),first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:m,email_id:a.email_id,house_building_name:a.building_name,plot_no:a.plot_no,street:a.street_name,nominee_gender:a.nominee_gender,nominee_first_name:a.nominee_first_name,nominee_last_name:a.nominee_last_name,nominee_title_id:a.nominee_salutation_id,nominee_dob:m,relation_with:a.relation_with,is_appointee:e.state.is_appointee,marital_status_id:a.marital_status_id},Object(c.a)(n,"is_appointee",e.state.is_appointee),Object(c.a)(n,"marital_status_id",a.marital_status_id),Object(c.a)(n,"pancard",a.pancard),Object(c.a)(n,"is_eia_account",a.is_eia_account),Object(c.a)(n,"eia_no",a.eia_no),Object(c.a)(n,"create_eia_account",r),Object(c.a)(n,"tpaInsurance",a.tpaInsurance),n);1!=e.state.appointeeFlag&&"1"!=e.state.is_appointee||(d.appointee_name=a.appointee_name,d.appointee_relation_with=a.appointee_relation_with),console.log("post_data",d),s.append("enc_data",i.encrypt(JSON.stringify(d))),v.a.post("ipa/proposer-info",s).then((function(a){var n=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",n),0==n.error?e.props.history.push("/AccidentAdditionalPremium/".concat(l)):t.setSubmitting(!1),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),v.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),w()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(a){var t=a.toString();if(null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),v.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchSalutation=function(){var a=new FormData,t=new k.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),v.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data)).data.salutationlist;e.setState({titleList:n}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.AddDetails=function(a){e.props.history.push("/AccidentAddDetails/".concat(a))},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.ageCheckValue=function(a){var t=(new I.a).whatIsMyAge(a);e.setState({nominee_age:t})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchNomineeRel(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e=this,a=this.state,t=a.showEIA,n=a.showEIA2,r=a.is_eia_account,l=a.is_eia_account2,o=a.tpaInsurance,s=a.pinDataArr,i=a.titleList,v=a.appointeeFlag,E=a.is_appointee,y=a.accidentDetails,b=a.address,N=a.pincodeRESP,S=a.nomineeRelation,w=(a.titleNomineeList,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),k=this.props.match.params.productId,P=Object.assign(A,{salutation_id:y&&y.ipainfo?y.ipainfo.ipatitle.id:"",first_name:y?y.first_name:"",last_name:y?y.last_name:"",date_of_birth:y&&y.dob?new Date(y.dob):"",mobile:y?y.mobile:"",email_id:y?y.email_id:"",proposer_gender:y?y.gender:"",building_name:b&&b.house_building_name?b.house_building_name:"",city:b&&b.city?b.city:"",plot_no:b&&b.plot_no?b.plot_no:"",street_name:b&&b.street_name?b.street_name:"",pincode:y?y.pincode:"",pincode_id:N&&N.id?N.id:"",nominee_salutation_id:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].title_id:"",nominee_first_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].first_name:"",nominee_last_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].last_name:"",nominee_dob:y&&y.request_data&&y.request_data.nominee.length>0?new Date(y.request_data.nominee[0].dob):null,relation_with:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].relation_with:"",nominee_gender:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].gender:"",is_appointee:E,appointee_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].appointee_name:"",appointee_dob:y&&y.request_data&&y.request_data.nominee.length>0?new Date(y.request_data.nominee[0].appointee_dob):"",appointee_relation_with:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].appointee_relation_with:"",marital_status_id:y&&y.ipainfo&&"0"!=y.ipainfo.marital_status_id?y.ipainfo.marital_status_id:"",pancard:y&&y.pancard?y.pancard:"",is_eia_account:r,is_eia_account2:l,eia_no:y&&y.eia_no?y.eia_no:"",tpaInsurance:y&&y.T_Insurance_Repository_id?y.T_Insurance_Repository_id:""});return m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(f.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox cmdpol2"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),m.a.createElement("section",{className:"brand"},m.a.createElement("div",{className:"boxpd"},m.a.createElement("h4",{className:"m-b-30"}," "),m.a.createElement(C.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var g=a.values,f=a.errors,h=a.setFieldValue,y=a.setFieldTouched,b=(a.isValid,a.isSubmitting),N=a.touched;return m.a.createElement(C.d,null,m.a.createElement("h4",{className:"text mt-3 mb-3"},"Communication Details"),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"Contact details of proposer"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"salutation_id",component:"select",autoComplete:"off",disabled:!0,className:"formGrp"},m.a.createElement("option",{value:""},"Title"),i&&i.length>0&&i.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.displayvalue)}))),f.salutation_id&&N.salutation_id?m.a.createElement("span",{className:"errorMsg"},f.salutation_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"first_name",type:"text",placeholder:"First Name",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.first_name}),f.first_name&&N.first_name?m.a.createElement("span",{className:"errorMsg"},f.first_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"last_name",type:"text",placeholder:"Last Name",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.last_name}),f.last_name&&N.last_name?m.a.createElement("span",{className:"errorMsg"},f.last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement(D.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,disabled:!0,dropdownMode:"select",className:"datePckr",selected:g.date_of_birth,onChange:function(e){y("date_of_birth"),h("date_of_birth",e)}}),f.date_of_birth&&N.date_of_birth?m.a.createElement("span",{className:"errorMsg"},f.date_of_birth):null)),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,{className:"m-b-25"},m.a.createElement("div",{className:"insurerName nmbract"},m.a.createElement("span",null,"+91"),m.a.createElement(C.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),f.mobile&&N.mobile?m.a.createElement("span",{className:"errorMsg msgpositn"},f.mobile):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.email_id}),f.email_id&&N.email_id?m.a.createElement("span",{className:"errorMsg"},f.email_id):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,Object(c.a)({name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:g.pincode},"maxLength","6")),f.pincode&&N.pincode?m.a.createElement("span",{className:"errorMsg"},f.pincode):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"pincode_id",component:"select",autoComplete:"off",value:g.pincode_id,className:"formGrp",disabled:!0},m.a.createElement("option",{value:""},"Select Area"),s&&s.length>0&&s.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),f.pincode_id&&N.pincode_id?m.a.createElement("span",{className:"errorMsg"},f.pincode_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"building_name",type:"text",placeholder:"Building/House Name",autoComplete:"off",value:g.building_name}),f.building_name&&N.building_name?m.a.createElement("span",{className:"errorMsg"},f.building_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"plot_no",type:"text",placeholder:"Plot No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.plot_no}),f.plot_no&&N.plot_no?m.a.createElement("span",{className:"errorMsg"},f.plot_no):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"street_name",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.street_name}),f.street_name&&N.street_name?m.a.createElement("span",{className:"errorMsg"},f.street_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"city",type:"text",placeholder:"City",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.city}),f.city&&N.city?m.a.createElement("span",{className:"errorMsg"},f.city):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"marital_status_id",placeholder:"Marital Status",component:"select",autoComplete:"off",className:"formGrp",value:g.marital_status_id},m.a.createElement("option",{value:""},"Select Marital Status"),m.a.createElement("option",{value:"1"},"Married"),m.a.createElement("option",{value:"2"},"Single"),m.a.createElement("option",{value:"3"},"Widow"),m.a.createElement("option",{value:"4"},"Divorced")),f.marital_status_id&&N.marital_status_id?m.a.createElement("span",{className:"errorMsg"},f.marital_status_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"pancard",type:"text",placeholder:w.PAN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.pancard.toUpperCase(),onChange:function(e){return h("pancard",e.target.value.toUpperCase())}}),f.pancard&&N.pancard?m.a.createElement("span",{className:"errorMsg"},f.pancard):null)))),m.a.createElement(d.a,null),m.a.createElement(d.a,null,m.a.createElement("h3",null)),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"Nominee Details"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"nominee_salutation_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),i&&i.length>0&&i.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.displayvalue)}))),f.nominee_salutation_id&&N.nominee_salutation_id?m.a.createElement("span",{className:"errorMsg"},f.nominee_salutation_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_first_name}),f.nominee_first_name&&N.nominee_first_name?m.a.createElement("span",{className:"errorMsg"},f.nominee_first_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_last_name}),f.nominee_last_name&&N.nominee_last_name?m.a.createElement("span",{className:"errorMsg"},f.nominee_last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement(D.a,{name:"nominee_dob",dateFormat:"dd-MM-yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(x),minDate:new Date(O),className:"datePckr",onChange:function(a){y("nominee_dob"),h("nominee_dob",a),e.ageCheck(a),e.ageCheckValue(a)},selected:g.nominee_dob}),f.nominee_dob&&N.nominee_dob?m.a.createElement("span",{className:"errorMsg"},f.nominee_dob):null)),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_age",type:"text",placeholder:"Age",autoComplete:"off",value:e.state.nominee_age})))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"relation_with",component:"select",autoComplete:"off",value:g.relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Primary Insured"),S&&S.map((function(e,a){return m.a.createElement("option",{value:e.id},e.ipa_relation_name)}))),f.relation_with&&N.relation_with?m.a.createElement("span",{className:"errorMsg"},f.relation_with):null)))),m.a.createElement(d.a,{className:"m-b-45"},m.a.createElement(u.a,{sm:6,md:8,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"nominee_gender",placeholder:"Nominee Gender",component:"select",autoComplete:"off",className:"formGrp",value:g.nominee_gender},m.a.createElement("option",{value:""},"Select Nominee Gender"),m.a.createElement("option",{value:"m"},"Male"),m.a.createElement("option",{value:"f"},"Female")),f.nominee_gender&&N.nominee_gender?m.a.createElement("span",{className:"errorMsg"},f.nominee_gender):null)))),v||"1"==E?m.a.createElement("div",null,m.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},m.a.createElement("h4",null," Appointee Details")),m.a.createElement(d.a,{className:"m-b-45"},m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.appointee_name}),f.appointee_name&&N.appointee_name?m.a.createElement("span",{className:"errorMsg"},f.appointee_name):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:g.appointee_relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Nominee"),S&&S.map((function(e,a){return m.a.createElement("option",{value:e.id},e.ipa_relation_name)}))),f.appointee_relation_with&&N.appointee_relation_with?m.a.createElement("span",{className:"errorMsg"},f.appointee_relation_with):null))))):null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.EIAAccount)))),m.a.createElement(u.a,{sm:12,md:4,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"d-inline-flex m-b-35"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){h("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==g.is_eia_account}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"}," ",w.Yes))),m.a.createElement("div",{className:""},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){h("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==g.is_eia_account}),m.a.createElement("span",{className:"checkmark"}),m.a.createElement("span",{className:"fs-14"},w.No),f.is_eia_account&&N.is_eia_account?m.a.createElement("span",{className:"errorMsg"},w[f.is_eia_account]):null))))),t||"1"==r?m.a.createElement(u.a,{sm:12,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"eia_no",type:"text",placeholder:w.EIANumber,autoComplete:"off",value:g.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),f.eia_no&&N.eia_no?m.a.createElement("span",{className:"errorMsg"},w[f.eia_no]):null))):""),0==t&&"0"==r?m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.wish_to_create_EIA_Account)))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"d-inline-flex m-b-35"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==g.is_eia_account2}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"}," ",w.Yes))),m.a.createElement("div",{className:""},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==g.is_eia_account2}),m.a.createElement("span",{className:"checkmark"}),m.a.createElement("span",{className:"fs-14"},w.No),f.is_eia_account2&&N.is_eia_account2?m.a.createElement("span",{className:"errorMsg"},w[f.is_eia_account2]):null)))))):"",n||"1"==l?m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.Your_preferred_TPA)))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:g.tpaInsurance,className:"formGrp",selected:"2"},m.a.createElement("option",{value:""},w.SELECT_TPA),o.map((function(e,a){return m.a.createElement("option",{value:e.repository_id},e.name)}))),f.tpaInsurance&&N.tpaInsurance?m.a.createElement("span",{className:"errorMsg"},w[f.tpaInsurance]):null)))):"",m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.AddDetails.bind(e,k)},b?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?"Wait..":"Procced")))})))),m.a.createElement(h.a,null)))))))}}]),t}(i.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(R))},1301:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(7),h=t(36),v=t(38),E=t(19),y=t(22),b=t(20),N=t.n(b),S=t(9),w=t(2),k=(t(95),t(96),t(3)),C=t.n(k),P=t(48),D=t.n(P),I=t(37),M=t.n(I),B=t(97),A={gateway:""},O={M:"Male",F:"Female"},x={IPA101:"Accidental Death",IPA102:"Permanent Total Disability",IPA103:"Permanent Pertial Disability",IPA104:"Temporary Total Disability",IPA105:"Adaptation allowance",IPA106:"Education Benefit"},H=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={occupationList:[],accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",policyCoverage:[],paymentStatus:[],relationArr:{},paymentgateway:[],policyHolder_refNo:M.a.parse(e.props.location.search).access_id?M.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo"),ipaInfo:[]},e.fetchNomineeRel=function(){e.props.match.params.productId;var a=new S.a;e.props.loadingStart(),f.a.get("ipa/ipa-relation-list").then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decrypt--fetchSubVehicle------ ",n),0==n.error){var r=n.data.iparelationList,l=[];for(var o in r)l[r[o].id]=r[o].ipa_relation_name;e.setState({nomineeRelation:r,relationArr:l}),e.fetchData()}})).catch((function(a){e.props.loadingStop()}))},e.sendPaymentLink=function(){new S.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),f.a.post("send-payment-link",a).then((function(a){N()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new S.a;e.props.loadingStart(),f.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decryptResp ----------- ",n);var r=n.data.policyHolder?n.data.policyHolder.menumaster:{},l=n.data.policyHolder?n.data.policyHolder.bcmaster:{},o=n.data&&n.data.policyHolder&&n.data.policyHolder.ipainfo?n.data.policyHolder.ipainfo:null,s=n.data.policyHolder?n.data.policyHolder:[],c=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},i=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;e.setState({ipaInfo:o,policyHolderDetails:s,bcMaster:l,menumaster:r,vehicleDetails:c,paymentgateway:i,nomineeDetails:s.request_data&&s.request_data.nominee&&s.request_data.nominee[0]}),e.quote()})).catch((function(a){e.props.loadingStop()}))},e.quote=function(){var a=e.state,t=(a.accessToken,a.ipaInfo),n=new FormData;e.props.loadingStart();var r={id:localStorage.getItem("policyHolder_id"),occupation_id:t?t.occupation_id:""},l=new S.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),console.log("post_data---quote--- ",r),f.a.post("/fullQuoteServiceIPA",n).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[],policyCoverage:a.data.PolicyObject.PolicyLobList?a.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1},policyCoverage:a.data.PolicyObject.PolicyLobList?a.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]}),e.props.loadingStop();else if(a.data.code&&a.data.message&&"validation failed"==a.data.code&&"validation failed"==a.data.message){var t=[];for(var n in a.data.messages)t.push(a.data.messages[n].message);e.setState({fulQuoteResp:[],validation_error:t,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.CommunicationDetails=function(a){e.props.history.push("/AccidentAdditionalDetails/".concat(a))},e.fetchInsurance=function(){var a=new S.a;f.a.get("occupations").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptErr-----",n),e.setState({occupationList:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state.policyHolderDetails,n=e.props.match.params.productId;Object(B.b)(a,t,e.state.policyHolderDetails.reference_no,n)},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchNomineeRel()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=(n.show,n.policyHolderDetails),s=n.nomineeDetails,f=n.paymentStatus,v=n.policyCoverage,E=n.relationArr,y=(n.ipaInfo,n.bcMaster),b=n.paymentgateway,N=n.vehicleDetails,S=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,k=v&&v.length>0?v.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.ProductElementCode])),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"\u20b9 ",Math.round(e.SumInsured)))))}))})):null,P=r&&r.PolicyCustomerList&&r.PolicyCustomerList.length>0?r.PolicyCustomerList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,C()(e.DateOfBirth).format("DD-MM-YYYY")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,I=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?s.first_name+" "+s.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?C()(s.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?E[s.relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),M=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s&&s.appointee_name?s.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?E[s.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),B=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premium3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement(w.e,{initialValues:A,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(w.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,B),c.a.createElement("h5",null,H),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,o&&o.request_data?C()(o.request_data.start_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,o&&o.request_data?C()(o.request_data.end_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.vehicletype?N.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Default Covered Coverages & Benefit",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},k))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Premium Summary",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S.GrossPremium,"::")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(r.BeforeVatPremium))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(D.a,{trigger:" Member Details"},c.a.createElement("strong",null,"Member Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},P),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},I),s&&"1"==s.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,s&&"1"==s.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},M):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(D.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(h.b,{to:"/AccidentSelectPlan/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},o.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},o.email_id))))))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",b&&b.length>0?b.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.CommunicationDetails.bind(e,a)},"Back"),y&&1==y.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(H))},1302:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(18),i=t(17),m=t(0),d=t.n(m),u=t(377),p=t(31),_=t(34),g=t(40),f=t(38),h=t(19),v=t(22),E=t(1),y=t(9),b=t(919),N=t(2),S=t(20),w=t.n(S),k=(t(918),t(7)),C=t(3),P=t.n(C),D=t(37),I=t.n(D),M={ksb_branch_id:""},B=E.object().shape({fpo_gpa_file:E.mixed().required("Please select a file").test("type","Only xls, xlsx file format is allowed",(function(e){if(e){var a=e[0].name.split(".").pop();return"xlsx"===a||"xls"===a}}))}),A=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).makePayment=function(e){var a=new y.a,t=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",r="";t?(r=(r=JSON.parse(a.decrypt(t.user))).master_user_id,n.props.loadingStart(),k.a.get("acd/status-change-batch-policy/".concat(r,"/").concat(e)).then((function(e){0==e.data.error?w()(e.data.msg,{icon:"success"}).then((function(){n.batchList()})):(n.props.loadingStop(),w()(e.data.msg))})).catch((function(e){n.props.loadingStop(),w()(e.data.msg)}))):w()("User Id not found")},n.fileUpload=function(){var e=Object(l.a)(r.a.mark((function e(a,t,l){var o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a[0]||""===a[0].name){e.next=10;break}return o=a[0].size,l("fileSize"),t("fileSize",o),s=a[0],c=a[0].name,l("fpo_gpa_file"),t("fpo_gpa_file",a),e.next=10,n.setState({selectedFile:s,selectedFileName:c});case 10:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),n.handleFormSubmit=function(e,a){var t=a.resetForm,r=new FormData,l=new y.a,o=Math.random().toString(36),s="",c="",i="",m=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(m&&(m=JSON.parse(l.decrypt(m.user))),"4"==m.login_type){var d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(l.decrypt(d))),s=sessionStorage.getItem("csc_id")?"csc":"bc",c=sessionStorage.getItem("csc_id")?"5":d?d.agent_id:"0",i=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):d?d.user_info.data.user.username:""}else s=m.user_type,c=m.bc_master_id,i=m.master_user_id;r.append("user_type",s),r.append("master_id",c),r.append("user_id",i);var u=n.props.match.params.productId,p=n.state,_=p.selectedFile,g=p.selectedFileName;r.append("excel_file",_),r.append("fileName",g),r.append("product_id",u),n.props.loadingStart(),k.a.post("ipa/excel-upload",r).then((function(e){e.data.error?n.setState({resmessage:e.data.msg,reserror:e.data.error,tempBatchId:e.data.data.temp_batch_id,theInputKey:o}):(n.setState({resmessage:e.data.msg,reserror:e.data.error,theInputKey:o}),w()("File successfully uploaded"),n.batchList()),t(),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.GPAFileDelete=function(e){w()({title:"Delete",text:"Delete File",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&k.a.get("group-excel/delete-batch/".concat(e,"/gpa")).then((function(e){0==e.data.error?w()(e.data.msg,{icon:"success"}).then((function(){n.batchList()})):w()("",e.data.msg,"error")})).catch((function(e){w()("",e.data.msg,"error"),n.props.loadingStop(),n.batchList()}))}))},n.downloadErrorFile=function(){var e=n.state.tempBatchId,a="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/ksb-group-excel/error-file/").concat(e);n.props.loadingStart();var t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),n.props.loadingStop()},n.downloadSampleFile=function(){n.state.tempBatchId;var e="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/ipa/excel-sample-file");n.props.loadingStart();var a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),n.props.loadingStop()},n.batchList=function(){var e=new FormData,a=new y.a,t="",r="",l="",o=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(o&&(o=JSON.parse(a.decrypt(o.user))),"4"==o.login_type){var s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";s&&(s=JSON.parse(a.decrypt(s))),t=sessionStorage.getItem("csc_id")?"csc":"bc",r=sessionStorage.getItem("csc_id")?"5":s?s.agent_id:"0",l=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):s?s.user_info.data.user.username:""}else t=o.user_type,r=o.bc_master_id,l=o.master_user_id;var c=n.props.match.params.productId;e.append("user_type",t),e.append("master_id",r),e.append("user_id",l),e.append("product_id",c),n.props.loadingStart(),k.a.post("ksb-group-excel/uploded-batch-list",e).then((function(e){e.data.error?(n.setState({ksbFileList:[]}),n.paymentmesg()):(n.setState({ksbFileList:e.data.data.batch_details}),n.paymentmesg()),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.paymentmesg=function(){var e=I.a.parse(n.props.location.search).status,a=I.a.parse(n.props.location.search).access_id;""!==a&&"pay_success"==e&&k.a.get("group-excel/check-payment-status/".concat(a)).then((function(e){e.data.error?w()(e.data.msg,{icon:"error"}):w()(e.data.msg,{icon:"success"}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.state={KSBbranches:[],clickedKSBStatus:"",clickedKSBBranch:"",clickedKSBAction:"",resmessage:"",reserror:!1,ksbFileList:[]},n}return Object(s.a)(t,[{key:"GPAFileDownload",value:function(e){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/group-excel/download-zip-policy-pdf/").concat(e);this.props.loadingStart();var t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),this.props.loadingStop()}},{key:"componentDidMount",value:function(){this.batchList()}},{key:"render",value:function(){var e,a=this,t=this.state,n=(t.KSBbranches,t.reserror),r=t.resmessage,l=(t.clickedKSBStatus,t.clickedKSBBranch,t.ksbFileList),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s={page:1,sizePerPageList:[{text:"5",value:5},{text:"10",value:10},{text:"15",value:15},{text:"20",value:20},{text:"All",value:l.length}],sizePerPage:10,pageStartIndex:1,paginationSize:3,prePage:o.Prev,nextPage:o.Next,firstPage:o.First,lastPage:o.Last,paginationShowsTotal:this.renderShowsTotal,paginationPosition:o.bottom,noDataText:o.NoData};return d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,null,d.a.createElement("div",{className:"page-wrapper"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement("aside",{className:"left-sidebar"},d.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},d.a.createElement(_.a,null))),d.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox healthkas"},d.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),d.a.createElement("section",{className:"brand"},d.a.createElement("div",{className:"boxpd"},d.a.createElement("button",{class:"policy m-b-10",onClick:this.downloadSampleFile,style:{float:"left"}},"Download Sample Group GPA File "),d.a.createElement(N.e,{initialValues:M,onSubmit:this.handleFormSubmit,validationSchema:B},(function(e){e.values;var t=e.errors,n=e.setFieldValue,r=e.setFieldTouched;e.touched;return d.a.createElement(N.d,null,d.a.createElement("div",{className:"row formSection"},d.a.createElement("label",{className:"col-md-4"},"Upload the FPO-GPA file:"),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("input",{type:"file",key:a.state.theInputKey||"",name:"fpo_gpa_file",onChange:function(e){e.target.value.length>0&&a.fileUpload(e.target.files,n,r)}}),t.fpo_gpa_file?d.a.createElement("span",{className:"errorMsg"},t.fpo_gpa_file):null),d.a.createElement("div",{className:"cntrbtn"},d.a.createElement(u.a,{className:"btnPrimary",type:"submit"},"Upload"))))})),n?d.a.createElement(d.a.Fragment,null,r?d.a.createElement("span",{className:"errorMsg",style:{textAlign:"right"}},r):null,d.a.createElement("button",{className:"policy m-l-20",onClick:this.downloadErrorFile,style:{float:"right"}},"Download the Error FPO-GPA file ")):null,d.a.createElement(m.Fragment,null,d.a.createElement("div",{className:"contBox m-b-45 tickedTable",style:{marginTop:"50px"}},d.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Jan Rakshak Personal Accident Uploaded Files"),d.a.createElement("div",{className:"customInnerTable dataTableCustom customAlign"},d.a.createElement(b.BootstrapTable,{ref:"table",data:l,pagination:!0,options:s,striped:!0,hover:!0,wrapperClasses:"table-responsive"},d.a.createElement(b.TableHeaderColumn,{width:"100px",dataField:"batch_no",isKey:!0,dataFormat:function(e,a,t){return d.a.createElement("div",null,d.a.createElement("a",{href:"".concat("https://uatcld.sbigeneral.in/sbig-bc/core/auth","/group-excel/succeed-file/").concat(e),title:"Download"},e))}},"Batch Code"),d.a.createElement(b.TableHeaderColumn,{width:"100px",dataField:"microbatchstatus",dataFormat:function(e,a,t){return d.a.createElement("div",null,e.status_name?e.status_name:null)}},"Status"),d.a.createElement(b.TableHeaderColumn,{width:"100px",dataField:"total_members"},"Total Member"),d.a.createElement(b.TableHeaderColumn,{width:"100px",dataField:"all_total_premium"},"Total Premium"),d.a.createElement(b.TableHeaderColumn,{width:"100px",dataField:"uploded_time",dataFormat:function(e){return"0000-00-00 00:00:00"!==e?P()(e).format("DD-MM-YYYY"):""}},"Upload Date"),d.a.createElement(b.TableHeaderColumn,{width:"150px",dataField:"batch_no",dataFormat:(e=this,function(a,t,n){return d.a.createElement("div",null,t.microbatchstatus.id&&5==t.microbatchstatus.id?d.a.createElement("span",{href:"#",onClick:function(){return e.GPAFileDownload(a)},id:"tooltip-1"},d.a.createElement(u.a,{type:"button"},"Download")):null,"\xa0",!t.microbatchstatus.id||1!=t.microbatchstatus.id&&2!=t.microbatchstatus.id?null:d.a.createElement("span",{href:"#",onClick:function(){return e.GPAFileDelete(a)},id:"tooltip-1"},d.a.createElement(u.a,{type:"button",className:"btn btn-danger"},"Delete"),d.a.createElement("i",{className:"far fa-trash-alt"})),"\xa0",t.microbatchstatus.id&&2==t.microbatchstatus.id?d.a.createElement("span",{href:"#",onClick:function(){return e.makePayment(a)},id:"tooltip-1"},d.a.createElement(u.a,{type:"button",className:"btn btn-success"},"Pay now"),d.a.createElement("i",{className:"far fa-trash-alt"})):null)})},"Action"))))))),d.a.createElement(g.a,null)))))))}}]),t}(m.Component);a.default=Object(f.g)(Object(v.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(h.a)())},loadingStop:function(){return e(Object(h.b)())}}}))(A))},1303:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(20),S=t.n(N),w=t(9),k=t(2),C=t(41),P=t.n(C),D=(t(95),t(96),t(3)),I=t.n(D),M=I()(I()().subtract(65,"years").calendar()).format("YYYY-MM-DD"),B=I()().subtract(18,"years").format("YYYY-MM-DD"),A={titleList:[],pinDataArr:[],pincode:"",pincode_id:""},O={1:1e5,2:2e5,3:3e5,4:4e5,5:5e5},x=b.object().shape({salutation_id:b.string().required("Title is required").nullable(),first_name:b.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"First name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),last_name:b.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Last name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),date_of_birth:b.date().required("Please enter date of birth").nullable(),email_id:b.string().email("Enter valid email").min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),mobile:b.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required").nullable(),pincode:b.string().required("Please enter pincode"),pincode_id:b.string().required("Location is required").nullable(),sumInsured:b.number().required("Please select sum insured").nullable()}),H=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={accidentDetails:[]},e.fetchSalutation=function(){var a=new FormData,t=new w.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),h.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.salutationlist;console.log("titlelist-----\x3e>",r),e.setState({titleList:r}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new w.a,o=I()(a.date_of_birth).format("yyyy-MM-DD"),s=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"",c="";s&&(c=JSON.parse(l.decrypt(s.user))),e.props.loadingStart();var i={menumaster_id:"9",page_name:"AccidentSelectPlan_Micro/".concat(n),vehicle_type_id:n,sum_insured:a.sumInsured?O[a.sumInsured]:null,proposer_title_id:a.salutation_id,proposer_first_name:a.first_name,proposer_last_name:a.last_name,proposer_dob:o,proposer_mobile:a.mobile,proposer_email:a.email_id,pincode:a.pincode,pincode_id:a.pincode_id,bc_agent_id:c.master_user_id,bcmaster_id:c.bc_master_id,product_id:n},m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;console.log("Post data------\x3e>",i),m>0?(i.policy_holder_id=m,r.append("enc_data",l.encrypt(JSON.stringify(i))),h.a.post("ipa/update-registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),0==n.error?e.props.history.push("/AccidentAddDetails_Micro/".concat(e.props.match.params.productId)):(S()(n.msg),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))):(r.append("enc_data",l.encrypt(JSON.stringify(i))),h.a.post("ipa/registration",r).then((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decrypt",n),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),localStorage.setItem("policyHolder_id",n.data.policyHolder_id),e.props.loadingStop(),0==n.error?e.props.history.push("/AccidentAddDetails_Micro/".concat(e.props.match.params.productId)):(S()(n.msg),t.setSubmitting(!1)),e.props.loadingStop(),t.setSubmitting(!1)})).catch((function(a){var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),e.props.loadingStop(),t.setSubmitting(!1)})))},e.handleSubmitNxtPage=function(a,t){e.props.history.push("/AccidentAddDetails_Micro/".concat(e.props.match.params.productId))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new w.a;h.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder?n.data.policyHolder:null,l=r&&r.pincode_response?JSON.parse(r.pincode_response):{};console.log("---accidentDetails---\x3e>",r),e.setState({accidentDetails:r,pincodeRESP:l});var o=l&&l.PIN_CD?l.PIN_CD:"";e.fetchAreadetailsBack(o),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),h.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),S()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(a){var t=a.toString();if(null!=t&&""!=t&&6==t.length){console.log("fetchAreadetailsBack pinCode",t);var n=new FormData;e.props.loadingStart();n.append("pincode",t),h.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSalutation(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.titleList,r=a.accidentDetails,l=a.serverResponse,o=a.validation_error,s=a.error,c=a.pinDataArr,h=a.pincodeRESP,v=Object.assign(A,{sumInsured:r&&r.ipainfo?1e5==r.ipainfo.sum_insured?1:2e5==r.ipainfo.sum_insured?2:3e5==r.ipainfo.sum_insured?3:4e5==r.ipainfo.sum_insured?4:5e5==r.ipainfo.sum_insured?5:0:null,salutation_id:r&&r.ipainfo?r.ipainfo.ipatitle.id:"",first_name:r?r.first_name:"",last_name:r?r.last_name:"",date_of_birth:r&&r.dob?new Date(r.dob):null,mobile:r?r.mobile:"",email_id:r?r.email_id:"",proposer_gender:r?r.gender:"",pincode:r?r.pincode:"",pincode_id:h&&h.id?h.id:""}),E=s&&s.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,s.message))):null,y=o?o.map((function(e,a){return i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,"Errors :",i.a.createElement("strong",null,i.a.createElement("ul",null,i.a.createElement("li",null,e)))))})):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox induvidualplan"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement("div",null,E),i.a.createElement("h4",null,y),i.a.createElement(k.e,{initialValues:v,onSubmit:this.handleSubmit,validationSchema:x},(function(a){var r,o=a.values,s=a.errors,_=a.setFieldValue,g=a.setFieldTouched,f=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(k.d,null,i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"Select the Sum Insured for individual personal accident")),i.a.createElement(m.a,null," ",i.a.createElement("h1",null," ")," "),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,"Sum Insured")),i.a.createElement(d.a,{sm:12,md:6,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"sumInsured",component:"select",autoComplete:"off",value:o.sumInsured,className:"formGrp",onChange:function(e){g("sumInsured"),_("sumInsured",e.target.value)}},i.a.createElement("option",{value:""},"Select sum insured"),i.a.createElement("option",{value:"1"},"100 000"),i.a.createElement("option",{value:"2"},"200 000"),i.a.createElement("option",{value:"3"},"300 000"),i.a.createElement("option",{value:"4"},"400 000"),i.a.createElement("option",{value:"5"},"500 000")),s.sumInsured&&f.sumInsured?i.a.createElement("span",{className:"errorMsg"}," ",s.sumInsured," "):null)))),i.a.createElement(m.a,null,i.a.createElement("h4",null,"\xa0")),l&&l.QuotationNo?i.a.createElement(m.a,{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Quotation No:"),i.a.createElement("p",null,i.a.createElement("b",null," ",l?l.message?"---":l.QuotationNo:"---")))),i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Total Premium:"),i.a.createElement("p",null,i.a.createElement("strong",null,"Rs: ",l?l.message?0:l.DuePremium:0))))):null,i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,"Enter proposer details"))),i.a.createElement(m.a,null," ",i.a.createElement("h1",null," ")," "),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},"Title"),t&&t.length>0&&t.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),s.salutation_id&&f.salutation_id?i.a.createElement("span",{className:"errorMsg"},s.salutation_id):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.first_name}),s.first_name&&f.first_name?i.a.createElement("span",{className:"errorMsg"},s.first_name):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.last_name}),s.last_name&&f.last_name?i.a.createElement("span",{className:"errorMsg"},s.last_name):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement(P.a,{name:"date_of_birth",dateFormat:"dd-MM-yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(B),minDate:new Date(M),className:"datePckr",selected:o.date_of_birth,onChange:function(e){g("date_of_birth"),_("date_of_birth",e)}}),s.date_of_birth&&f.date_of_birth?i.a.createElement("span",{className:"errorMsg"},s.date_of_birth):null)),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(k.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),s.mobile&&f.mobile?i.a.createElement("span",{className:"errorMsg msgpositn"},s.mobile):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:o.email_id}),s.email_id&&f.email_id?i.a.createElement("span",{className:"errorMsg"},s.email_id):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(k.b,(r={name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:o.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){})),r)),s.pincode&&f.pincode?i.a.createElement("span",{className:"errorMsg"},s.pincode):null))),i.a.createElement(d.a,{sm:6,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(k.b,{name:"pincode_id",component:"select",autoComplete:"off",value:o.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Select Area"),c&&c.length>0&&c.map((function(e,a){return i.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),s.pincode_id&&f.pincode_id?i.a.createElement("span",{className:"errorMsg"},s.pincode_id):null)))),i.a.createElement(m.a,null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},"Continue")))})))),i.a.createElement(f.a,null)))))))}}]),t}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(H))},1304:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(7),h=t(38),v=t(19),E=t(22),y=t(1),b=t(20),N=t.n(b),S=t(9),w=t(2),k=t(41),C=t.n(k),P=(t(95),t(96),t(3)),D=t.n(P),I={pol_start_date:"",pol_end_date:"",first_name:"",last_name:"",date_of_birth:"",insured:"1",occupation_id:"",gender:"",previous_policy_check:"",disability:""},M=y.object().shape({occupation_id:y.string().required("Please select occupation type"),gender:y.string().required("Please select gender").nullable(),insured:y.string().required("Please select insured type")}),B=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={occupationList:[],requestedData:[],fulQuoteResp:[],serverResponse:[],error:{},validation_error:[],declineStatus:""},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new S.a;f.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder?n.data.policyHolder:null,l=r&&r.request_data?r.request_data:null;console.log("---accidentDetails---\x3e>",r),e.setState({accidentDetails:r,requestedData:l}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.select_Plan=function(a){e.props.history.push("/AccidentSelectPlan_Micro/".concat(a))},e.handleChange=function(a){var t=e.state.occupationList,n="";t&&t&&t.length>0&&t.map((function(e,t){return e.id==a.target.value&&"Decline"==e.decline_status&&N()("Insurance Policy cannot be offered"),e.id==a.target.value&&(n=e.decline_status)})),e.setState({serverResponse:[],error:[],declineStatus:n})},e.quote=function(a,t){var n=e.state,r=(n.accessToken,n.accidentDetails);if("Decline"==n.declineStatus)return N()("Insurance Policy cannot be offered"),!1;var l=new FormData;e.props.loadingStart();var o=D()(r.dob).format("yyyy-MM-DD"),s=(r&&r.ipainfo&&r.ipainfo,{id:localStorage.getItem("policyHolder_id"),proposer_dob:o,occupation_id:a.occupation_id});console.log("post_data----------- ",s);var c=new S.a;l.append("enc_data",c.encrypt(JSON.stringify(s))),f.a.post("/fullQuoteServiceIPA",l).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}}),e.props.loadingStop();else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop();t.setSubmitting(!1)})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=e.state,l=r.accidentDetails,o=r.declineStatus,s=r.serverResponse;if("Decline"==o)return N()("Insurance Policy cannot be offered"),!1;var c=new FormData,i=new S.a;e.props.loadingStart();var m=D()(a.pol_start_date).format("yyyy-MM-DD HH:mm:ss"),d=D()(a.pol_end_date).format("yyyy-MM-DD HH:mm:ss"),u={policy_holder_id:l.id,menumaster_id:"9",page_name:"AccidentAddDetails/".concat(n),pol_start_date:m,pol_end_date:d,insured_type_id:a.insured,claim_existing:a.previous_policy_check,existing_physical_disability:a.disability,occupation_id:a.occupation_id,proposer_gender:a.gender};if(console.log("post_data",u),c.append("enc_data",i.encrypt(JSON.stringify(u))),(1==a.previous_policy_check||1==a.disability)&&N()("Insurance Policy cannot be offered"),s.SumInsured>1e5)return N()("Quote cannot proceed with IDV greater than 100000"),e.props.loadingStop(),!1;f.a.post("ipa/policy-details",c).then((function(a){var r=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",r),e.props.loadingStop(),0==r.error?e.props.history.push("/AccidentAdditionalDetails_Micro/".concat(n)):(t.setSubmitting(!1),1==r.error&&N()(r.msg))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchInsurance=function(){var a=new S.a;f.a.get("occupations").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypOccupation-----",n),e.setState({occupationList:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchInsurance()}},{key:"render",value:function(){var e=this,a=this.state,t=a.occupationList,n=a.accidentDetails,r=a.requestedData,l=a.serverResponse,o=a.validation_error,s=a.error,f=this.props.match.params.productId,h=Object.assign(I,{pol_start_date:r&&r.start_date?new Date(r.start_date):new Date,pol_end_date:r&&r.end_date?new Date(r.end_date):new Date(D()().add(364,"day").calendar()),insured:n&&n.ipainfo&&0!=n.ipainfo.insured_type_id?n.ipainfo.insured_type_id:"1",previous_policy_check:0,disability:0,first_name:n?n.first_name:"",last_name:n?n.last_name:"",date_of_birth:n&&n.dob?new Date(n.dob):"",occupation_id:n&&n.ipainfo&&n.ipainfo.occupation?n.ipainfo.occupation.id:"",gender:n?n.gender:""});console.log("validation_error-------- ",o),console.log("error-------- ",s);var v=s&&s.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,s.message))):null,E=o?o.map((function(e,a){return c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,"Errors :",c.a.createElement("strong",null,c.a.createElement("ul",null,c.a.createElement("li",null,e)))))})):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox add2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",null,v),c.a.createElement("h4",null,E),c.a.createElement(w.e,{initialValues:h,onSubmit:l&&""!=l?l.message?this.quote:this.handleSubmit:this.quote,validationSchema:M},(function(a){var n=a.values,r=a.errors,o=a.setFieldValue,s=a.setFieldTouched,p=(a.isValid,a.isSubmitting),_=a.touched;return c.a.createElement(w.d,null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement("h6",null,"Policy start date:")),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(C.a,{name:"pol_start_date",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:ss",className:"datePckr inputfs12",disabled:!0,selected:n.pol_start_date,onChange:function(e){s("pol_start_date"),o("pol_start_date",e)}}),r.pol_start_date&&_.pol_start_date?c.a.createElement("span",{className:"errorMsg"},r.pol_start_date):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement("h6",null,"Policy end date")),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(C.a,{name:"pol_end_date",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:ss",className:"datePckr inputfs12",disabled:!0,selected:n.pol_end_date,onChange:function(e){s("pol_end_date"),o("pol_end_date",e)}}),r.pol_end_date&&_.pol_end_date?c.a.createElement("span",{className:"errorMsg"},r.pol_end_date):null)))),c.a.createElement(i.a,null," ",c.a.createElement("h1",null," ")," "),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",null,"Insured details"))),c.a.createElement(i.a,null," ",c.a.createElement("h1",null," ")," "),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(w.b,{name:"insured",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Insured Type"),c.a.createElement("option",{value:"1"},"Primary Insured")),r.insured&&_.insured?c.a.createElement("span",{className:"errorMsg"},r.insured):null))),c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(w.b,{name:"first_name",type:"text",placeholder:"First Name",autoComplete:"off",disabled:!0,value:n.first_name}),r.first_name&&_.first_name?c.a.createElement("span",{className:"errorMsg"},r.first_name):null))),c.a.createElement(m.a,{sm:6,md:4,lg:3},c.a.createElement(d.a,null,c.a.createElement("div",{className:"insurerName"},c.a.createElement(w.b,{name:"last_name",type:"text",placeholder:"Last Name",autoComplete:"off",disabled:!0,value:n.last_name}),r.last_name&&_.last_name?c.a.createElement("span",{className:"errorMsg"},r.last_name):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:4,lg:5},c.a.createElement(d.a,null,c.a.createElement(C.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,disabled:!0,dropdownMode:"select",className:"datePckr",selected:n.date_of_birth,onChange:function(e){s("date_of_birth"),o("date_of_birth",e)}}),r.date_of_birth&&_.date_of_birth?c.a.createElement("span",{className:"errorMsg"},r.date_of_birth):null)),c.a.createElement(m.a,{sm:6,md:4,lg:4},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(w.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},c.a.createElement("option",{value:""},"Select Gender"),c.a.createElement("option",{value:"m"},"Male"),c.a.createElement("option",{value:"f"},"Female")),r.gender&&_.gender?c.a.createElement("span",{className:"errorMsg"},r.gender):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:6,md:6,lg:9},c.a.createElement(d.a,null,c.a.createElement("div",{className:"formSection"},c.a.createElement(w.b,{name:"occupation_id",component:"select",autoComplete:"off",className:"formGrp",onChange:function(a){s("occupation_id"),o("occupation_id",a.target.value),e.handleChange(a)}},c.a.createElement("option",{value:""},"Occupation Type"),t&&t.length>0&&t.map((function(e,a){return c.a.createElement("option",{key:a,value:e.id}," ",e.occupation," ")}))),r.occupation_id&&_.occupation_id?c.a.createElement("span",{className:"errorMsg"},r.occupation_id):null)))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement(d.a,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-32"}," ","Have you made any claim in any existing or previous accident policy?"," "))),c.a.createElement("div",{className:"d-inline-flex m-b-35"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"previous_policy_check",value:"0",key:"1",checked:"0"==n.previous_policy_check,onChange:function(e){s("previous_policy_check"),o("previous_policy_check",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"previous_policy_check",value:"1",key:"1",checked:"1"==n.previous_policy_check,onChange:function(e){s("previous_policy_check"),o("previous_policy_check",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes")),r.previous_policy_check&&_.previous_policy_check?c.a.createElement("span",{className:"errorMsg"},r.previous_policy_check):null))))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"fs-18 m-b-32"},"Do yo have any existing physical disability?"),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"disability",value:"0",key:"1",checked:"0"==n.disability,onChange:function(e){s("disability"),o("disability",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," No"))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"disability",value:"1",key:"1",checked:"1"==n.disability,onChange:function(e){s("disability"),o("disability",e.target.value)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," Yes")),r.disability&&_.disability?c.a.createElement("span",{className:"errorMsg"},r.disability):null)))),l&&l.QuotationNo?c.a.createElement(i.a,{className:"d-flex justify-content-left carloan m-b-25"},c.a.createElement(m.a,{sm:4},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Quotation No:"),c.a.createElement("p",null,c.a.createElement("b",null," ",l?l.message?"---":l.QuotationNo:"---")))),c.a.createElement(m.a,{sm:4},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},c.a.createElement("p",null,"Total Premium:"),c.a.createElement("p",null,c.a.createElement("strong",null,"Rs: ",l?l.message?0:l.DuePremium:0))))):null,c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," ")),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.select_Plan.bind(e,f)},p?"Wait..":"Back"),l&&""!=l?l.message?c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Quote"):c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Continue"):c.a.createElement(u.a,{className:"proceedBtn",type:"submit"},"Quote")))})))),c.a.createElement(g.a,null)))))))}}]),t}(s.Component);a.default=Object(h.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(B))},1305:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(18),s=t(17),c=t(11),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(31),f=t(34),h=t(40),v=t(7),E=t(38),y=t(19),b=t(22),N=t(1),S=t(20),w=t.n(S),k=t(9),C=t(2),P=t(41),D=t.n(P),I=(t(95),t(96),t(28)),M=t(3),B=t.n(M),A=(n={regNumber:"",check_registration:2,pinDataArr:[],titleList:[],first_name:"",last_name:"",salutation_id:"",date_of_birth:"",email_id:"",building_name:"",city:"",plot_no:"",street_name:"",pincode:"",pincode_id:"",nominee_dob:null,nominee_first_name:"",nominee_last_name:"",nominee_salutation_id:""},Object(c.a)(n,"date_of_birth",""),Object(c.a)(n,"relation_with",""),Object(c.a)(n,"appointee_name",""),Object(c.a)(n,"appointee_dob",null),Object(c.a)(n,"appointee_relation_with",""),Object(c.a)(n,"marital_status_id",""),Object(c.a)(n,"pancard",""),Object(c.a)(n,"is_eia_account",""),Object(c.a)(n,"is_eia_account2",""),Object(c.a)(n,"eia_no",""),n),O=B()(B()().subtract(111,"years").calendar()).add(1,"day").calendar(),x=B()().subtract(3,"months").calendar(),H=(B()(B()().subtract(111,"years").calendar()).add(1,"day").calendar(),B()().subtract(3,"months").calendar(),N.object().shape({email_id:N.string().email().min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),building_name:N.string().required("Please enter Building name").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid building name"})).nullable(),plot_no:N.string().required("Please enter Plot number").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid plot number"})).nullable(),city:N.string().required("Please enter City").nullable(),street_name:N.string().required("Please enter City").matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,-\s]*$/,(function(){return"Please enter valid street name"})).nullable(),pincode:N.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:N.string().required("Please select Area").nullable(),pancard:N.string().required((function(){if(document.querySelector('input[name="is_eia_account2"]:checked')&&1==document.querySelector('input[name="is_eia_account2"]:checked').value)return"Enter PAN number"})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"Please enter valid Pan Number"})),nominee_salutation_id:N.string().required("Title is required").nullable(),nominee_first_name:N.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),nominee_last_name:N.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),nominee_dob:N.date().required("Please enter date of birth").nullable(),relation_with:N.string().required((function(){return"Please select relation"})),nominee_gender:N.string().required("Nominee gender required"),appointee_name:N.string().min(3,(function(){return"Name must be minimum 3 chracters"})).max(40,(function(){return"Name must be maximum 40 chracters"})).matches(/^[a-zA-Z\s]*$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})).test("FirstNameCheck",(function(){return"Please enter First Name"}),(function(e){if(e){var a=e.split(" ");if(a.length>=1&&""==a[0])return!1}return!0})).test("LastNameCheck",(function(){return"Please enter Last Name"}),(function(e){if(e){var a=e.split(" ");if(2==a.length&&""==a[1])return!1;if(1==a.length)return!1}return!0})).nullable(),appointee_relation_with:N.string().test("18YearsChecking",(function(){return"Please enter Appointee relation"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})).nullable(),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),marital_status_id:N.string().required("Please select marital status"),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})})),R=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={appointeeFlag:!1,is_appointee:0,request_data:[],nominee_age:"",nomineeRelation:[],titleNomineeList:[],showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",tpaInsurance:[]},e.tpaInsuranceRepository=function(){v.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e.fetchNomineeRel=function(){e.props.match.params.productId;var a=new k.a;e.props.loadingStart(),v.a.get("ipa/ipa-relation-list").then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decrypt--fetchSubVehicle------ ",n),0==n.error){var r=n.data.iparelationList;e.setState({nomineeRelation:r}),e.fetchSalutation()}})).catch((function(a){e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new k.a;v.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=new I.a,l=n.data&&n.data.policyHolder?n.data.policyHolder:null;console.log("---accidentDetails---\x3e>",l);var o=l&&l.address?JSON.parse(l.address):{},s=l&&l.pincode_response?JSON.parse(l.pincode_response):{},c=l.request_data.nominee.length>0?l.request_data.nominee[0].is_appointee:"0",i=l&&l.request_data&&l.request_data.nominee.length>0?r.whatIsMyAge(new Date(l.request_data.nominee[0].dob)):null,m=!l||0!=l.is_eia_account&&1!=l.is_eia_account?"":l.is_eia_account,d=!l||0!==l.create_eia_account&&1!==l.create_eia_account?"":l.create_eia_account;l.T_Insurance_Repository_id&&l.T_Insurance_Repository_id;e.setState({accidentDetails:l,address:o,pincodeRESP:s,is_appointee:c,nominee_age:i,is_eia_account:m,is_eia_account2:d});var u=s&&s.PIN_CD?s.PIN_CD:"";e.fetchAreadetailsBack(u),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n,r,l=e.props.match.params.productId,o=e.state.accidentDetails,s=new FormData,i=new k.a,m=B()(a.nominee_dob).format("yyyy-MM-DD");e.props.loadingStart(),r=""===a.is_eia_account2?2:a.is_eia_account2;var d=(n={policy_holder_id:o.id,menumaster_id:"9",page_name:"AccidentAdditionalDetails/".concat(l),first_name:a.first_name,last_name:a.last_name,salutation_id:a.salutation_id,date_of_birth:m,email_id:a.email_id,house_building_name:a.building_name,plot_no:a.plot_no,street:a.street_name,nominee_gender:a.nominee_gender,nominee_first_name:a.nominee_first_name,nominee_last_name:a.nominee_last_name,nominee_title_id:a.nominee_salutation_id,nominee_dob:m,relation_with:a.relation_with,is_appointee:e.state.is_appointee,marital_status_id:a.marital_status_id},Object(c.a)(n,"is_appointee",e.state.is_appointee),Object(c.a)(n,"marital_status_id",a.marital_status_id),Object(c.a)(n,"pancard",a.pancard),Object(c.a)(n,"is_eia_account",a.is_eia_account),Object(c.a)(n,"eia_no",a.eia_no),Object(c.a)(n,"create_eia_account",r),Object(c.a)(n,"tpaInsurance",a.tpaInsurance),n);1!=e.state.appointeeFlag&&"1"!=e.state.is_appointee||(d.appointee_name=a.appointee_name,d.appointee_relation_with=a.appointee_relation_with),console.log("post_data",d),s.append("enc_data",i.encrypt(JSON.stringify(d))),v.a.post("ipa/proposer-info",s).then((function(a){var n=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",n),0==n.error?e.props.history.push("/AccidentAdditionalPremium_Micro/".concat(l)):t.setSubmitting(!1),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),v.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()}else e.props.loadingStop(),w()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(a){var t=a.toString();if(null!=t&&""!=t&&6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),v.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchSalutation=function(){var a=new FormData,t=new k.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),v.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data)).data.salutationlist;e.setState({titleList:n}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.AddDetails=function(a){e.props.history.push("/AccidentAddDetails_Micro/".concat(a))},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.ageCheckValue=function(a){var t=(new I.a).whatIsMyAge(a);e.setState({nominee_age:t})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchNomineeRel(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e=this,a=this.state,t=a.showEIA,n=a.showEIA2,r=a.is_eia_account,l=a.is_eia_account2,o=a.tpaInsurance,s=a.pinDataArr,i=a.titleList,v=a.appointeeFlag,E=a.is_appointee,y=a.accidentDetails,b=a.address,N=a.pincodeRESP,S=a.nomineeRelation,w=(a.titleNomineeList,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),k=this.props.match.params.productId,P=Object.assign(A,{salutation_id:y&&y.ipainfo?y.ipainfo.ipatitle.id:"",first_name:y?y.first_name:"",last_name:y?y.last_name:"",date_of_birth:y&&y.dob?new Date(y.dob):"",mobile:y?y.mobile:"",email_id:y?y.email_id:"",proposer_gender:y?y.gender:"",building_name:b&&b.house_building_name?b.house_building_name:"",city:b&&b.city?b.city:"",plot_no:b&&b.plot_no?b.plot_no:"",street_name:b&&b.street_name?b.street_name:"",pincode:y?y.pincode:"",pincode_id:N&&N.id?N.id:"",nominee_salutation_id:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].title_id:"",nominee_first_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].first_name:"",nominee_last_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].last_name:"",nominee_dob:y&&y.request_data&&y.request_data.nominee.length>0?new Date(y.request_data.nominee[0].dob):null,relation_with:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].relation_with:"",nominee_gender:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].gender:"",is_appointee:E,appointee_name:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].appointee_name:"",appointee_dob:y&&y.request_data&&y.request_data.nominee.length>0?new Date(y.request_data.nominee[0].appointee_dob):"",appointee_relation_with:y&&y.request_data&&y.request_data.nominee.length>0?y.request_data.nominee[0].appointee_relation_with:"",marital_status_id:y&&y.ipainfo&&"0"!=y.ipainfo.marital_status_id?y.ipainfo.marital_status_id:"",pancard:y&&y.pancard?y.pancard:"",is_eia_account:r,is_eia_account2:l,eia_no:y&&y.eia_no?y.eia_no:"",tpaInsurance:y&&y.T_Insurance_Repository_id?y.T_Insurance_Repository_id:""});return m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(f.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox cmdpol2"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),m.a.createElement("section",{className:"brand"},m.a.createElement("div",{className:"boxpd"},m.a.createElement("h4",{className:"m-b-30"}," "),m.a.createElement(C.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var g=a.values,f=a.errors,h=a.setFieldValue,y=a.setFieldTouched,b=(a.isValid,a.isSubmitting),N=a.touched;return m.a.createElement(C.d,null,m.a.createElement("h4",{className:"text mt-3 mb-3"},"Communication Details"),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"Contact details of proposer"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"salutation_id",component:"select",autoComplete:"off",disabled:!0,className:"formGrp"},m.a.createElement("option",{value:""},"Title"),i&&i.length>0&&i.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.displayvalue)}))),f.salutation_id&&N.salutation_id?m.a.createElement("span",{className:"errorMsg"},f.salutation_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"first_name",type:"text",placeholder:"First Name",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.first_name}),f.first_name&&N.first_name?m.a.createElement("span",{className:"errorMsg"},f.first_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"last_name",type:"text",placeholder:"Last Name",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.last_name}),f.last_name&&N.last_name?m.a.createElement("span",{className:"errorMsg"},f.last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement(D.a,{name:"date_of_birth",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,disabled:!0,dropdownMode:"select",className:"datePckr",selected:g.date_of_birth,onChange:function(e){y("date_of_birth"),h("date_of_birth",e)}}),f.date_of_birth&&N.date_of_birth?m.a.createElement("span",{className:"errorMsg"},f.date_of_birth):null)),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,{className:"m-b-25"},m.a.createElement("div",{className:"insurerName nmbract"},m.a.createElement("span",null,"+91"),m.a.createElement(C.b,{name:"mobile",type:"text",placeholder:"Mobile No. ",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.mobile,maxLength:"10",className:"phoneinput pd-l-25"}),f.mobile&&N.mobile?m.a.createElement("span",{className:"errorMsg msgpositn"},f.mobile):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"email_id",type:"email",placeholder:"Email ",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.email_id}),f.email_id&&N.email_id?m.a.createElement("span",{className:"errorMsg"},f.email_id):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,Object(c.a)({name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:g.pincode},"maxLength","6")),f.pincode&&N.pincode?m.a.createElement("span",{className:"errorMsg"},f.pincode):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"pincode_id",component:"select",autoComplete:"off",value:g.pincode_id,className:"formGrp",disabled:!0},m.a.createElement("option",{value:""},"Select Area"),s&&s.length>0&&s.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),f.pincode_id&&N.pincode_id?m.a.createElement("span",{className:"errorMsg"},f.pincode_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"building_name",type:"text",placeholder:"Building/House Name",autoComplete:"off",value:g.building_name}),f.building_name&&N.building_name?m.a.createElement("span",{className:"errorMsg"},f.building_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"plot_no",type:"text",placeholder:"Plot No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.plot_no}),f.plot_no&&N.plot_no?m.a.createElement("span",{className:"errorMsg"},f.plot_no):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"street_name",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.street_name}),f.street_name&&N.street_name?m.a.createElement("span",{className:"errorMsg"},f.street_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"city",type:"text",placeholder:"City",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.city}),f.city&&N.city?m.a.createElement("span",{className:"errorMsg"},f.city):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"marital_status_id",placeholder:"Marital Status",component:"select",autoComplete:"off",className:"formGrp",value:g.marital_status_id},m.a.createElement("option",{value:""},"Select Marital Status"),m.a.createElement("option",{value:"1"},"Married"),m.a.createElement("option",{value:"2"},"Single"),m.a.createElement("option",{value:"3"},"Widow"),m.a.createElement("option",{value:"4"},"Divorced")),f.marital_status_id&&N.marital_status_id?m.a.createElement("span",{className:"errorMsg"},f.marital_status_id):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"pancard",type:"text",placeholder:w.PAN,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.pancard.toUpperCase(),onChange:function(e){return h("pancard",e.target.value.toUpperCase())}}),f.pancard&&N.pancard?m.a.createElement("span",{className:"errorMsg"},f.pancard):null)))),m.a.createElement(d.a,null),m.a.createElement(d.a,null,m.a.createElement("h3",null)),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"Nominee Details"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"nominee_salutation_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),i&&i.length>0&&i.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.displayvalue)}))),f.nominee_salutation_id&&N.nominee_salutation_id?m.a.createElement("span",{className:"errorMsg"},f.nominee_salutation_id):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_first_name}),f.nominee_first_name&&N.nominee_first_name?m.a.createElement("span",{className:"errorMsg"},f.nominee_first_name):null))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_last_name}),f.nominee_last_name&&N.nominee_last_name?m.a.createElement("span",{className:"errorMsg"},f.nominee_last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement(D.a,{name:"nominee_dob",dateFormat:"dd-MM-yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(x),minDate:new Date(O),className:"datePckr",onChange:function(a){y("nominee_dob"),h("nominee_dob",a),e.ageCheck(a),e.ageCheckValue(a)},selected:g.nominee_dob}),f.nominee_dob&&N.nominee_dob?m.a.createElement("span",{className:"errorMsg"},f.nominee_dob):null)),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"nominee_age",type:"text",placeholder:"Age",autoComplete:"off",value:e.state.nominee_age})))),m.a.createElement(u.a,{sm:6,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"relation_with",component:"select",autoComplete:"off",value:g.relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Primary Insured"),S&&S.map((function(e,a){return m.a.createElement("option",{value:e.id},e.ipa_relation_name)}))),f.relation_with&&N.relation_with?m.a.createElement("span",{className:"errorMsg"},f.relation_with):null)))),m.a.createElement(d.a,{className:"m-b-45"},m.a.createElement(u.a,{sm:6,md:8,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"nominee_gender",placeholder:"Nominee Gender",component:"select",autoComplete:"off",className:"formGrp",value:g.nominee_gender},m.a.createElement("option",{value:""},"Select Nominee Gender"),m.a.createElement("option",{value:"m"},"Male"),m.a.createElement("option",{value:"f"},"Female")),f.nominee_gender&&N.nominee_gender?m.a.createElement("span",{className:"errorMsg"},f.nominee_gender):null)))),v||"1"==E?m.a.createElement("div",null,m.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},m.a.createElement("h4",null," Appointee Details")),m.a.createElement(d.a,{className:"m-b-45"},m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.appointee_name}),f.appointee_name&&N.appointee_name?m.a.createElement("span",{className:"errorMsg"},f.appointee_name):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:g.appointee_relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Nominee"),S&&S.map((function(e,a){return m.a.createElement("option",{value:e.id},e.ipa_relation_name)}))),f.appointee_relation_with&&N.appointee_relation_with?m.a.createElement("span",{className:"errorMsg"},f.appointee_relation_with):null))))):null,m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.EIAAccount)))),m.a.createElement(u.a,{sm:12,md:4,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"d-inline-flex m-b-35"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(a){h("is_eia_account",a.target.value),e.showEIAText(1)},checked:"1"==g.is_eia_account}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"}," ",w.Yes))),m.a.createElement("div",{className:""},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(a){h("is_eia_account",a.target.value),e.showEIAText(0)},checked:"0"==g.is_eia_account}),m.a.createElement("span",{className:"checkmark"}),m.a.createElement("span",{className:"fs-14"},w.No),f.is_eia_account&&N.is_eia_account?m.a.createElement("span",{className:"errorMsg"},w[f.is_eia_account]):null))))),t||"1"==r?m.a.createElement(u.a,{sm:12,md:4,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(C.b,{name:"eia_no",type:"text",placeholder:w.EIANumber,autoComplete:"off",value:g.eia_no,maxLength:"13",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),f.eia_no&&N.eia_no?m.a.createElement("span",{className:"errorMsg"},w[f.eia_no]):null))):""),0==t&&"0"==r?m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.wish_to_create_EIA_Account)))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"d-inline-flex m-b-35"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(1)},checked:"1"==g.is_eia_account2}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"}," ",w.Yes))),m.a.createElement("div",{className:""},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(C.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(a){h("is_eia_account2",a.target.value),e.showEIAText2(0)},checked:"0"==g.is_eia_account2}),m.a.createElement("span",{className:"checkmark"}),m.a.createElement("span",{className:"fs-14"},w.No),f.is_eia_account2&&N.is_eia_account2?m.a.createElement("span",{className:"errorMsg"},w[f.is_eia_account2]):null)))))):"",n||"1"==l?m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement("h4",{className:"fs-16"},w.Your_preferred_TPA)))),m.a.createElement(u.a,{sm:12,md:4,lg:5},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(C.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:g.tpaInsurance,className:"formGrp",selected:"2"},m.a.createElement("option",{value:""},w.SELECT_TPA),o.map((function(e,a){return m.a.createElement("option",{value:e.repository_id},e.name)}))),f.tpaInsurance&&N.tpaInsurance?m.a.createElement("span",{className:"errorMsg"},w[f.tpaInsurance]):null)))):"",m.a.createElement("div",{className:"d-flex justify-content-left carloan"},m.a.createElement("h4",null," ")),m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",onClick:e.AddDetails.bind(e,k)},b?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit",disabled:!!b},b?"Wait..":"Procced")))})))),m.a.createElement(h.a,null)))))))}}]),t}(i.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(R))},1306:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(7),h=t(36),v=t(38),E=t(19),y=t(22),b=t(20),N=t.n(b),S=t(9),w=t(2),k=(t(95),t(96),t(3)),C=t.n(k),P=t(48),D=t.n(P),I=t(37),M=t.n(I),B=t(97),A={gateway:""},O={M:"Male",F:"Female"},x={IPA101:"Accidental Death",IPA102:"Permanent Total Disability",IPA103:"Permanent Pertial Disability",IPA104:"Temporary Total Disability",IPA105:"Adaptation allowance",IPA106:"Education Benefit"},H=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={occupationList:[],accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",policyCoverage:[],paymentStatus:[],relationArr:{},paymentgateway:[],policyHolder_refNo:M.a.parse(e.props.location.search).access_id?M.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo"),ipaInfo:[]},e.fetchNomineeRel=function(){e.props.match.params.productId;var a=new S.a;e.props.loadingStart(),f.a.get("ipa/ipa-relation-list").then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decrypt--fetchSubVehicle------ ",n),0==n.error){var r=n.data.iparelationList,l=[];for(var o in r)l[r[o].id]=r[o].ipa_relation_name;e.setState({nomineeRelation:r,relationArr:l}),e.fetchData()}})).catch((function(a){e.props.loadingStop()}))},e.sendPaymentLink=function(){new S.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),f.a.post("send-payment-link",a).then((function(a){N()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new S.a;e.props.loadingStart(),f.a.get("ipa/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data.policyHolder?n.data.policyHolder.menumaster:{},l=n.data.policyHolder?n.data.policyHolder.bcmaster:{},o=n.data&&n.data.policyHolder&&n.data.policyHolder.ipainfo?n.data.policyHolder.ipainfo:null,s=n.data.policyHolder?n.data.policyHolder:[],c=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},i=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;console.log("---ipaInfo---\x3e>",o),e.setState({ipaInfo:o,policyHolderDetails:s,bcMaster:l,menumaster:r,vehicleDetails:c,paymentgateway:i,nomineeDetails:s.request_data&&s.request_data.nominee&&s.request_data.nominee[0]}),e.quote()})).catch((function(a){e.props.loadingStop()}))},e.quote=function(){var a=e.state,t=(a.accessToken,a.ipaInfo),n=new FormData;e.props.loadingStart();var r={id:localStorage.getItem("policyHolder_id"),occupation_id:t?t.occupation_id:""},l=new S.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),console.log("post_data---quote--- ",r),f.a.post("/fullQuoteServiceIPA",n).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[],policyCoverage:a.data.PolicyObject.PolicyLobList?a.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1},policyCoverage:a.data.PolicyObject.PolicyLobList?a.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]}),e.props.loadingStop();else if(a.data.code&&a.data.message&&"validation failed"==a.data.code&&"validation failed"==a.data.message){var t=[];for(var n in a.data.messages)t.push(a.data.messages[n].message);e.setState({fulQuoteResp:[],validation_error:t,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.CommunicationDetails=function(a){e.props.history.push("/AccidentAdditionalDetails_Micro/".concat(a))},e.fetchInsurance=function(){var a=new S.a;f.a.get("occupations").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptErr-----",n),e.setState({occupationList:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state.policyHolderDetails.policyHolderDetails,n=e.props.match.params.productId;Object(B.b)(a,t,e.state.policyHolderDetails.reference_no,n)},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchNomineeRel()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=(n.show,n.policyHolderDetails),s=n.nomineeDetails,f=n.paymentStatus,v=n.policyCoverage,E=n.relationArr,y=(n.ipaInfo,n.bcMaster),b=n.paymentgateway,N=n.vehicleDetails,S=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,k=v&&v.length>0?v.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.ProductElementCode])),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"\u20b9 ",Math.round(e.SumInsured)))))}))})):null,P=r&&r.PolicyCustomerList&&r.PolicyCustomerList.length>0?r.PolicyCustomerList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,C()(e.DateOfBirth).format("DD-MM-YYYY")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,O[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,I=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?s.first_name+" "+s.last_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?C()(s.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?E[s.relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),M=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s&&s.appointee_name?s.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?E[s.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),B=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premium3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement(w.e,{initialValues:A,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(w.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,B),c.a.createElement("h5",null,H),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,o&&o.request_data?C()(o.request_data.start_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,o&&o.request_data?C()(o.request_data.end_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.vehicletype?N.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Default Covered Coverages & Benefit",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},k))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(D.a,{trigger:"Premium Summary",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(r.GrossPremium))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,S.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(D.a,{trigger:" Member Details"},c.a.createElement("strong",null,"Member Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},P),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},I),s&&"1"==s.is_appointee?c.a.createElement("strong",null,"Appointee Details :"):null,s&&"1"==s.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},M):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(D.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(h.b,{to:"/AccidentSelectPlan/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},o.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},o.email_id))))))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",b&&b.length>0?b.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(w.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.CommunicationDetails.bind(e,a)},"Back"),y&&1==y.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(H))},1307:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M=t(77),B=t(25),A={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:"",regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:"1",lapse_duration:"",policy_type:"2"},O=E.object().shape({policy_type:E.string().required("PleasePT"),policy_for:E.string().required("PleasePIC"),reg_number_part_one:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.f)(e)})),otherwise:E.string().nullable()}),reg_number_part_two:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.h)(e)})),otherwise:E.string().nullable()}),reg_number_part_three:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.i)(e)})),otherwise:E.string().nullable()}),reg_number_part_four:E.string().when(["check_registration"],{is:function(e){return"2"==e},then:E.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(B.g)(e)})),otherwise:E.string().nullable()}),lapse_duration:E.string().when("policy_type",{is:"3",then:E.string().required("LapseDuration"),otherwise:E.string()})}),x=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).change=function(e){r.state.searchitem=[],r.state.brandModelList.map((function(a,t){var n=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(n)&&null!=a.name.toUpperCase().match(n)&&r.state.searchitem.push(a)})),r.state.searchitem&&r.state.searchitem.length>0&&r.setState({searchitem:r.state.searchitem,search:e})},r.getBrands=function(){r.props.match.params.productId;var e=r.state.vehicleDetails,a=new D.a,t=e&&e.vehiclebrand_id?e.vehiclebrand_id:"";return new Promise((function(e){y.a.get("two-wh-stal/brand-with-image/3").then((function(e){var n=JSON.parse(a.decrypt(e.data)),l=n&&n.data.list?n.data.list:[];r.setState({brandList:l,otherBrands:!1}),r.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?r.setBrandName(t):"2"==localStorage.getItem("newBrandEdit")?r.getOtherBrands():1==r.props.data.brandEdit&&r.setState({brandView:"1"})})).catch((function(e){r.props.loadingStop()}))}))},r.getOtherBrands=function(){var e=new D.a;r.props.loadingStart(),y.a.get("two-wh-stal/without-image/3").then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptResp_otherBrand",t);var n=t&&t.data.list?t.data.list:{},l=t&&t.data.list?t.data.list:[];r.setState({selectedBrandDetails:n,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:"",brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.fetchData=function(){r.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;r.props.loadingStart(),y.a.get("two-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decryptResp",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{};r.setState({motorInsurance:n,vehicleDetails:l}),r.getBrands()})).catch((function(e){r.props.loadingStop()}))},r.registration=function(e){r.props.history.push("/two_wheeler_Select-brandOD/".concat(e))},r.selectVehicle=function(e){r.setState({brandView:"1"})},r.selectBrand=function(e){var a=r.state,t=a.selectedBrandId,n=a.vehicleDetails,l=(a.otherBrands,t||(n&&n.vehiclebrand_id?n.vehiclebrand_id:""));"1"==localStorage.getItem("brandEdit")?r.setBrandName(l):"2"==localStorage.getItem("brandEdit")&&r.getOtherBrands()},r.setBrandName=function(e){var a=new D.a;r.props.loadingStart(),y.a.get("two-wh-stal/model-with-varient/3/".concat(e)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptResp",n);var l=n&&n.data.list?n.data.list:{},o=n&&n.data.list.brand_models?n.data.list.brand_models:[];r.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[],brandView:"1"}),r.props.loadingStop()})).catch((function(e){r.props.loadingStop()}))},r.setVarient=function(e,a,t,n){r.setState({selectedVarientId:e,selectedModelId:a,modelName:t,fuelType:Math.floor(n)})},r.setOtherVarient=function(e,a,t,n,l,o){r.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:t,brandName:n,modelName:l,fuelType:Math.floor(o)})},r.handleSubmit=function(e){var a,t=r.props.match.params.productId,n=r.state,l=n.selectedVarientId,o=n.selectedModelId,s=n.selectedBrandId,c=n.brandView,i=n.fastLaneData,m=n.fastlanelog,d={},u=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four;a={reg_number_part_one:e.reg_number_part_one,reg_number_part_two:e.reg_number_part_two,reg_number_part_three:e.reg_number_part_three,reg_number_part_four:e.reg_number_part_four};var p=new FormData,_=new D.a,g=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;localStorage.setItem("check_registration",e.check_registration);var f=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";f&&(f=JSON.parse(_.decrypt(f))),g>0?(d=sessionStorage.getItem("csc_id")?{menumaster_id:3,brand_id:s||(i&&i.brand_id?i.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:o||(i&&i.brand_model_id?i.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:l||(i&&i.model_varient_id?i.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:r.props.match.params.productId,product_id:r.props.match.params.productId,registration_no:u,registration_part_numbers:JSON.stringify(a),policy_type_id:e.policy_type,policy_holder_id:g,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",bcmaster_id:"5",lapse_duration:e.lapse_duration,policy_for:e.policy_for,fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:m&&m.id?m.id:0,page_name:"two_wheeler_Select-brandOD/".concat(t)}:{menumaster_id:3,brand_id:s||(i&&i.brand_id?i.brand_id:e.selectedBrandId?e.selectedBrandId:""),brand_model_id:o||(i&&i.brand_model_id?i.brand_model_id:e.selectedModelId?e.selectedModelId:""),model_varient_id:l||(i&&i.model_varient_id?i.model_varient_id:e.selectedVarientId?e.selectedVarientId:""),vehicle_type_id:r.props.match.params.productId,product_id:r.props.match.params.productId,registration_no:u,registration_part_numbers:JSON.stringify(a),policy_type_id:e.policy_type,policy_holder_id:g,check_registration:e.check_registration,bcmaster_id:f?f.agent_id:"",bc_token:f?f.token:"",lapse_duration:e.lapse_duration,policy_for:e.policy_for,bc_agent_id:f?f.user_info.data.user.username:"",fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:m&&m.id?m.id:0,page_name:"two_wheeler_Select-brandOD/".concat(t)},console.log("post_data-----",d),p.append("enc_data",_.encrypt(JSON.stringify(d))),r.props.loadingStart(),y.a.post("two-wh-stal/update-registration",p).then((function(e){r.props.loadingStop();var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp-----",a),0==a.error?(r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/two_wheeler_Vehicle_detailsOD/".concat(t))):k()(a.msg)})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()}))):(d=sessionStorage.getItem("csc_id")?{menumaster_id:3,brand_id:"1"==c?s:i?i.brand_id:"",brand_model_id:"1"==c?o:i?i.brand_model_id:"",model_varient_id:"1"==c?l:i?i.model_varient_id:"",vehicle_type_id:r.props.match.params.productId,product_id:r.props.match.params.productId,registration_no:u,registration_part_numbers:JSON.stringify(a),policy_type_id:e.policy_type,check_registration:e.check_registration,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",bcmaster_id:"5",lapse_duration:e.lapse_duration,policy_for:e.policy_for,fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:m&&m.id?m.id:0,page_name:"two_wheeler_Select-brandOD/".concat(t)}:{menumaster_id:3,brand_id:"1"==c?s:i?i.brand_id:"",brand_model_id:"1"==c?o:i?i.brand_model_id:"",model_varient_id:"1"==c?l:i?i.model_varient_id:"",vehicle_type_id:r.props.match.params.productId,product_id:r.props.match.params.productId,registration_no:u,registration_part_numbers:JSON.stringify(a),policy_type_id:e.policy_type,check_registration:e.check_registration,bcmaster_id:f?f.agent_id:"",bc_token:f?f.token:"",lapse_duration:e.lapse_duration,policy_for:e.policy_for,bc_agent_id:f?f.user_info.data.user.username:"",fastlaneLog_id:r.state.fastlaneLogId?r.state.fastlaneLogId:m&&m.id?m.id:0,page_name:"two_wheeler_Select-brandOD/".concat(t)},console.log("post_data-----",d),p.append("enc_data",_.encrypt(JSON.stringify(d))),r.props.loadingStart(),y.a.post("two-wh-stal/registration",p).then((function(e){r.props.loadingStop();var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp-----",a),0==a.error?(localStorage.setItem("policyHolder_id",a.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",a.data.policyHolder_refNo),r.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),r.props.history.push("/two_wheeler_Vehicle_detailsOD/".concat(t))):k()(a.msg)})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decryptResp--err---",a),r.setState({error_msg:a}),r.props.loadingStop()})))},r.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},r.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},r.fetchFastlane=function(e){var a=new FormData,t=e.reg_number_part_one+e.reg_number_part_two+e.reg_number_part_three+e.reg_number_part_four;a.append("registration_no",t),a.append("menumaster_id","3"),r.props.loadingStart(),y.a.post("fastlane",a).then((function(e){0==e.data.error?(r.props.loadingStop(),r.setState({fastLaneData:e.data.data,brandView:"0",fastlaneLogId:e.data.data.fastlaneLog_id})):(r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:e.data.data.fastlaneLog_id}))})).catch((function(e){r.props.loadingStop(),r.setState({fastLaneData:[],brandView:"1",vehicleDetails:[],fastlaneLogId:0})}))},r.regnoFormat=function(e,a,t){var n=e.target.value;r.setState({fastLaneData:[],brandView:"0",vehicleDetails:[]});r.props.setData({brandEdit:1}),e.target.value=n.toUpperCase()},r.handleShow=r.handleShow.bind(Object(l.a)(r)),r.handleClose=r.handleClose.bind(Object(l.a)(r)),r.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:!1,brandName:"",modelName:"",fuelType:"",vehicleDetails:[],error_msg:[],length:14,fastLaneData:[],brandView:"0",fastlanelog:[],fastlaneLogId:0},r}return Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.brandList,n=a.motorInsurance,r=a.selectedBrandDetails,l=a.brandModelList,o=a.selectedBrandId,s=a.fuelType,E=a.fastLaneData,y=a.brandView,b=a.selectedModelId,N=a.selectedVarientId,S=a.otherBrands,w=a.vehicleDetails,k=a.error_msg,C=a.brandName,D=a.modelName,M=this.props.match.params.productId,B=n&&n.registration_part_numbers?JSON.parse(n.registration_part_numbers):[],x=Object.assign(A,{selectedBrandId:o||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:b||(o?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:N||(o?"":w&&w.varientmodel_id?w.varientmodel_id:""),policy_type:n&&n.policytype_id?n.policytype_id:"2",regNumber:n&&n.registration_no?n.registration_no:"",check_registration:"2",lapse_duration:n&&n.lapse_duration?n.lapse_duration:"",policy_for:n&&n.policy_for?n.policy_for:"1",reg_number_part_one:B&&B.reg_number_part_one?B.reg_number_part_one:"",reg_number_part_two:B&&B.reg_number_part_two?B.reg_number_part_two:"",reg_number_part_three:B&&B.reg_number_part_three?B.reg_number_part_three:"",reg_number_part_four:B&&B.reg_number_part_four?B.reg_number_part_four:""}),H=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twowheelBrand"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},H.SBIGICL),i.a.createElement(v.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:O},(function(a){var r=a.values,l=a.errors,p=a.setFieldValue,_=a.setFieldTouched,f=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(m.a,null,i.a.createElement("div",{className:"col-md-9 col-sm-12"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TakingTwoPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","1"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Individual))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==r.policy_for,onChange:function(){_("policy_for"),p("policy_for","2"),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.Corporate)),l.policy_for&&f.policy_for?i.a.createElement("span",{className:"errorMsg"},H[l.policy_for]):null)))),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,H.TellAboutPolicy),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(v.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==r.policy_type,onChange:function(){_("policy_type"),p("policy_type","2"),p("lapse_duration",""),e.handleChange(r,_,p)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",H.RollOver)))))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"m-b-30"},H.AboutVehicle)),i.a.createElement(m.a,{className:"m-b-15"},i.a.createElement(d.a,{sm:12},i.a.createElement("div",{className:"row formSection"},i.a.createElement("label",{className:"col-md-4"},H.RegName," "),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_one,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_two,disabled:"1"==r.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(v.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_three,disabled:"1"==r.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),i.a.createElement("div",{className:"col-md-2"},i.a.createElement(v.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.reg_number_part_four,disabled:"1"==r.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,_,p),_("check_registration"),p("check_registration","2")}})),"0"==y&&"0"==E.length?i.a.createElement(u.a,{type:"button",onClick:e.fetchFastlane.bind(e,r)},H.FetchDetails):null,(l.reg_number_part_one||l.reg_number_part_two||l.reg_number_part_three||l.reg_number_part_four)&&(f.reg_number_part_one||f.reg_number_part_two||f.reg_number_part_three||f.reg_number_part_four)?i.a.createElement("span",{className:"errorMsg"},H.InvalidRegistrationNumber):null))),"1"==y?i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,H.VechicleBrandTp),k.brand_id||k.brand_model_id||k.model_varient_id?i.a.createElement("span",{className:"errorMsg"},H.BrandVarient):""):null,i.a.createElement(d.a,{sm:12,md:12,className:"two-wheeler"},"1"==y?i.a.createElement(c.Fragment,null,i.a.createElement(g.a,{brandList:t&&t.length>0?t:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands})):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},"1"==y||E&&E.brand_text?i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},H.Continue):null))),i.a.createElement("div",{className:"col-md-3 col-sm-12"},"1"==y?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.TwoWheelBrand,"- ",i.a.createElement("strong",null,C||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.TwoWheelModel,"- ",i.a.createElement("strong",null,D||(o?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[s]?I.a[s]:w&&w.varientmodel&&w.varientmodel.fuel_type?I.a[Math.floor(w.varientmodel.fuel_type)]:null," "))))):i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.RegNo,".",i.a.createElement("br",null),n&&n.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},H.TwoWheelBrand,"-  ",i.a.createElement("strong",null,E&&E.brand_text?E.brand_text:w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.TwoWheelModel,"-  ",i.a.createElement("strong",null,E&&E.model_text?E.model_text+" "+E.varient_text:w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:"")),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,M)},H.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},H.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,E&&E.fuel?E.fuel:w&&w.varientmodel&&w.varientmodel.fuel_type?I.a[Math.floor(w.varientmodel.fuel_type)]:null," "))))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,H.SelectModel," "),r.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+r.image,alt:r.name}):null)),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:H.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==S?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):l&&l.length>0&&l.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),N?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},H.Continue):null)))}}]),t}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())},setData:function(a){return e(Object(M.a)(a))}}}))(x))},1308:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(77),N=t(22),S=t(1),w=t(2),k=t(7),C=t(3),P=t.n(C),D=t(9),I=t(28),M=t(138),B=t.n(M),A=t(911),O=t(20),x=t.n(O),H=t(61),R=t(97),L=t(25),j=(new I.a,new D.a),F=(P()(P()().subtract(1,"years").calendar()).add(0,"day").calendar(),P()(),P()(P()().subtract(1,"years").calendar()).add(1,"day").calendar()),q=(P()(F).endOf("month").format("YYYY-MM-DD hh:mm"),P()(P()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),P()(P()().subtract(1,"years").calendar()).add(1,"day").calendar()),T=(P()(P()().subtract(1,"years").calendar()).add(30,"day").calendar(),P()().subtract(1,"years").calendar(),{0:"0",20:"20",25:"25",35:"35",45:"45",50:"50"}),V={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"0",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:"",previous_claim_for:"",previous_policy_no:"",valid_previous_policy:"1",no_of_claim:"",active_policy_tenure:""},G=S.object().shape({registration_date:S.string().required("RegistrationRequired").test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(L.b)(e,this.parent.previous_start_date)})).test("checkGreaterTimes","RegistrationLessActive",(function(e){return!e||Object(L.b)(e,this.parent.active_start_date)})),location_id:S.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"No special Character allowed"})),previous_start_date:S.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.date(),otherwise:S.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).test("checkGreaterEqualTimes","PrevStartDateInActivDate",(function(e){return!(e&&Math.floor(P()(e).diff(this.parent.active_start_date,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterEqualTimes","PrevStartDateInActivDate",(function(e){return!(e&&Math.floor(P()(this.parent.active_end_date).diff(e,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"1"!=this.parent.valid_previous_policy||Object(L.b)(e,this.parent.previous_end_date)&&"1"==this.parent.valid_previous_policy})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:S.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.date(),otherwise:S.date().test("checkGreaterEqualTimes","PrevEndDateInActivDate",(function(e){return!(e&&Math.floor(P()(e).diff(this.parent.active_start_date,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterEqualTimes","PrevEndDateInActivDate",(function(e){return!(e&&Math.floor(P()(this.parent.active_end_date).diff(e,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"1"!=this.parent.valid_previous_policy||Object(L.c)(e,this.parent.previous_start_date)&&"1"==this.parent.valid_previous_policy}))}),insurance_company_id:S.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.number(),otherwise:S.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)}))}),previous_city:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"}))}),previous_policy_no:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"PleasePolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyNo18Char "}))}),previous_claim_bonus:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!(!("0"!=this.parent.previous_is_claim||"1"!=this.parent.previous_policy_name||e&&"1"!=e)&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90&&"1"==this.parent.valid_previous_policy)})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90)}))}),previous_is_claim:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.previous_policy_name&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90&&"1"==this.parent.valid_previous_policy&&!e)}))}),no_of_claim:S.string().when(["previous_is_claim","valid_previous_policy"],{is:function(e,a){return"1"==e&&"1"==a},then:S.string().required("PleasePNOC"),otherwise:S.string()}),previous_policy_name:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),active_policy_tenure:S.string().required("SPTenure"),active_policy_name:S.string().required("PleaseSPT").test("currentMonthChecking",(function(){return"ActivePolLiability"}),(function(e){return"1"!=e})),active_start_date:S.date().notRequired().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||Object(L.b)(e,this.parent.active_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.active_end_date||void 0!=e})),active_end_date:S.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})).test("checkGreaterTimes",(function(){return"EndDateGreaterStart"}),(function(e){return!e||Object(L.c)(e,this.parent.active_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.active_start_date||void 0!=e})),active_insurance_company_id:S.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEAIC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})),active_policy_no:S.string().notRequired("Previous policy number is required").test("currentMonthChecking",(function(){return"PleaseEAPN"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"PleasePolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyNo18Char"})),valid_previous_policy:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().required((function(){return"RequiredField"}))}),claim_array:S.array().of(S.object().shape({claim_year:S.string((function(){return"PleaseEnterClaimYear"})).required((function(){return"PleaseEnterClaimYear"})).matches(/^[0-9]*$/,(function(){return"InvalidYear"})),claim_amount:S.string((function(){return"PleaseEnterClaiAmmount"})).required((function(){return"PleaseEnterClaiAmmount"})).matches(/^[0-9]*$/,(function(){return"InvalidAmout"})),type_of_claim:S.string((function(){return"PleaseEnterTypeClaim"})).required((function(){return"PleaseEnterTypeClaim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"InvalidValue"}))}))}),Y=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:"",maxRegnDate:"",location_reset_flag:0,changeFlag:0},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"no_of_claim",[]),e),l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),l.props.history.push("/two_wheeler_Select-brandOD/".concat(e))},l.selectBrand=function(e){l.props.history.push("/two_wheeler_Select-brandOD/".concat(e))},l.editBrand=function(e){l.props.setData({brandEdit:1}),l.props.history.push("/two_wheeler_Select-brandOD/".concat(e))},l.showClaimText=function(e,a){1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue,n=(a.method,l.state.motorInsurance&&l.state.motorInsurance.location_id?1:0);l.setState({CustomerID:t,RTO_location:"",location_reset_flag:n,changeFlag:1})},l.SuggestionSelected=function(e,a,t){l.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.NameCode},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,n=l.state,r=(n.motorInsurance,n.changeFlag,""),o=(r="1"==e.valid_previous_policy?"2"==e.previous_policy_name||e.previous_start_date&&Math.floor(P()().diff(e.previous_end_date,"days",!0))>0?Object(A.a)(new Date,1):Object(A.a)(new Date(e.previous_end_date),1):Object(A.a)(new Date,1))?Object(R.c)(r):"",s=Math.floor(P()(r).diff(e.registration_date,"months",!0)),c=new FormData,i=new D.a,m={},d=e.previous_claim_bonus&&Math.floor(P()().diff(e.previous_end_date,"days",!0))<=90?e.previous_claim_bonus:"1";m="2"==e.policy_type_id&&"1"==e.valid_previous_policy||"3"==e.policy_type_id&&"1"==e.lapse_duration&&"1"==e.valid_previous_policy?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,registration_date:P()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:P()(e.previous_start_date).format("YYYY-MM-DD"),previous_end_date:P()(e.previous_end_date).format("YYYY-MM-DD"),previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:d,previous_claim_for:1,vehicleAge:s,pol_start_date:P()(r).format("YYYY-MM-DD"),pol_end_date:P()(o).format("YYYY-MM-DD"),policy_type:16,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,claim_array:"1"==e.previous_is_claim?JSON.stringify(e.claim_array):"",no_of_claim:e.no_of_claim,active_start_date:P()(e.active_start_date).format("YYYY-MM-DD"),active_end_date:P()(e.active_end_date).format("YYYY-MM-DD"),active_policy_name:e.active_policy_name,active_insurance_company_id:e.active_insurance_company_id,active_policy_address:e.active_policy_address,active_policy_no:e.active_policy_no,active_policy_tenure:e.active_policy_tenure,page_name:"two_wheeler_Vehicle_detailsOD/".concat(t)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,registration_date:P()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,vehicleAge:s,pol_start_date:P()(r).format("YYYY-MM-DD"),pol_end_date:P()(o).format("YYYY-MM-DD"),active_start_date:P()(e.active_start_date).format("YYYY-MM-DD"),active_end_date:P()(e.active_end_date).format("YYYY-MM-DD"),active_policy_name:e.active_policy_name,active_insurance_company_id:e.active_insurance_company_id,active_policy_address:e.active_policy_address,active_policy_no:e.active_policy_no,active_policy_tenure:e.active_policy_tenure,policy_type:16,prev_policy_flag:1,previous_is_claim:0,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetailsOD/".concat(t)},console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),l.props.loadingStart(),k.a.post("/two-wh-stal/vehicle-details",c).then((function(e){l.props.loadingStop();var n=JSON.parse(i.decrypt(e.data));console.log("decryptResp-----",n),0==n.error?l.props.history.push("/two_wheeler_OtherComprehensiveOD/".concat(t)):(a.setSubmitting(!1),x()(n.msg))})).catch((function(e){l.props.loadingStop(),a.setSubmitting(!1);var t=JSON.parse(i.decrypt(e.data));console.log("decryptResp-----",t)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),k.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;l.props.loadingStart(),k.a.get("two-wh-stal/policy-holder/motor-saod/".concat(localStorage.getItem("policyHolder_refNo"))).then((function(e){var a=JSON.parse(j.decrypt(e.data));console.log("decryptResp_fetchData",a);var t=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},n=a.data.policyHolder?a.data.policyHolder.previouspolicyforsaod:{},r=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},o=t&&t.location&&t.location.RTO_LOCATION?t.location.RTO_LOCATION+" - "+t.location.NameCode:"",s=n&&n[0]&&(0==n[0].is_claim||1==n[0].is_claim)?n[0].is_claim:"",c=n&&n[0]&&n[0].previouspoliciesclaims?n[0].previouspoliciesclaims.length:"";l.setState({motorInsurance:t,previousPolicy:n,vehicleDetails:r,RTO_location:o,previous_is_claim:s,no_of_claim:c}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.handleChange=function(e){var a=P()(e).add(1,"years").format("YYYY-MM-DD");l.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"Own Damage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e[0]&&e[0].previouspoliciesclaims?e[0].previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),i.a.createElement("option",{value:p},p)),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_year]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_amount]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION+" - "+e.NameCode)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION+" - "+e.NameCode)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;k.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,r=t.insurerList,l=t.showClaim,o=t.previous_is_claim,s=t.motorInsurance,_=t.previousPolicy,E=t.CustomerID,y=t.suggestions,b=t.vehicleDetails,N=t.RTO_location,S=t.location_reset_flag,k=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,C={};C=(s&&s.policytype_id&&"3"==s.policytype_id&&"1"==s.lapse_duration||s&&s.policytype_id&&"2"==s.policytype_id)&&1==s.valid_previous_policy?Object.assign(V,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id&&0==S?s.location_id:"",previous_start_date:_&&_[1]&&_[1].start_date?new Date(_[1].start_date):"",previous_end_date:_&&_[1]&&_[1].end_date?new Date(_[1].end_date):"",previous_policy_name:_&&_[1]&&_[1].name?_[1].name:"",insurance_company_id:_&&_[1]&&_[1].insurancecompany&&_[1].insurancecompany.Id?_[1].insurancecompany.Id:"",previous_city:_&&_[1]&&_[1].address?_[1].address:"",previous_is_claim:_&&_[1]&&(0==_[1].is_claim||1==_[1].is_claim)?_[1].is_claim:"",previous_claim_bonus:_&&_[1]&&T[_[1].claim_bonus]&&2!=_[1].claim_bonus?Math.floor(_[1].claim_bonus):"",previous_policy_no:_&&_[1]&&_[1].policy_no?_[1].policy_no:"",no_of_claim:_&&_[1]&&_[1].previouspoliciesclaims?_[1].previouspoliciesclaims.length:"",active_start_date:_&&_[0]&&_[0].start_date?new Date(_[0].start_date):"",active_end_date:_&&_[0]&&_[0].end_date?new Date(_[0].end_date):"",active_policy_name:"2",active_insurance_company_id:_&&_[0]&&_[0].insurancecompany&&_[0].insurancecompany.Id?_[0].insurancecompany.Id:"",active_policy_address:_&&_[0]&&_[0].address?_[0].address:"test",active_policy_no:_&&_[0]&&_[0].policy_no?_[0].policy_no:"",active_policy_tenure:_&&_[0]&&_[0].active_policy_tenure?_[0].active_policy_tenure:"",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,lapse_duration:s&&s.lapse_duration?s.lapse_duration:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",claim_array:this.initClaimDetailsList()}):Object.assign(V,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id?s.location_id:"",previous_policy_name:"1",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,active_start_date:_&&_[0]&&_[0].start_date?new Date(_[0].start_date):"",active_end_date:_&&_[0]&&_[0].end_date?new Date(_[0].end_date):"",active_policy_name:"2",active_insurance_company_id:_&&_[0]&&_[0].insurancecompany&&_[0].insurancecompany.Id?_[0].insurancecompany.Id:"",active_policy_address:_&&_[0]&&_[0].address?_[0].address:"test",active_policy_no:_&&_[0]&&_[0].policy_no?_[0].policy_no:"",active_policy_tenure:_&&_[0]&&_[0].active_policy_tenure?_[0].active_policy_tenure:"",lapse_duration:s&&s.lapse_duration?s.lapse_duration:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",claim_array:this.initClaimDetailsList()});var D={placeholder:k.SearchCity,value:E||N,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoVdetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},k.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},k.PleaseVehicleDetails))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(w.e,{initialValues:C,onSubmit:this.handleSubmit,validationSchema:G},(function(t){var _,f,h=t.values,v=t.errors,E=t.setFieldValue,N=t.setFieldTouched,S=(t.isValid,t.isSubmitting),C=t.touched;return i.a.createElement(w.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},k.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",maxDate:new Date,autoComplete:"off",dateFormat:"dd MMM yyyy",placeholderText:k.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.registration_date,onChange:function(e){E("registration_date",e),E("previous_end_date",""),E("previous_start_date",""),E("active_end_date",""),E("active_start_date","")}}),v.registration_date&&C.registration_date?i.a.createElement("span",{className:"errorMsg"},k[v.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},k.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(B.a,{suggestions:y,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:D,onChange:function(a){return e.onChange(a,E)},onSuggestionSelected:function(e,a){var t=a.suggestion;a.suggestionValue;N("location_id"),E("location_id",t.id)}}),v.location_id&&C.location_id?i.a.createElement("span",{className:"errorMsg"},k[v.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",k.APD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,(_={name:"active_policy_tenure",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:h.active_policy_tenure},Object(n.a)(_,"value",h.active_policy_tenure),Object(n.a)(_,"onChange",(function(e){N("active_policy_tenure"),E("active_end_date",Object(R.a)(h.active_start_date,e.target.value)),E("active_policy_tenure",e.target.value)})),_),i.a.createElement("option",{value:""},k.SPTenure),i.a.createElement("option",{value:"1"},k["1year"]),i.a.createElement("option",{value:"5"},k["5year"])),v.active_policy_tenure&&C.active_policy_tenure?i.a.createElement("span",{className:"errorMsg"},k[v.active_policy_tenure]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:k.active_start_date,maxDate:new Date,dateFormat:"dd MMM yyyy",placeholderText:k.APSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.active_start_date,onChange:function(e){N("active_start_date"),E("active_end_date",Object(R.a)(e,h.active_policy_tenure)),E("active_start_date",e),"2"==h.previous_policy_name&&(E("previous_end_date",Object(R.a)(e,h.active_policy_tenure)),E("previous_start_date",e))}}),v.active_start_date&&C.active_start_date?i.a.createElement("span",{className:"errorMsg"},k[v.active_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"active_end_date",dateFormat:"dd MMM yyyy",placeholderText:k.APED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.active_end_date,onChange:function(e){N("active_end_date"),E("active_end_date",e)}}),v.active_end_date&&C.active_end_date?i.a.createElement("span",{className:"errorMsg"},k[v.active_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"active_insurance_company_id",component:"select",autoComplete:"off",className:"formGrp",onChange:function(e){E("active_insurance_company_id",e.target.value),"2"==h.previous_policy_name&&E("insurance_company_id",e.target.value)}},i.a.createElement("option",{value:""},k.SelectActiveInsurer),r.map((function(e,a){return i.a.createElement("option",{value:e.Id},e.name)}))),v.active_insurance_company_id&&C.active_insurance_company_id?i.a.createElement("span",{className:"errorMsg"},k[v.active_insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"active_policy_no",type:"text",placeholder:k.APolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){E("active_policy_no",e.target.value),"2"==h.previous_policy_name&&E("previous_policy_no",e.target.value)}}),v.active_policy_no&&C.active_policy_no?i.a.createElement("span",{className:"errorMsg"},k[v.active_policy_no]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==h.policy_type_id||"3"==h.policy_type_id&&"1"==h.lapse_duration?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",k.GCVValidPolicy," ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){N("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"0"==h.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",k.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){N("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"1"==h.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},k.Yes)),v.valid_previous_policy&&C.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},k[v.valid_previous_policy]):null)))))):null,i.a.createElement(m.a,null,i.a.createElement("div",null,"\xa0")),("2"==h.policy_type_id||"3"==h.policy_type_id&&"1"==h.lapse_duration)&&"1"==h.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",k.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:k.previous_start_date,dateFormat:"dd MMM yyyy",placeholderText:k.PPSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,openToDate:h.previous_start_date?h.previous_start_date:new Date(q),dropdownMode:"select",className:"datePckr inputfs12",selected:h.previous_start_date,disabled:"2"==h.previous_policy_name,onChange:function(e){N("previous_start_date"),N("previous_end_date"),E("previous_end_date",Object(R.c)(e)),E("previous_start_date",e)}}),v.previous_start_date&&C.previous_start_date?i.a.createElement("span",{className:"errorMsg"},k[v.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,(f={name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:k.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.previous_end_date},Object(n.a)(f,"disabled",!0),Object(n.a)(f,"onChange",(function(e){N("previous_end_date"),E("previous_end_date",e)})),f)),v.previous_end_date&&C.previous_end_date?i.a.createElement("span",{className:"errorMsg"},k[v.previous_end_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:h.previous_policy_name,onChange:function(e){E("previous_policy_name",e.target.value),"2"==e.target.value?(E("previous_end_date",h.active_end_date),E("previous_start_date",h.active_start_date),E("insurance_company_id",h.active_insurance_company_id),E("previous_policy_no",h.active_policy_no)):(E("previous_end_date",""),E("previous_start_date",""),E("insurance_company_id",""),E("previous_policy_no",""))}},i.a.createElement("option",{value:""},k.SPT),i.a.createElement("option",{value:"1"},k.Package),i.a.createElement("option",{value:"2"},k.LiabilityOnly)),v.previous_policy_name&&C.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},k[v.previous_policy_name]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},k.SelectInsurer),r.map((function(e,a){return i.a.createElement("option",{value:e.Id},e.name)}))),v.insurance_company_id&&C.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},k[v.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"previous_city",type:"text",placeholder:k.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),v.previous_city&&C.previous_city?i.a.createElement("span",{className:"errorMsg"},k[v.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"previous_policy_no",type:"text",placeholder:k.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),v.previous_policy_no&&C.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},k[v.previous_policy_no]):null)))),i.a.createElement(m.a,null,"\xa0"),"1"==h.previous_policy_name&&Math.floor(P()().diff(h.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,k.ODExpiringClaim))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){E("previous_is_claim",a.target.value),e.showClaimText(0,h),1==a.target.checked&&E("no_of_claim","")},checked:"0"==h.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",k.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){E("previous_is_claim",a.target.value),e.showClaimText(1,h),1==a.target.checked&&E("previous_claim_bonus","1")},checked:"1"==h.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},k.YesIHave)),v.previous_is_claim&&C.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},k[v.previous_is_claim]):null))))),"0"==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},k.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:h.previous_claim_bonus},i.a.createElement("option",{value:""},"--",k.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),v.previous_claim_bonus&&C.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},k[v.previous_claim_bonus]):null)))):null,l||"1"==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},"Select No. of claims"))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:h.no_of_claim,onChange:function(a){N("no_of_claim"),E("no_of_claim",a.target.value),e.handleNoOfClaims(h,a.target.value)}},i.a.createElement("option",{value:""},k.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),v.no_of_claim&&C.no_of_claim?i.a.createElement("span",{className:"errorMsg"},k[v.no_of_claim]):null)))):null,""!=h.no_of_claim||"0"==o?e.handleClaims(h,v,C,N,E):null):null):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!S,onClick:e.selectBrand.bind(e,a)},S?k["Wait.."]:k.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!S},S?k["Wait.."]:k.Next))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"vehbox"},i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},k.RegNo,".",i.a.createElement("br",null),s&&s.registration_no)),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectBrand.bind(e,a)},k.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},k.TwoWheelBrand,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.vehiclebrand&&b.vehiclebrand.name?b.vehiclebrand.name:""))),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.editBrand.bind(e,a)},k.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},k.TwoWheelModel,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.vehiclemodel&&b.vehiclemodel.description?b.vehiclemodel.description+" "+b.varientmodel.varient:""))),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",type:"button",onClick:e.selectVehicleBrand.bind(e,a)},k.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},k.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.varientmodel&&H.a[Math.floor(b.varientmodel.fuel_type)]," "))))))))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(E.g)(Object(N.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(b.a)(a))}}}))(Y))},1309:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),R=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/two_wheeler_additional_detailsOD/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("two-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.step_no:"",c=n.data.policyHolder?n.data.policyHolder.bcmaster:{},i=n.data.policyHolder?n.data.policyHolder.request_data:{},m=n.data.policyHolder?n.data.policyHolder.menumaster:{},d=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,step_completed:s,bcMaster:c,request_data:i,menumaster:m,paymentgateway:d,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;y.a.get("two-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){y.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData,r=new k.a,l={reference_no:localStorage.getItem("policyHolder_refNo"),access_token:e,idv_value:a.idv_value,policy_type:a?a.policy_type:"",add_more_coverage:a.add_more_coverage,policytype_id:a?a.policytype_id:"",policy_for:a?a.policy_for:"",PA_Cover:a?a.pa_cover:"0",tyre_rim_array:a&&a.tyre_rim_array?JSON.parse(a.tyre_rim_array):"",coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:""};console.log("fullQuote_post_data",l),n.append("enc_data",r.encrypt(JSON.stringify(l))),y.a.post("two-wh-stal/fullQuoteStlM2W",n).then((function(e){e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],step_completed:"0",paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.paymentgateway),r=(a.show,a.fulQuoteResp),l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber,a.request_data),c=(a.menumaster,a.paymentStatus),_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.step_completed,w=a.bcMaster,k=this.props.match.params.productId,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),S>="4"&&N.vehicletype_id==k?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twopremiumOd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},C.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:H},(function(a){var o=a.values,c=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,C.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,P),i.a.createElement("h5",null,I),i.a.createElement("h4",null,C.PolRefNumber," ",r.QuotationNo?r.QuotationNo:"")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},s&&s.start_date?A()(s.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},s&&s.end_date?A()(s.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.Premium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(r.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GST,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(r.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.TwoWheelBrand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.TwoWheelModel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?D.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.idv_value?l.idv_value:null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,C.OwnerDetails,":"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,C.Name,":"):i.a.createElement(u.a,null,C.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y&&y.dob?Math.floor(A()().diff(y.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(A()().diff(b.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&"m"==b.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&b&&"1"==b.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},C.SelectPayGateway,n&&n.length>0?n.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){c("gateway",a.target.value),c("slug",e.paymentgateway.slug)},checked:o.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,k)},C.Back),w&&1==w.eligible_for_payment_link?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",C.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=o.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},C.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(175),alt:""}))))))}))):""==S?"Forbidden":null,i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(R))},1310:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(46),i=t(18),m=t(17),d=t(98),u=t(0),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(912),E=t(909),y=t(910),b=t(48),N=t.n(b),S=(t(172),t(95),t(96),t(2)),w=t(31),k=t(34),C=t(40),P=t(38),D=t(19),I=t(22),M=t(7),B=t(9),A=t(1),O=t(20),x=t.n(O),H=t(25),R=t(99),L=new B.a,j=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],F={},q=function(e,a,t){return[].concat(Object(d.a)(e.slice(0,a)),[t],Object(d.a)(e.slice(a)))},T=A.object().shape({PA_Cover:A.string().when(["PA_flag"],{is:function(e){return"1"==e},then:A.string().required("PleasePACover"),otherwise:A.string()}),registration_no:A.string().when("newRegistrationNo",{is:"NEW",then:A.string(),otherwise:A.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),B00003_value:A.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:A.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:A.string()}),B00003_description:A.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:A.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:A.string()}),B00004_value:A.string().when(["electric_flag"],{is:function(e){return"1"==e},then:A.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:A.string()}),B00004_description:A.string().when(["electric_flag"],{is:function(e){return"1"==e},then:A.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:A.string()}),B00005_value:A.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:A.string().required("PleaseProvideIDV").test("isLoanChecking",(function(){return"Value1Kto10L"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:A.string()}),puc:A.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:A.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:A.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:A.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:A.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),tyre_rim_array:A.array().of(A.object().shape({tyreMfgYr:A.string().when(["policy_for"],{is:function(e){return["1"==e,"2"==e]},then:A.string().required("MFG year required").test("checkGreaterTimes","Mfg date must be greater than registration date",(function(e){return!e||Object(H.d)(new Date(this.parent.vehicleRegDate),e)})).test("checkGreaterTimes","Mfg date must be less than today",(function(e){return!e||Object(H.d)(e,new Date)})),otherwise:A.string()}),tyreSerialNo:A.string().when(["policy_for"],{is:function(e){return["1"==e,"2"==e]},then:A.string().required("Serial No Required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Invalid Serial No"})),otherwise:A.string()})}))}),V={B00002:j.B00002,B00003:j.B00003,B00004:j.B00004,B00005:j.B00005,B00006:j.B00006,B00008:j.B00008,B00013:j.B00013,B00015:j.B00015,B00075:j.B00075,B00009:j.B00009,B00011:j.B00011,B00012:j.B00012,B00069:j.B00069,B00070:j.B00070,B00071:j.B00071,B00073:j.B00073,C101072:j.C101072,C101108:j.C101108,C101110:j.C101110,C101064:j.C101064,C101065:j.C101065,C101066:j.C101066,C101069:j.C101069,C101067:j.C101067,C101111:j.C101111,NCB:j.NCB,TOTALOD:j.TOTALOD},G=function(e){Object(i.a)(n,e);var a=Object(m.a)(n);function n(e){var t;return Object(o.a)(this,n),(t=a.call(this,e)).handleChange=function(){t.setState({serverResponse:[],error:[]})},t.sliderValue=function(e){t.setState({sliderVal:e,serverResponse:[],error:[]})},t.vehicleDetails=function(e){t.props.history.push("/two_wheeler_Vehicle_detailsOD/".concat(e))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;t.props.loadingStart(),M.a.get("two-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var a=JSON.parse(L.decrypt(e.data));console.log("decryptResp----",a);var n=[],r=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},l=a.data.policyHolder?a.data.policyHolder.request_data:{},o=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},s=a.data.policyHolder?a.data.policyHolder.step_no:"",c=r&&r.idv_value?r.idv_value:0,i=r&&null!=r.registration_date?r.registration_date:"",m=r.tyre_rim_array&&null!=r.tyre_rim_array?r.tyre_rim_array:null;m=null!=m?JSON.parse(m):[];var d=r&&"2"==r.policy_for?null!=r.add_more_coverage?r.add_more_coverage.split(","):[]:null!=r.add_more_coverage?r.add_more_coverage.split(","):["B00015"];d=d.flat();var u=r&&null!=r.add_more_coverage_request_json?r.add_more_coverage_request_json:"",p=""!=u?JSON.parse(u):[];n.PA_flag=r&&""!=r.pa_cover?"1":"0",n.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0",n.B00004_value=p.B00004?p.B00004.value:"",n.B00004_description=p.B00004?p.B00004.description:"",n.B00003_value=p.B00003?p.B00003.value:"",n.B00003_description=p.B00003?p.B00003.description:"",n.B00005_value=p.B00005?p.B00005.value:"",n.tyre_rim_array=m,t.setState({motorInsurance:r,vehicleDetails:o,step_completed:s,tyre_rim_array:m,request_data:l,sliderVal:c,add_more_coverage:d,add_more_coverage_request_array:p,vehicleRegDate:i,selectFlag:r&&"2"==r.policy_for?[]:null!=r.add_more_coverage?"0":"1",vahanVerify:!(!r.chasis_no||!r.engine_no)}),t.props.loadingStop(),t.getAccessToken(n)})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){t.props.loadingStart(),M.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.getCoverage=function(){t.props.loadingStart(),M.a.get("/coverage-list/".concat(localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0)).then((function(e){t.setState({moreCoverage:e.data.data})})).catch((function(e){t.setState({moreCoverage:[]}),t.props.loadingStop()}))},t.getVahanDetails=function(){var e=Object(l.a)(r.a.mark((function e(a,n,l,o){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=new FormData).append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",t.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}x()("Please provide correct Registration number and Chasis number"),e.next=11;break;case 8:return t.props.loadingStart(),e.next=11,M.a.post("/getVahanDetails",s).then((function(e){t.setState({vahanDetails:e.data,vahanVerify:!0}),t.state.vahanDetails.data[0].chasiNo&&t.setState({chasiNo:t.state.vahanDetails.data[0].chasiNo}),t.state.vahanDetails.data[0].engineNo&&t.setState({engineNo:t.state.vahanDetails.data[0].engineNo}),n("vahanVerify"),l("vahanVerify",!0),n("engine_no"),l("engine_no",t.state.engineNo),n("chasis_no"),l("chasis_no",t.state.chasiNo),t.props.loadingStop()})).catch((function(e){t.setState({vahanDetails:[],vahanVerify:!0}),n("vahanVerify"),l("vahanVerify",!0),t.props.loadingStop()}));case 11:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),t.fullQuote=function(e,a){var n,r=t.state,l=r.PolicyArray,o=r.sliderVal,s=r.add_more_coverage,c=r.motorInsurance,i={},m=0,d=l.length>0?Math.floor(l[0].PolicyRiskList[0].IDV_User):0,u=new FormData,p=new B.a;s&&(i={B00004:{value:a.B00004_value,description:a.B00004_description},B00003:{value:a.B00003_value,description:a.B00003_description},B00005:{value:a.B00005_value}},a.B00004_value&&(m+=parseInt(a.B00004_value)),a.B00003_value&&(m+=parseInt(a.B00003_value)));var _={reference_no:localStorage.getItem("policyHolder_refNo"),access_token:e,idv_value:o||d.toString(),add_more_coverage:s.toString(),policy_type:c?c.policy_type:"",policytype_id:c?c.policytype_id:"",PA_Cover:a.PA_flag?a.PA_Cover:"0",policy_for:c?c.policy_for:"",tyre_rim_array:a.tyre_rim_array,coverage_data:JSON.stringify(i)};console.log("fullQuote_post_data",_),n=parseInt(m)+parseInt(_.idv_value);var g=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(g&&(g=JSON.parse(p.decrypt(g.user)),n>5e5&&"POSP"==g.user_type))return x()("Quote cannot proceed with IDV greater than 500000"),t.props.loadingStop(),!1;u.append("enc_data",p.encrypt(JSON.stringify(_))),M.a.post("two-wh-stal/fullQuoteStlM2W",u).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[],n=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].NCBDiscountAmt:0;if("0"!=n){var r={};r.PolicyBenefitList=[{BeforeVatPremium:0-Math.round(n),ProductElementCode:"NCB"}];var l={};l.PolicyBenefitList=[{BeforeVatPremium:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_NCBAmount:0,ProductElementCode:"TOTALOD"}],a="0"!=n?q(a,1,r):"",a="0"!=n?q(a,2,l):""}t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],serverResponse:e.data.PolicyObject,policyCoverage:a})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var o=[];for(var c in e.data.UnderwritingResult.MessageList)o.push(e.data.UnderwritingResult.MessageList[c].Message);t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:{message:0},validation_error:o,serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){o=[];for(var i in e.data.messages){var m="";e.data.messages[i].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[i].code?(m="It is blacklisted vehicle. Please contact Relationship manager",x()(m)):m=e.data.messages[i].message,o.push(m)}t.setState({fulQuoteResp:[],add_more_coverage:s,error:{message:0},validation_error:o,serverResponse:[]})}else t.setState({fulQuoteResp:[],add_more_coverage:s,error:e.data,serverResponse:[]});t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.handleSubmit=function(e){var a=t.props.match.params.productId,n=t.state,r=(n.motorInsurance,n.PolicyArray),l=n.sliderVal,o=n.add_more_coverage,s=r.length>0?Math.round(r[0].PolicyRiskList[0].IDV_User):0,c=r.length>0?Math.round(r[0].PolicyRiskList[0].SumInsured):0,i={};localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases"));o&&(i={B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00005:{value:e.B00005_value}});var m=new FormData,d=new B.a,u=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";u.user&&(u=JSON.parse(d.decrypt(u.user)));var p;if(p={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:3,cng_kit:e.cng_kit,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,engine_no:e.engine_no,puc:e.puc,idv_value:l||s.toString(),add_more_coverage:o,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,page_name:"two_wheeler_OtherComprehensiveOD/".concat(a),tyre_rim_array:e.tyre_rim_array&&e.tyre_rim_array.length>0?e.tyre_rim_array:null,coverage_data:JSON.stringify(i)},console.log("post_data",p),u&&c){if(R.a.includes(u.login_type)&&o.indexOf("B00015")<0)return x()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(c>5e6&&"POSP"==u.user_type)return x()("Quote cannot proceed with IDV greater than 5000000"),t.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(m.append("enc_data",d.encrypt(JSON.stringify(p))),t.props.loadingStart(),M.a.post("two-wh-stal/insured-value",m).then((function(e){t.props.loadingStop();var n=JSON.parse(d.decrypt(e.data));console.log("decryptResp---",n),0==n.error&&t.props.history.push("/two_wheeler_additional_detailsOD/".concat(a))})).catch((function(e){t.props.loadingStop();var a=JSON.parse(d.decrypt(e.data));console.log("decrypterr---",a)}))):x()("Chasis no mismatch")}},t.onRowSelect=function(e,a,n,r,l){var o=t.state.add_more_coverage;if(a){if(o.push(e),"C101110"==e){var s=2,c=new Date(t.state.vehicleRegDate);if(l.tyre_rim_array&&l.tyre_rim_array.length<s)for(var i=l.tyre_rim_array.length;i<s;i++)l.tyre_rim_array.push({tyreSerialNo:"",tyreMfgYr:c.getFullYear(),vehicleRegDate:t.state.vehicleRegDate,policy_for:t.state.policy_for})}t.setState({add_more_coverage:o,serverResponse:[],error:[],no_of_claim:s}),"B00075"==e&&(n("PA_flag"),r("PA_flag","1")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","1")),"C101110"==e&&(n("tyre_cover_flag"),r("tyre_cover_flag","1")),"B00003"==e&&(n("nonElectric_flag"),r("nonElectric_flag","1")),"B00004"==e&&(n("electric_flag"),r("electric_flag","1")),"B00005"==e&&(n("CNG_OD_flag"),r("CNG_OD_flag","1"))}else{var m=o.indexOf(e);-1!==m&&(o.splice(m,1),t.setState({serverResponse:[],error:[]})),"B00075"==e&&(n("PA_flag"),r("PA_flag","0"),n("PA_Cover"),r("PA_Cover","")),"B00015"==e&&(n("PA_cover_flag"),r("PA_cover_flag","0")),"C101110"==e&&(n("tyre_cover_flag"),r("tyre_cover_flag","0")),"B00003"==e&&(n("nonElectric_flag"),r("nonElectric_flag","0")),"B00004"==e&&(n("electric_flag"),r("electric_flag","0")),"B00005"==e&&(n("CNG_OD_flag"),r("CNG_OD_flag","0"))}},t.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},t.initClaimDetailsList=function(){var e=[],a=t.state,n=a.tyre_rim_array,r=a.vehicleRegDate,l=a.policy_for;if(n&&n.length>0)for(var o=0;o<t.state.no_of_claim;o++)e.push({tyreSerialNo:n&&n[o]&&n[o].tyreSerialNo?n[o].tyreSerialNo:"",tyreMfgYr:n&&n[o]&&n[o].tyreMfgYr?n[o].tyreMfgYr:"",vehicleRegDate:r,policy_for:l});return e},t.handleClaims=function(e,a,n,r,l){for(var o=[],s=(localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases")),0);s<2;s++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:2},p.a.createElement("span",{className:"indexing"}," Tyre",s+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:3},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"tyre_rim_array[".concat(s,"].tyreMfgYr"),type:"text",placeholder:"MFG Year",autoComplete:"off",onFocus:function(e){return t.changePlaceHoldClassAdd(e)},onBlur:function(e){return t.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreMfgYr?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreMfgYr):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"tyre_rim_array[".concat(s,"].tyreSerialNo"),type:"text",placeholder:"Serial No",autoComplete:"off",onFocus:function(e){return t.changePlaceHoldClassAdd(e)},onBlur:function(e){return t.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreSerialNo?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreSerialNo):null))))));return o},t.handleShow=t.handleShow.bind(Object(c.a)(t)),t.handleClose=t.handleClose.bind(Object(c.a)(t)),t.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],step_completed:"0",vehicleDetails:[],selectFlag:"",moreCoverage:[],ncbDiscount:0,tyre_rim_array:[],no_of_claim:2,add_more_coverage_request_array:[],request_data:[]},t}return Object(s.a)(n,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.fetchData(),this.getCoverage()}},{key:"render",value:function(){var e=this,a=this.state,n=a.validation_error,r=a.error,l=a.policyCoverage,o=a.vahanVerify,s=a.fulQuoteResp,c=a.PolicyArray,i=a.motorInsurance,m=a.serverResponse,d=(a.add_more_coverage,a.step_completed),b=a.vehicleDetails,P=a.selectFlag,D=a.sliderVal,I=a.moreCoverage,M=a.ncbDiscount,B=a.add_more_coverage_request_array,A=this.props.match.params.productId,O=i&&i.add_more_coverage?i.add_more_coverage.split(","):"",H=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";H.user&&(H=JSON.parse(L.decrypt(H.user)));for(var j={},q=i&&null!=i.pa_cover?i.pa_cover:"",G=B.B00004&&B.B00004.value?"1":"0",Y=B.B00003&&B.B00003.value?"1":"0",J=B.B00005&&B.B00005.value?"1":"0",z="0",Z=0;Z<O.length;Z++)O.indexOf("C101110")&&(z="1");var $=c.length>0?Math.round(c[0].PolicyRiskList[0].IDV_User):0,U=D,Q=c.length>0?c[0].PolicyRiskList[0].MinIDV_Suggested:0,W=c.length>0?c[0].PolicyRiskList[0].MaxIDV_Suggested:0,K=Q,X=c.length>0?Math.floor(W):null,ee=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;0==Number.isInteger(Q)&&(K=c.length>0?Math.floor(c[0].PolicyRiskList[0].MinIDV_Suggested):null,K+=1),F="1"==P?{registration_no:i.registration_no?i.registration_no:"",chasis_no:i.chasis_no?i.chasis_no:"",chasis_no_last_part:i.chasis_no_last_part?i.chasis_no_last_part:"",engine_no:i.engine_no?i.engine_no:"",add_more_coverage:"",cng_kit:"0",B00015:"B00015",PA_flag:"0",PA_Cover:"",PA_cover_flag:"1",electric_flag:"0",nonElectric_flag:"0",tyre_rim_array:this.initClaimDetailsList(),vahanVerify:o,puc:1}:{registration_no:i.registration_no?i.registration_no:"",chasis_no:i.chasis_no?i.chasis_no:"",chasis_no_last_part:i.chasis_no_last_part?i.chasis_no_last_part:"",engine_no:i.engine_no?i.engine_no:"",add_more_coverage:"",cng_kit:"0",PA_flag:"0",PA_Cover:"",electric_flag:"0",nonElectric_flag:"0",PA_cover_flag:i&&i.pa_flag?i.pa_flag:"0",tyre_rim_array:this.initClaimDetailsList(),vahanVerify:o,puc:1};for(Z=0;Z<O.length;Z++)j[O[Z]]=O[Z];j.PA_Cover=q,j.electric_flag=G,j.nonElectric_flag=Y,j.tyre_cover_flag=z,j.CNG_OD_flag=J,j.B00004_value=B.B00004?B.B00004.value:"",j.B00004_description=B.B00004?B.B00004.description:"",j.B00003_value=B.B00003?B.B00003.value:"",j.B00003_description=B.B00003?B.B00003.description:"",j.B00005_value=B.B00005?B.B00005.value:"";var ae=Object.assign(F,j);console.log("policyCoverage",l);var te=l&&l.length>0?l.map((function(e,a){return e.PolicyBenefitList?e.PolicyBenefitList.map((function(e,a){return p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,V[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium)))))})):p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,V[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.AnnualPremium),"  "))))})):null,ne=M&&0!=M?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"NCB Discount")),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 -",Math.round(c[0].PolicyRiskList[0].NCBDiscountAmt))))):"",re=l&&l.length>0?l.map((function(e,a){return e.PolicyBenefitList?e.PolicyBenefitList.map((function(e,a){return p.a.createElement("tr",null,p.a.createElement("td",null,V[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium)))})):p.a.createElement("tr",null,p.a.createElement("td",null,V[e.ProductElementCode]),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium),"  "))})):null,le=r&&r.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,oe=n?n.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(w.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(k.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoOCdetail"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},ee.SBIGICL),d>="2"&&b.vehicletype_id==A?p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},ee.CoversM2WOD),p.a.createElement("h5",null,le),p.a.createElement("h5",null,oe))),p.a.createElement(S.e,{initialValues:ae,onSubmit:m&&""!=m?m.message?this.getAccessToken:this.handleSubmit:this.getAccessToken,validationSchema:T},(function(a){var n=a.values,r=a.errors,l=a.setFieldValue,o=a.setFieldTouched,c=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(S.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(N.a,{trigger:ee.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},te,ne))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ee.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(S.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,o,l)}}),r.registration_no?p.a.createElement("span",{className:"errorMsg"},ee[r.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ee.ChassisNo,"."))),p.a.createElement(_.a,{sm:12,md:6,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(S.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:n.chasis_no_last_part,maxLength:"5",onChange:function(e){l("vahanVerify",!1),o("chasis_no_last_part"),l("chasis_no_last_part",e.target.value.toUpperCase())}}),r.chasis_no_last_part&&c.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},ee[r.chasis_no_last_part]):null))),p.a.createElement(_.a,{sm:12,md:1,lg:2},p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:r.chasis_no_last_part?null:e.getVahanDetails.bind(e,n,o,l,r)},ee.Verify),r.vahanVerify?p.a.createElement("span",{className:"errorMsg"},ee[r.vahanVerify]):null)))),n.vahanVerify&&!r.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(S.b,{name:"engine_no",type:"text",placeholder:ee.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.engine_no,maxLength:"17",onChange:function(e){o("engine_no"),l("engine_no",e.target.value.toUpperCase())}}),r.engine_no&&c.engine_no?p.a.createElement("span",{className:"errorMsg"},ee[r.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(S.b,{name:"chasis_no",type:"text",placeholder:ee.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.chasis_no,maxLength:"25",onChange:function(e){o("chasis_no"),l("chasis_no",e.target.value.toUpperCase())}}),r.chasis_no&&c.chasis_no?p.a.createElement("span",{className:"errorMsg"},ee[r.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement("span",{className:"fs-16"},ee.IDValue)))),p.a.createElement(_.a,{sm:12,md:6,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(S.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:U||$}),r.IDV&&c.IDV?p.a.createElement("span",{className:"errorMsg"},r.IDV):null))),$?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",defaultValue:$,min:K,max:X,step:"1",value:n.slider,onChange:function(a){o("slider"),l("slider",n.slider),e.sliderValue(a.target.value)}}))):null),I&&I.length>0?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"}," ",ee.AddMoreCoverage)))):null,i&&"1"==i.policy_for&&I.map((function(a,s){return p.a.createElement(g.a,{key:s},p.a.createElement(_.a,{sm:12,md:11,lg:5,key:s+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(v.a,{overlay:p.a.createElement(E.a,{id:"tooltip-disabled"},a.description)},p.a.createElement("a",{className:"infoIcon"},p.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))),p.a.createElement(S.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!R.a.includes(H.login_type)||"B00015"!=n[a.code]),onClick:function(t){0==t.target.checked&&"B00015"==n[a.code]&&x()(ee.SwalIRDAI,{button:ee.OK}),e.onRowSelect(t.target.value,t.target.checked,o,l,n)},checked:n[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))),"1"==n.PA_flag&&"B00075"==n[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.PA_Cover,onChange:function(a){o("PA_Cover"),l("PA_Cover",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ee.SSI),p.a.createElement("option",{value:"50000"},"50000"),p.a.createElement("option",{value:"100000"},"100000")),r.PA_Cover?p.a.createElement("span",{className:"errorMsg"},ee[r.PA_Cover]):null))):null,"1"==n.nonElectric_flag&&"B00003"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00003_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00003_value"),l("B00003_value",a.target.value),e.handleChange()}}),r.B00003_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00003_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00003_description"),l("B00003_description",a.target.value),e.handleChange()}}),r.B00003_description?p.a.createElement("span",{className:"errorMsg"},ee[r.B00003_description]):null)))," "):null,"1"==n.electric_flag&&"B00004"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00004_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00004_value"),l("B00004_value",a.target.value),e.handleChange()}}),r.B00004_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00004_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00004_description"),l("B00004_description",a.target.value),e.handleChange()}}),r.B00004_description?p.a.createElement("span",{className:"errorMsg"},ee[r.B00004_description]):null)))," "):null,"1"==n.CNG_OD_flag&&"B00005"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00005_value",type:"text",placeholder:"Sum insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00005_value"),l("B00005_value",a.target.value),e.handleChange()}}),r.B00005_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00005_value]):null)))):null,"0"==n.tyre_cover_flag?n.tyre_rim_array=[]:null,"1"==n.tyre_cover_flag&&"C101110"==n[a.code]?e.handleClaims(n,r,c,o,l):null)})),i&&"2"==i.policy_for&&I.map((function(a,s){return p.a.createElement(g.a,{key:s},"B00015"!=a.code?p.a.createElement(_.a,{sm:12,md:11,lg:5,key:s+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(v.a,{overlay:p.a.createElement(E.a,{id:"tooltip-disabled"},a.description)},p.a.createElement("a",{className:"infoIcon"},p.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))),p.a.createElement(S.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",onClick:function(t){0==t.target.checked&&"B00015"==n[a.code]&&x()(ee.SwalIRDAI),e.onRowSelect(t.target.value,t.target.checked,o,l,n)},checked:n[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))):null,"1"==n.PA_flag&&"B00075"==n[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:n.PA_Cover,onChange:function(a){o("PA_Cover"),l("PA_Cover",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ee.SSI),p.a.createElement("option",{value:"50000"},"50000"),p.a.createElement("option",{value:"100000"},"100000")),r.PA_Cover?p.a.createElement("span",{className:"errorMsg"},ee[r.PA_Cover]):null))):null,"1"==n.nonElectric_flag&&"B00003"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00003_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00003_value"),l("B00003_value",a.target.value),e.handleChange()}}),r.B00003_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00003_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00003_description"),l("B00003_description",a.target.value),e.handleChange()}}),r.B00003_description?p.a.createElement("span",{className:"errorMsg"},ee[r.B00003_description]):null)))," "):null,"1"==n.electric_flag&&"B00004"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00004_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00004_value"),l("B00004_value",a.target.value),e.handleChange()}}),r.B00004_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00004_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00004_description"),l("B00004_description",a.target.value),e.handleChange()}}),r.B00004_description?p.a.createElement("span",{className:"errorMsg"},ee[r.B00004_description]):null)))," "):null,"1"==n.CNG_OD_flag&&"B00005"==n[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(S.b,{name:"B00005_value",type:"text",placeholder:"Sum insured",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){o("B00005_value"),l("B00005_value",a.target.value),e.handleChange()}}),r.B00005_value?p.a.createElement("span",{className:"errorMsg"},ee[r.B00005_value]):null)))):null,"0"==n.tyre_cover_flag?n.tyre_rim_array=[]:null,"1"==n.tyre_cover_flag&&"C101110"==n[a.code]?e.handleClaims(n,r,c,o,l):null)})),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},ee.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(S.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==n.puc,onChange:function(){o("puc"),l("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ee.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(S.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==n.puc,onChange:function(){o("puc"),l("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ee.No)),r.puc&&c.puc?p.a.createElement("span",{className:"errorMsg"},r.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,A)},ee.Back),m&&""!=m?m.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Recalculate):"1"==n.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",ee.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",s.DuePremium?s.DuePremium:0),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},ee.Breakup))))))}))):""==d?"Forbidden":null,p.a.createElement(C.a,null)))))),p.a.createElement(y.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(y.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("h3",null,ee.PremiumBreakup," ")),p.a.createElement(y.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,ee.Premium,":"),p.a.createElement("th",null,"\u20b9 ",s.DuePremium))),p.a.createElement("tbody",null,re,0!=M?p.a.createElement("tr",null,p.a.createElement("td",null,ee.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 -",Math.round(M))):"",p.a.createElement("tr",null,p.a.createElement("td",null,ee.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,ee.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(s.TGST))))))))}}]),n}(u.Component);a.default=Object(P.g)(Object(I.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(D.a)())},loadingStop:function(){return e(Object(D.b)())}}}))(G))},1311:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=(t(95),t(96),t(40)),h=t(31),v=t(34),E=t(2),y=t(1),b=t(38),N=t(19),S=t(22),w=t(7),k=t(3),C=t.n(k),P=t(28),D=t(9),I=t(25),M=(C()(C()().subtract(100,"years").calendar()),C()().subtract(18,"years").calendar(),C()(C()().subtract(100,"years").calendar()),C()().subtract(3,"months").calendar(),new Date),B=C()(C()().subtract(100,"years").calendar()),A={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",age:"",nominee_age:""},O=y.object().shape({first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).test("nameChecking",(function(){return"FirstNameMin"}),(function(e){return Object(I.e)(e)})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]+[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z])*$/,(function(){return"ValidName"}))}),gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("GenderRequired"),otherwise:y.string().nullable()}),dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:y.date().nullable()}),age:y.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:y.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:y.mixed().nullable()}),nominee_age:y.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:y.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:y.mixed().nullable()}),pancard:y.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:y.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:y.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:y.string().required("LocationRequired"),pincode:y.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:y.string().required("AddressRequired").test("addressChecking",(function(){return"PleaseEnterValidAddress"}),(function(e){return Object(I.a)(e)})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:y.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:y.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),salutation_id:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("TitleIsRequired"),otherwise:y.string().nullable()}),nominee_salutation:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().required("TitleIsRequired"),otherwise:y.string().nullable()}),nominee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),nominee_first_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"NameReqMax"})).test("nameChecking",(function(){return"FirstNameMin"}),(function(e){return Object(I.e)(e)})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]+[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:y.string().nullable()}),nominee_gender:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:y.string()}),nominee_dob:y.date().when(["policy_for"],{is:function(e){return"1"==e},then:y.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new P.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:y.date()}),is_eia_account:y.string().required("RequiredField"),eia_no:y.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),appointee_name:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),appointee_relation_with:y.string().when(["policy_for"],{is:function(e){return"1"==e},then:y.string().notRequired().test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new P.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:y.string().nullable()}),date_of_incorporation:y.date().when(["policy_for"],{is:function(e){return"2"==e},then:y.date().required("PleaseIncorporationDate"),otherwise:y.date().nullable()}),org_level:y.string().when(["policy_for"],{is:function(e){return"2"==e},then:y.string().required("OrganizationLevel"),otherwise:y.string()}),gstn_no:y.string().test("first2digitcheck",(function(){return"ValidGST"}),(function(e){return!e||""==e&&void 0==e||Object(I.k)(e)})).nullable(),is_carloan:y.mixed().required("RequiredField"),bank_name:y.string().notRequired("BankNameReq").test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBank"})),bank_branch:y.string().notRequired("BankBranchReq").test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBankBranch"})),is_eia_account2:y.string().when(["is_eia_account"],{is:function(e){return 0==e},then:y.string().required("RequiredField")}),tpaInsurance:y.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:y.string().required("RequiredField")})}),x=function(e){Object(o.a)(_,e);var a=Object(s.a)(_);function _(){var e;Object(r.a)(this,_);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,titleList:[],nominee_titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new P.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/two_wheeler_OtherComprehensiveOD/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=e.state.motorInsurance,o=new FormData,s=new D.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var c={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"two_wheeler_additional_detailsOD/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==l.policy_for&&"1"==l.pa_flag?(c.dob=C()(a.dob).format("YYYY-MM-DD"),c.nominee_relation_with=a.nominee_relation_with,c.nominee_first_name=a.nominee_first_name,c.nominee_last_name=a.nominee_last_name,c.nominee_gender=a.nominee_gender,c.nominee_dob=C()(a.nominee_dob).format("YYYY-MM-DD"),c.appointee_name=a.appointee_name,c.appointee_relation_with=a.appointee_relation_with,c.is_appointee=e.state.is_appointee,c.gender=a.gender):"1"==l.policy_for&&"0"==l.pa_flag?(c.gender=a.gender,c.dob=C()(a.dob).format("YYYY-MM-DD")):(c.gender="cc",c.date_of_incorporation=C()(a.date_of_incorporation).format("YYYY-MM-DD"),c.org_level=a.org_level),console.log("post_data",c),o.append("enc_data",s.encrypt(JSON.stringify(c))),e.props.loadingStart(),w.a.post("/two-wh-stal/owner-details",o).then((function(a){var t=JSON.parse(s.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/two_wheeler_policy_premium_detailsOD/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(s.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new D.a;e.props.loadingStart(),w.a.get("two-wh-stal/policy-holder/motor-saod/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},o=n.data.policyHolder?n.data.policyHolder:{},s=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},c=n.data.policyHolder?n.data.policyHolder.is_carloan:0,i=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",m=!o||0!=o.is_eia_account&&1!=o.is_eia_account?"":o.is_eia_account,d=!o||0!=o.create_eia_account&&1!=o.create_eia_account?"":o.create_eia_account,u=(o.T_Insurance_Repository_id&&o.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),p=JSON.parse(n.data.policyHolder.pincode_response),_=n.data.policyHolder?n.data.policyHolder.step_no:"";e.setState({quoteId:i,motorInsurance:r,vehicleDetails:l,policyHolder:o,nomineeDetails:s,is_loan_account:c,is_eia_account:m,is_eia_account2:d,bankDetails:u,addressDetails:p,step_completed:_,is_appointee:s?s.is_appointee:""}),e.fetchPrevAreaDetails(p),e.fetchSalutation(p,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new D.a;n.append("pincode",t),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),w.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),w.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.fetchRelationships()})).catch((function(a){e.props.loadingStop()}))}else e.fetchRelationships()},e.fetchRelationships=function(){w.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.tpaInsuranceRepository=function(){w.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e}return Object(l.a)(_,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,_=r.is_eia_account,y=r.is_eia_account2,b=r.is_loan_account,N=r.nomineeDetails,S=r.motorInsurance,w=r.appointeeFlag,k=r.is_appointee,P=r.titleList,D=r.tpaInsurance,I=r.bankDetails,x=r.policyHolder,H=r.stateName,R=r.pinDataArr,L=r.quoteId,j=r.addressDetails,F=r.relation,q=r.step_completed,T=r.vehicleDetails,V=this.props.match.params.productId,G=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Y=Object.assign(A,(e={first_name:x&&x.first_name?x.first_name:"",gender:x&&x.gender?x.gender:"",dob:x&&x.dob?new Date(x.dob):"",age:x&&x.dob?Math.floor(C()().diff(x.dob,"years",!0)):"",pancard:x&&x.pancard?x.pancard:"",pincode_id:j&&j.id?j.id:"",pincode:x&&x.pincode?x.pincode:"",address:x&&x.address?x.address:"",is_carloan:b,bank_name:I?I.bank_name:"",bank_branch:I?I.bank_branch:"",nominee_relation_with:N&&N.relation_with?N.relation_with.toString():"",nominee_first_name:N&&N.first_name?N.first_name:"",nominee_gender:N&&N.gender?N.gender:"",nominee_dob:N&&N.dob?new Date(N.dob):"",nominee_age:N&&N.dob?Math.floor(C()().diff(N.dob,"years",!0)):"",gstn_no:x&&x.gstn_no?x.gstn_no:"",phone:x&&x.mobile?x.mobile:"",email:x&&x.email_id?x.email_id:""},Object(n.a)(e,"address",x&&x.address?x.address:""),Object(n.a)(e,"is_eia_account",_),Object(n.a)(e,"is_eia_account2",y),Object(n.a)(e,"eia_no",x&&x.eia_no?x.eia_no:""),Object(n.a)(e,"policy_for",S?S.policy_for:""),Object(n.a)(e,"pa_flag",S?S.pa_flag:0),Object(n.a)(e,"appointee_relation_with",N&&N.appointee_relation_with?N.appointee_relation_with:""),Object(n.a)(e,"appointee_name",N&&N.appointee_name?N.appointee_name:""),Object(n.a)(e,"date_of_incorporation",x&&x.date_of_incorporation?new Date(x.date_of_incorporation):""),Object(n.a)(e,"org_level",x&&x.org_level?x.org_level:""),Object(n.a)(e,"salutation_id",x&&x.salutation_id?x.salutation_id:""),Object(n.a)(e,"nominee_salutation",N&&N.gender?N.title_id:""),Object(n.a)(e,"tpaInsurance",x&&x.T_Insurance_Repository_id?x.T_Insurance_Repository_id:""),e)),J=L?i.a.createElement("h4",null,G.PolicyReady,": ",L," ",G.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twoadiDetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},G.SBIGICL),q>="3"&&T.vehicletype_id==V?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(E.e,{initialValues:Y,onSubmit:this.handleSubmit,validationSchema:O},(function(e){var n=e.values,r=e.errors,f=e.setFieldValue,h=e.setFieldTouched,v=(e.isValid,e.isSubmitting),N=e.touched;return i.a.createElement(E.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},J),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",G.LoanTaken)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){f("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==n.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){f("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==n.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No)),r.is_carloan&&N.is_carloan?i.a.createElement("span",{className:"errorMsg"},r.is_carloan):null))),l||1==b?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_name",type:"text",placeholder:G.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_name}),r.bank_name&&N.bank_name?i.a.createElement("span",{className:"errorMsg"},G[r.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"bank_branch",type:"text",placeholder:G.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_branch}),r.bank_branch&&N.bank_branch?i.a.createElement("span",{className:"errorMsg"},G[r.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,G.OwnersDetails)),i.a.createElement(m.a,null,S&&"1"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.Title),P.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.salutation_id&&N.salutation_id?i.a.createElement("span",{className:"errorMsg"},G[r.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"first_name",type:"text",placeholder:"2"==n.policy_for?G.CompanyName:G.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.first_name}),r.first_name&&N.first_name?i.a.createElement("span",{className:"errorMsg"},G[r.first_name]):null))),S&&"2"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"gstn_no",type:"text",placeholder:G.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.gstn_no.toUpperCase(),onChange:function(e){return f("gstn_no",e.target.value.toUpperCase())}}),r.gstn_no&&N.gstn_no?i.a.createElement("span",{className:"errorMsg"},r.gstn_no):null))):null,S&&"2"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",autoComplete:"off",placeholderText:G.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(M),minDate:new Date(B),className:"datePckr",selected:n.date_of_incorporation,onChange:function(e){h("date_of_incorporation"),f("date_of_incorporation",e)}}),r.date_of_incorporation&&N.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},G[r.date_of_incorporation]):null)):null,S&&"1"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.SelectGender),i.a.createElement("option",{value:"m"},G.Male),i.a.createElement("option",{value:"f"},G.Female)),r.gender&&N.gender?i.a.createElement("span",{className:"errorMsg"},G[r.gender]):null))):null),i.a.createElement(m.a,null,S&&"1"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"age",type:"number",placeholder:G.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.age,maxLength:"10",onChange:function(e){var a=C()().subtract(e.target.value,"year").format("YYYY-MM-DD");f("dob",a),f("age",e.target.value)}}),r.age&&N.age?i.a.createElement("span",{className:"errorMsg"},G[r.age]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"email",type:"email",placeholder:G.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&N.email?i.a.createElement("span",{className:"errorMsg"},G[r.email]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(E.b,{name:"phone",type:"text",placeholder:G.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.phone,maxLength:"10",className:"phoneinput pd-l-25"}),r.phone&&N.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},G[r.phone]):null))),S&&"2"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"org_level",component:"select",autoComplete:"off",value:n.org_level,className:"formGrp"},i.a.createElement("option",{value:""},G.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),r.org_level&&N.org_level?i.a.createElement("span",{className:"errorMsg"},G[r.org_level]):null))):null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"address",type:"text",placeholder:G.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.address}),r.address&&N.address?i.a.createElement("span",{className:"errorMsg"},G[r.address]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pincode",type:"test",placeholder:G.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:n.pincode,maxLength:"6",onInput:function(e){h("state"),h("pincode"),f("pincode",e.target.value),f("state",H?H[0]:n.state),f("pincode_id","")}}),r.pincode&&N.pincode?i.a.createElement("span",{className:"errorMsg"},G[r.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},G.SelectArea),R&&R.length>0&&R.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&N.pincode_id?i.a.createElement("span",{className:"errorMsg"},G[r.pincode_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"state",type:"text",placeholder:G.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:H||n.state,disabled:!0}),r.state&&N.state?i.a.createElement("span",{className:"errorMsg"},r.state):null))),S&&"2"==S.policy_for&&(s||"1"==y)?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pancard",type:"text",placeholder:G.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return f("pancard",e.target.value.toUpperCase())}}),r.pancard&&N.pancard?i.a.createElement("span",{className:"errorMsg"},G[r.pancard]):null))):null,S&&"1"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"pancard",type:"text",placeholder:G.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return f("pancard",e.target.value.toUpperCase())}}),r.pancard&&N.pancard?i.a.createElement("span",{className:"errorMsg"},G[r.pancard]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),S&&"1"==S.policy_for&&"1"==S.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,G.NomineeDetails)),i.a.createElement(m.a,null,S&&"1"==S.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.Title),P.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.nominee_salutation&&N.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},G[r.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_first_name",type:"text",placeholder:G.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_first_name}),r.nominee_first_name&&N.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},G[r.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},G.SelectGender),i.a.createElement("option",{value:"m"},G.Male),i.a.createElement("option",{value:"f"},G.Female)),r.nominee_gender&&N.nominee_gender?i.a.createElement("span",{className:"errorMsg"},G[r.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"nominee_age",type:"number",placeholder:G.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_age,maxLength:"10",onChange:function(e){var t=C()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),f("nominee_dob",t),f("nominee_age",e.target.value)}}),r.nominee_age&&N.nominee_age?i.a.createElement("span",{className:"errorMsg"},r.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:n.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},G.PrimaryRelation),F.map((function(e,a){return"Self"!=e.name?i.a.createElement("option",{value:e.id},e.name):null}))),r.nominee_relation_with&&N.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},G[r.nominee_relation_with]):null)))),w||"1"==k?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",G.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"appointee_name",type:"text",placeholder:G.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.appointee_name}),r.appointee_name&&N.appointee_name?i.a.createElement("span",{className:"errorMsg"},G[r.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},G.NomineeRelation),F.map((function(e,a){return"Self"!=e.name?i.a.createElement("option",{value:e.id},e.name):null}))),r.appointee_relation_with&&N.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},G[r.appointee_relation_with]):null))))):null):null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.EIAAccount)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){f("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){f("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No),r.is_eia_account&&N.is_eia_account?i.a.createElement("span",{className:"errorMsg"},G[r.is_eia_account]):null))))),o||"1"==_?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(E.b,{name:"eia_no",type:"text",placeholder:G.EIANumber,autoComplete:"off",value:n.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),r.eia_no&&N.eia_no?i.a.createElement("span",{className:"errorMsg"},G[r.eia_no]):null))):""),0==o&&"0"==_?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){f("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",G.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(E.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){f("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},G.No),r.is_eia_account2&&N.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},G[r.is_eia_account2]):null)))))):"",s||"1"==y?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},G.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(E.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},G.SELECT_TPA),D.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&N.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},G[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!v,onClick:a.otherComprehensive.bind(a,V)},v?G.Wait:G.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!v},v?G.Wait:G.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(175),alt:""})))))})))):""==q?"Forbidden":null),i.a.createElement(f.a,null))))))}}]),_}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(x))},1312:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(7),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(1),C=t(20),P=t.n(C),D=t(9),I=t(2),M=(t(25),w()().add(1,"day").format()),B=w()().add(16,"day"),A=(w()().add(15,"day").calendar(),{pol_start_date:new Date((new Date).setHours(0,0,0,0)),pol_end_date:new Date(new Date(w()().add(364,"day").calendar()).setHours(23,59,0,0)),pinDataArr:[],house_flat_no:"",city:"",house_building_name:"",area_name:"",state_name:"",pincode:"",pincode_id:"",business_type:"1",plan_id:""}),O=k.object().shape({pol_start_date:k.date().required("Please select both policy start date & time").nullable(),pol_end_date:k.date().required("Please select both policy end date & time").nullable(),house_building_name:k.string().test("buildingNameCheck",(function(){return"Please enter building name"}),(function(e){return!(!this.parent.house_flat_no&&!e)})).matches(/^(?![0-9]*$)+([\s]?[\/a-zA-Z0-9.,-])+$/,"Please enter a valid building name only").matches(/^([a-zA-Z0-9.,-\/]+\s)*[\/a-zA-Z0-9.,-/]+$/,"The field should have only one space in between words").nullable(),house_flat_no:k.string().test("buildingNameCheck",(function(){return"Please enter flat number"}),(function(e){return!(!this.parent.house_building_name&&!e)})).matches(/^[\/a-zA-Z0-9.,-]*$/,"Please enter a valid flat number only").nullable(),area_name:k.string().required("Please enter area name").matches(/^[a-zA-Z0-9]+([\s]?[\/a-zA-Z0-9.,-])*$/,(function(){return"Please enter valid area name"})).matches(/^(?![0-9]*$)+([\s]?[\/a-zA-Z0-9.,-])+$/,"Please enter a valid area name only").matches(/^([a-zA-Z0-9.,-\/]+\s)*[\/a-zA-Z0-9.,-]+$/,"The field should have only one space in between words").nullable(),pincode:k.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),pincode_id:k.string().required("Please select locality").nullable(),business_type:k.string().required("Please select type of business").nullable(),plan_id:k.string().required("Please select a plan").nullable()}),x=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[],cityName:"",stateName:"",requested_Data:[],gsb_Details:[],addressDetails:[],coverPlanA:[],coverPlanB:[],coverPlanC:[]},e.forwardNextPage=function(){e.props.history.push("/AdditionalDetails_GSB/".concat(e.props.match.params.productId))},e.handleChange=function(a){e.state.occupationList;e.setState({serverResponse:[],error:[]})},e.handleCoverChange=function(a){var t=e.state,n=t.coverPlanA,r=t.coverPlanB,l=t.coverPlanC,o=1==a?n:2==a?r:l;return i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Section"),i.a.createElement("th",null,"Sum Insured")),o&&o.length>0?o.map((function(e,a){return i.a.createElement("tr",null,i.a.createElement("td",null,e.benefit_name,":"),i.a.createElement("td",null,"\u20b9 ",Math.round(e.benefit_suminsured)))})):null)},e.fetchCoveragePlan=function(a){e.props.match.params.productId;var t=new D.a;E.a.get("gsb/get-plan-with-coverage").then((function(n){var r=JSON.parse(t.decrypt(n.data)),l=r.data&&r.data.plan_with_coverages?r.data.plan_with_coverages[2].coveragebenefit:null,o=r.data&&r.data.plan_with_coverages?r.data.plan_with_coverages[1].coveragebenefit:null,s=r.data&&r.data.plan_with_coverages?r.data.plan_with_coverages[0].coveragebenefit:null;console.log("---gsb_Details---\x3e>",r),e.setState({coverPlanA:l,coverPlanB:o,coverPlanC:s}),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop()}))},e.fetchPolicyDetails=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new D.a;E.a.get("gsb/gsb-policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder.gsbinfo?n.data.policyHolder.gsbinfo:null,l=n.data&&n.data.policyHolder.request_data?n.data.policyHolder.request_data:null,o=r?JSON.parse(r.risk_address):null,s=r?JSON.parse(r.pincode_response):null;console.log("---gsb_Details---\x3e>",r),e.setState({gsb_Details:r,requested_Data:l,addressDetails:o,pincode_Details:s}),e.fetchCoveragePlan(s),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.quote=function(a,t){var n=e.state,r=(n.accessToken,n.accidentDetails,n.declineStatus,new FormData);e.props.loadingStart();new D.a;r.append("policy_reference_no",localStorage.getItem("policyHolder_refNo")),E.a.post("/gsb/fullQuoteGSB",r).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}}),e.props.loadingStop();else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop();t.setSubmitting(!1)})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new D.a,o=e.state,s=(o.fastLaneData,o.fastlanelog,{}),c=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;s={area_name:a.area_name,plan_id:a.plan_id,menumaster_id:10,vehicle_type_id:n,page_name:"SelectPlan_GSB/".concat(n),house_building_name:a.house_building_name,business_type:a.business_type,house_flat_no:a.house_flat_no,pincode_id:a.pincode_id,pol_end_date:a.pol_end_date?w()(a.pol_end_date).format("YYYY-MM-DD HH:mm"):"",pol_start_date:a.pol_start_date?w()(a.pol_start_date).format("YYYY-MM-DD HH:mm"):""};var i=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";i&&(i=JSON.parse(l.decrypt(i))),sessionStorage.getItem("csc_id")?(s.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",s.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",s.product_id=sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",s.bcmaster_id="5"):(s.bcmaster_id=i?i.agent_id:"",s.bc_token=i?i.token:"",s.bc_agent_id=i?i.user_info.data.user.username:""),c>0?(s.policy_holder_id=c,console.log("post_data",s),r.append("enc_data",l.encrypt(JSON.stringify(s))),e.props.loadingStart(),E.a.post("gsb/update-registration",r).then((function(n){var r=JSON.parse(l.decrypt(n.data));console.log("decrypt",r),0==r.error?e.quote(a,t):(e.props.loadingStop(),P()(r.msg))})).catch((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&P()("Registration number required..."),e.props.loadingStop()}))):(console.log("post_data",s),r.append("enc_data",l.encrypt(JSON.stringify(s))),e.props.loadingStart(),E.a.post("gsb/registration",r).then((function(n){var r=JSON.parse(l.decrypt(n.data));console.log("decrypt",r),0==r.error?(localStorage.setItem("policyHolder_id",r.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",r.data.policyHolder_refNo),e.quote(a,t)):(e.props.loadingStop(),P()(r.msg))})).catch((function(a){e.props.loadingStop();var t=JSON.parse(l.decrypt(a.data));console.log("decryptResp--err---",t),a&&a.data&&P()("Please check..something went wrong!!")})))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();n.append("pincode",t),E.a.post("pincode-details",n).then((function(a){if(!1===a.data.error){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"",n=a.data.data&&a.data.data[0]&&a.data.data[0].pincity.CITY_NM?a.data.data[0].pincity.CITY_NM:"";e.setState({pinDataArr:a.data.data,stateName:t,cityName:n}),e.props.loadingStop()}else e.props.loadingStop(),P()("Plese enter a valid pincode")})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData,r={pincode:t.toString()},l=new D.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),n.append("pincode",t),e.props.loadingStart(),E.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"",n=a.data.data&&a.data.data[0]&&a.data.data[0].pincity.CITY_NM?a.data.data[0].pincity.CITY_NM:"";e.setState({pinDataArr:a.data.data,stateName:t,cityName:n}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this,a=this.state,t=a.pinDataArr,r=a.stateName,l=a.cityName,o=a.requested_Data,s=a.gsb_Details,c=a.addressDetails,_=a.serverResponse,E=(a.validation_error,a.error,a.coverPlanA,a.coverPlanB,a.coverPlanC,Object.assign(A,{pol_start_date:o&&o.start_date?new Date(o.start_date):new Date(new Date(w()().add(1,"day")).setHours(0,0,0,0)),pol_end_date:o&&o.end_date?new Date(o.end_date):new Date(new Date(w()().add(365,"day").calendar()).setHours(23,59,0,0)),house_flat_no:c&&c.house_flat_no?c.house_flat_no:"",city:c&&c.city?c.city:"",house_building_name:c&&c.house_building_name?c.house_building_name:"",area_name:c&&c.area_name?c.area_name:"",pincode:s&&s.pincode?s.pincode:"",pincode_id:s&&s.pincode_id?s.pincode_id:"",business_type:s&&s.business_type?s.business_type:"1",plan_id:s&&s.plan_id?s.plan_id:""}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox gsbplan1"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited "),i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"boxpd"},i.a.createElement(I.e,{initialValues:E,onSubmit:_&&""!=_?_.message?this.handleSubmit:this.forwardNextPage:this.handleSubmit,validationSchema:O},(function(a){var o,s=a.values,c=a.errors,f=a.setFieldValue,h=a.setFieldTouched,v=(a.isValid,a.isSubmitting,a.touched);return i.a.createElement(I.d,null,i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"POLICY INFORMATION")),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h6",null,i.a.createElement("b",null,"Type Of Business")),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"business_type",value:"1",key:"1",checked:"1"==s.business_type,onChange:function(){h("business_type"),f("business_type","1"),e.handleChange(s,h,f)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},i.a.createElement("h7",null," New")))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"business_type",value:"2",key:"1",disabled:!0,checked:"2"==s.business_type,onChange:function(){h("business_type"),f("business_type","2"),e.handleChange(s,h,f)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},i.a.createElement("h7",null," SBIG Renewal"))),c.business_type&&v.business_type?i.a.createElement("span",{className:"errorMsg"},c.business_type):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:7,lg:5},i.a.createElement("h6",null,"Policy start date & time:")),i.a.createElement(d.a,{sm:6,md:5,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(g.a,{name:"pol_start_date",minDate:new Date(M),maxDate:new Date(B),excludeOutOfBoundsTimes:!0,dateFormat:"dd-MM-yyyy HH:mm",timeFormat:"HH:mm",placeholderText:"Policy Start Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.pol_start_date,onSelect:function(e){0==Math.floor(w()().diff(e,"days",!0))?e.setHours(w()().format("HH"),w()().format("mm"),0,0):e.setHours(0,0,0,0),f("pol_start_date",e),h("pol_end_date"),f("pol_end_date",new Date(new Date(w()(e).add(364,"day").calendar()).setHours(23,59,0,0)))}}),c.pol_start_date&&v.pol_start_date?i.a.createElement("span",{className:"errorMsg"},c.pol_start_date):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:7,lg:5},i.a.createElement("h6",null,"Policy end date & time:")),i.a.createElement(d.a,{sm:6,md:5,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(g.a,{name:"pol_end_date",dateFormat:"dd-MM-yyyy HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",placeholderText:"Policy End Date & Time",peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,disabled:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:s.pol_end_date,onChange:function(e){h("pol_end_date"),f("pol_end_date",e)}}),c.pol_end_date&&v.pol_end_date?i.a.createElement("span",{className:"errorMsg"},c.pol_end_date):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"RISK DETAILS")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"house_flat_no",type:"text",placeholder:"House/Flat No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.house_flat_no}),c.house_flat_no&&v.house_flat_no?i.a.createElement("span",{className:"errorMsg"},c.house_flat_no):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"house_building_name",type:"text",placeholder:"House/Building Name",autoComplete:"off",value:s.house_building_name}),c.house_building_name&&v.house_building_name?i.a.createElement("span",{className:"errorMsg"},c.house_building_name):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"area_name",type:"text",placeholder:"Area Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:s.area_name}),c.area_name&&v.area_name?i.a.createElement("span",{className:"errorMsg"},c.area_name):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,(o={name:"pincode",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a)},value:s.pincode},Object(n.a)(o,"maxLength","6"),Object(n.a)(o,"onInput",(function(e){})),o)),c.pincode&&v.pincode?i.a.createElement("span",{className:"errorMsg"},c.pincode):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(I.b,{name:"pincode_id",component:"select",autoComplete:"off",value:s.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},"Locality"),t&&t.length>0&&t.map((function(e,a){return i.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),c.pincode_id&&v.pincode_id?i.a.createElement("span",{className:"errorMsg"},c.pincode_id):null))),i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"city",type:"text",placeholder:"City",disabled:!0,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:l}),c.city&&v.city?i.a.createElement("span",{className:"errorMsg"},c.city):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:6,md:4,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(I.b,{name:"state_name",type:"text",placeholder:"State",autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r}),c.state_name&&v.state_name?i.a.createElement("span",{className:"errorMsg"},c.state_name):null)))),i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},"PLAN")),i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h6",null,i.a.createElement("b",null,"Please select a plan")),i.a.createElement("div",{className:"d-inline-flex m-b-15"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"plan_id",value:"1",key:"1",checked:"1"==s.plan_id,onChange:function(a){h("plan_id"),f("plan_id","1"),e.handleChange(s,h,f),e.fetchCoveragePlan(a.target.value)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},i.a.createElement("h7",null," Plan A")))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"plan_id",value:"2",key:"1",checked:"2"==s.plan_id,onChange:function(a){h("plan_id"),f("plan_id","2"),e.handleChange(s,h,f),e.fetchCoveragePlan(a.target.value)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},i.a.createElement("h7",null," Plan B")))),i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(I.b,{type:"radio",name:"plan_id",value:"3",key:"1",checked:"3"==s.plan_id,onChange:function(a){h("plan_id"),f("plan_id","3"),e.handleChange(s,h,f),e.fetchCoveragePlan(a.target.value)}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},i.a.createElement("h7",null," Plan C"))),c.plan_id&&v.plan_id?i.a.createElement("span",{className:"errorMsg"},c.plan_id):null)))),i.a.createElement("div",{className:"brandhead"},e.handleCoverChange(s.plan_id)),i.a.createElement("div",{className:"brandhead"},i.a.createElement("p",null,"\xa0")),_&&_.QuotationNo?i.a.createElement(m.a,{className:"d-flex justify-content-left carloan m-b-25"},i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Quotation No:"),i.a.createElement("p",null,i.a.createElement("b",null," ",_?_.message?"---":_.QuotationNo:"---")))),i.a.createElement(d.a,{sm:4},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center premium m-b-25"},i.a.createElement("p",null,"Total Premium:"),i.a.createElement("p",null,i.a.createElement("strong",null,"Rs: ",_?_.message?0:_.DuePremium:0))))):null,i.a.createElement("div",{className:"cntrbtn"},_&&""!=_?_.message?i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},"Quote"):i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},"Go"):i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},"Quote")))})))),i.a.createElement(v.a,null)))))))}}]),t}(c.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(x))},1313:function(e,a,t){"use strict";t.r(a);var n,r=t(13),l=t(14),o=t(18),s=t(17),c=t(11),i=t(0),m=t.n(i),d=t(903),u=t(904),p=t(913),_=t(377),g=t(41),f=t.n(g),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=(t(922),t(22)),w=t(3),k=t.n(w),C=t(1),P=t(20),D=t.n(P),I=t(9),M=t(2),B=t(28),A=(t(25),new Date(k()(k()().subtract(30,"years").calendar()).add(0,"day").calendar())),O=new Date(k()(k()().subtract(65,"years").calendar())),x=new Date(k()().subtract(18,"years").calendar()),H=new Date(k()(k()().subtract(100,"years").calendar())),R=new Date(k()().subtract(3,"months").calendar()),L=(n={policy_type:"1",pinDataArr:[],proposer_title_id:"",proposer_first_name:"",proposer_last_name:"",proposer_dob:"",proposer_mobile:"",proposer_email:"",proposer_disability:"",construction_type:"",proposer_property_type:"",property_protected_type:"",year_of_construction:"",pedal_cycle_type:"",pedal_cycle_description:"",address_flag:"0",house_flat_no:"",city:"",house_building_name:"",street_name:"",state_name:"",pincode_id:"",area_name:"",nominee_first_name:"",nominee_dob:null,relation_with:"",appointee_relation_with:"",nominee_title_id:"",nominee_last_name:"",appointee_name:""},Object(c.a)(n,"appointee_relation_with",""),Object(c.a)(n,"is_appointee","0"),n),j=C.object().shape({proposer_title_id:C.string().required("Title is required").nullable(),proposer_first_name:C.string().required("First Name is required").min(3,(function(){return"First name must be 3 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid first name"})).nullable(),proposer_last_name:C.string().required("Last Name is required").min(1,(function(){return"Last name must be 1 characters"})).max(40,(function(){return"Full name must be maximum 40 characters"})).matches(/^[A-Za-z]+$/,(function(){return"Please enter valid last name"})).nullable(),proposer_dob:C.date().required("Please enter date of birth").nullable(),proposer_email:C.string().email().required("Email is required").min(8,(function(){return"Email must be minimum 8 characters"})).max(75,(function(){return"Email must be maximum 75 characters"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email Id").nullable(),proposer_mobile:C.string().matches(/^[6-9][0-9]{9}$/,"Invalid Mobile number").required("Mobile No. is required").nullable(),house_building_name:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().test("buildingNameCheck",(function(){return"Please enter building name"}),(function(e){return!(!this.parent.house_flat_no&&!e)})).matches(/^(?![0-9]*$)+([\s]?[\/a-zA-Z0-9.,-])+$/,"Please enter a valid building name only").matches(/^([a-zA-Z0-9.,-\/]+\s)*[\/a-zA-Z0-9.,-]+$/,"The field should have only one space in between words").nullable(),otherwise:C.string()}),house_flat_no:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().test("buildingNameCheck",(function(){return"Please enter Plot No"}),(function(e){return!!e})).matches(/^[\/a-zA-Z0-9.,-]*$/,"Please enter a valid plot number only").nullable(),otherwise:C.string().test("buildingNameCheck",(function(){return"Please enter Plot No"}),(function(e){return!!e})).matches(/^[\/a-zA-Z0-9.,-]*$/,"Please enter a valid plot number only").nullable()}),city:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().required("Please enter city").matches(/^[a-zA-Z]*$/,(function(){return"Please enter valid city"})).nullable(),otherwise:C.string()}),street_name:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().required("Please enter street name").matches(/^(?![0-9]*$)+([\s]?[\/a-zA-Z0-9.,-])+$/,"Please enter a valid street name only").matches(/^([a-zA-Z0-9.,-\/]+\s)*[\/a-zA-Z0-9.,-]+$/,"The field should have only one space in between words").nullable(),otherwise:C.string()}),state_name:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().required("Please enter state").matches(/^[a-zA-Z]+([\s]?[a-zA-Z])*$/,(function(){return"Please enter valid state"})).nullable(),otherwise:C.string()}),pincode_id:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().required("Pincode is required").matches(/^[0-9]{6}$/,(function(){return"Please enter valid 6 digit pin code"})).nullable(),otherwise:C.string()}),area_name:C.string().when(["address_flag"],{is:function(e){return"0"==e},then:C.string().required("Please select locality").nullable(),otherwise:C.string()}),proposer_disability:C.string().required("Please select optioin for disability").test("policyIssueChecking",(function(){return"Policy cannot be issued"}),(function(e){return"1"!=e})),construction_type:C.string().required("Please select type of construction").test("policyIssueChecking",(function(){return"Policy cannot be issued"}),(function(e){return"0"!=e})),proposer_property_type:C.string().required("Please select option for proposed property").test("policyIssueChecking",(function(){return"Policy cannot be issued"}),(function(e){return"1"!=e})),property_protected_type:C.string().required("Please select option for protected with doors/windows/grill").test("policyIssueChecking",(function(){return"Policy cannot be issued"}),(function(e){return"0"!=e})),year_of_construction:C.string().required("Please enter construction year").nullable(),pedal_cycle_type:C.string().required("Please select cycle list").nullable(),pedal_cycle_description:C.string().notRequired("Please enter description").matches(/^[a-zA-Z]+([\s]?[a-zA-Z])*$/,(function(){return"Invalid description entered"})).nullable(),nominee_title_id:C.string().required("Title is required").nullable(),nominee_first_name:C.string().required("Nominee Name is required").min(3,(function(){return"Nominee Name must be 3 characters"})).max(40,(function(){return"Nominee Name must be maximum 40 characters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid nominee name"})).nullable(),nominee_last_name:C.string().required("Nominee last name is required").min(1,(function(){return"Nominee last name must be 3 characters"})).max(40,(function(){return"Nominee last name must be maximum 40 characters"})).matches(/^[a-zA-Z]*$/,(function(){return"Please enter valid nominee last name"})).nullable(),nominee_dob:C.date().required("Please enter date of birth").nullable(),relation_with:C.string().required((function(){return"Please select relation"})),appointee_name:C.string().when(["is_appointee"],{is:function(e){return"1"==e},then:C.string().required("Please enter appointee name").min(3,(function(){return"Name must be minimum 3 characters"})).max(40,(function(){return"Name must be maximum 40 characters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new B.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})),otherwise:C.string().notRequired("Please enter appointee name").min(3,(function(){return"Name must be minimum 3 characters"})).max(40,(function(){return"Name must be maximum 40 characters"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"Please enter valid name"})).test("18YearsChecking",(function(){return"Please enter appointee name"}),(function(e){return!((new B.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)}))}),appointee_relation_with:C.string().when(["is_appointee"],{is:function(e){return"1"==e},then:C.string().required("Please select relation").test("18YearsChecking",(function(){return"Apppointee relation is required"}),(function(e){return!((new B.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)})),otherwise:C.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"Apppointee relation is required"}),(function(e){return!((new B.a).whatIsMyAge(this.parent.nominee_dob)<18&&!e)}))})}),F=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[],appointeeFlag:!1,is_appointee:0,titleList:[],cycleList:[],cityName:"",stateName:"",serverResponse:[],riskAddressDetails:[],commAddressDetails:[],address_flag:"0"},e.handleChange=function(e){},e.fetchSalutation=function(){var a=new FormData,t=new I.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),y.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data)).data.salutationlist;e.setState({titleList:n}),e.fetchPedalCycleList()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.fetchPedalCycleList=function(){var a=new I.a;e.props.loadingStart(),y.a.get("gsb/gsb-pedal-cycle-list").then((function(t){var n=JSON.parse(a.decrypt(t.data)).data.gsb_cycle_list;e.setState({cycleList:n}),e.fetchRelationshipList()})).catch((function(a){e.props.loadingStop(),e.setState({cycleList:[]})}))},e.fetchRelationshipList=function(){var a=new I.a;e.props.loadingStart(),y.a.get("gsb/gsb-relation-list").then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("relation ---------- ",n);var r=n.data.relation_nominee_appointee?n.data.relation_nominee_appointee.nominee_relations:[],l=n.data.relation_nominee_appointee?n.data.relation_nominee_appointee.appointee_relations:[];e.setState({nomineeRelation:r,appointeeRelation:l}),e.fetchPolicyDetails()})).catch((function(a){e.props.loadingStop(),e.setState({cycleList:[]})}))},e.fetchPolicyDetails=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new I.a;y.a.get("gsb/gsb-policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data&&n.data.policyHolder?n.data.policyHolder:null,l=r&&r.gsbinfo?JSON.parse(r.gsbinfo.risk_address):null,o=r?JSON.parse(r.address):null,s=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{};console.log("---GSB info---\x3e>",n),e.setState({gsb_Details:r,riskAddressDetails:l,commAddressDetails:o,address_flag:r&&r.gsbinfo?r.gsbinfo.address_flag:"0",is_appointee:s?s.is_appointee:"0"});var c=r&&r.gsbinfo&&"1"==r.gsbinfo.address_flag?r.gsbinfo.pincode:r?r.pincode:"";e.fetchAreadetailsBack(c),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.planInfo=function(a){e.props.history.push("/SelectPlan_GSB/".concat(a))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=new FormData,l=new I.a,o=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,s={menumaster_id:"5",page_name:"AdditionalDetails_GSB/".concat(n),policy_holder_id:o,construction_type:a.construction_type,house_building_name:a.house_building_name,house_flat_no:a.house_flat_no,nominee_dob:a.nominee_dob?k()(a.nominee_dob).format("YYYY-MM-DD"):"",nominee_first_name:a.nominee_first_name,nominee_last_name:a.nominee_last_name,nominee_title_id:a.nominee_title_id,pedal_cycle_type:a.pedal_cycle_type,area_name:a.area_name,property_protected_type:a.property_protected_type,proposer_disability:a.proposer_disability,proposer_dob:a.proposer_dob?k()(a.proposer_dob).format("YYYY-MM-DD"):"",proposer_email:a.proposer_email,proposer_first_name:a.proposer_first_name,proposer_last_name:a.proposer_last_name,proposer_mobile:a.proposer_mobile,proposer_property_type:a.proposer_property_type,proposer_title_id:a.proposer_title_id,street_name:a.street_name,year_of_construction:a.year_of_construction?k()(a.year_of_construction).format("YYYY-MM-DD"):"",pincode_id:a.area_name,relation_with:a.relation_with,address_flag:a.address_flag,appointee_name:a.appointee_name,appointee_relation_with:a.appointee_relation_with,is_appointee:e.state.is_appointee,pedal_cycle_description:a.pedal_cycle_description};if(sessionStorage.getItem("csc_id"))s.bcmaster_id="5",s.csc_id=sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",s.agent_name=sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",s.product_id=n;else{var c=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";c&&(c=JSON.parse(l.decrypt(c)),s.bcmaster_id=c?c.agent_id:"",s.bc_token=c?c.token:"",s.bc_agent_id=c?c.user_info.data.user.username:"",s.product_id=n)}e.props.loadingStart(),console.log("Post Data-----",s),r.append("enc_data",l.encrypt(JSON.stringify(s))),y.a.post("gsb/set-proposer-with-aditional-info",r).then((function(a){var r=JSON.parse(l.decrypt(a.data));console.log("decryptResp--/set-proposer-with-aditional-info------",r),!1===r.error?(e.props.loadingStop(),e.props.history.push("/PolicyDetails_GSB/".concat(n))):(e.props.loadingStop(),D()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),t.setSubmitting(!1))})).catch((function(a){e.props.loadingStop();var n=JSON.parse(l.decrypt(a.data));console.log("decryptErr-----",n),t.setSubmitting(!1)}))},e.fetchAreadetails=function(a,t,n){var r=a.target.value;if(6==r.length){var l=new FormData;e.props.loadingStart();l.append("pincode",r),y.a.post("pincode-details",l).then((function(a){if(!1===a.data.error){var r=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"",l=a.data.data&&a.data.data[0]&&a.data.data[0].pincity.CITY_NM?a.data.data[0].pincity.CITY_NM:"";e.setState({pinDataArr:a.data.data,stateName:r,cityName:l}),t("state_name",r),n("state_name"),t("city",l),n("city"),e.props.loadingStop()}else e.props.loadingStop(),D()("Plese enter a valid pincode_id")})).catch((function(a){e.props.loadingStop()}))}},e.fetchAreadetailsBack=function(a,t,n){var r=a?a.toString():"";if(null!=r&&""!=r&&6==r.length){var l=new FormData;e.props.loadingStart();l.append("pincode",r),y.a.post("pincode-details",l).then((function(r){var l=r.data.data&&r.data.data[0]&&r.data.data[0].pinstate.STATE_NM?r.data.data[0].pinstate.STATE_NM:"",o=r.data.data&&r.data.data[0]&&r.data.data[0].pincity.CITY_NM?r.data.data[0].pincity.CITY_NM:"";e.setState({pinDataArr:r.data.data,stateName:l,cityName:o}),t&&(n("state_name"),n("pincode_id"),t("state_name",l),t("pincode_id",a)),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.ageCheck=function(a){(new B.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSalutation()}},{key:"render",value:function(){var e=this,a=this.state,t=a.pinDataArr,n=a.appointeeFlag,r=a.is_appointee,l=a.titleList,o=a.cycleList,s=(a.stateName,a.cityName,a.gsb_Details),i=a.riskAddressDetails,g=a.commAddressDetails,y=a.address_flag,b=a.nomineeRelation,N=a.appointeeRelation,S=this.props.match.params.productId,w=Object.assign(L,{proposer_title_id:s&&"0"!=s.salutation_id?s.salutation_id:"",proposer_first_name:s?s.first_name:"",proposer_last_name:s?s.last_name:"",proposer_dob:s&&s.dob?new Date(s.dob):"",proposer_mobile:s?s.mobile:"",proposer_email:s?s.email_id:"",proposer_disability:s&&s.gsbinfo?s.gsbinfo.proposer_disability:"",construction_type:s&&s.gsbinfo?s.gsbinfo.construction_type:"",proposer_property_type:s&&s.gsbinfo?s.gsbinfo.proposer_property_type:"",property_protected_type:s&&s.gsbinfo?s.gsbinfo.property_protected_type:"",year_of_construction:s&&s.gsbinfo&&s.gsbinfo.year_of_construction?new Date(k()(s.gsbinfo.year_of_construction).format("YYYY-MM-DD")):"",pedal_cycle_type:s&&s.gsbinfo?s.gsbinfo.pedal_cycle_type:"",pedal_cycle_description:s&&s.gsbinfo?s.gsbinfo.pedal_cycle_description:"",check_box:"0",house_flat_no:"1"==y&&i.house_flat_no?i.house_flat_no:g?g.house_flat_no:"",city:"1"==y?i.city:s?s.city:"",house_building_name:"1"==y?i.house_building_name:g?g.house_building_name:"",street_name:"1"==y?i.area_name:g?g.street_name:"",state_name:"1"==y?i.state:s?s.state:"",pincode_id:"1"==y?i.pincode:s?s.pincode:"",area_name:"1"==y?s&&s.gsbinfo&&"0"!=s.gsbinfo.pincode_id?s.gsbinfo.pincode_id:"":s&&"0"!=s.pincode_id?s.pincode_id:"",nominee_title_id:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].title_id:"",nominee_first_name:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].first_name:"",nominee_dob:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0&&s.request_data.nominee[0].dob?new Date(k()(s.request_data.nominee[0].dob).format("YYYY-MM-DD")):"",relation_with:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].relation_with:"",nominee_last_name:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].last_name:"",address_flag:s&&s.gsbinfo?s.gsbinfo.address_flag:"",appointee_name:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].appointee_name:"",appointee_relation_with:s&&s.request_data&&s.request_data.nominee&&s.request_data.nominee.length>0?s.request_data.nominee[0].appointee_relation_with:"",is_appointee:this.state.is_appointee,plot_number:g?g.plot_number:""});return m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,null,m.a.createElement("div",{className:"page-wrapper"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("aside",{className:"left-sidebar"},m.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},m.a.createElement(v.a,null))),m.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox gsbplan3"},m.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited "),m.a.createElement("section",{className:"brand"},m.a.createElement("div",{className:"boxpd"},m.a.createElement(M.e,{initialValues:w,onSubmit:this.handleSubmit,validationSchema:j},(function(a){var g=a.values,h=a.errors,v=a.setFieldValue,E=a.setFieldTouched,w=(a.isValid,a.isSubmitting),k=a.touched;return m.a.createElement(M.d,null,m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"Please share a few more details.")),m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"PROPOSER DETAILS")),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"proposer_title_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),l.map((function(e,a){return m.a.createElement("option",{value:e.id},e.displayvalue)}))),h.proposer_title_id&&k.proposer_title_id?m.a.createElement("span",{className:"errorMsg"},h.proposer_title_id):null))),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"proposer_first_name",type:"text",placeholder:"First Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.proposer_first_name}),h.proposer_first_name&&k.proposer_first_name?m.a.createElement("span",{className:"errorMsg"},h.proposer_first_name):null))),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"proposer_last_name",type:"text",placeholder:"Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.proposer_last_name}),h.proposer_last_name&&k.proposer_last_name?m.a.createElement("span",{className:"errorMsg"},h.proposer_last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:2},m.a.createElement(p.a,null,m.a.createElement(f.a,{name:"proposer_dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:x,minDate:O,className:"datePckr",selected:g.proposer_dob,onChange:function(e){E("proposer_dob"),v("proposer_dob",e)}}),h.proposer_dob&&k.proposer_dob?m.a.createElement("span",{className:"errorMsg"},h.proposer_dob):null)),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,{className:"m-b-25"},m.a.createElement("div",{className:"insurerName nmbract"},m.a.createElement("span",null,"+91"),m.a.createElement(M.b,{name:"proposer_mobile",type:"text",placeholder:"Mobile No. ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.proposer_mobile,maxLength:"10",className:"phoneinput pd-l-25"}),h.proposer_mobile&&k.proposer_mobile?m.a.createElement("span",{className:"errorMsg msgpositn"},h.proposer_mobile):null))),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"proposer_email",type:"email",placeholder:"Email ",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.proposer_email}),h.proposer_email&&k.proposer_email?m.a.createElement("span",{className:"errorMsg"},h.proposer_email):null)))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h7",null,"Do you have any existing imfimity/disability?"),m.a.createElement("div",{className:"d-inline-flex m-b-15 m-l-20"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"proposer_disability",value:"1",key:"1",checked:"1"==g.proposer_disability,onChange:function(){E("proposer_disability"),v("proposer_disability","1"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," Yes")))),m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"proposer_disability",value:"0",key:"1",checked:"0"==g.proposer_disability,onChange:function(){E("proposer_disability"),v("proposer_disability","0"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," No"))),h.proposer_disability&&k.proposer_disability?m.a.createElement("span",{className:"errorMsg"},h.proposer_disability):null)))),m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"ADDITIONAL RISK DETAILS")),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h6",null,"Type of construction"),m.a.createElement("div",{className:"d-inline-flex m-b-15"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"construction_type",value:"1",key:"1",checked:"1"==g.construction_type,onChange:function(){E("construction_type"),v("construction_type","1"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," Pukka Construction")))),m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"construction_type",value:"0",key:"1",checked:"0"==g.construction_type,onChange:function(){E("construction_type"),v("construction_type","0"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," Kuchha Construction"))),h.construction_type&&k.construction_type?m.a.createElement("span",{className:"errorMsg"},h.construction_type):null)))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h6",null,"Is the proposed property in Basement?"),m.a.createElement("div",{className:"d-inline-flex m-b-15"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"proposer_property_type",value:"1",key:"1",checked:"1"==g.proposer_property_type,onChange:function(){E("proposer_property_type"),v("proposer_property_type","1"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," Yes")))),m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"proposer_property_type",value:"0",key:"1",checked:"0"==g.proposer_property_type,onChange:function(){E("proposer_property_type"),v("proposer_property_type","0"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," No"))),h.proposer_property_type&&k.proposer_property_type?m.a.createElement("span",{className:"errorMsg"},h.proposer_property_type):null)))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h6",null,"All the openings protected with doors/windows/grills?"),m.a.createElement("div",{className:"d-inline-flex m-b-15"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"property_protected_type",value:"1",key:"1",checked:"1"==g.property_protected_type,onChange:function(){E("property_protected_type"),v("property_protected_type","1"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," Yes")))),m.a.createElement("div",{className:"p-r-25"},m.a.createElement("label",{className:"customRadio3"},m.a.createElement(M.b,{type:"radio",name:"property_protected_type",value:"0",key:"1",checked:"0"==g.property_protected_type,onChange:function(){E("property_protected_type"),v("property_protected_type","0"),e.handleChange(g,E,v)}}),m.a.createElement("span",{className:"checkmark "}),m.a.createElement("span",{className:"fs-14"},m.a.createElement("h7",null," No"))),h.property_protected_type&&k.property_protected_type?m.a.createElement("span",{className:"errorMsg"},h.property_protected_type):null)))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h7",null,"Year of construction"),m.a.createElement("div",{className:"d-inline-flex m-b-16 m-l-20"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement(p.a,null,m.a.createElement(f.a,{name:"year_of_construction",dateFormat:"dd MMM yyyy",placeholderText:"Year of construction",minDate:A,maxDate:new Date,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:g.year_of_construction,onChange:function(e){E("year_of_construction"),v("year_of_construction",e)}}),h.year_of_construction&&k.year_of_construction?m.a.createElement("span",{className:"errorMsg"},h.year_of_construction):null))))),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h7",null,"Pedal Cylce Description"),m.a.createElement("div",{className:"d-inline-flex m-b-16 m-l-20"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"pedal_cycle_type",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Cycle List"),o.map((function(e,a){return m.a.createElement("option",{value:e.id},e.type_name)}))),h.pedal_cycle_type&&k.pedal_cycle_type?m.a.createElement("span",{className:"errorMsg"},h.pedal_cycle_type):null)))),m.a.createElement("div",{className:"d-inline-flex m-b-16 m-l-20"},m.a.createElement("div",{className:"p-r-25"},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"pedal_cycle_description",type:"text",placeholder:"Description",autoComplete:"off",maxLength:50,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.pedal_cycle_description}),h.pedal_cycle_description&&k.pedal_cycle_description?m.a.createElement("span",{className:"errorMsg"},h.pedal_cycle_description):null)))))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:2}," \xa0")),m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"COMMUNICATION ADDRESS")),m.a.createElement("label",{className:"customCheckBox"},"Is communication address same as risk location address",m.a.createElement(M.b,{type:"checkbox",name:"address_flag",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(v("address_flag",a.target.value),v("house_flat_no",i.house_flat_no),v("city",i.city),v("house_building_name",i.house_building_name),v("street_name",i.area_name),v("state_name",i.state_name),v("pincode_id",i.pincode_id),v("area_name",s&&s.gsbinfo&&s.gsbinfo.pincode_id),e.setState({address_flag:a.target.value}),e.fetchAreadetailsBack(i.pincode)):(v("address_flag","0"),e.setState({address_flag:0}),E("house_flat_no"),E("city"),E("house_building_name"),E("street_name"),E("state_name"),E("pincode_id"),E("area_name"),v("house_flat_no",""),v("city",""),v("house_building_name",""),v("street_name",""),v("state_name",""),v("pincode_id",""),v("area_name",""))},checked:"1"==g.address_flag}),h.address_flag&&k.address_flag?m.a.createElement("span",{className:"errorMsg"},h.address_flag):null,m.a.createElement("span",{className:"checkmark mL-0"}),m.a.createElement("span",{className:"error-message"})),m.a.createElement(d.a,null),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"house_flat_no",type:"text",placeholder:"Plot No.",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:"1"==y&&""!=i.house_flat_no?i.house_flat_no:g.house_flat_no}),h.house_flat_no&&k.house_flat_no?m.a.createElement("span",{className:"errorMsg"},h.house_flat_no):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"house_building_name",type:"text",placeholder:"House/Building Name",autoComplete:"off",value:"1"==y?i.house_building_name:g.house_building_name}),h.house_building_name&&k.house_building_name?m.a.createElement("span",{className:"errorMsg"},h.house_building_name):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"street_name",type:"text",placeholder:"Street Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:"1"==y?i.area_name:g.street_name}),h.street_name&&k.street_name?m.a.createElement("span",{className:"errorMsg"},h.street_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,Object(c.a)({name:"pincode_id",type:"test",placeholder:"Pincode",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onKeyUp:function(a){return e.fetchAreadetails(a,v,E)},value:"1"==y?i.pincode:g.pincode_id},"maxLength","6")),h.pincode_id&&k.pincode_id?m.a.createElement("span",{className:"errorMsg"},h.pincode_id):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"area_name",component:"select",autoComplete:"off",value:"1"==y?s&&s.gsbinfo?s.gsbinfo.pincode_id:"":g.area_name,className:"formGrp"},m.a.createElement("option",{value:""},"Locality"),t&&t.length>0&&t.map((function(e,a){return m.a.createElement("option",{key:a,value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),h.area_name&&k.area_name?m.a.createElement("span",{className:"errorMsg"},h.area_name):null))),m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"city",type:"text",placeholder:"City",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:"1"==y?i.city:g.city}),h.city&&k.city?m.a.createElement("span",{className:"errorMsg"},h.city):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:6,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"state_name",type:"text",placeholder:"State",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:"1"==y?i.state:g.state_name}),h.state_name&&k.state_name?m.a.createElement("span",{className:"errorMsg"},h.state_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:2}," \xa0")),m.a.createElement("div",{className:"d-flex justify-content-left"},m.a.createElement("div",{className:"brandhead"},m.a.createElement("h4",{className:"fs-18 m-b-30"},"NOMINEE DETAILS"))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:2},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"nominee_title_id",component:"select",autoComplete:"off",className:"formGrp"},m.a.createElement("option",{value:""},"Title"),l.map((function(e,a){return m.a.createElement("option",{value:e.id},e.displayvalue)}))),h.nominee_title_id&&k.nominee_title_id?m.a.createElement("span",{className:"errorMsg"},h.nominee_title_id):null))),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"nominee_first_name",type:"text",placeholder:"Nominee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_first_name}),h.nominee_first_name&&k.nominee_first_name?m.a.createElement("span",{className:"errorMsg"},h.nominee_first_name):null))),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"nominee_last_name",type:"text",placeholder:"Nominee Last Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.nominee_last_name}),h.nominee_last_name&&k.nominee_last_name?m.a.createElement("span",{className:"errorMsg"},h.nominee_last_name):null)))),m.a.createElement(d.a,null,m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement(f.a,{name:"nominee_dob",dateFormat:"dd MMM yyyy",placeholderText:"DOB",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:R,minDate:H,className:"datePckr",selected:g.nominee_dob,onChange:function(a){E("nominee_dob"),v("nominee_dob",a),e.ageCheck(a)}}),h.nominee_dob&&k.nominee_dob?m.a.createElement("span",{className:"errorMsg"},h.nominee_dob):null)),m.a.createElement(u.a,{sm:12,md:3,lg:3},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"relation_with",component:"select",autoComplete:"off",value:g.relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Primary Insured"),b&&b.map((function(e,a){return m.a.createElement("option",{value:e.id},e.name)}))),h.relation_with&&k.relation_with?m.a.createElement("span",{className:"errorMsg"},h.relation_with):null)))),n||"1"==r?m.a.createElement("div",null,m.a.createElement("div",{className:"d-flex justify-content-left carloan m-b-25"},m.a.createElement("h4",null," Appointee Details")),m.a.createElement(d.a,{className:"m-b-45"},m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"insurerName"},m.a.createElement(M.b,{name:"appointee_name",type:"text",placeholder:"Appointee Name",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:g.appointee_name}),h.appointee_name&&k.appointee_name?m.a.createElement("span",{className:"errorMsg"},h.appointee_name):null))),m.a.createElement(u.a,{sm:12,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement("div",{className:"formSection"},m.a.createElement(M.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:g.appointee_relation_with,className:"formGrp"},m.a.createElement("option",{value:""},"Relation with Nominee"),N&&N.map((function(e,a){return m.a.createElement("option",{value:e.id},e.name)}))),h.appointee_relation_with&&k.appointee_relation_with?m.a.createElement("span",{className:"errorMsg"},h.appointee_relation_with):null))))):null,m.a.createElement("div",{className:"d-flex justify-content-left resmb"},m.a.createElement(_.a,{className:"backBtn",type:"button",disabled:!!w,onClick:e.planInfo.bind(e,S)},w?"Wait..":"Back"),m.a.createElement(_.a,{className:"proceedBtn",type:"submit"},"Convert to policy")))})))),m.a.createElement(E.a,null)))))))}}]),t}(i.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(F))},1314:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(38),y=t(19),b=t(22),N=t(3),S=t.n(N),w=t(20),k=t.n(w),C=t(9),P=(t(37),t(2)),D={gateway:""},I=(S()().format("D-MMMM-YYYY-h:mm:ss"),S()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:localStorage.getItem("policyHolder_refNo"),paymentStatus:[],nomineedetails:[],policyCoverage:[],NomineeRelationArr:{},AppointeeRelationArr:{},pincode:"",location:"",city:"",state:""},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.nomineeDetails=function(a){e.props.history.push("/AdditionalDetails_GSB/".concat(a))},e.fetchNomineeRel=function(a){e.props.match.params.productId;var t=new C.a;v.a.get("gsb/gsb-relation-list").then((function(n){var r=JSON.parse(t.decrypt(n.data));if(console.log("decrypt--fetchSubVehicle------ ",r),0==r.error){var l=r.data.relation_nominee_appointee.nominee_relations,o=r.data.relation_nominee_appointee.appointee_relations,s=[],c=[];for(var i in l)s[l[i].id]=l[i].name;for(var m in o)c[o[m].id]=o[m].name;e.setState({nomineeRelation:l,NomineeRelationArr:s,AppointeeRelationArr:c}),e.fullQuote(a)}})).catch((function(a){e.props.loadingStop()}))},e.fetchPolicyDetails=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new C.a;e.props.loadingStart(),v.a.get("gsb/gsb-policy-details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data)),r=n.data.policyHolder?n.data.policyHolder:[],l=n.data&&n.data.policyHolder.gsbinfo?n.data.policyHolder.gsbinfo:null,o=n.data&&n.data.policyHolder.request_data?n.data.policyHolder.request_data:null,s=r?JSON.parse(r.address):null,c=l?JSON.parse(l.pincode_response):null,i=n.data.policyHolder?n.data.policyHolder.bcmaster:{},m=n.data.policyHolder.pincode,d=n.data.policyHolder.location,u=n.data.policyHolder.city,p=n.data.policyHolder.state,_=n.data.policyHolder?n.data.policyHolder.menumaster:{},g=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};console.log("---gsb_Details---\x3e>",n.data.policyHolder),e.setState({gsb_Details:l,requested_Data:o,bcMaster:i,menumaster:_,vehicleDetails:g,addressDetails:s,pincode_Details:c,policyHolderDetails:r,pincode:m,location:d,city:u,state:p}),e.fetchCoveragePlan(n.data.policyHolder,l)})).catch((function(a){e.props.loadingStop()}))},e.fetchCoveragePlan=function(a,t){e.props.match.params.productId;var n=new C.a;v.a.get("gsb/get-plan-with-coverage").then((function(r){var l=JSON.parse(n.decrypt(r.data)),o=l.data&&l.data.plan_with_coverages?l.data.plan_with_coverages[2].coveragebenefit:null,s=l.data&&l.data.plan_with_coverages?l.data.plan_with_coverages[1].coveragebenefit:null,c=l.data&&l.data.plan_with_coverages?l.data.plan_with_coverages[0].coveragebenefit:null;console.log("---gsb_Details---\x3e>",l);var i=t&&1==t.plan_id?o:t&&2==t.plan_id?s:c;e.setState({policyCoverage:i}),e.fetchNomineeRel(a)})).catch((function(a){e.props.loadingStop()}))},e.fullQuote=function(a,t){var n=e.state;n.accessToken,n.accidentDetails;if("Decline"==n.declineStatus)return k()("Insurance Policy cannot be offered"),!1;var r=new FormData;e.props.loadingStart();new C.a;r.append("policy_reference_no",localStorage.getItem("policyHolder_refNo")),v.a.post("/gsb/fullQuoteGSB",r).then((function(a){if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:a.data.PolicyObject,error:[],validation_error:[]}),e.props.loadingStop();else if(a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status)e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:[],validation_error:[],error:{message:1}}),e.props.loadingStop();else if(a.data.code&&a.data.message&&("validation failed"==a.data.code&&"validation failed"==a.data.message||"Policy Validation Error"==a.data.code&&"Policy Validation Error"==a.data.message)){var n=[];for(var r in a.data.messages)n.push(a.data.messages[r].message);e.setState({fulQuoteResp:[],validation_error:n,error:[],serverResponse:[]}),e.props.loadingStop()}else e.setState({fulQuoteResp:[],error:a.data.ValidateResult,validation_error:[],serverResponse:[]}),e.props.loadingStop();t.setSubmitting(!1)})).catch((function(a){e.setState({serverResponse:[]}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state.policyHolderDetails;console.log("vedvag wallet -------- ",t),t&&t.bcmaster&&t.bcmaster.paymentgateway&&t.bcmaster.paymentgateway.slug&&1==a.gateway?("csc_wallet"==t.bcmaster.paymentgateway.slug&&e.payment(),"razorpay"==t.bcmaster.paymentgateway.slug&&e.Razor_payment(),"PPINL"==t.bcmaster.paymentgateway.slug&&e.paypoint_payment()):t&&t.bcmaster&&t.bcmaster.paymentgateway&&t.bcmaster.paymentgateway.slug&&2==a.gateway&&e.props.history.push("/Vedvag_gateway/".concat(e.props.match.params.productId,"?access_id=").concat(e.state.refNumber))},e.sendPaymentLink=function(){new C.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){k()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.payment=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/payment.php?refrence_no=").concat(a)},e.Razor_payment=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/razorpay/pay.php?refrence_no=").concat(a)},e.paypoint_payment=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ppinl/pay.php?refrence_no=").concat(a)},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.fetchPolicyDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.addressDetails,o=n.error,s=(n.show,n.policyHolderDetails),f=(n.nomineedetails,n.paymentStatus),v=n.policyCoverage,E=n.bcMaster,y=n.NomineeRelationArr,b=n.AppointeeRelationArr,N=n.location,w=n.city,k=n.state,C=n.gsb_Details,I=n.vehicleDetails,M=s.request_data?s.request_data.nominee[0].is_appointee:null,B=C&&C.risk_address?JSON.parse(C.risk_address):{},A=B?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"House/Flat No:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.house_flat_no))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"House/Building Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.house_building_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Area Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.area_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Pincode:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.pincode))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Locality:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.locality))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"City:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.city))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"State:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,B.state)))):null,O=l?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Plot No:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l.house_flat_no))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"House/Building Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l.house_building_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null," Street Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l.street_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Pincode:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s.pincode))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Locality:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,N))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"City:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"State:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,k)))):null,x=s.request_data?s.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Nominee")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+e.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e?S()(e.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,y[e.relation_with]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,H=s.request_data?s.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Appointee ")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.appointee_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,b[e.appointee_relation_with]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,R=s?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Proposer Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s.salutation&&s.salutation.displayvalue+" "+s.first_name+" "+s.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,s?S()(s.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:3},"\xa0")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id)))),c.a.createElement(i.a,null,c.a.createElement("p",null))):null,L=c.a.createElement("table",{width:500},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(m.a,{sm:12,md:18},"Section")),c.a.createElement("th",null,c.a.createElement(m.a,{sm:12,md:18},"Sum Insured"))),v&&v.length>0?v.map((function(e,a){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(m.a,{sm:12,md:18},e.benefit_name,":")),c.a.createElement("td",null,c.a.createElement(m.a,{sm:12,md:18},"\u20b9 ",Math.round(e.benefit_suminsured))))})):null),j=o&&o.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,F=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox gsbplan2"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement(P.e,{initialValues:D,onSubmit:this.handleSubmit},(function(n){var l=n.values,o=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(P.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,j),c.a.createElement("h5",null,F),c.a.createElement("h4",null,"Policy Reference Number ",s&&s.request_data?s.request_data.quote_id:null)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:18},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:3},c.a.createElement(d.a,null,"Policy Start Date:")),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement(d.a,null,s&&s.request_data?S()(s.request_data.start_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement(d.a,null,s&&s.request_data?S()(s.request_data.end_date).format("DD-MM-yyyy"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,I&&I.vehicletype?I.vehicletype.description:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" GSB Policy Plan Details",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},L||null))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Premium Details",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"motopremium"},"Net Premium:")),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium?r.DuePremium:0)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"motopremium"},"Gross Premium:")),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"premamount"},"\u20b9 ",r.BeforeVatPremium?Math.round(r.BeforeVatPremium):0)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"motopremium"},"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"premamount"},"\u20b9 ",r.TGST?Math.round(r.TGST):0)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Proposer Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},R))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Risk Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(m.a,{sm:12,md:12},A)))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Communication Address"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(m.a,{sm:12,md:12},O)))),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Nominee Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},x),"1"==M?c.a.createElement("div",{className:"listrghtsideTrigr"},H):null)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(P.b,{type:"radio",name:"gateway",value:"1",key:"1",onChange:function(e){o("gateway",e.target.value)},checked:"1"==l.gateway}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},s&&s.bcmaster&&s.bcmaster.paymentgateway&&s.bcmaster.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+s.bcmaster.paymentgateway.logo),alt:""}):null))),s.bcmaster&&2===s.bcmaster.id?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(P.b,{type:"radio",name:"gateway",value:"2",key:"1",onChange:function(e){o("gateway",e.target.value)},checked:"2"==l.gateway}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},s.bcmaster&&2===s.bcmaster.id?c.a.createElement("img",{src:t(395),alt:""}):null))):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),E&&1==E.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(I))},1315:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(77),S=t(25),w={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,policy_for:"1",lapse_duration:"",policy_type:"2"},k=h.object().shape({policy_type:h.string().required("PleasePT"),policy_for:h.string().required("PleasePIC"),lapse_duration:h.string().when("policy_type",{is:"3",then:h.string().required("LapseDuration"),otherwise:h.string()}),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(S.g)(e)})),otherwise:h.string().nullable()})}),C=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;e.props.loadingStart(),p.a.get("four-wh-stal/policy-holder/motor-saod/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder.motorinsurance,l=n.data.policyHolder?n.data.policyHolder.fastlanelog:{};e.setState({motorInsurance:r,fastlanelog:l}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchFastlane=function(a){var t=new FormData,n=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four;"2"==a.check_registration?(t.append("registration_no",n),t.append("menumaster_id","1"),e.props.loadingStart(),p.a.post("fastlane",t).then((function(t){if(0==t.data.error){e.props.loadingStop(),e.setState({fastLaneData:t.data.data,brandView:"0"});var n={fastLaneData:t.data.data};e.props.setData(n)}else e.props.loadingStop(),e.props.setData([]),e.setState({fastLaneData:[],brandView:"1",vehicleDetails:[]});e.handleSubmit(a,t.data.data)})).catch((function(a){e.props.loadingStop()}))):(e.props.setData([]),e.handleSubmit(a,[]))},e.handleSubmit=function(a,t){var n=e.props.match.params.productId,r=(e.state.fastlanelog,new FormData),l=new y.a,o={},s={},c="";if("2"!=a.check_registration)return E()("Enter Registration number"),!1;s={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},c=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four;var i=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(l.decrypt(m))),i>0?(o=sessionStorage.getItem("csc_id")?{policy_holder_id:i,registration_no:c,registration_part_numbers:JSON.stringify(s),check_registration:a.check_registration,menumaster_id:1,vehicle_type_id:n,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:n,bcmaster_id:"5",page_name:"RegistrationOD/".concat(n),lapse_duration:a.lapse_duration,policy_for:a.policy_for,policy_type_id:a.policy_type}:{policy_holder_id:i,registration_no:c,registration_part_numbers:JSON.stringify(s),check_registration:a.check_registration,menumaster_id:1,vehicle_type_id:n,bcmaster_id:m?m.agent_id:"",bc_token:m?m.token:"",bc_agent_id:m?m.user_info.data.user.username:"",product_id:n,page_name:"RegistrationOD/".concat(n),lapse_duration:a.lapse_duration,policy_for:a.policy_for,policy_type_id:a.policy_type},console.log("post_data",o),r.append("enc_data",l.encrypt(JSON.stringify(o))),e.props.loadingStart(),p.a.post("/four-wh-stal/update-registration",r).then((function(a){var t=JSON.parse(l.decrypt(a.data));console.log("decrypt",t),0==t.error?e.props.history.push("/select-brandOD/".concat(n)):E()(t.msg),e.props.loadingStop()})).catch((function(a){a&&a.data&&E()("Registratioon number required..."),e.props.loadingStop()}))):(o=sessionStorage.getItem("csc_id")?{registration_no:c,check_registration:a.check_registration,registration_part_numbers:JSON.stringify(s),menumaster_id:1,vehicle_type_id:n,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:n,bcmaster_id:"5",page_name:"RegistrationOD/".concat(n),lapse_duration:a.lapse_duration,policy_for:a.policy_for,policy_type_id:a.policy_type}:{registration_no:c,check_registration:a.check_registration,registration_part_numbers:JSON.stringify(s),menumaster_id:1,vehicle_type_id:n,product_id:n,bcmaster_id:m?m.agent_id:"",bc_token:m?m.token:"",bc_agent_id:m?m.user_info.data.user.username:"",page_name:"RegistrationOD/".concat(n),lapse_duration:a.lapse_duration,policy_for:a.policy_for,policy_type_id:a.policy_type},console.log("post_data",o),r.append("enc_data",l.encrypt(JSON.stringify(o))),e.props.loadingStart(),p.a.post("/four-wh-stal/registration",r).then((function(a){a.data=JSON.parse(l.decrypt(a.data)),0==a.data.error?(localStorage.setItem("policyHolder_id",a.data.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",a.data.data.policyHolder_refNo),e.props.history.push("/select-brandOD/".concat(n))):E()(a.data.msg),e.props.loadingStop()})).catch((function(a){a&&a.data&&(console.log("Error"),console.log(JSON.parse(l.decrypt(a.data))),E()("Please check..something went wrong!!")),e.props.loadingStop()})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state.motorInsurance,t=a&&a.registration_part_numbers?JSON.parse(a.registration_part_numbers):[],n=Object.assign(w,{reg_number_part_one:t&&t.reg_number_part_one?t.reg_number_part_one:"",reg_number_part_two:t&&t.reg_number_part_two?t.reg_number_part_two:"",reg_number_part_three:t&&t.reg_number_part_three?t.reg_number_part_three:"",reg_number_part_four:t&&t.reg_number_part_four?t.reg_number_part_four:"",regNumber:a?a.registration_no:"",check_registration:2,lapse_duration:a&&a.lapse_duration?a.lapse_duration:"",policy_type:a&&a.policytype_id?a.policytype_id:"2",policy_for:a&&a.policy_for?a.policy_for:"1"}),r=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,r?c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox registerbr"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},r.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},r.AboutVehicle),c.a.createElement(b.e,{initialValues:n,onSubmit:this.fetchFastlane,validationSchema:k},(function(a){var t=a.values,n=a.errors,l=a.setFieldValue,o=a.setFieldTouched,s=(a.isValid,a.isSubmitting,a.touched);return console.log("values-------------",t),console.log("errors-------------",n),c.a.createElement(b.d,null,c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,r.TakingFourPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",r.Individual))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",r.Corporate)),n.policy_for&&s.policy_for?c.a.createElement("span",{className:"errorMsg"},r[n.policy_for]):null))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,r.TellAboutPolicy),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){e.handleChange(t,o,l),l("policy_type","2"),l("lapse_duration","")}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",r.RollOver)))))),c.a.createElement("div",{className:"brandhead"},c.a.createElement("h4",{className:"m-b-30"},r.About)),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},r.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,maxLength:"3",onInput:function(a){e.regnoFormat(a,o,l),o("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,maxLength:"2",onInput:function(a){e.regnoFormat(a,o,l),o("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,maxLength:"3",onInput:function(a){e.regnoFormat(a,o,l),o("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,maxLength:"4",onInput:function(a){e.regnoFormat(a,o,l),o("check_registration"),l("check_registration","2")}})),(n.reg_number_part_one||n.reg_number_part_two||n.reg_number_part_three||n.reg_number_part_four)&&(s.reg_number_part_one||s.reg_number_part_two||s.reg_number_part_three||s.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},r.InvalidRegistrationNumber):null),c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},r.Go)))})))),c.a.createElement(u.a,null))))):null))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())},setData:function(a){return e(Object(N.a)(a))}}}))(C))},1316:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(77),M=t(61),B={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},A=(E.object().shape({selectedBrandId:E.string().required("Enter Brand Name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails,a=new D.a,n=(localStorage.getItem("policyHolder_id")&&localStorage.getItem("policyHolder_id"),e&&e.vehiclebrand_id?e.vehiclebrand_id:"");return new Promise((function(e){y.a.get("four-wh-stal/vehicle/brand-with-image").then((function(e){var r=JSON.parse(a.decrypt(e.data));console.log("decrypt",r);var l=r&&r.data.list?r.data.list:[];t.setState({brandList:l,otherBrands:!1}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(n):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("four-wh-stal/without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;console.log("redux data----- ",t.props.data);var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("four-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},o=n.data.policyHolder?n.data.policyHolder.fastlanelog:{};t.setState({motorInsurance:r,vehicleDetails:l,fastlanelog:o}),console.log("this.props.data------ ",t.props.data),null==t.props.data?(t.setState({pageLoad:"1"}),t.getBrands()):t.props.data.fastLaneData||t.props.data.brandEdit&&"0"==t.props.data.brandEdit?(t.setState({pageLoad:"0",fastLaneData:t.props.data.fastLaneData}),t.handleSubmit(t.props.data.fastLaneData,"0")):(t.setState({pageLoad:"1"}),t.getBrands())})).catch((function(e){t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/RegistrationOD/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=(a.otherBrands,n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:""));"1"==localStorage.getItem("brandEdit")?t.setBrandName(l):"2"==localStorage.getItem("brandEdit")&&t.getOtherBrands()},t.selectVehicle=function(e){t.props.history.push("/Select-brandOD/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("four-wh-stal/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data)),l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r})},t.setOtherVarient=function(e,a,n,r,l,o){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o})},t.handleSubmit=function(e,a){var n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,r=t.props.match.params.productId,l=t.state,o=(l.selectedVarientId,l.selectedModelId,l.selectedBrandId,l.fastlanelog),s=new FormData,c=new D.a,i={};a="1"==a||"0"==a?a:"1",console.log("pageLoad--- ",a),i="1"==a?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"Select-brandOD/".concat(r)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,brand_id:e.brand_id,brand_model_id:e.brand_model_id,model_varient_id:e.model_varient_id,page_name:"Select-brandOD/".concat(r),fastlaneLog_id:e&&e.fastlaneLog_id?e.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data---fastlane--- ",i),s.append("enc_data",c.encrypt(JSON.stringify(i))),t.props.loadingStart(),y.a.post("four-wh-stal/insert-brand-model-varient",s).then((function(e){t.props.loadingStop(),0==JSON.parse(c.decrypt(e.data)).error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetailsOD/".concat(r)))})).catch((function(e){"422"==e.status&&k()(n.PleaseVehicleMmodel),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:!1,brandName:"",modelName:"",fuelType:"",vehicleDetails:[],pageLoad:"0",fastLaneData:[],fastlanelog:[]},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.pageLoad,E=a.fastLaneData,y=a.selectedModelId,b=a.selectedVarientId,N=a.otherBrands,S=a.brandName,w=a.modelName,k=a.fuelType,C=a.vehicleDetails,D=this.props.match.params.productId,I=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,A={};return A="1"==c?Object.assign(B,{selectedBrandId:s||(C&&C.vehiclebrand_id?C.vehiclebrand_id:""),selectedModelId:y||(s?"":C&&C.vehiclemodel_id?C.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:b||(s?"":C&&C.varientmodel_id?C.varientmodel_id:"")}):Object.assign(B,{selectedBrandId:E?E.brand_id:"",selectedModelId:E?E.brand_model_id:"",selectedBrandName:"",selectedModelName:"",selectedVarientId:E?E.model_varient_id:""}),i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,I?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},I.SBIGICL),this.props.data&&this.props.data.brandEdit&&"1"==this.props.data.brandEdit||"1"==c?i.a.createElement(v.e,{initialValues:A,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,I.SelectBrand," "),i.a.createElement("p",null,I.CarDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},I.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},I.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},I.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},I.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},I.Brand,"- ",i.a.createElement("strong",null,S||(C&&C.vehiclebrand&&C.vehiclebrand.name?C.vehiclebrand.name:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},I.Model,i.a.createElement("br",null),i.a.createElement("strong",null,w||(s?"":C&&C.vehiclemodel&&C.vehiclemodel.description?C.vehiclemodel.description+" "+C.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},I.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},I.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,M.a[k]?M.a[k]:C&&C.varientmodel&&C.varientmodel.fuel_type?M.a[C.varientmodel.fuel_type]:null," ")))))))))})):null)))):null),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,I.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:I.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==N?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),b?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},I.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())},setData:function(a){return e(Object(I.a)(a))}}}))(A))},1317:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(41),g=t.n(_),f=t(31),h=t(34),v=t(40),E=t(38),y=t(19),b=t(77),N=t(22),S=t(1),w=t(2),k=t(7),C=t(3),P=t.n(C),D=t(9),I=t(28),M=t(138),B=t.n(M),A=t(911),O=t(25),x=t(97),H=t(20),R=t.n(H),L=(new Date("Y"),new I.a,P()(P()().subtract(1,"years").calendar()).add(0,"day").calendar(),P()(),P()(P()().subtract(1,"years").calendar()).add(1,"day").calendar()),j=(P()(L).endOf("month").format("YYYY-MM-DD hh:mm"),P()(P()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),P()(P()().subtract(1,"years").calendar()).add(1,"day").calendar()),F=(P()(P()().subtract(1,"years").calendar()).add(30,"day").calendar(),P()().subtract(1,"years").calendar(),{registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,previous_claim_for:"",previous_policy_no:"",valid_previous_policy:"",no_of_claim:"",active_policy_tenure:"",current_date:new Date}),q=S.object().shape({registration_date:S.string().required("RegistrationRequired").test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(O.b)(e,this.parent.previous_start_date)})).test("checkGreaterTimes","RegistrationLessActive",(function(e){return!e||Object(O.b)(e,this.parent.active_start_date)})),location_id:S.string().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"No special Character allowed"})),previous_start_date:S.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.date(),otherwise:S.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).test("checkGreaterEqualTimes","PrevStartDateInActivDate",(function(e){return!(e&&Math.floor(P()(e).diff(this.parent.active_start_date,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterEqualTimes","PrevStartDateInActivDate",(function(e){return!(e&&Math.floor(P()(this.parent.active_end_date).diff(e,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"1"!=this.parent.valid_previous_policy||Object(O.b)(e,this.parent.previous_end_date)&&"1"==this.parent.valid_previous_policy})).test("checkStartDate","Enter Start Date",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:S.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.date(),otherwise:S.date().test("checkGreaterEqualTimes","PrevEndDateInActivDate",(function(e){return!(e&&Math.floor(P()(e).diff(this.parent.active_start_date,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterEqualTimes","PrevEndDateInActivDate",(function(e){return!(e&&Math.floor(P()(this.parent.active_end_date).diff(e,"days",!0))<0&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"1"!=this.parent.valid_previous_policy||Object(O.c)(e,this.parent.previous_start_date)&&"1"==this.parent.valid_previous_policy}))}),insurance_company_id:S.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.number(),otherwise:S.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)}))}),previous_city:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/.,\s]*$/,(function(){return"PleaseValidAddress"}))}),previous_policy_no:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.valid_previous_policy&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"PleasePolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyNo18Char "}))}),previous_claim_bonus:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseEPCB"}),(function(e){return!(!("0"!=this.parent.previous_is_claim||"1"!=this.parent.previous_policy_name||e&&"1"!=e)&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90)})).test("previousClaimChecking",(function(){return"PleaseEPCB"}),(function(e){return!("1"==this.parent.previous_is_claim&&!e&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90)}))}),previous_is_claim:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseSPC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&"1"==this.parent.previous_policy_name&&Math.floor(P()().diff(this.parent.previous_end_date,"days",!0))<=90&&"1"==this.parent.valid_previous_policy&&!e)}))}),no_of_claim:S.string().when(["previous_is_claim","valid_previous_policy"],{is:function(e,a){return"1"==e&&"1"==a},then:S.string().required("PleasePNOC"),otherwise:S.string()}),previous_policy_name:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),active_policy_name:S.string().required("PleaseSPT").test("currentMonthChecking",(function(){return"ActivePolLiability"}),(function(e){return"1"!=e})),active_start_date:S.date().notRequired().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||Object(O.b)(e,this.parent.active_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.active_end_date||void 0!=e})),active_end_date:S.date().notRequired("Previous end date is required").test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new I.a;return!(Math.floor(P()(e).diff(this.parent.active_start_date,"years",!0))>=this.parent.active_policy_tenure)})).test("checkGreaterTimes",(function(){return"EndDateGreaterStart"}),(function(e){return!e||Object(O.c)(e,this.parent.active_start_date)})),active_insurance_company_id:S.number().notRequired("Insurance company is required").test("currentMonthChecking",(function(){return"PleaseEAIC"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})),active_policy_tenure:S.string().required("SPTenure"),active_policy_no:S.string().notRequired("Previous policy number is required").test("currentMonthChecking",(function(){return"PleaseEAPN"}),(function(e){return!((new I.a).whatIsCurrentMonth(this.parent.registration_date)>0&&!e)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9\s-/]*$/,(function(){return"PleasePolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyNo18Char"})),valid_previous_policy:S.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:S.string(),otherwise:S.string().required((function(){return"RequiredField"}))}),claim_array:S.array().of(S.object().shape({claim_year:S.string((function(){return"PleaseEnterClaimYear"})).required((function(){return"PleaseEnterClaimYear"})).matches(/^[0-9]*$/,(function(){return"InvalidYear"})),claim_amount:S.string((function(){return"PleaseEnterClaiAmmount"})).required((function(){return"PleaseEnterClaiAmmount"})).matches(/^[0-9]*$/,(function(){return"InvalidAmout"})),type_of_claim:S.string((function(){return"PleaseEnterTypeClaim"})).required((function(){return"PleaseEnterTypeClaim"})).matches(/^[a-zA-Z\s]*$/,(function(){return"InvalidValue"}))}))}),T={1:"Petrol",2:"Diesel",3:"CNG"},V=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e,l;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(l=a.call.apply(a,[this].concat(s))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(n.a)(e,"previous_is_claim",""),Object(n.a)(e,"chk_od_claim",""),Object(n.a)(e,"no_of_claim",[]),e),l.onChange=function(e,a){a("location_id","")},l.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2");l.props.setData({brandEdit:1}),l.props.history.push("/Select-brandOD/".concat(e))},l.selectBrand=function(e){if(l.props.data&&l.props.data.fastLaneData)l.props.history.push("/RegistrationOD/".concat(e));else{l.props.setData({brandEdit:1}),l.props.history.push("/Select-brandOD/".concat(e))}},l.editBrand=function(e){l.props.setData({brandEdit:1}),l.props.history.push("/Select-brandOD/".concat(e))},l.showClaimText=function(e,a){console.log("claim_text....",a),1==e?l.setState({showClaim:!0,previous_is_claim:1}):(l.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.onChangeCustomerID=function(e,a){var t=a.newValue;a.method;l.setState({CustomerID:t,RTO_location:""})},l.onSuggestionsFetchCustomerID=function(e){var a=e.value;l.setState({suggestions:l.getCustomerIDSuggestions(a)})},l.getCustomerIDSuggestionValue=function(e){return l.setState({selectedCustomerRecords:e}),e.RTO_LOCATION},l.handleSubmit=function(e,a){var t=l.props.match.params.productId,n=(l.state.motorInsurance,""),r=(n="1"==e.valid_previous_policy?"2"==e.previous_policy_name||e.previous_start_date&&Math.floor(P()().diff(e.previous_end_date,"days",!0))>0?Object(A.a)(new Date,1):Object(A.a)(new Date(e.previous_end_date),1):Object(A.a)(new Date,1))?Object(x.c)(n):"",o=Math.floor(P()(n).diff(e.registration_date,"months",!0)),s=new FormData,c=new D.a,i={},m=e.previous_claim_bonus&&Math.floor(P()().diff(e.previous_end_date,"days",!0))<=90?e.previous_claim_bonus:"1";i="2"==e.policy_type_id&&"1"==e.valid_previous_policy||"3"==e.policy_type_id&&"1"==e.lapse_duration&&"1"==e.valid_previous_policy?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,registration_date:P()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:P()(e.previous_start_date).format("YYYY-MM-DD"),previous_end_date:P()(e.previous_end_date).format("YYYY-MM-DD"),previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:m,previous_claim_for:1,vehicleAge:o,pol_start_date:P()(n).format("YYYY-MM-DD"),pol_end_date:P()(r).format("YYYY-MM-DD"),policy_type:15,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,claim_array:"1"==e.previous_is_claim?JSON.stringify(e.claim_array):"",no_of_claim:e.no_of_claim,active_start_date:P()(e.active_start_date).format("YYYY-MM-DD"),active_end_date:P()(e.active_end_date).format("YYYY-MM-DD"),active_policy_name:e.active_policy_name,active_insurance_company_id:e.active_insurance_company_id,active_policy_address:e.active_policy_address,active_policy_no:e.active_policy_no,active_policy_tenure:e.active_policy_tenure,page_name:"VehicleDetailsOD/".concat(t)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,registration_date:P()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,vehicleAge:o,pol_start_date:P()(n).format("YYYY-MM-DD"),pol_end_date:P()(r).format("YYYY-MM-DD"),active_start_date:P()(e.active_start_date).format("YYYY-MM-DD"),active_end_date:P()(e.active_end_date).format("YYYY-MM-DD"),active_policy_name:e.active_policy_name,active_insurance_company_id:e.active_insurance_company_id,active_policy_address:e.active_policy_address,active_policy_no:e.active_policy_no,active_policy_tenure:e.active_policy_tenure,policy_type:15,prev_policy_flag:1,previous_is_claim:0,valid_previous_policy:e.valid_previous_policy,page_name:"VehicleDetailsOD/".concat(t)},console.log("post_data",i),s.append("enc_data",c.encrypt(JSON.stringify(i))),l.props.loadingStart(),k.a.post("/four-wh-stal/insert-vehicle-details",s).then((function(e){var n=JSON.parse(c.decrypt(e.data));console.log("decrypt-----resp----- ",n),l.props.loadingStop(),0==n.error?l.props.history.push("/OtherComprehensiveOD/".concat(t)):(a.setSubmitting(!1),R()(n.msg))})).catch((function(e){var t=JSON.parse(c.decrypt(e.data));console.log("decrypt-----errrr----- ",t),l.props.loadingStop(),a.setSubmitting(!1),R()(t.msg)}))},l.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;l.props.loadingStart(),k.a.get("/company/1/".concat(e)).then((function(e){l.setState({insurerList:e.data.data}),l.getAllAddress()})).catch((function(e){l.setState({insurerList:[]}),l.props.loadingStop()}))},l.fetchData=function(){l.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;l.props.loadingStart(),k.a.get("four-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},r=t.data.policyHolder?t.data.policyHolder.previouspolicyforsaod:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},s=n&&n.location&&n.location.RTO_LOCATION?n.location.RTO_LOCATION:"",c=r&&r[0]&&(0==r[0].is_claim||1==r[0].is_claim)?r[0].is_claim:"",i=r&&r[0]&&r[0].previouspoliciesclaims?r[0].previouspoliciesclaims.length:"";l.setState({motorInsurance:n,previousPolicy:r,vehicleDetails:o,RTO_location:s,previous_is_claim:c,no_of_claim:i}),l.props.loadingStop()})).catch((function(e){l.props.loadingStop()}))},l.handleChange=function(e){var a=P()(e).add(1,"years").format("YYYY-MM-DD");l.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},l.handleNoOfClaims=function(e,a){var t=e.claim_array.length;if(e.claim_array.length>a)for(var n=t;n>=a;n--)e.claim_array.splice(n,1);else if(e.claim_array.length<a)for(n=e.claim_array.length;n<a;n++)e.claim_array.push({claim_amount:"",claim_year:"",type_of_claim:"Own Damage"});l.setState({no_of_claim:a})},l.initClaimDetailsList=function(){for(var e=l.state.previousPolicy,a=e&&e[0]&&e[0].previouspoliciesclaims?e[0].previouspoliciesclaims:[],t=[],n=0;n<l.state.no_of_claim;n++)t.push({claim_amount:a&&a[n]&&a[n].claim_amount?a[n].claim_amount:"",claim_year:a&&a[n]&&a[n].claim_year?a[n].claim_year:"",type_of_claim:"Own Damage"});return t},l.handleClaims=function(e,a,t,n,r){for(var o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,s=[],c=new Date(e.previous_start_date).getFullYear(),p=c==new Date(e.previous_end_date).getFullYear()?c:new Date(e.previous_end_date).getFullYear(),_=0;_<e.no_of_claim;_++)s.push(i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].claim_year"),component:"select",autoComplete:"off",className:"formGrp inputfs12"},i.a.createElement("option",{value:""},o.SelectYear),i.a.createElement("option",{value:c},c),i.a.createElement("option",{value:p},p)),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_year?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_year]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].claim_amount"),type:"text",placeholder:o.ClaimAmount,autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)}}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].claim_amount?i.a.createElement("span",{className:"errorMsg"},o[a.claim_array[_].claim_amount]):null))),i.a.createElement(d.a,{sm:12,md:6,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"claim_array[".concat(_,"].type_of_claim"),type:"text",placeholder:"Type of claim",autoComplete:"off",onFocus:function(e){return l.changePlaceHoldClassAdd(e)},onBlur:function(e){return l.changePlaceHoldClassRemove(e)},value:o.OwnDamage,disabled:!0}),a.claim_array&&a.claim_array[_]&&a.claim_array[_].type_of_claim?i.a.createElement("span",{className:"errorMsg"},a.claim_array[_].type_of_claim):null)))));return s},l.registration=function(e){l.props.history.push("/RegistrationOD/".concat(e))},l}return Object(l.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return i.a.createElement("span",null,e.RTO_LOCATION)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;k.a.get("location-list/".concat(a)).then((function(a){e.setState({customerDetails:a.data.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchData()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,r=t.insurerList,l=t.showClaim,o=t.previous_is_claim,s=t.motorInsurance,_=t.previousPolicy,E=t.CustomerID,y=t.suggestions,b=t.vehicleDetails,N=t.RTO_location,S=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,k={};k=(s&&s.policytype_id&&"3"==s.policytype_id&&"1"==s.lapse_duration||s&&s.policytype_id&&"2"==s.policytype_id)&&1==s.valid_previous_policy?Object.assign(F,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id?s.location_id:"",previous_start_date:_&&_[1]&&_[1].start_date?new Date(_[1].start_date):"",previous_end_date:_&&_[1]&&_[1].end_date?new Date(_[1].end_date):"",previous_policy_name:_&&_[1]&&_[1].name?_[1].name:"",insurance_company_id:_&&_[1]&&_[1].insurancecompany&&_[1].insurancecompany.Id?_[1].insurancecompany.Id:"",previous_city:_&&_[1]&&_[1].city?_[1].city:"",previous_policy_no:_&&_[1]&&_[1].policy_no?_[1].policy_no:"",previous_is_claim:o,no_of_claim:_&&_[1]&&_[1].previouspoliciesclaims?_[1].previouspoliciesclaims.length:"",previous_claim_bonus:_&&_[1]&&(_[1].claim_bonus||0==_[1].claim_bonus)?_[1].claim_bonus.toString():"1",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,active_start_date:_&&_[0]&&_[0].start_date?new Date(_[0].start_date):"",active_end_date:_&&_[0]&&_[0].end_date?new Date(_[0].end_date):"",active_policy_name:"2",active_insurance_company_id:_&&_[0]&&_[0].insurancecompany&&_[0].insurancecompany.Id?_[0].insurancecompany.Id:"",active_policy_address:_&&_[0]&&_[0].address?_[0].address:"test",active_policy_no:_&&_[0]&&_[0].policy_no?_[0].policy_no:"",active_policy_tenure:_&&_[0]&&_[0].active_policy_tenure?_[0].active_policy_tenure:"",lapse_duration:s&&s.lapse_duration?s.lapse_duration:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",claim_array:this.initClaimDetailsList()}):Object.assign(F,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id?s.location_id:"",previous_policy_name:"1",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,active_start_date:_&&_[0]&&_[0].start_date?new Date(_[0].start_date):"",active_end_date:_&&_[0]&&_[0].end_date?new Date(_[0].end_date):"",active_policy_name:"2",active_insurance_company_id:_&&_[0]&&_[0].insurancecompany&&_[0].insurancecompany.Id?_[0].insurancecompany.Id:"",active_policy_address:_&&_[0]&&_[0].address?_[0].address:"test",active_policy_no:_&&_[0]&&_[0].policy_no?_[0].policy_no:"",lapse_duration:s&&s.lapse_duration?s.lapse_duration:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",active_policy_tenure:_&&_[0]&&_[0].active_policy_tenure?_[0].active_policy_tenure:"",claim_array:this.initClaimDetailsList()});var C={placeholder:S.SearchCity,value:E||N,onChange:this.onChangeCustomerID};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,S?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},S.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",{className:"fs-18 m-b-30"},S.PleaseVehicleDetails,"."))),i.a.createElement("div",{className:"brand-bg"},i.a.createElement(w.e,{initialValues:k,onSubmit:this.handleSubmit,validationSchema:q},(function(t){var _,f,h=t.values,v=t.errors,E=t.setFieldValue,N=t.setFieldTouched,k=(t.isValid,t.isSubmitting),D=t.touched;return i.a.createElement(w.d,{autoComplete:"off"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},S.FirstRegDate))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"registration_date",maxDate:new Date,dateFormat:"dd MMM yyyy",placeholderText:S.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.registration_date,onChange:function(e){E("registration_date",e),E("previous_end_date",""),E("previous_start_date",""),E("active_end_date",""),E("active_start_date","")}}),v.registration_date&&D.registration_date?i.a.createElement("span",{className:"errorMsg"},S[v.registration_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},S.RegCity))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(B.a,{suggestions:y,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:e.onSuggestionsClearRequested,getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:C,onChange:function(a){return e.onChange(a,E)},onSuggestionSelected:function(e,a){var t=a.suggestion;a.suggestionValue;N("location_id"),E("location_id",t.id)}}),v.location_id&&D.location_id?i.a.createElement("span",{className:"errorMsg"},S[v.location_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",S.APD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,(_={name:"active_policy_tenure",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:h.active_policy_tenure},Object(n.a)(_,"value",h.active_policy_tenure),Object(n.a)(_,"onChange",(function(e){E("active_end_date",Object(x.a)(h.active_start_date,e.target.value)),E("active_policy_tenure",e.target.value)})),_),i.a.createElement("option",{value:""},S.SPTenure),i.a.createElement("option",{value:"1"},S["1year"]),i.a.createElement("option",{value:"3"},S["3year"])),v.active_policy_tenure&&D.active_policy_tenure?i.a.createElement("span",{className:"errorMsg"},S[v.active_policy_tenure]):null))),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:S.active_start_date,maxDate:new Date,dateFormat:"dd MMM yyyy",placeholderText:S.APSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.active_start_date,onChange:function(e){N("active_start_date"),E("active_end_date",Object(x.a)(e,h.active_policy_tenure)),E("active_start_date",e),"2"==h.previous_policy_name&&(E("previous_end_date",Object(x.a)(e,h.active_policy_tenure)),E("previous_start_date",e))}}),v.active_start_date&&D.active_start_date?i.a.createElement("span",{className:"errorMsg"},S[v.active_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:"active_end_date",dateFormat:"dd MMM yyyy",placeholderText:S.APED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.active_end_date,onChange:function(e){N("active_end_date"),E("active_end_date",e)}}),v.active_end_date&&D.active_end_date?i.a.createElement("span",{className:"errorMsg"},S[v.active_end_date]):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"active_insurance_company_id",component:"select",autoComplete:"off",className:"formGrp",onChange:function(e){E("active_insurance_company_id",e.target.value),"2"==h.previous_policy_name&&E("insurance_company_id",e.target.value)}},i.a.createElement("option",{value:""},S.SelectActiveInsurer),r.map((function(e,a){return i.a.createElement("option",{value:e.Id},e.name)}))),v.active_insurance_company_id&&D.active_insurance_company_id?i.a.createElement("span",{className:"errorMsg"},S[v.active_insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"active_policy_no",type:"text",placeholder:S.APolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){E("active_policy_no",e.target.value),"2"==h.previous_policy_name&&E("previous_policy_no",e.target.value)}}),v.active_policy_no&&D.active_policy_no?i.a.createElement("span",{className:"errorMsg"},S[v.active_policy_no]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,"\xa0 "))))),"2"==h.policy_type_id||"3"==h.policy_type_id&&"1"==h.lapse_duration?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",S.GCVValidPolicy," ? "))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){N("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"0"==h.valid_previous_policy}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",S.No))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){N("valid_previous_policy"),E("valid_previous_policy",e.target.value)},checked:"1"==h.valid_previous_policy}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},S.Yes)),v.valid_previous_policy&&D.valid_previous_policy?i.a.createElement("span",{className:"errorMsg"},S[v.valid_previous_policy]):null)))))):null,i.a.createElement(m.a,null,i.a.createElement("div",null,"\xa0")),("2"==h.policy_type_id||"3"==h.policy_type_id&&"1"==h.lapse_duration)&&"1"==h.valid_previous_policy?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null," ",S.PPD))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,{name:S.previous_start_date,dateFormat:"dd MMM yyyy",placeholderText:S.PPSD,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,openToDate:h.previous_start_date?h.previous_start_date:new Date(j),dropdownMode:"select",className:"datePckr inputfs12",selected:h.previous_start_date,disabled:"2"==h.previous_policy_name,onChange:function(e){N("previous_start_date"),N("previous_end_date"),E("previous_end_date",Object(x.c)(e)),E("previous_start_date",e)}}),v.previous_start_date&&D.previous_start_date?i.a.createElement("span",{className:"errorMsg"},S[v.previous_start_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:4},i.a.createElement(u.a,null,i.a.createElement(g.a,(f={name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:S.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:h.previous_end_date},Object(n.a)(f,"disabled",!0),Object(n.a)(f,"onChange",(function(e){N("previous_end_date"),E("previous_end_date",e)})),f)),v.previous_end_date&&D.previous_end_date?i.a.createElement("span",{className:"errorMsg"},S[v.previous_end_date]):null)),i.a.createElement(d.a,{sm:12,md:11,lg:3},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:h.previous_policy_name,onChange:function(e){E("previous_policy_name",e.target.value),"2"==e.target.value?(E("previous_end_date",h.active_end_date),E("previous_start_date",h.active_start_date),E("insurance_company_id",h.active_insurance_company_id),E("previous_policy_no",h.active_policy_no)):(E("previous_end_date",""),E("previous_start_date",""),E("insurance_company_id",""),E("previous_policy_no",""))}},i.a.createElement("option",{value:""},S.SPT),i.a.createElement("option",{value:"1"},S.Package),i.a.createElement("option",{value:"2"},S.LiabilityOnly)),v.previous_policy_name&&D.previous_policy_name?i.a.createElement("span",{className:"errorMsg"},S[v.previous_policy_name]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},S.SelectInsurer),r.map((function(e,a){return i.a.createElement("option",{value:e.Id},e.name)}))),v.insurance_company_id&&D.insurance_company_id?i.a.createElement("span",{className:"errorMsg"},S[v.insurance_company_id]):null))),i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"previous_city",type:"text",placeholder:S.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),v.previous_city&&D.previous_city?i.a.createElement("span",{className:"errorMsg"},S[v.previous_city]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(w.b,{name:"previous_policy_no",type:"text",placeholder:S.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),v.previous_policy_no&&D.previous_policy_no?i.a.createElement("span",{className:"errorMsg"},S[v.previous_policy_no]):null)))),i.a.createElement(m.a,null,"\xa0"),"1"==h.previous_policy_name&&Math.floor(P()().diff(h.previous_end_date,"days",!0))<=90?i.a.createElement(c.Fragment,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12},i.a.createElement(u.a,null,i.a.createElement("div",{className:"carloan"},i.a.createElement("h4",null,S.ODExpiringClaim))))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"previous_is_claim",value:"0",key:"1",onChange:function(a){E("previous_is_claim",a.target.value),e.showClaimText(0,h),1==a.target.checked&&E("no_of_claim","")},checked:"0"==h.previous_is_claim}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",S.NoIHavent))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(w.b,{type:"radio",name:"previous_is_claim",value:"1",key:"1",onChange:function(a){E("previous_is_claim",a.target.value),e.showClaimText(1,h),1==a.target.checked&&E("previous_claim_bonus","1")},checked:"1"==h.previous_is_claim}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},S.YesIHave)),v.previous_is_claim&&D.previous_is_claim?i.a.createElement("span",{className:"errorMsg"},S[v.previous_is_claim]):null))))),"0"==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},S.SelectNCB))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"previous_claim_bonus",component:"select",autoComplete:"off",className:"formGrp",value:h.previous_claim_bonus},i.a.createElement("option",{value:""},"--",S.Select,"--"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"35"},"35"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"50"},"50")),v.previous_claim_bonus&&D.previous_claim_bonus?i.a.createElement("span",{className:"errorMsg"},S[v.previous_claim_bonus]):null)))):null,l||"1"==o?i.a.createElement(m.a,{className:"m-b-30"},i.a.createElement(d.a,{sm:12,md:5,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"fs-18"},"Select No. of claims"))),i.a.createElement(d.a,{sm:12,md:6,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(w.b,{name:"no_of_claim",component:"select",autoComplete:"off",className:"formGrp",value:h.no_of_claim,onChange:function(a){N("no_of_claim"),E("no_of_claim",a.target.value),e.handleNoOfClaims(h,a.target.value)}},i.a.createElement("option",{value:""},S.NoOfClaims),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10")),v.no_of_claim&&D.no_of_claim?i.a.createElement("span",{className:"errorMsg"},S[v.no_of_claim]):null)))):null,""!=h.no_of_claim||"0"==o?e.handleClaims(h,v,D,N,E):null):null):null,i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!k,onClick:e.selectBrand.bind(e,a)},k?S.Wait:S.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!k},k?S.Wait:S.Next))),i.a.createElement(d.a,{sm:12,md:3,className:"mdsize"},i.a.createElement("div",{className:"vehbox"},i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},S.RegNo,".",i.a.createElement("br",null),s&&s.registration_no)),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",onClick:e.registration.bind(e,a)},S.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},S.Brand,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.vehiclebrand&&b.vehiclebrand.name?b.vehiclebrand.name:""))),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",onClick:e.editBrand.bind(e,a)},S.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},S.Model,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.vehiclemodel&&b.vehiclemodel.description?b.vehiclemodel.description+" "+b.varientmodel.varient:""))),i.a.createElement(d.a,{sm:12,md:5,className:"text-right"},i.a.createElement("button",{className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},S.Edit))),i.a.createElement(m.a,{className:"m-b-25"},i.a.createElement(d.a,{sm:12,md:7},i.a.createElement("div",{className:"txtRegistr"},S.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,b&&b.varientmodel&&b.varientmodel.fuel_type?T[b.varientmodel.fuel_type]:null," "))))))))})))),i.a.createElement(v.a,null))))):null))}}]),t}(c.Component);a.default=Object(E.g)(Object(N.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())},setData:function(a){return e(Object(b.a)(a))}}}))(V))},1318:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(46),i=t(18),m=t(17),d=t(98),u=t(0),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(172),t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=(t(3),t(25)),x=(t(99),localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[]),H=function(e,a,t){return[].concat(Object(d.a)(e.slice(0,a)),[t],Object(d.a)(e.slice(a)))},R=M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(O.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:M.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseValidIDV").test("maxMinIDVCheck",(function(){return"Idv1to5Lakh"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseValidIDV").test("maxMinIDVCheck",(function(){return"Idv1to5Lakh"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("PleasePACover"),otherwise:M.string()}),geographical_extension_length:M.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:M.string().test("geoExtention",(function(){return"Select any one country"}),(function(e){return!(e<1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide IDV").test("isLoanChecking",(function(){return"Value should be 1K to 5L"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),tyre_rim_array:M.array().of(M.object().shape({tyreMfgYr:M.string().when(["policy_for"],{is:function(e){return["1"==e,"2"==e]},then:M.string().required("MFG year required").test("checkGreaterTimes","Mfg date must be greater than registration date",(function(e){return!e||Object(O.d)(new Date(this.parent.vehicleRegDate),e)})).test("checkGreaterTimes","Mfg date must be less than today",(function(e){return!e||Object(O.d)(e,new Date)})),otherwise:M.string()}),tyreSerialNo:M.string().when(["policy_for"],{is:function(e){return["1"==e,"2"==e]},then:M.string().required("Serial No Required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Invalid Serial No"})),otherwise:M.string()})}))}),L={C101064:x.C101064,C101065:x.C101065,C101066:x.C101066,C101069:x.C101069,C101072:x.C101072,C101067:x.C101067,C101108:x.C101108,C101111:x.C101111,NCB:x.NCB,TOTALOD:x.TOTALOD,GEOGRAPHYOD:x.GEOGRAPHYOD,GEOGRAPHYTP:x.GEOGRAPHYTP,B00016:x.B00016,B00002:x.B00002,B00003:x.B00003,B00004:x.B00004,B00005:x.B00005,B00006:x.B00006,B00007:x.B00007,B00008:x.B00008,B00009:x.B00009,B00010:x.B00010,B00011:x.B00011,B00012:x.B00012,B00013:x.B00013,B00069:x.B00069,B00070:x.B00070,B00071:x.B00071,B00015:x.B00015,B00073:x.B00073,B00018:x.B00018,B00019:x.B00019,B00020:x.B00020,B00022:x.B00022,B00025:x.B00025,C101110:x.C101110},j=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleChange=function(){n.setState({serverResponse:[],error:[]})},n.showCNGText=function(e){1==e?n.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):n.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},n.sliderValue=function(e){n.setState({sliderVal:e,serverResponse:[],error:[]})},n.vehicleDetails=function(e){n.props.history.push("/VehicleDetailsOD/".concat(e))},n.fetchData=function(){n.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new I.a;n.props.loadingStart(),D.a.get("four-wh-stal/policy-holder/motor-saod/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var r=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.request_data:{},o=[],s=r&&null!=r.add_more_coverage?r.add_more_coverage.split(","):["B00015"];s=s.flat();var c=r&&r.idv_value?r.idv_value:0,i=r&&null!=r.registration_date?r.registration_date:"",m=r&&null!=r.add_more_coverage_request_json?r.add_more_coverage_request_json:"",d=""!=m?JSON.parse(m):[],u=d&&d.geographical_extension?d.geographical_extension:[];o.PA_flag=r&&""!=r.pa_cover?"1":"0",o.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0",o.B00013_value=d.B00013?d.B00013.value:"",o.B00004_value=d.B00004?d.B00004.value:"",o.B00005_value=d.B00005?d.B00005.value:"",o.B00004_description=d.B00004?d.B00004.description:"",o.B00003_value=d.B00003?d.B00003.value:"",o.B00003_description=d.B00003?d.B00003.description:"",n.setState({motorInsurance:r,add_more_coverage:s,request_data:l,geographical_extension:u,add_more_coverage_request_array:d,sliderVal:c,showCNG:1==r.cng_kit,vahanVerify:!(!r.chasis_no||!r.engine_no),selectFlag:r&&null!=r.add_more_coverage?"0":"1",vehicleRegDate:i}),n.props.loadingStop(),n.fullQuote(o)})).catch((function(e){n.props.loadingStop()}))},n.getMoreCoverage=function(){n.props.loadingStart(),D.a.get("/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(e){n.setState({moreCoverage:e.data.data}),n.fetchData()})).catch((function(e){n.setState({moreCoverage:[]}),n.props.loadingStop()}))},n.getVahanDetails=function(){var e=Object(l.a)(r.a.mark((function e(a,t,l,o){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),l("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",n.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return n.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){n.setState({vahanDetails:e.data,vahanVerify:!0}),n.state.vahanDetails.data[0].chasiNo&&n.setState({chasiNo:n.state.vahanDetails.data[0].chasiNo}),n.state.vahanDetails.data[0].engineNo&&n.setState({engineNo:n.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),l("vahanVerify",!0),t("engine_no"),l("engine_no",n.state.engineNo),t("chasis_no"),l("chasis_no",n.state.chasiNo),n.props.loadingStop()})).catch((function(e){n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop()}));case 12:e.next=19;break;case 14:n.props.loadingStart(),n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),n.fullQuote=function(e){var a=n.state,t=a.PolicyArray,r=a.sliderVal,l=a.add_more_coverage,o=a.motorInsurance,s=a.geographical_extension,c=t.length>0?Math.round(t[0].PolicyRiskList[0].IDV_Suggested):0,i={},m=new FormData,d=sessionStorage.getItem("users")?sessionStorage.getItem("users"):"",u="",p=0;if(d&&sessionStorage.getItem("csc_id")){var _=new I.a;d=(d=JSON.parse(d)).user,d=JSON.parse(_.decrypt(d)),u=d.type}l&&(i={B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00005:{value:e.B00005_value},B00013:{value:e.B00013_value},geographical_extension:s},e.B00004_value&&(p+=parseInt(e.B00004_value)),e.B00003_value&&(p+=parseInt(e.B00003_value)));var g={reference_no:localStorage.getItem("policyHolder_refNo"),idv_value:r||c.toString(),policy_type:o.policy_type,add_more_coverage:l.toString(),coverage_data:JSON.stringify(i),PA_Cover:e.PA_flag?e.PA_Cover:"0",tyre_rim_array:e.tyre_rim_array?e.tyre_rim_array:[]};if(console.log("fullQuote_post_data",g),parseInt(p)+parseInt(g.idv_value)>5e6&&"POSP"==u)return A()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1;var f=new I.a;n.props.loadingStart(),m.append("enc_data",f.encrypt(JSON.stringify(g))),D.a.post("four-wh-stal/fullQuoteStlM4W",m).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[],t=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_NCBAmount:0,r=e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsGeographicalExtension:0;if("0"!=t){var o={};o.PolicyBenefitList=[{BeforeVatPremium:0-Math.round(t),ProductElementCode:"NCB"}];var s={};s.PolicyBenefitList=[{BeforeVatPremium:Math.round(a[0].GrossPremium+a[0].LoadingAmount)-Math.round(t),ProductElementCode:"TOTALOD"}],a="0"!=t?H(a,1,o):"",a="0"!=t?H(a,2,s):""}if("1"==r){var c={},i={};c.PolicyBenefitList=[{BeforeVatPremium:e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList[0].LoadingAmount):0,ProductElementCode:"GEOGRAPHYOD"}],i.PolicyBenefitList=[{BeforeVatPremium:e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList[1].LoadingAmount):0,ProductElementCode:"GEOGRAPHYTP"}],a="1"==r?H(a,1,c):"",a="1"==r?H(a,2,i):""}if(n.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[],serverResponse:e.data.PolicyObject,policyCoverage:a}),e.data.PolicyObject.SumInsured>5e6&&"POSP"==u)return A()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var m=[];for(var d in e.data.UnderwritingResult.MessageList)m.push(e.data.UnderwritingResult.MessageList[d].Message);if(n.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:{message:0},validation_error:m,serverResponse:[],policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]}),e.data.PolicyObject.SumInsured>5e6&&"POSP"==u)return A()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){m=[];for(var p in e.data.messages){var _="";e.data.messages[p].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[p].code?(_="It is blacklisted vehicle. Please contact Relationship manager",A()(_)):_=e.data.messages[p].message,m.push(_)}n.setState({fulQuoteResp:[],add_more_coverage:l,error:{message:0},validation_error:m,serverResponse:[]})}else n.setState({fulQuoteResp:[],add_more_coverage:l,error:e.data,serverResponse:[]});n.props.loadingStop()})).catch((function(e){n.setState({serverResponse:[]}),n.props.loadingStop()}))},n.handleSubmit=function(e){var a=n.props.match.params.productId,t=n.state,r=t.motorInsurance,l=t.PolicyArray,o=t.sliderVal,s=t.add_more_coverage,c=t.geographical_extension,i=l.length>0?Math.round(l[0].PolicyRiskList[0].IDV_Suggested):0,m={},d=l.length>0?Math.round(l[0].PolicyRiskList[0].SumInsured):0;s&&(m={B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00005:{value:e.B00005_value},B00013:{value:e.B00013_value},geographical_extension:c});var u=new FormData,p=new I.a,_={};_=s.length>0?{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,registration_no:r.registration_no?r.registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:o||i.toString(),add_more_coverage:s,coverage_data:JSON.stringify(m),puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,tyre_rim_array:e.tyre_rim_array?e.tyre_rim_array:[],page_name:"OtherComprehensiveOD/".concat(a)}:{policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,registration_no:r.registration_no?r.registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,tyre_rim_array:e.tyre_rim_array?e.tyre_rim_array:[],idv_value:o||i.toString(),puc:e.puc,page_name:"OtherComprehensiveOD/".concat(a)},console.log("post_data",_);var g=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";return!(!g||!d)&&(g=JSON.parse(p.decrypt(g.user)),d>5e6&&"POSP"==g.user_type?(A()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1):void(e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(u.append("enc_data",p.encrypt(JSON.stringify(_))),n.props.loadingStart(),D.a.post("/four-wh-stal/update-insured-value",u).then((function(e){n.props.loadingStop();var t=JSON.parse(p.decrypt(e.data));console.log("decrypt-----resp----- ",t),0==t.error&&n.props.history.push("/Additional_detailsOD/".concat(a))})).catch((function(e){n.props.loadingStop()}))):A()("chasis no mismatch")))},n.onRowSelect=function(e,a,t,r,l){var o=n.state.add_more_coverage;if(a){o.push(e);var s=[];if("C101110"==e){var c=new Date(n.state.vehicleRegDate);if(l.tyre_rim_array&&l.tyre_rim_array.length<4){for(var i=l.tyre_rim_array.length;i<4;i++)s.push({tyreSerialNo:"",tyreMfgYr:c.getFullYear(),vehicleRegDate:n.state.vehicleRegDate,policy_for:n.state.policy_for});r("tyre_rim_array",s)}}n.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(t("PA_flag"),r("PA_flag","1")),"B00015"==e&&(t("PA_cover_flag"),r("PA_cover_flag","1")),"B00003"==e&&(t("nonElectric_flag"),r("nonElectric_flag","1")),"B00004"==e&&(t("electric_flag"),r("electric_flag","1")),"geographical_extension"==e&&(t("Geographical_flag"),r("Geographical_flag","1")),"B00005"==e&&(t("CNG_OD_flag"),r("CNG_OD_flag","1")),"B00013"==e&&(t("LL_PD_flag"),r("LL_PD_flag","1")),"C101110"==e&&(t("tyre_cover_flag"),r("tyre_cover_flag","1"))}else{var m=o.indexOf(e);-1!==m&&(o.splice(m,1),n.setState({serverResponse:[],error:[]})),"B00016"==e&&(t("PA_flag"),r("PA_flag","0"),t("PA_Cover"),r("PA_Cover","")),"B00015"==e&&(t("PA_cover_flag"),r("PA_cover_flag","0")),"B00003"==e&&(t("nonElectric_flag"),r("nonElectric_flag","0")),"B00004"==e&&(t("electric_flag"),r("electric_flag","0")),"geographical_extension"==e&&(t("Geographical_flag"),r("Geographical_flag","0"),r("GeoExtnBhutan",""),r("GeoExtnNepal",""),r("GeoExtnMaldives",""),r("GeoExtnPakistan",""),r("GeoExtnSriLanka",""),r("GeoExtnBangladesh",""),n.setState({geographical_extension:[]})),"B00005"==e&&(t("CNG_OD_flag"),r("CNG_OD_flag","0")),"B00013"==e&&(t("LL_PD_flag"),r("LL_PD_flag","0")),"C101110"==e&&(t("tyre_cover_flag"),r("tyre_cover_flag","0"))}},n.initClaimDetailsList=function(){var e=[],a=n.state,t=a.tyre_rim_array,r=a.vehicleRegDate,l=a.policy_for;if(t&&t.length>0)for(var o=0;o<n.state.no_of_claim;o++)e.push({tyreSerialNo:t&&t[o]&&t[o].tyreSerialNo?t[o].tyreSerialNo:"",tyreMfgYr:t&&t[o]&&t[o].tyreMfgYr?t[o].tyreMfgYr:"",vehicleRegDate:r,policy_for:l});return e},n.onGeoAreaSelect=function(e,a,t,r,l){var o=n.state,s=(o.add_more_coverage,o.geographical_extension);if(t){s.push(e);n.setState({geographical_extension:s,serverResponse:[],error:[]}),r(e),l(e,"1"),r("geographical_extension_length"),l("geographical_extension_length",s.length)}else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),n.setState({serverResponse:[],error:[]})),r(e),l(e,""),r("geographical_extension_length"),l("geographical_extension_length",s.length)}},n.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},n.handleClaims=function(e,a,t,r,l){for(var o=[],s=(localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases")),0);s<4;s++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:2},p.a.createElement("span",{className:"indexing"}," Tyre",s+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:3},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"tyre_rim_array[".concat(s,"].tyreMfgYr"),type:"text",placeholder:"MFG Year",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreMfgYr?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreMfgYr):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"tyre_rim_array[".concat(s,"].tyreSerialNo"),type:"text",placeholder:"Serial No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreSerialNo?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreSerialNo):null))))));return o},n.handleShow=n.handleShow.bind(Object(c.a)(n)),n.handleClose=n.handleClose.bind(Object(c.a)(n)),n.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1"},request_data:[],geographical_extension:[],add_more_coverage_request_array:[],ncbDiscount:0,no_of_claim:4,policy_for:1,tyre_rim_array:[]},n}return Object(s.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.validation_error,n=a.policy_for,r=(a.vahanDetails,a.error),l=a.policyCoverage,o=a.vahanVerify,s=a.selectFlag,c=a.fulQuoteResp,i=a.PolicyArray,m=a.geographical_extension,d=a.ncbDiscount,E=a.moreCoverage,k=a.sliderVal,C=a.motorInsurance,P=a.serverResponse,D=a.engine_no,I=a.chasis_no,M=a.initialValue,B=a.add_more_coverage,O=a.add_more_coverage_request_array,x=this.props.match.params.productId,H=i.length>0?Math.round(i[0].PolicyRiskList[0].IDV_Suggested):0,j=k,F=i.length>0?i[0].PolicyRiskList[0].MinIDV_Suggested:0,q=i.length>0?i[0].PolicyRiskList[0].MaxIDV_Suggested:0,T=F,V=i.length>0?Math.floor(q):null;0==Number.isInteger(F)&&(T=i.length>0?Math.floor(i[0].PolicyRiskList[0].MinIDV_Suggested):null,T+=1);for(var G=C&&C.add_more_coverage?C.add_more_coverage.split(","):"",Y={},J=!C||null!=C.pa_cover&&""!=C.pa_cover?"1":"0",z=C&&null!=C.pa_cover?C.pa_cover:"",Z=B&&B[B.indexOf("geographical_extension")]?"1":"0",$=O.B00005&&O.B00005.value?"1":"0",U=O.B00004&&O.B00004.value?"1":"0",Q=O.B00003&&O.B00003.value?"1":"0",W=O.B00013&&O.B00013.value?"1":"0",K={},X=0;X<G.length;X++)G.indexOf("C101110")&&"1";var ee=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[];K="1"==s?Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:o,newRegistrationNo:C.registration_no?C.registration_no:"",B00015:"B00015",PA_Cover:"",PA_cover_flag:"1",PA_flag:"0",Geographical_flag:"0",CNG_OD_flag:"",electric_flag:"0",LL_PD_flag:"0",policy_for:n,nonElectric_flag:"0",tyre_rim_array:this.initClaimDetailsList(),geographical_extension_length:m&&m.length}):Object.assign(M,{registration_no:C.registration_no?C.registration_no:"",chasis_no:C.chasis_no?C.chasis_no:I||"",chasis_no_last_part:C.chasis_no_last_part?C.chasis_no_last_part:"",add_more_coverage:C.add_more_coverage?C.add_more_coverage:"",engine_no:C.engine_no?C.engine_no:D||"",vahanVerify:o,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:C&&C.pa_flag?C.pa_flag:"0",Geographical_flag:"0",CNG_OD_flag:"",electric_flag:"0",nonElectric_flag:"0",LL_PD_flag:"0",policy_for:n,tyre_rim_array:this.initClaimDetailsList(),geographical_extension_length:m&&m.length});for(X=0;X<G.length;X++)Y[G[X]]=G[X];Y.slider=H,Y.PA_flag=J,Y.PA_Cover=z,Y.Geographical_flag=Z,Y.CNG_OD_flag=$,Y.electric_flag=U,Y.nonElectric_flag=Q,Y.LL_PD_flag=W,Y.B00013_value=O.B00013?O.B00013.value:"",Y.B00004_value=O.B00004?O.B00004.value:"",Y.B00004_description=O.B00004?O.B00004.description:"",Y.B00003_value=O.B00003?O.B00003.value:"",Y.B00003_description=O.B00003?O.B00003.description:"",Y.B00005_value=O.B00005?O.B00005.value:"",Y.GeoExtnBangladesh=m?m[m.indexOf("GeoExtnBangladesh")]:"",Y.GeoExtnBhutan=m?m[m.indexOf("GeoExtnBhutan")]:"",Y.GeoExtnNepal=m?m[m.indexOf("GeoExtnNepal")]:"",Y.GeoExtnMaldives=m?m[m.indexOf("GeoExtnMaldives")]:"",Y.GeoExtnPakistan=m?m[m.indexOf("GeoExtnPakistan")]:"",Y.GeoExtnSriLanka=m?m[m.indexOf("GeoExtnSriLanka")]:"",K=Object.assign(M,Y);P.PolicyLobList&&P.PolicyLobList[0].PolicyRiskList[0];var ae=l&&l.length>0?l.map((function(e,a){return e.PolicyBenefitList&&"C101069"!=e.ProductElementCode?e.PolicyBenefitList.map((function(e,a){return 0!=e.BeforeVatPremium?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,L[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.BeforeVatPremium))))):null})):p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,L[e.ProductElementCode])),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.AnnualPremium),"  "))))})):null,te=l&&l.length>0?l.map((function(e,a){return e.PolicyBenefitList&&"C101069"!=e.ProductElementCode?e.PolicyBenefitList.map((function(e,a){return 0!=e.BeforeVatPremium?p.a.createElement("tr",null,p.a.createElement("td",null,L[e.ProductElementCode],":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium))):null})):p.a.createElement("tr",null,p.a.createElement("td",null,L[e.ProductElementCode]),p.a.createElement("td",null,"\u20b9 ",Math.round(e.BeforeVatPremium),"  "))})):null,ne=r&&r.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,re=t?t.map((function(e,a){return p.a.createElement("span",{className:"errorMsg",key:a},p.a.createElement("li",null,p.a.createElement("strong",null,e)))})):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,ee?p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherCom"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},ee.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},ee.CoversM4WOD),p.a.createElement("h5",null,ne),p.a.createElement("h5",null,re))),p.a.createElement(b.e,{initialValues:K,onSubmit:P&&""!=P?P.message?this.fullQuote:this.handleSubmit:this.fullQuote,validationSchema:R},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,o=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:ee.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},ae))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:4},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ee.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,disabled:!0,onInput:function(a){e.regnoFormat(a,l,r)}}):p.a.createElement(b.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?p.a.createElement("span",{className:"errorMsg"},ee[n.registration_no]):null))))),p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},ee.ChassisNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&o.chasis_no_last_part?p.a.createElement("span",{className:"errorMsg"},ee[n.chasis_no_last_part]):null))))),p.a.createElement(_.a,{sm:12,md:2,lg:2},p.a.createElement(f.a,null,p.a.createElement(h.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},ee.Verify),n.vahanVerify?p.a.createElement("span",{className:"errorMsg"},ee[n.vahanVerify]):null))),t.vahanVerify&&!n.chasis_no_last_part?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:ee.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no,maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value.toUpperCase())}}),n.engine_no&&o.engine_no?p.a.createElement("span",{className:"errorMsg"},ee[n.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:ee.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no,maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&o.chasis_no?p.a.createElement("span",{className:"errorMsg"},ee[n.chasis_no]):null)))):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement("span",{className:"fs-16"},ee.IDValue)))),p.a.createElement(_.a,{sm:12,md:6,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:j||H}),n.IDV&&o.IDV?p.a.createElement("span",{className:"errorMsg"},n.IDV):null))),H?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",{type:"range",className:"W-90",name:"slider",defaultValue:H,min:T,max:V,step:"1",value:t.slider,onChange:function(a){l("slider"),r("slider",a.target.value),e.sliderValue(a.target.value)}}))):null),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"}," ",ee.AddMoreCoverage,".")))),E&&E.length>0?E.map((function(a,s){return p.a.createElement(g.a,{key:s},p.a.createElement(_.a,{sm:12,md:11,lg:5,key:s+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&A()(ee.SwalIRDAI,{button:ee.OK}),e.onRowSelect(n.target.value,n.target.checked,l,r,t)},checked:t[a.code]==a.code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))),"1"==t.PA_flag&&"B00016"==t[a.code]?p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover,onChange:function(a){l("PA_Cover"),r("PA_Cover",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ee.SSI),p.a.createElement("option",{value:"50000"},"50000"),p.a.createElement("option",{value:"100000"},"100000")),n.PA_Cover?p.a.createElement("span",{className:"errorMsg"},ee[n.PA_Cover]):null))):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?p.a.createElement("span",{className:"errorMsg"},ee[n.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?p.a.createElement("span",{className:"errorMsg"},ee[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:ee.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?p.a.createElement("span",{className:"errorMsg"},ee[n.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:ee.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?p.a.createElement("span",{className:"errorMsg"},ee[n.B00004_description]):null)))," "):null,"1"==t.Geographical_flag&&"geographical_extension"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,n){return"1"==a.status?p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.id,value:a.id,className:"user-self",checked:t[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,t,a.target.checked,l,r)}}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"})):null})),n.geographical_extension_length?p.a.createElement("span",{className:"errorMsg"},n.geographical_extension_length):null)):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?p.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:s+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},ee.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),n.B00013_value?p.a.createElement("span",{className:"errorMsg"},ee[n.B00013_value]):null)))):null,"0"==t.tyre_cover_flag?t.tyre_rim_array=[]:null,"1"==t.tyre_cover_flag&&"C101110"==t[a.code]?e.handleClaims(t,n,o,l,r):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},ee.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ee.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",ee.No)),n.puc&&o.puc?p.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,x)},ee.Back),P&&""!=P?P.message?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Recalculate):"1"==t.puc?p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Continue):null:p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},ee.Recalculate))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",ee.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",c.DuePremium),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},ee.Breakup))))))}))),p.a.createElement(w.a,null))))):null),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,ee.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,ee.Premium,":"),p.a.createElement("th",null,"\u20b9 ",c.DuePremium))),p.a.createElement("tbody",null,te,0!=d?p.a.createElement("tr",null,p.a.createElement("td",null,ee.NCBDiscount,":"),p.a.createElement("td",null,"\u20b9 -",Math.round(d))):"",p.a.createElement("tr",null,p.a.createElement("td",null,ee.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(c.BeforeVatPremium))),p.a.createElement("tr",null,p.a.createElement("td",null,ee.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(c.TGST))))))))}}]),t}(u.Component);a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(j))},1319:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=(t(95),t(96),t(40)),g=t(31),f=t(34),h=t(2),v=t(1),E=t(38),y=t(19),b=t(22),N=t(7),S=t(3),w=t.n(S),k=t(28),C=t(9),P=t(25),D=(w()(w()().subtract(100,"years").calendar()),w()().subtract(18,"years").calendar(),w()(w()().subtract(100,"years").calendar()),w()().subtract(3,"months").calendar(),{first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",age:"",nominee_age:""}),I=v.object().shape({first_name:v.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).test("nameChecking",(function(){return"FirstNameMin"}),(function(e){return Object(P.e)(e)})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]+[a-zA-Z]+)$/,(function(){return"ValidName"})),gender:v.string().required("GenderRequired").matches(/^[MmFf]$/,(function(){return"ValidGender"})),dob:v.date().required("DOBRequired").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){if(e){var a=new k.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),age:v.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:v.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:v.mixed().nullable()}),nominee_age:v.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:v.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>0})),otherwise:v.mixed().nullable()}),pancard:v.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:v.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:v.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:v.string().required("LocationRequired"),pincode:v.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:v.string().required("AddressRequired").test("addressChecking",(function(){return"PleaseEnterValidAddress"}),(function(e){return Object(P.a)(e)})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:v.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:v.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),is_carloan:v.mixed().required("RequiredField"),bank_name:v.string().notRequired("BankNameReq").test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBank"})),bank_branch:v.string().notRequired("BankBranchReq").test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"EnterValidBankBranch"})),salutation_id:v.string().required("TitleIsRequired").nullable(),nominee_salutation:v.string().required("TitleIsRequired").nullable(),nominee_relation_with:v.string().when(["pa_flag"],{is:function(e){return"1"==e},then:v.string().required("NomineeReltnRequired"),otherwise:v.string().nullable()}),nominee_first_name:v.string().when(["pa_flag"],{is:function(e){return"1"==e},then:v.string().required("NomineeNameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"NameReqMax"})).test("nameChecking",(function(){return"FirstNameMin"}),(function(e){return Object(P.e)(e)})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]+[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:v.string().nullable()}),nominee_gender:v.string().when(["pa_flag"],{is:function(e){return"1"==e},then:v.string().required("NomGenderRequired"),otherwise:v.string()}),nominee_dob:v.date().when(["pa_flag"],{is:function(e){return"1"==e},then:v.date().required("DOBRequired").test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new k.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:v.date()}),appointee_name:v.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new k.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),appointee_relation_with:v.string().notRequired().test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new k.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),is_eia_account:v.string().required("RequiredField"),eia_no:v.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired("EIARequired"),is_eia_account2:v.string().when(["is_eia_account"],{is:function(e){return 0==e},then:v.string().required("RequiredField")}),tpaInsurance:v.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:v.string().required("RequiredField")})}),M=function(e){Object(o.a)(v,e);var a=Object(s.a)(v);function v(){var e;Object(r.a)(this,v);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],is_appointee:0,appointeeFlag:!1,motorInsurance:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new k.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensiveOD/".concat(a))},e.handleSubmit=function(a,t){var n,r=e.props.match.params.productId,l=new FormData,o=new C.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var s={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:1,first_name:a.first_name,last_name:a.last_name,gender:a.gender,dob:w()(a.dob).format("YYYY-MM-DD"),pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,nominee_relation_with:a.nominee_relation_with,nominee_first_name:a.nominee_first_name,nominee_last_name:a.nominee_last_name,nominee_gender:a.nominee_gender,nominee_dob:w()(a.nominee_dob).format("YYYY-MM-DD"),phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,eia_no:a.eia_no,address:a.address,appointee_name:a.appointee_name,appointee_relation_with:a.appointee_relation_with,is_appointee:e.state.is_appointee,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"Additional_detailsOD/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};console.log("post_data",s),l.append("enc_data",o.encrypt(JSON.stringify(s))),e.props.loadingStart(),N.a.post("/four-wh-stal/owner-details",l).then((function(a){e.props.history.push("/PremiumOD/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new C.a;e.props.loadingStart(),N.a.get("four-wh-stal/policy-holder/motor-saod/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder?n.data.policyHolder.request_data:{}),_=n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{},g=JSON.parse(n.data.policyHolder.pincode_response);e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:_,addressDetails:g,is_appointee:c?c.is_appointee:"",request_data:p}),e.props.loadingStop(),e.fetchPrevAreaDetails(g)})).catch((function(a){e.props.loadingStop()}))},e.tpaInsuranceRepository=function(){N.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})})),console.log("tpaInsuranceRepository=")},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new C.a;n.append("pincode",t),N.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),N.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),N.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.props.loadingStop(),e.fetchSalutation()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(){var a=new FormData,t=new C.a;e.props.loadingStart();a.append("enc_data",t.encrypt(JSON.stringify({policy_for_flag:"1"}))),N.a.post("ipa/titles",a).then((function(a){var n=JSON.parse(t.decrypt(a.data)).data.salutationlist;e.setState({titleList:n}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e}return Object(l.a)(v,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showEIA,o=r.showEIA2,s=r.is_eia_account,v=r.is_eia_account2,E=r.showLoan,y=r.is_loan_account,b=r.nomineeDetails,N=r.is_appointee,S=r.appointeeFlag,k=r.titleList,C=r.tpaInsurance,P=r.bankDetails,M=r.policyHolder,B=r.stateName,A=r.pinDataArr,O=r.quoteId,x=r.addressDetails,H=r.relation,R=r.motorInsurance,L=r.request_data,j=this.props.match.params.productId,F=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,q=Object.assign(D,(e={first_name:M&&M.first_name?M.first_name:"",gender:M&&M.gender?M.gender:"",dob:M&&M.dob?new Date(M.dob):"",age:M&&M.dob?Math.floor(w()().diff(M.dob,"years",!0)):"",pancard:M&&M.pancard?M.pancard:"",pincode_id:x&&x.id?x.id:"",pincode:M&&M.pincode?M.pincode:"",address:M&&M.address?M.address:"",is_carloan:y,bank_name:P?P.bank_name:"",bank_branch:P?P.bank_branch:"",nominee_relation_with:b&&b.relation_with?b.relation_with.toString():"",nominee_first_name:b&&b.first_name?b.first_name:"",nominee_gender:b&&b.gender?b.gender:"",nominee_dob:b&&b.dob?new Date(b.dob):"",nominee_age:b&&b.dob?Math.floor(w()().diff(b.dob,"years",!0)):"",pa_flag:R?R.pa_flag:0,phone:M&&M.mobile?M.mobile:"",email:M&&M.email_id?M.email_id:""},Object(n.a)(e,"address",M&&M.address?M.address:""),Object(n.a)(e,"is_eia_account",s),Object(n.a)(e,"is_eia_account2",v),Object(n.a)(e,"eia_no",M&&M.eia_no?M.eia_no:""),Object(n.a)(e,"appointee_relation_with",b&&b.appointee_relation_with?b.appointee_relation_with:""),Object(n.a)(e,"appointee_name",b&&b.appointee_name?b.appointee_name:""),Object(n.a)(e,"salutation_id",M&&M.salutation_id?M.salutation_id:""),Object(n.a)(e,"nominee_salutation",b&&b.gender?b.title_id:""),Object(n.a)(e,"net_premium",L&&L.net_premium?L.net_premium:"0"),Object(n.a)(e,"policy_for",R?R.policy_for:""),Object(n.a)(e,"tpaInsurance",M&&M.T_Insurance_Repository_id?M.T_Insurance_Repository_id:""),e)),T=O?i.a.createElement("h4",null,F.PolicyReady,": ",O," ",F.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,F?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(f.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox addiOd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},F.SBIGICL),i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(h.e,{initialValues:q,onSubmit:this.handleSubmit,validationSchema:I},(function(e){var n=e.values,r=e.errors,_=e.setFieldValue,g=e.setFieldTouched,f=(e.isValid,e.isSubmitting),b=e.touched;return i.a.createElement(h.d,{autoComplete:"off"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},T),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",F.CarLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){_("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==n.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",F.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){_("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==n.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},F.No)),r.is_carloan&&b.is_carloan?i.a.createElement("span",{className:"errorMsg"},r.is_carloan):null))),E||1==y?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"bank_name",type:"text",placeholder:F.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_name}),r.bank_name&&b.bank_name?i.a.createElement("span",{className:"errorMsg"},F[r.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"bank_branch",type:"text",placeholder:F.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.bank_branch}),r.bank_branch&&b.bank_branch?i.a.createElement("span",{className:"errorMsg"},F[r.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",F.OwnersDetails)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},F.Title),k.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.salutation_id&&b.salutation_id?i.a.createElement("span",{className:"errorMsg"},F[r.salutation_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"first_name",type:"text",placeholder:F.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.first_name}),r.first_name&&b.first_name?i.a.createElement("span",{className:"errorMsg"},F[r.first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},F.SelectGender),i.a.createElement("option",{value:"m"},F.Male),i.a.createElement("option",{value:"f"},F.Female)),r.gender&&b.gender?i.a.createElement("span",{className:"errorMsg"},F[r.gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"age",type:"number",placeholder:F.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.age,maxLength:"10",onChange:function(e){var a=w()().subtract(e.target.value,"year").format("YYYY-MM-DD");_("dob",a),_("age",e.target.value)}}),r.age&&b.age?i.a.createElement("span",{className:"errorMsg"},F[r.age]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"email",type:"email",placeholder:F.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.email}),r.email&&b.email?i.a.createElement("span",{className:"errorMsg"},"email must be a valid email"==r.email?r.email:F[r.email]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(h.b,{name:"phone",type:"text",placeholder:F.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.phone,maxLength:"10",className:"phoneinput pd-l-25"}),r.phone&&b.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},F[r.phone]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"address",type:"text",placeholder:F.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.address}),r.address&&b.address?i.a.createElement("span",{className:"errorMsg"},F[r.address]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"pincode",type:"test",placeholder:F.Pincode,autoComplete:"off",maxlength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:n.pincode,maxLength:"6",onInput:function(e){g("state"),g("pincode"),_("pincode",e.target.value),_("state",B?B[0]:n.state),_("pincode_id","")}}),r.pincode&&b.pincode?i.a.createElement("span",{className:"errorMsg"},F[r.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"pincode_id",component:"select",autoComplete:"off",value:n.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},F.SelectArea),A&&A.length>0&&A.map((function(e,a){return i.a.createElement("option",{value:e.id},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),r.pincode_id&&b.pincode_id?i.a.createElement("span",{className:"errorMsg"},F[r.pincode_id]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"state",type:"text",placeholder:F.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:B||n.state,disabled:!0}),r.state&&b.state?i.a.createElement("span",{className:"errorMsg"},r.state):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"pancard",type:"text",placeholder:F.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.pancard.toUpperCase(),onChange:function(e){return _("pancard",e.target.value.toUpperCase())}}),r.pancard&&b.pancard?i.a.createElement("span",{className:"errorMsg"},F[r.pancard]):null)))),R&&"1"==R.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",F.NomineeDetails)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},F.Title),k.map((function(e,a){return i.a.createElement("option",{value:e.id},e.displayvalue)}))),r.nominee_salutation&&b.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},F[r.nominee_salutation]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"nominee_first_name",type:"text",placeholder:F.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_first_name}),r.nominee_first_name&&b.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},F[r.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},F.SelectGender),i.a.createElement("option",{value:"m"},F.Male),i.a.createElement("option",{value:"f"},F.Female)),r.nominee_gender&&b.nominee_gender?i.a.createElement("span",{className:"errorMsg"},F[r.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"nominee_age",type:"number",placeholder:F.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.nominee_age,maxLength:"10",onChange:function(e){var t=w()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),_("nominee_dob",t),_("nominee_age",e.target.value)}}),r.nominee_age&&b.nominee_age?i.a.createElement("span",{className:"errorMsg"},r.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:n.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},F.PrimaryRelation),H.map((function(e,a){return"Self"!=e.name?i.a.createElement("option",{value:e.id},e.name):null}))),r.nominee_relation_with&&b.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},F[r.nominee_relation_with]):null)))),S||"1"==N?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",F.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"appointee_name",type:"text",placeholder:F.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:n.appointee_name}),r.appointee_name&&b.appointee_name?i.a.createElement("span",{className:"errorMsg"},F[r.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:8},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:n.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},F.NomineeRelation),H.map((function(e,a){return"Self"!=e.name?i.a.createElement("option",{value:e.id},e.name):null}))),r.appointee_relation_with&&b.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},F[r.appointee_relation_with]):null))))):null):null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},F.EIAAccount)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){_("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",F.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){_("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==n.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},F.No),r.is_eia_account&&b.is_eia_account?i.a.createElement("span",{className:"errorMsg"},F[r.is_eia_account]):null))))),l||"1"==s?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"eia_no",type:"text",placeholder:F.EIANumber,autoComplete:"off",value:n.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),r.eia_no&&b.eia_no?i.a.createElement("span",{className:"errorMsg"},F[r.eia_no]):null))):""),0==l&&"0"==s?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},F.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){_("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",F.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){_("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==n.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},F.No),r.is_eia_account2&&b.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},F[r.is_eia_account2]):null)))))):"",o||"1"==v?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},F.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(h.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:n.tpaInsurance,className:"formGrp",selected:"2"},i.a.createElement("option",{value:""},F.SELECT_TPA),C.map((function(e,a){return i.a.createElement("option",{value:e.repository_id},e.name)}))),r.tpaInsurance&&b.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},F[r.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",disabled:!!f,onClick:a.otherComprehensive.bind(a,j)},f?F.Wait:F.Back),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!f},f?F.Wait:F.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))}))))),i.a.createElement(_.a,null)))):null))}}]),v}(c.Component);a.default=Object(E.g)(Object(b.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(y.a)())},loadingStop:function(){return e(Object(y.b)())}}}))(M))},1321:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(377),p=(t(48),t(2)),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(9),S=t(37),w=t.n(S),k=(t(61),t(20)),C=t.n(k),P=(t(3),{gateway:""}),D=b.object().shape({refNo:b.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),I=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){11==e?t.props.history.push("/Premium_MISCD/".concat(e)):9==e?t.props.history.push("/Premium_SME/".concat(e)):8==e?t.props.history.push("/Premium_GCV/".concat(e)):7==e?t.props.history.push("/Premium_GCV_TP/".concat(e)):2==e?t.props.history.push("/Premium/".concat(e)):6==e?t.props.history.push("/four_wheeler_policy_premium_detailsTP/".concat(e)):4==e?t.props.history.push("/two_wheeler_policy_premium_details/".concat(e)):3==e?t.props.history.push("/two_wheeler_policy_premium_detailsTP/".concat(e)):5==e?t.props.history.push("/PolicyDetails/".concat(e)):10==e?t.props.history.push("/PolicyDetails_KSB/".concat(e)):12==e?t.props.history.push("/arogya_PolicyDetails/".concat(e)):13==e?t.props.history.push("/AccidentAdditionalPremium/".concat(e)):14==e?t.props.history.push("/PolicyDetails_GSB/".concat(e)):15==e?t.props.history.push("/PremiumOD/".concat(e)):16==e?t.props.history.push("/two_wheeler_policy_premium_detailsOD/".concat(e)):17==e?t.props.history.push("/Premium_GCVST/".concat(e)):18==e?t.props.history.push("/Premium_MISCDST/".concat(e)):19==e&&t.props.history.push("/Premium_Sookshma/".concat(e))},t.handleSubmit=function(e){var a=t.state.policyHolder_refNo,n=new FormData;n.append("policy_ref_no",a),t.props.loadingStart(),h.a.post("payment/submit",n).then((function(e){!1===e.data.error?t.policyInception(e.data.data.transaction_no,t.state.quote_id):(C()("Payment failed"),t.props.loadingStop())})).catch((function(e){t.props.loadingStop()}))},t.policyInception=function(e){var a=t.state,n=a.policyHolder_refNo,r=a.request_data,l=r&&r.net_premium?r.net_premium:"",o=r&&r.quote_id?r.quote_id:"",s=new FormData;s.append("quote_id",o),s.append("csc_txn",e),s.append("amount",l),h.a.post("wallet/issue-policy",s).then((function(e){!1===e.data.error?t.props.history.push("/ThankYou/".concat(e.data.data.PolicyNo,"?access_id=").concat(t.state.policyHolder_refNo)):t.paymentRefund(n,e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.paymentRefund=function(e,a){var n=new FormData;n.append("policy_ref_no",e),h.a.post("payment/refund",n).then((function(e){!1===e.data.error&&C()(a+". "+e.data.msg+" Please retry payment"),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new N.a;t.props.loadingStart(),h.a.get("policy-holder-additional-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"";t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:w.a.parse(t.props.location.search).access_id?w.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.motorInsurance,a.request_data),r=(a.refNumber,a.paymentStatus,a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.step_completed,this.props.match.params.productId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vedgetway"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement(p.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:D},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(p.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,"The Summary of your Policy Premium Details is as below "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h4",null,"Policy Reference Number ",n.quote_id?n.quote_id:null)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Premium:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium?n.payable_premium:null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium?n.net_premium:null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Gross Premium:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.gross_premium?Math.round(n.gross_premium):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"GST:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium&&n.gross_premium?Math.round(n.payable_premium-n.gross_premium):null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium&&n.gross_premium?Math.round(n.net_premium-n.gross_premium):null))))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,r)},"Back"),0!=n.net_premium?i.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))),i.a.createElement(f.a,null))))))}}]),c}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(I))},1322:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(377),p=(t(48),t(2)),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(9),S=t(37),w=t.n(S),k=(t(61),t(20)),C=t.n(k),P=(t(3),{gateway:""}),D=b.object().shape({refNo:b.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),I=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){11==e?t.props.history.push("/Premium_MISCD/".concat(e)):9==e?t.props.history.push("/Premium_SME/".concat(e)):8==e?t.props.history.push("/Premium_GCV/".concat(e)):7==e?t.props.history.push("/Premium_GCV_TP/".concat(e)):2==e?t.props.history.push("/Premium/".concat(e)):6==e?t.props.history.push("/four_wheeler_policy_premium_detailsTP/".concat(e)):4==e?t.props.history.push("/two_wheeler_policy_premium_details/".concat(e)):3==e?t.props.history.push("/two_wheeler_policy_premium_detailsTP/".concat(e)):5==e?t.props.history.push("/PolicyDetails/".concat(e)):12==e?t.props.history.push("/arogya_PolicyDetails/".concat(e)):13==e?t.props.history.push("/AccidentAdditionalPremium/".concat(e)):14==e?t.props.history.push("/PolicyDetails_GSB/".concat(e)):17==e?t.props.history.push("/Premium_GCVST/".concat(e)):18==e?t.props.history.push("/Premium_MISCDST/".concat(e)):19==e&&t.props.history.push("/Premium_Sookshma/".concat(e))},t.handleSubmit=function(e){var a=t.state.policyHolder_refNo,n=new FormData;n.append("policy_ref_no",a),t.props.loadingStart(),h.a.post("payment/sahipay-submit",n).then((function(e){!1===e.data.error?t.policyInception(e.data.data.transaction_no,t.state.quote_id):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){t.props.loadingStop()}))},t.policyInception=function(e){var a=t.state,n=a.policyHolder_refNo,r=a.request_data,l=r&&r.net_premium?r.net_premium:"",o=r&&r.quote_id?r.quote_id:"",s=new FormData;s.append("quote_id",o),s.append("csc_txn",e),s.append("amount",l),h.a.post("wallet/issue-policy",s).then((function(e){!1===e.data.error?t.props.history.push("/ThankYou/".concat(e.data.data.PolicyNo,"?access_id=").concat(t.state.policyHolder_refNo)):t.paymentRefund(n,e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.paymentRefund=function(e,a){var n=new FormData;n.append("policy_ref_no",e),h.a.post("payment/sahipay-refund",n).then((function(e){!1===e.data.error&&C()(a+". "+e.data.msg+" Please retry payment"),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new N.a;h.a.get("policy-holder-additional-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"";t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:w.a.parse(t.props.location.search).access_id?w.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.motorInsurance,a.request_data),r=(a.refNumber,a.paymentStatus,a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.step_completed,this.props.match.params.productId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vedgetway"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement(p.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:D},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(p.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,"The Summary of your Policy Premium Details is as below "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h4",null,"Policy Reference Number ",n.quote_id?n.quote_id:null)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Premium:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium?n.payable_premium:null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium?n.net_premium:null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Gross Premium:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.gross_premium?Math.round(n.gross_premium):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"GST:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium&&n.gross_premium?Math.round(n.payable_premium-n.gross_premium):null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium&&n.gross_premium?Math.round(n.net_premium-n.gross_premium):null))))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,r)},"Back"),0!=n.net_premium?i.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))),i.a.createElement(f.a,null))))))}}]),c}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(I))},1323:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(377),p=(t(48),t(2)),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(9),S=t(37),w=t.n(S),k=(t(61),t(20)),C=t.n(k),P=(t(3),{gateway:""}),D=b.object().shape({refNo:b.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),I=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){11==e?t.props.history.push("/Premium_MISCD/".concat(e)):9==e?t.props.history.push("/Premium_SME/".concat(e)):8==e?t.props.history.push("/Premium_GCV/".concat(e)):7==e?t.props.history.push("/Premium_GCV_TP/".concat(e)):2==e?t.props.history.push("/Premium/".concat(e)):6==e?t.props.history.push("/four_wheeler_policy_premium_detailsTP/".concat(e)):4==e?t.props.history.push("/two_wheeler_policy_premium_details/".concat(e)):3==e?t.props.history.push("/two_wheeler_policy_premium_detailsTP/".concat(e)):5==e?t.props.history.push("/PolicyDetails/".concat(e)):12==e?t.props.history.push("/arogya_PolicyDetails/".concat(e)):13==e?t.props.history.push("/AccidentAdditionalPremium/".concat(e)):14==e?t.props.history.push("/PolicyDetails_GSB/".concat(e)):17==e?t.props.history.push("/Premium_GCVST/".concat(e)):18==e?t.props.history.push("/Premium_MISCDST/".concat(e)):19==e&&t.props.history.push("/Premium_Sookshma/".concat(e))},t.handleSubmit=function(e){var a=t.state.policyHolder_refNo,n=new FormData;n.append("policy_ref_no",a),t.props.loadingStart(),h.a.post("payment/transcrop-submit",n).then((function(e){!1===e.data.error?t.policyInception(e.data.data.transaction_no,t.state.quote_id):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){t.props.loadingStop()}))},t.policyInception=function(e){var a=t.state,n=(a.policyHolder_refNo,a.request_data),r=n&&n.net_premium?n.net_premium:"",l=n&&n.quote_id?n.quote_id:"",o=new FormData;o.append("quote_id",l),o.append("csc_txn",e),o.append("amount",r),h.a.post("wallet/issue-policy",o).then((function(e){!1===e.data.error?t.props.history.push("/ThankYou/".concat(e.data.data.PolicyNo,"?access_id=").concat(t.state.policyHolder_refNo)):C()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new N.a;h.a.get("policy-holder-additional-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"";t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:w.a.parse(t.props.location.search).access_id?w.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.motorInsurance,a.request_data),r=(a.refNumber,a.paymentStatus,a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.step_completed,this.props.match.params.productId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vedgetway"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement(p.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:D},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(p.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,"The Summary of your Policy Premium Details is as below "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h4",null,"Policy Reference Number ",n.quote_id?n.quote_id:null)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Premium:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium?n.payable_premium:null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium?n.net_premium:null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Gross Premium:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.gross_premium?Math.round(n.gross_premium):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"GST:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium&&n.gross_premium?Math.round(n.payable_premium-n.gross_premium):null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium&&n.gross_premium?Math.round(n.net_premium-n.gross_premium):null))))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,r)},"Back"),0!=n.net_premium?i.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))),i.a.createElement(f.a,null))))))}}]),c}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(I))},1324:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(377),p=(t(48),t(2)),_=t(31),g=t(34),f=t(40),h=t(7),v=t(38),E=t(19),y=t(22),b=t(1),N=t(9),S=t(37),w=t.n(S),k=(t(61),t(20)),C=t.n(k),P=(t(3),{gateway:""}),D=b.object().shape({refNo:b.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),I=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){11==e?t.props.history.push("/Premium_MISCD/".concat(e)):9==e?t.props.history.push("/Premium_SME/".concat(e)):8==e?t.props.history.push("/Premium_GCV/".concat(e)):7==e?t.props.history.push("/Premium_GCV_TP/".concat(e)):2==e?t.props.history.push("/Premium/".concat(e)):6==e?t.props.history.push("/four_wheeler_policy_premium_detailsTP/".concat(e)):4==e?t.props.history.push("/two_wheeler_policy_premium_details/".concat(e)):3==e?t.props.history.push("/two_wheeler_policy_premium_detailsTP/".concat(e)):5==e?t.props.history.push("/PolicyDetails/".concat(e)):12==e?t.props.history.push("/arogya_PolicyDetails/".concat(e)):13==e?t.props.history.push("/AccidentAdditionalPremium/".concat(e)):14==e?t.props.history.push("/PolicyDetails_GSB/".concat(e)):17==e?t.props.history.push("/Premium_GCVST/".concat(e)):18==e?t.props.history.push("/Premium_MISCDST/".concat(e)):19==e&&t.props.history.push("/Premium_Sookshma/".concat(e))},t.handleSubmit=function(e){var a=t.state.policyHolder_refNo,n=new FormData;n.append("policy_ref_no",a),t.props.loadingStart(),h.a.post("payment/fia-submit",n).then((function(e){!1===e.data.error?t.policyInception(e.data.data.transaction_no,t.state.quote_id):(C()(e.data.msg),t.props.loadingStop())})).catch((function(e){t.props.loadingStop()}))},t.policyInception=function(e){var a=t.state,n=(a.policyHolder_refNo,a.request_data),r=n&&n.net_premium?n.net_premium:"",l=n&&n.quote_id?n.quote_id:"",o=new FormData;o.append("quote_id",l),o.append("csc_txn",e),o.append("amount",r),h.a.post("wallet/issue-policy",o).then((function(e){!1===e.data.error?t.props.history.push("/ThankYou/".concat(e.data.data.PolicyNo,"?access_id=").concat(t.state.policyHolder_refNo)):C()("Something went wrong"),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new N.a;h.a.get("policy-holder-additional-details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"";t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:w.a.parse(t.props.location.search).access_id?w.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.motorInsurance,a.request_data),r=(a.refNumber,a.paymentStatus,a.relation,a.memberdetails,a.nomineedetails,a.vehicleDetails,a.breakin_flag,a.step_completed,this.props.match.params.productId);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(g.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox vedgetway"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),i.a.createElement(p.e,{initialValues:P,onSubmit:this.handleSubmit,validationSchema:D},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(p.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,"The Summary of your Policy Premium Details is as below "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h4",null,"Policy Reference Number ",n.quote_id?n.quote_id:null)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Premium:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium?n.payable_premium:null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium?n.net_premium:null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Gross Premium:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.gross_premium?Math.round(n.gross_premium):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"GST:")),i.a.createElement(d.a,{sm:12,md:3},9==r?i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.payable_premium&&n.gross_premium?Math.round(n.payable_premium-n.gross_premium):null):i.a.createElement("div",{className:"premamount"},"\u20b9 ",n.net_premium&&n.gross_premium?Math.round(n.net_premium-n.gross_premium):null))))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,r)},"Back"),0!=n.net_premium?i.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))),i.a.createElement(f.a,null))))))}}]),c}(c.Component);a.default=Object(v.g)(Object(y.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(E.a)())},loadingStop:function(){return e(Object(E.b)())}}}))(I))},1325:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(77),S=(t(25),{policy_number:""}),w=h.object().shape({policy_number:h.string().required("RequiredField").matches(/^[a-zA-Z0-9-]*$/,(function(){return"ValidPolicyNumber"}))}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastlanelog:[]},e.back=function(){e.props.history.push("/Products")},e.forward=function(a){"1"==a?e.props.history.push("/MotorCoverages"):e.props.history.push("/HealthSummery")},e.handleSubmit=function(a,t){var n=new FormData,r=new y.a,l="",o="",s=sessionStorage.getItem("users")?sessionStorage.getItem("users"):"",c=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";if(c)l=(c=JSON.parse(r.decrypt(c)))?c.agent_id:"",o="bc";else if(s&&sessionStorage.getItem("csc_id")){var i=new y.a;s=(s=JSON.parse(s)).user,s=JSON.parse(i.decrypt(s)),console.log("cscData----------- ",s),l=s.master_user_id,o="csc",sessionStorage.getItem("type")?n.append("csc_user_type",sessionStorage.getItem("type")):n.append("csc_user_type",s.user_type)}a.policy_number,n.append("policy_number",a.policy_number),n.append("user_id",l),n.append("user_type",o),e.props.loadingStart(),p.a.post("/renewal/policy-search",n).then((function(n){0==n.data.error?(t.setSubmitting(!1),1==n.data.data.eligible_for_renewal?e.quoteDetails(a.policy_number,t):e.props.loadingStop()):(E()(n.data.msg),t.setSubmitting(!1),e.props.loadingStop())})).catch((function(a){a&&a.data&&t.setSubmitting(!1),e.props.loadingStop()}))},e.quoteDetails=function(a,t){var n=new FormData;new y.a;n.append("policy_number",a),e.props.loadingStart(),p.a.post("/renewal/quote-detail",n).then((function(a){if(0==a.data.error){localStorage.setItem("policyHolder_refNo",a.data.data.reference_no),localStorage.setItem("policyHolder_id",a.data.data.policyHolder_id);var t=a.data.data.policy_type?a.data.data.policy_type:"";e.props.loadingStop(),e.forward(t)}else E()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"render",value:function(){var e=this,a=(this.state.motorInsurance,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null);return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,a?c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},a.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},"Please provide your previous year policy number for renewal"),c.a.createElement(b.e,{initialValues:S,onSubmit:this.handleSubmit,validationSchema:w},(function(t){var n=t.values,r=t.errors,l=(t.setFieldValue,t.setFieldTouched,t.isValid,t.isSubmitting,t.touched);return c.a.createElement(b.d,null,c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Enter Policy Number :"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement(b.b,{name:"policy_number",type:"text",placeholder:"policy number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:n.policy_number}),r.policy_number&&l.policy_number?c.a.createElement("span",{className:"errorMsg"},a[r.policy_number]):null)),c.a.createElement("div",{className:"row formSection"}," \xa0 "),c.a.createElement("div",null,c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},a.hasOwnProperty("Renew")?a.Renew:null)))})))),c.a.createElement(u.a,null))))):null))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())},setData:function(a){return e(Object(N.a)(a))}}}))(k))},1326:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(7),b=t(38),N=t(19),S=t(22),w=t(1),k=t(9),C=t(37),P=t.n(C),D=t(61),I=t(20),M=t.n(I),B=t(3),A=t.n(B),O=t(97),x={gateway:""},H={1:"Model",3:"TwoWheelModel",4:"GCVModel",7:"MISCDModel"},R={1:"Brand",3:"TwoWheelBrand",4:"GcvBrand",7:"MISCDBrand"},L=[2,6,7,8,11,15,17,18],j=w.object().shape({refNo:w.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),F=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_GCV/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.policyHolder_refNo,r=a.policyHolder,l=t.props.match.params.productId;Object(O.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";new k.a;y.a.get("renewal/policy-details/".concat(e)).then((function(e){var a=e.data;console.log("decrypt",a);var n=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},r=a.data.policyHolder?a.data.policyHolder:[],l=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},o=a.data.policyHolder?a.data.policyHolder.previouspolicy:{},s=a.data.policyHolder?a.data.policyHolder.request_data:{},c=a.data.policyHolder?a.data.policyHolder.step_no:"",i=a.data.policyHolder?a.data.policyHolder.bcmaster:{},m=a.data.policyHolder&&a.data.policyHolder.vehiclebrandmodel&&a.data.policyHolder.vehiclebrandmodel.vehiclemodel?a.data.policyHolder.vehiclebrandmodel.vehiclemodel.menumaster_id:{},d=a.data.policyHolder&&a.data.policyHolder.renewalinfo&&a.data.policyHolder.renewalinfo.renewalcoverage?a.data.policyHolder.renewalinfo.renewalcoverage:[],u=a.data.policyHolder&&a.data.policyHolder.bcmaster&&a.data.policyHolder.bcmaster.paymentgateway;t.setState({motorInsurance:n,policyHolder:r,vehicleDetails:l,previousPolicy:o,request_data:s,menumaster:m,step_completed:c,bcMaster:i,policyCoverage:d,paymentgateway:u,paymentStatus:a.data.policyHolder.payment?a.data.policyHolder.payment[0]:[],memberdetails:a.data.policyHolder?a.data.policyHolder:[],nomineedetails:a.data.policyHolder&&a.data.policyHolder.request_data.nominee?a.data.policyHolder.request_data.nominee[0]:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(O.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),t.props.loadingStart(),y.a.post("breakin/create",a).then((function(e){M()("Your breakin request has been raised. Your inspection Number: ".concat(e.data.data.inspection_no)),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),y.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),y.a.post("send-payment-link",e).then((function(e){M()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyCoverage:[],paymentgateway:[],policyHolder_refNo:P.a.parse(t.props.location.search).access_id?P.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){console.log("otp",e),this.setState({show:!1}),this.props.history.push("/ThankYou_motor")}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show,a.paymentgateway),r=a.motorInsurance,l=a.error,o=(a.error1,a.paymentStatus),s=a.bcMaster,c=a.policyCoverage,_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.breakin_flag,w=(a.step_completed,a.request_data),k=a.menumaster,C=(this.props.match.params.productId,localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null),P=l&&l.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=o&&103==o.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null,M=c&&c.length>0?c.map((function(e,a){return e.renewalsubcoverage&&e.renewalsubcoverage.length>0?e.renewalsubcoverage.map((function(e,a){return 0!=parseInt(e.interest_premium)?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.interest_name)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"\u20b9 ",Math.round(e.interest_premium))))):null})):0!=parseInt(e.annual_premium)?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.cover_name)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"\u20b9 ",Math.round(e.annual_premium),"  ")))):null})):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},C.SBIGICL),i.a.createElement(f.e,{initialValues:x,onSubmit:this.handleSubmit,validationSchema:j},(function(a){var l=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,C.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,P),i.a.createElement("h5",null,I),i.a.createElement("h4",null,C.PolRefNumber," ",w.quote_id)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},w&&w.start_date?A()(w.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},w&&w.end_date?A()(w.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.DefaultCovered},i.a.createElement("div",{className:"listrghtsideTrigr"},M))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",w.payable_premium)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(w.gross_premium))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},C.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(w.service_tax))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,k?C[R[k]]:null,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,k?C[H[k]]:null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.chasis_no?r.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,r&&r.engine_no?r.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?D.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))),N&&N.vehicletype&&L.includes(N.vehicletype.id)?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.body_style?N.varientmodel.body_style:null))):null,N&&N.vehicletype&&L.includes(N.vehicletype.id)?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GrossVehicleWeight)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.gross_vechicle_weight?N.varientmodel.gross_vechicle_weight:null))):null,w&&0==parseInt(w.IDV_Suggested)?null:i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.IDV_Suggested?parseInt(w.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,C.OwnerDetails," "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},r&&"1"==r.policy_for?i.a.createElement(u.a,null,C.Name,":"):i.a.createElement(u.a,null,C.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),r&&"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.DateOfBirth,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.dob).format("DD-MM-YYYY"):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?A()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),r&&"1"==r.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),b?i.a.createElement("div",null,i.a.createElement("strong",null,C.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.DateOfBirth,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?A()(b.dob).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,b&&"1"==b.is_appointee?i.a.createElement("div",null,i.a.createElement("strong",null,C.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},n&&n.length>0?n.map((function(e,a){return i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.slug)},checked:l.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.logo?i.a.createElement("img",{src:t(137)("./"+e.logo),alt:""}):null)))})):null)))),i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},s&&1==s.eligible_for_payment_link?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",C.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,w.quote_id&&0==S&&""!=l.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},C.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))}))),i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(F))},1327:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(51),l=t.n(r),o=t(72),s=t(13),c=t(14),i=t(46),m=t(18),d=t(17),u=(t(98),t(0)),p=t.n(u),_=t(904),g=t(903),f=t(913),h=t(377),v=t(910),E=t(48),y=t.n(E),b=(t(95),t(96),t(2)),N=t(31),S=t(34),w=t(40),k=t(38),C=t(19),P=t(22),D=t(7),I=t(9),M=t(1),B=t(20),A=t.n(B),O=(t(3),t(37)),x=t.n(O),H=t(25),R=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],L=(M.object().shape({registration_no:M.string().when("newRegistrationNo",{is:"NEW",then:M.string(),otherwise:M.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)}))}),puc:M.string().required("Please verify pollution certificate to proceed"),engine_no:M.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:M.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(17,(function(){return"ChasisMax"})),vahanVerify:M.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:M.string().when(["PA_flag"],{is:function(e){return"1"==e},then:M.string().required("PleasePACover"),otherwise:M.string()}),ATC_value:M.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseAdditionalTowingCharges"),otherwise:M.string()}),B00070_value:M.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseEnterNoWorkman").matches(/^[0-9]*$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00018_value:M.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePACoverage").test("isLoanChecking",(function(){return"Value16Lto50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),B00069_value:M.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00012_value:M.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00013_value:M.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideDriver"),otherwise:M.string()}),B00022_value:M.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00020_value:M.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("This field is required"),otherwise:M.string()}),B00004_value:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00004_description:M.string().when(["electric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00003_value:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").test("maxMinIDVCheck",(function(){return"IDVShouldBe1000To1000000"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})),otherwise:M.string()}),B00003_description:M.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]*$/,"PleaseValidDescription"),otherwise:M.string()}),B00073_value:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:M.string()}),B00073_description:M.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvidePaidDriv").matches(/^[0-9]$/,"PleaseProvideValidNumber"),otherwise:M.string()}),B00007_value:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"PleaseProvideValidNo"),otherwise:M.string()}),B00007_description:M.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:M.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:M.string()}),B00010:M.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:M.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(A()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:M.string()}),B00005_value:M.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:M.string().required("PleaseProvideIDV").test("isLoanChecking",(function(){return"Value1Kto10L"}),(function(e){return!(parseInt(e)<1e3||e>1e6)})).matches(/^[0-9]*$/,(function(){return"PleaseEnterIDV"})),otherwise:M.string()}),fuel_type:M.string().required("Select fuel type"),geographical_extension_length:M.string().when(["Geographical_flag"],{is:function(e){return"1"==e},then:M.string().test("geoExtention",(function(){return"SelectAnyOneCountry"}),(function(e){return!(e<1)})),otherwise:M.string()}),trailer_array:M.array().of(M.object().shape({regNo:M.string().required("RegistrationNoRequired").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(H.j)(e)})),chassisNo:M.string().required("ChassisNoIsRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChassisNo"})).min(5,(function(){return"ChassisNoMin"})).max(17,(function(){return"ChassisNoMax"}))}))}),R.B00002,R.B00003,R.B00004,R.B00005,R.B00006,R.B00007,R.B00008,R.B00009,R.B00010,R.B00011,R.B00012,R.B00013,R.B00069,R.B00070,R.B00071,R[700000353],R.B00073,R.B00018,R.B00019,R.B00020,R.B00022,R.GEOGRAPHYOD,R.GEOGRAPHYTP,function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handleChange=function(){n.setState({serverResponse:[],error:[]})},n.showCNGText=function(e){1==e?n.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):n.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},n.sliderValue=function(e){n.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},n.bodySliderValue=function(e){n.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},n.vehicleDetails=function(e){n.props.history.push("/VehicleDetails_GCV/".concat(e))},n.fetchData=function(){n.props.match.params.productId;var e=n.state.policyHolder_refNo?n.state.policyHolder_refNo:"0";new I.a;D.a.get("renewal/policy-details/".concat(e)).then((function(e){var a=e.data,t=[],r=[],l=[],o=[],s=[],c=[],i=[],m=a.data.policyHolder?a.data.policyHolder.motorinsurance:{},d=m&&null!=m.registration_date?m.registration_date:"",u=a.data.policyHolder?a.data.policyHolder.request_data:{},p=u&&u.IDV_Suggested?parseInt(u.IDV_Suggested):"",_=a.data.policyHolder?a.data.policyHolder.vehiclebrandmodel:{},g=a.data.policyHolder&&a.data.policyHolder.renewalinfo&&a.data.policyHolder.renewalinfo.renewalcoverage?a.data.policyHolder.renewalinfo.renewalcoverage:[];g.map((function(e,a){t.push(e.cover_type_id),e.renewalsubcoverage&&e.renewalsubcoverage.length>0&&e.renewalsubcoverage.map((function(e,a){return e.interest_premium&&0!=parseInt(e.interest_premium)?t.push(e.interest_id):null}))})),r=(r=a.data.policyHolder&&a.data.policyHolder.renewalinfo&&a.data.policyHolder.renewalinfo.quote_response?JSON.parse(a.data.policyHolder.renewalinfo.quote_response):[])&&r.policySOABO.insuredSOABOList.policyCtSOABOList,(l=(l=a.data.policyHolder&&a.data.policyHolder.renewalinfo&&a.data.policyHolder.renewalinfo.quote_response?JSON.parse(a.data.policyHolder.renewalinfo.quote_response):[])&&l.policySOABO.insuredSOABOList.dynamicObjectList).map((function(e,a){"Extention_Country"==e.bizTableName&&e.dynamicAttributeVOList&&e.dynamicAttributeVOList.valueMap&&("1"==e.dynamicAttributeVOList.valueMap.Bangladesh||"1"==e.dynamicAttributeVOList.valueMap.Bhutan||"1"==e.dynamicAttributeVOList.valueMap.Maldives||"1"==e.dynamicAttributeVOList.valueMap.Nepal||"1"==e.dynamicAttributeVOList.valueMap.Pakistan||"1"==e.dynamicAttributeVOList.valueMap.SriLanka)&&(t.push("geographical_extension"),"1"==e.dynamicAttributeVOList.valueMap.Bangladesh&&s.push("GeoExtnBangladesh"),"1"==e.dynamicAttributeVOList.valueMap.Bhutan&&s.push("GeoExtnBhutan"),"1"==e.dynamicAttributeVOList.valueMap.Maldives&&s.push("GeoExtnMaldives"),"1"==e.dynamicAttributeVOList.valueMap.Nepal&&s.push("GeoExtnNepal"),"1"==e.dynamicAttributeVOList.valueMap.Pakistan&&s.push("GeoExtnPakistan"),"1"==e.dynamicAttributeVOList.valueMap.SriLanka&&s.push("GeoExtnSriLanka"))})),l.map((function(e,a){if("TrailerDetails"==e.bizTableName&&e.dynamicAttributeVOList&&e.dynamicAttributeVOList.valueMap){var t={B00007:{value:e.dynamicAttributeVOList.valueMap.NoOfTrailers,description:e.dynamicAttributeVOList.valueMap.NoOfTrailers}};n.setState({no_of_claim:e.dynamicAttributeVOList.valueMap.NoOfTrailers}),o.push(t)}})),r&&r.length>0&&r.map((function(e,a){e&&e.policyCtAcceSOABOList&&e.policyCtAcceSOABOList.length>0&&e.policyCtAcceSOABOList.map((function(e,a){if("700001865"==e.interestId){var t={chassisNo:e.fieldValueMap.TrailerChassisNumbers1_BT,regNo:e.fieldValueMap.TrailerRegNo_BT};c.push(t)}if("900000005"==e.interestId){t={chassisNo:e.fieldValueMap.TrailerChassisNumber_BT,regNo:e.fieldValueMap.TrailerRegNo_BT};c.push(t)}}))})),r&&r.length>0&&r.map((function(e,a){"900009555"==e.coverTypeId&&e.dynamicObjectList.map((function(e,a){"Tyre_Rim_PM_Obj"==e.bizTableName&&e.dynamicAttributeVOList.length>0&&e.dynamicAttributeVOList.map((function(e,a){var t={tyreSerialNo:e.valueMap&&e.valueMap.Tyre_Serial_no_PM,tyreMfgYr:e.valueMap&&e.valueMap.Tyre_MFG_Year_PM,vehicleRegDate:d,policy_for:n.state.policy_for};i.push(t)}))}))})),n.setState({motorInsurance:m,request_data:u,vehicleDetails:_,policyCoverage:g,add_more_coverage:t,add_more_coverage_request_array:r,geographical_extension:s,selectFlag:m&&null!=m.add_more_coverage?"0":"1",sliderVal:p,additional_coverage:o,vehicleRegDate:d,trailer_array:c,tyre_rim_array:i}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.getFuelList=function(e){n.props.loadingStart(),D.a.get("/fuel-list").then((function(e){n.setState({fuelList:e.data.data.fuellist}),n.fetchData()})).catch((function(e){n.setState({fuelList:[]}),n.props.loadingStop()}))},n.getMoreCoverage=function(){n.props.loadingStart();var e=new I.a;D.a.get("gcv/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data)).data;console.log("decryptResp--getMoreCoverage-- ",t),n.setState({moreCoverage:t}),n.getFuelList()})).catch((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decryptERR--getMoreCoverage-- ",t),n.setState({moreCoverage:[]}),n.props.loadingStop()}))},n.getVahanDetails=function(){var e=Object(o.a)(l.a.mark((function e(a,t,r,o){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),r("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",n.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}A()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return n.props.loadingStart(),e.next=12,D.a.post("/getVahanDetails",s).then((function(e){n.setState({vahanDetails:e.data,vahanVerify:!0}),n.state.vahanDetails.data[0].chasiNo&&n.setState({chasiNo:n.state.vahanDetails.data[0].chasiNo}),n.state.vahanDetails.data[0].engineNo&&n.setState({engineNo:n.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),r("vahanVerify",!0),t("engine_no"),r("engine_no",n.state.engineNo),t("chasis_no"),r("chasis_no",n.state.chasiNo),n.props.loadingStop()})).catch((function(e){n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),r("vahanVerify",!0),n.props.loadingStop()}));case 12:e.next=19;break;case 14:n.props.loadingStart(),n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),r("vahanVerify",!0),n.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),n.handleSubmit=function(){n.props.history.push("/MotorSummery")},n.onGeoAreaSelect=function(e,a,t,r,l){var o=n.state,s=(o.add_more_coverage,o.geographical_extension);if(t)s.push(e),n.setState({geographical_extension:s,serverResponse:[],error:[]}),r(e),l(e,"1"),r("geographical_extension_length"),l("geographical_extension_length",s.length);else{var c=s.indexOf(e);-1!==c&&(s.splice(c,1),n.setState({serverResponse:[],error:[]})),r(e),l(e,""),r("geographical_extension_length"),l("geographical_extension_length",s.length)}},n.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},n.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var r=t;r>=a;r--)e.trailer_array.splice(r,1);else if(e.trailer_array.length<a)for(r=e.trailer_array.length;r<a;r++)e.trailer_array.push({chassisNo:"",regNo:""});n.setState({no_of_claim:a,serverResponse:[],error:[]})},n.initClaimDetailsList=function(){for(var e=[],a=n.state.trailer_array,t=0;t<n.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},n.initTyreClaimDetailsList=function(){var e=[],a=n.state,t=a.tyre_rim_array,r=a.vehicleRegDate,l=a.policy_for;if(t&&t.length>0)for(var o=0;o<n.state.no_of_Tyreclaim;o++)e.push({tyreSerialNo:t&&t[o]&&t[o].tyreSerialNo?t[o].tyreSerialNo:"",tyreMfgYr:t&&t[o]&&t[o].tyreMfgYr?t[o].tyreMfgYr:"",vehicleRegDate:r,policy_for:l});return e},n.handleClaims=function(e,a,t,r,l){for(var o=[],s=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],c=0;c<e.B00007_value;c++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:1},p.a.createElement("span",{className:"indexing"}," ",c+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)},onInput:function(e){n.regnoFormat(e,r,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?p.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?p.a.createElement("span",{className:"errorMsg"},s[a.trailer_array[c].chassisNo]):null))))));return o},n.handleTyreClaims=function(e,a,t,r,l){for(var o=[],s=(localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases")),0);s<2;s++)o.push(p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:1,md:1,lg:2},p.a.createElement("span",{className:"indexing"}," Tyre",s+1," ")),p.a.createElement(_.a,{sm:12,md:5,lg:3},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"tyre_rim_array[".concat(s,"].tyreMfgYr"),type:"text",placeholder:"MFG Year",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreMfgYr?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreMfgYr):null))),p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"tyre_rim_array[".concat(s,"].tyreSerialNo"),type:"text",placeholder:"Serial No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.tyre_rim_array&&a.tyre_rim_array[s]&&a.tyre_rim_array[s].tyreSerialNo?p.a.createElement("span",{className:"errorMsg"},a.tyre_rim_array[s].tyreSerialNo):null))))));return o},n.handleShow=n.handleShow.bind(Object(i.a)(n)),n.handleClose=n.handleClose.bind(Object(i.a)(n)),n.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:[],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],no_of_Tyreclaim:2,trailer_array:[],ncbDiscount:0,geographical_extension:[],validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1,policyHolder_refNo:x.a.parse(n.props.location.search).access_id?x.a.parse(n.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},n}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.add_more_coverage,r=a.additional_coverage,l=a.request_data,o=a.error,s=a.policyCoverage,c=a.vahanVerify,i=a.selectFlag,m=a.fulQuoteResp,d=a.PolicyArray,E=(a.fuelList,a.depreciationPercentage),k=a.vehicleDetails,C=a.geographical_extension,P=a.moreCoverage,D=a.sliderVal,I=a.bodySliderVal,M=a.motorInsurance,B=a.serverResponse,A=a.engine_no,O=a.chasis_no,x=a.initialValue,H=a.add_more_coverage_request_array,R=a.ncbDiscount,L=(this.props.match.params.productId,k?k.vehicletype_id:""),j=D,F=d.length>0?d[0].PolicyRiskList[0].MinIDV_Suggested:0,q=d.length>0?d[0].PolicyRiskList[0].MaxIDV_Suggested:0,T=F,V=d.length>0?Math.floor(q):null,G=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[];0==Number.isInteger(F)&&(T=d.length>0?Math.floor(d[0].PolicyRiskList[0].MinIDV_Suggested):null,T+=1);var Y=d.length>0?d[0].PolicyRiskList[0].MSP-d[0].PolicyRiskList[0].MSP*(E/100):0,J=(d.length>0&&Math.floor(Y/2),I),z=t?t.toString():"";z=z?z.split(","):"";var Z={},$=k&&k.varientmodel&&k.varientmodel.fueltype?k.varientmodel.fueltype.id:"",U=t.indexOf("700001865")>0||t.indexOf("900000005")>0?"1":"0",Q=t.indexOf("900009555")>0?"1":"0",W=t.indexOf("900001147")>0?"1":"0",K=t.indexOf("700001865")>0||t.indexOf("700000342")>0||t.indexOf("900000002")>0?"1":"0",X=t.indexOf("700001862")>0||t.indexOf("700000341")>0||t.indexOf("900000001")>0?"1":"0",ee=H.B00020&&H.B00020.value?"1":"0",ae=H.B00022&&H.B00022.value?"1":"0",te=t.indexOf("700000351")>0||t.indexOf("900000687")>0||t.indexOf("900000743")>0?"1":"0",ne=t.indexOf("900000688")>0||t.indexOf("900000742")>0?"1":"0",re=H.B00069&&H.B00069.value?"1":"0",le=H.B00018&&H.B00018.value?"1":"0",oe=H.ATC&&H.ATC.value?"1":"0",se=H.B00070&&H.B00070.value?"1":"0",ce=H.B00011&&H.B00011.value?"1":"0",ie=H.B00005&&H.B00005.value?"1":"0",me=t&&t[t.indexOf("geographical_extension")]?"1":"0",de={};de="1"==i?Object.assign(x,{registration_no:M.registration_no?M.registration_no.replace(/ /g,""):"",chasis_no:M.chasis_no?M.chasis_no:O||"",chasis_no_last_part:M.chasis_no_last_part?M.chasis_no_last_part:"",add_more_coverage:t||"",engine_no:M.engine_no?M.engine_no:A||"",vahanVerify:c,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00006:k&&k.varientmodel&&(3==k.varientmodel.fueltype.id||4==k.varientmodel.fueltype.id)?"B00006":"",B00010:k&&k.varientmodel&&(3==k.varientmodel.fueltype.id||4==k.varientmodel.fueltype.id)?"B00010":"",PA_cover_flag:t.indexOf("700000452")>0||t.indexOf("700000353")>0||t.indexOf("900000695")>0||t.indexOf("900000750")>0?"1":"0",PA_flag:t.indexOf("700000453")>0||t.indexOf("700000354")>0||t.indexOf("700000941")>0?"1":"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:$,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList(),tyre_rim_array:this.initTyreClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:C&&C.length}):Object.assign(x,{registration_no:M.registration_no?M.registration_no:"",chasis_no:M.chasis_no?M.chasis_no:O||"",chasis_no_last_part:M.chasis_no_last_part?M.chasis_no_last_part:"",add_more_coverage:t||"",engine_no:M.engine_no?M.engine_no:A||"",vahanVerify:c,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:t.indexOf("700000453")>0||t.indexOf("700000354")>0||t.indexOf("700000941")>0?"1":"0",PA_cover_flag:t.indexOf("700000452")>0||t.indexOf("700000353")>0||t.indexOf("900000695")>0||t.indexOf("900000750")>0?"1":"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:$,trailer_flag_TP:"0",B00010:"",trailer_array:this.initClaimDetailsList(),tyre_rim_array:this.initTyreClaimDetailsList(),Geographical_flag:"0",geographical_extension_length:C&&C.length});for(var ue=0;ue<z.length;ue++)Z[z[ue]]=z[ue];Z.slider=j,Z.trailer_flag=U,Z.tyre_cover_flag=Q,Z.pa_coolie_flag=W,Z.electric_flag=K,Z.nonElectric_flag=X,Z.hospital_cash_OD_flag=ee,Z.hospital_cash_PD_flag=ae,Z.LL_PD_flag=te,Z.LL_Emp_flag=ne,Z.LL_Coolie_flag=re,Z.enhance_PA_OD_flag=le,Z.ATC_flag=oe,Z.LL_workman_flag=se,Z.trailer_flag_TP=ce,Z.CNG_OD_flag=ie,Z.Geographical_flag=me,Z.ATC_value=H.ATC?H.ATC.value:"",Z.B00018_value=H.B00018?H.B00018.value:"",Z.B00069_value=H.B00069?H.B00069.value:"",Z.B00022_value=H.B00022?H.B00022.value:"",Z.B00020_value=H.B00020?H.B00020.value:"",Z.B00070_value=H.B00070?H.B00070.value:"",Z.B00005_value=H.B00005?H.B00005.value:"",Z.GeoExtnBangladesh=C?C[C.indexOf("GeoExtnBangladesh")]:"",Z.GeoExtnBhutan=C?C[C.indexOf("GeoExtnBhutan")]:"",Z.GeoExtnNepal=C?C[C.indexOf("GeoExtnNepal")]:"",Z.GeoExtnMaldives=C?C[C.indexOf("GeoExtnMaldives")]:"",Z.GeoExtnPakistan=C?C[C.indexOf("GeoExtnPakistan")]:"",Z.GeoExtnSriLanka=C?C[C.indexOf("GeoExtnSriLanka")]:"",H&&H.length>0&&H.map((function(e,a){e&&e.policyCtAcceSOABOList&&e.policyCtAcceSOABOList.length>0?e.policyCtAcceSOABOList.map((function(e,a){"700000351"==e.interestId&&(Z.B00013_value=e.fieldValueMap.NoofPaidDrivers_BT),"900000687"!=e.interestId&&"900000743"!=e.interestId||(Z.B00013_value=e.fieldValueMap.NoOfPersons),"900000688"!=e.interestId&&"900000742"!=e.interestId||(Z.B00012_value=e.fieldValueMap.NoOfPersons),"700001865"!=e.interestId&&"900000005"!=e.interestId||(Z.B00007_description=e.calTotoalSumInsured),"700001862"==e.interestId&&(Z.B00004_value=e.calTotoalSumInsured,Z.B00004_description=e.fieldValueMap.AccessoryDescripton1_BT),"700000342"==e.interestId&&(Z.B00004_value=e.calTotoalSumInsured,Z.B00004_description=e.fieldValueMap.AccessoryDescripton3_BT),"900000002"==e.interestId&&(Z.B00004_value=e.calTotoalSumInsured,Z.B00004_description=e.fieldValueMap.AccessoryDescripton2_BT),"700001861"==e.interestId&&(Z.B00003_value=e.calTotoalSumInsured,Z.B00003_description=e.fieldValueMap.AccessoryDescripton1_BT),"900000001"==e.interestId&&(Z.B00003_value=e.calTotoalSumInsured,Z.B00003_description=e.fieldValueMap.AccessoryDescripton2_BT),"700000341"==e.interestId&&(Z.B00003_value=e.calTotoalSumInsured,Z.B00003_description=e.fieldValueMap.AccessoryDescripton3_BT),"900001147"==e.interestId&&(Z.B00073_value=e.fieldValueMap.SumInsured_BT,Z.B00073_description=e.fieldValueMap.No_of_Cleaner_conductor_coolie),"900000695"!=e.interestId&&"700000353"!=e.interestId&&"700000452"!=e.interestId||(Z.PA_Cover_OD=e.totoalSumInsured),"700000453"!=e.interestId&&"700000354"!=e.interestId&&"700000941"!=e.interestId||(Z.PA_Cover=e.fieldValueMap.SumInsured_BT)})):e.hasOwnProperty("policyCtAcceSOABOList")&&("700000452"!=e.policyCtAcceSOABOList.interestId&&"700000353"!=e.policyCtAcceSOABOList.interestId&&"900000750"!=e.policyCtAcceSOABOList.interestId||(Z.PA_Cover_OD=e.policyCtAcceSOABOList.calTotoalSumInsured))})),r&&r.length>0&&r.map((function(e,a){e.B00007&&(Z.B00007_value=e.B00007.value)})),de=Object.assign(x,Z);B.PolicyLobList&&B.PolicyLobList[0].PolicyRiskList[0];var pe=1,_e=s&&s.length>0?s.map((function(e,a){return e.renewalsubcoverage&&e.renewalsubcoverage.length>0?e.renewalsubcoverage.map((function(e,a){return 0!=parseInt(e.interest_premium)?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,e.interest_name)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.interest_premium))))):null})):0!=parseInt(e.annual_premium)?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,e.cover_name)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(e.annual_premium),"  ")))):null})):null,ge=s&&s.length>0?s.map((function(e,a){return e.renewalsubcoverage&&e.renewalsubcoverage.length>0?e.renewalsubcoverage.map((function(e,a){return 0!=parseInt(e.interest_premium)?p.a.createElement("tr",null,p.a.createElement("td",null,e.interest_name,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.interest_premium))):null})):0!=parseInt(e.annual_premium)?p.a.createElement("tr",null,p.a.createElement("td",null,e.cover_name,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(e.annual_premium))):null})):null,fe=(R&&0!=R&&1==pe&&(g.a,_.a,f.a,G.NCBDiscount,_.a,pe+=1,f.a,Math.round(R)),m&&m.PolicyLobList&&Math.round(m.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,G.IMT)),p.a.createElement(_.a,{sm:12,md:6},p.a.createElement(f.a,null,"\u20b9 ",Math.round(m.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null);pe=1;R&&0!=R&&1==pe&&(pe+=1,G.NCBDiscount,Math.round(R));var he=m&&m.PolicyLobList&&Math.round(m.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?p.a.createElement("tr",null,p.a.createElement("td",null,G.IMT,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(m.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null,ve=o&&o.message?p.a.createElement("span",{className:"errorMsg"},p.a.createElement("h6",null,p.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(N.a,null,p.a.createElement("div",{className:"page-wrapper"},p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"row"},p.a.createElement("aside",{className:"left-sidebar"},p.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},p.a.createElement(S.a,null))),p.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox ocGcv"},p.a.createElement("h4",{className:"text-center mt-3 mb-3"},G.SBIGICL),p.a.createElement("section",{className:"brand colpd m-b-25"},p.a.createElement("div",{className:"d-flex justify-content-left"},p.a.createElement("div",{className:"brandhead m-b-10"},p.a.createElement("h4",{className:"m-b-30"},G.GSBVehicleDamage),p.a.createElement("h5",null,ve))),p.a.createElement(b.e,{initialValues:de,onSubmit:this.handleSubmit},(function(a){var t,r=a.values,o=a.errors,s=a.setFieldValue,c=a.setFieldTouched,i=(a.isValid,a.isSubmitting,a.touched);return p.a.createElement(b.d,null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:9,lg:9},p.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},p.a.createElement(y.a,{trigger:G.DefaultCovered,open:!0},p.a.createElement("div",{className:"listrghtsideTrigr"},_e,fe))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:5},p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},G.RegNo))),p.a.createElement(_.a,{sm:12,md:5,lg:6},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.registration_no,maxLength:e.state.length,disabled:!0,onInput:function(a){e.regnoFormat(a,c,s)}}),o.registration_no?p.a.createElement("span",{className:"errorMsg"},G[o.registration_no]):null)))))),p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"engine_no",type:"text",placeholder:G.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.engine_no.toUpperCase(),maxLength:"17",disabled:!0,onChange:function(e){c("engine_no"),s("engine_no",e.target.value)}}),o.engine_no&&i.engine_no?p.a.createElement("span",{className:"errorMsg"},G[o.engine_no]):null))),p.a.createElement(_.a,{sm:12,md:6,lg:5},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"chasis_no",type:"text",placeholder:G.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.chasis_no.toUpperCase(),maxLength:"17",disabled:!0,onChange:function(e){c("chasis_no"),s("chasis_no",e.target.value)}}),o.chasis_no&&i.chasis_no?p.a.createElement("span",{className:"errorMsg"},G[o.chasis_no]):null)))),j?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},G.IDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"IDV",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:j}),o.IDV&&i.IDV?p.a.createElement("span",{className:"errorMsg"},o.IDV):null))),j&&T&&T?p.a.createElement(_.a,{sm:12,md:12,lg:6},p.a.createElement(f.a,null,p.a.createElement("input",(t={type:"range",className:"W-90",name:"slider",min:T,max:V,step:"1",disabled:0==e.state.userIdvStatus?"disabled":"",value:j},Object(n.a)(t,"disabled",!0),Object(n.a)(t,"onChange",(function(a){c("slider"),s("slider",a.target.value),e.sliderValue(a.target.value)})),t)))):null):null,"11"==L||"8"==L?p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:5,lg:4},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},G.BodyIDV))),p.a.createElement(_.a,{sm:12,md:5,lg:2},p.a.createElement(f.a,null,p.a.createElement("div",{className:"insurerName"},p.a.createElement(b.b,{name:"body_idv_value",type:"text",placeholder:"",autoComplete:"off",className:"premiumslid",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:J}),o.body_idv_value&&i.body_idv_value?p.a.createElement("span",{className:"errorMsg"},o.body_idv_value):null))),null):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12,md:12,lg:12},p.a.createElement(f.a,null,p.a.createElement("span",{className:"fs-18"},G.AddMoreCoverage)))),o.B00007||o.B00011?p.a.createElement("span",{className:"errorMsg"},o.B00007," \xa0 \xa0",o.B00011):null,P&&P.length>0?P.map((function(a,t){return p.a.createElement(g.a,{key:t},p.a.createElement(_.a,{sm:12,md:11,lg:6,key:t+"a"},p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.ebao_code,value:a.ebao_code,className:"user-self",disabled:!0,onClick:function(a){e.onRowSelect(a.target.value,r,a.target.checked,c,s)},checked:r[a.ebao_code]==a.ebao_code&&null!=a.ebao_code}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"}))),"1"!=r.PA_cover_flag||"700000353"!=r[a.ebao_code]&&"900000695"!=r[a.ebao_code]&&"700000452"!=r[a.ebao_code]&&"900000750"!=r[a.ebao_code]?null:p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.PA_Cover_OD,disabled:!0,onChange:function(a){c("PA_Cover_OD"),s("PA_Cover_OD",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},"Select"),p.a.createElement("option",{value:"1000000"},"1000000"),p.a.createElement("option",{value:"1500000"},"1500000")),o.PA_Cover_OD?p.a.createElement("span",{className:"errorMsg"},o.PA_Cover_OD):null))),"0"==r.trailer_flag?r.trailer_array=[]:null,"0"==r.trailer_flag?r.B00007_value="":null,"1"!=r.trailer_flag||"700001865"!=r[a.ebao_code]&&"900000005"!=r[a.ebao_code]?null:p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.B00007_value,disabled:!0,onChange:function(a){c("B00007_value"),s("B00007_value",a.target.value),e.handleNoOfClaims(r,a.target.value)}},p.a.createElement("option",{value:""},G.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{key:a,value:e},e)}))),o.B00007_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00007_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00007_description",type:"text",placeholder:G.TrailerIDV,autoComplete:"off",maxLength:"8",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00007_description"),s("B00007_description",a.target.value),e.handleChange()}}),o.B00007_description?p.a.createElement("span",{className:"errorMsg"},G[o.B00007_description]):null)))),"1"==r.pa_coolie_flag&&"900001147"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.B00073_value,disabled:!0,onChange:function(a){c("B00073_value"),s("B00073_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),o.B00073_value?p.a.createElement("span",{className:"errorMsg"},o.B00073_value):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00073_description",type:"text",placeholder:G.PaidDrivers,autoComplete:"off",maxLength:"1",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00073_description"),s("B00073_description",a.target.value),e.handleChange()}}),o.B00073_description?p.a.createElement("span",{className:"errorMsg"},G[o.B00073_description]):null)))," "):null,"1"!=r.nonElectric_flag||"700001861"!=r[a.ebao_code]&&"700000341"!=r[a.ebao_code]&&"900000001"!=r[a.ebao_code]?null:p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_value",type:"text",placeholder:G.ValueOfAccessory,autoComplete:"off",maxLength:"8",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00003_value"),s("B00003_value",a.target.value),e.handleChange()}}),o.B00003_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00003_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00003_description",type:"text",placeholder:G.AccessoryDescription,autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00003_description"),s("B00003_description",a.target.value),e.handleChange()}}),o.B00003_description?p.a.createElement("span",{className:"errorMsg"},G[o.B00003_description]):null)))," "),"1"!=r.electric_flag||"700001862"!=r[a.ebao_code]&&"700000342"!=r[a.ebao_code]&&"900000002"!=r[a.ebao_code]?null:p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_value",type:"text",placeholder:G.ValueOfAccessory,autoComplete:"off",maxLength:"7",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00004_value"),s("B00004_value",a.target.value),e.handleChange()}}),o.B00004_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00004_value]):null))),p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00004_description",type:"text",placeholder:G.AccessoryDescription,autoComplete:"off",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00004_description"),s("B00004_description",a.target.value),e.handleChange()}}),o.B00004_description?p.a.createElement("span",{className:"errorMsg"},G[o.B00004_description]):null)))," "),"1"==r.CNG_OD_flag&&"700001863"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00005_value",type:"text",placeholder:"Sum insured",autoComplete:"off",maxLength:"7",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00005_value"),s("B00005_value",a.target.value),e.handleChange()}}),o.B00005_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00005_value]):null)))):null,"1"==r.hospital_cash_OD_flag&&"B00020"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00020_value",component:"select",autoComplete:"off",disabled:!0,className:"formGrp inputfs12",value:r.B00020_value,onChange:function(a){c("B00020_value"),s("B00020_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),o.B00020_value?p.a.createElement("span",{className:"errorMsg"},o.B00020_value):null)))):null,"1"==r.hospital_cash_PD_flag&&"B00022"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00022_value",component:"select",autoComplete:"off",disabled:!0,className:"formGrp inputfs12",value:r.B00022_value,onChange:function(a){c("B00022_value"),s("B00022_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),o.B00022_value?p.a.createElement("span",{className:"errorMsg"},o.B00022_value):null)))):null,"1"!=r.LL_PD_flag||"700000351"!=r[a.ebao_code]&&"900000687"!=r[a.ebao_code]&&"900000743"!=r[a.ebao_code]?null:p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00013_value",component:"select",autoComplete:"off",disabled:!0,className:"formGrp inputfs12",value:r.B00013_value,onChange:function(a){c("B00013_value"),s("B00013_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),o.B00013_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00013_value]):null)))),"1"!=r.LL_Emp_flag||"900000688"!=r[a.ebao_code]&&"900000742"!=r[a.ebao_code]?null:p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:4,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00012_value",type:"text",placeholder:G.NoOfEmployees,autoComplete:"off",maxLength:"1",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00012_value"),s("B00012_value",a.target.value),e.handleChange()}}),o.B00012_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00012_value]):null)))),"1"==r.LL_Coolie_flag&&"B00069"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00069_value",type:"text",placeholder:G.NoOfPerson,autoComplete:"off",maxLength:"1",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00069_value"),s("B00069_value",a.target.value),e.handleChange()}}),o.B00069_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00069_value]):null)))):null,"1"==r.enhance_PA_OD_flag&&"B00018"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00018_value",type:"text",placeholder:G.ValueShould,autoComplete:"off",maxLength:"7",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00018_value"),s("B00018_value",a.target.value),e.handleChange()}}),o.B00018_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00018_value]):null)))):null,"1"!=r.PA_flag||"700000453"!=r[a.ebao_code]&&"700000354"!=r[a.ebao_code]&&"700000941"!=r[a.ebao_code]?null:p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"PA_Cover",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:r.PA_Cover,disabled:!0,onChange:function(a){c("PA_Cover"),s("PA_Cover",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.SSI),p.a.createElement("option",{value:"50000"},"50000"),p.a.createElement("option",{value:"100000"},"100000")),o.PA_Cover?p.a.createElement("span",{className:"errorMsg"},G[o.PA_Cover]):null))),"1"==r.LL_workman_flag&&"B00070"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"b"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"B00070_value",type:"text",placeholder:G.NoOfWorkman,autoComplete:"off",maxLength:"1",disabled:!0,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){c("B00070_value"),s("B00070_value",a.target.value),e.handleChange()}}),o.B00070_value?p.a.createElement("span",{className:"errorMsg"},G[o.B00070_value]):null)))):null,"1"==r.ATC_flag&&"ATC"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:2,key:t+"c"},p.a.createElement(f.a,null,p.a.createElement("div",{className:"formSection"},p.a.createElement(b.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",disabled:!0,value:r.ATC_value,onChange:function(a){c("ATC_value"),s("ATC_value",a.target.value),e.handleChange()}},p.a.createElement("option",{value:""},G.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return p.a.createElement("option",{value:e},e)}))),o.ATC_value?p.a.createElement("span",{className:"errorMsg"},G[o.ATC_value]):null)))):null,"1"==r.Geographical_flag&&"geographical_extension"==r[a.ebao_code]?p.a.createElement(u.Fragment,null,p.a.createElement(_.a,{sm:12,md:11,lg:3,key:t+"c"},null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(a,t){return"1"==a.status?p.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,p.a.createElement(b.b,{type:"checkbox",name:a.id,value:a.id,disabled:!0,className:"user-self",checked:r[a.id]==a.id,onClick:function(a){e.onGeoAreaSelect(a.target.value,r,a.target.checked,c,s)}}),p.a.createElement("span",{className:"checkmark mL-0"}),p.a.createElement("span",{className:"error-message"})):null})),o.geographical_extension_length?p.a.createElement("span",{className:"errorMsg"},G[o.geographical_extension_length]):null)):null,"1"!=r.trailer_flag||"700001865"!=r[a.ebao_code]&&"900000005"!=r[a.ebao_code]||""==r.B00007_value?null:e.handleClaims(r,o,i,c,s),"1"==r.tyre_cover_flag&&"900009555"==r[a.ebao_code]?e.handleTyreClaims(r,o,i,c,s):null)})):null,p.a.createElement(g.a,null,p.a.createElement(_.a,{sm:12},p.a.createElement(f.a,null,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"col-md-15"},p.a.createElement("div",{className:"brandhead"},G.EffectivePUC,p.a.createElement("div",{className:"carloan"},p.a.createElement("h4",null," ")),p.a.createElement("div",{className:"d-inline-flex m-b-15"},p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==r.puc,disabled:!0,onChange:function(){c("puc"),s("puc","1")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",G.Yes))),p.a.createElement("div",{className:"p-r-25"},p.a.createElement("label",{className:"customRadio3"},p.a.createElement(b.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==r.puc,disabled:!0,onChange:function(){c("puc"),s("puc","2")}}),p.a.createElement("span",{className:"checkmark "}),p.a.createElement("span",{className:"fs-14"}," ",G.No)),o.puc&&i.puc?p.a.createElement("span",{className:"errorMsg"},o.puc):null))))))),p.a.createElement("div",{className:"d-flex justify-content-left resmb"},p.a.createElement(h.a,{className:"proceedBtn",type:"submit"},G.Continue))),p.a.createElement(_.a,{sm:12,md:3},p.a.createElement("div",{className:"justify-content-left regisBox"},p.a.createElement("h3",{className:"premamnt"}," ",G.TPAmount),p.a.createElement("div",{className:"rupee"}," \u20b9 ",l.payable_premium?parseInt(l.payable_premium):""),p.a.createElement("div",{className:"text-center"},p.a.createElement(h.a,{className:"brkbtn",type:"button",onClick:e.handleShow},G.Breakup))))))}))),p.a.createElement(w.a,null)))))),p.a.createElement(v.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},p.a.createElement(v.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},p.a.createElement("div",{className:"cntrbody"},p.a.createElement("h3",null,G.PremiumBreakup," "))),p.a.createElement(v.a.Body,null,p.a.createElement("table",{class:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,G.Premium,":"),p.a.createElement("th",null,"\u20b9 ",Math.round(l.payable_premium)))),p.a.createElement("tbody",null,ge,he,p.a.createElement("tr",null,p.a.createElement("td",null,G.GrossPremium,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(l.gross_premium))),p.a.createElement("tr",null,p.a.createElement("td",null,G.GST,":"),p.a.createElement("td",null,"\u20b9 ",Math.round(l.service_tax))))))))}}]),t}(u.Component));a.default=Object(k.g)(Object(P.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(C.a)())},loadingStop:function(){return e(Object(C.b)())}}}))(L))},1328:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(7),h=t(38),v=t(19),E=t(22),y=t(20),b=t.n(y),N=t(9),S=t(2),w=(t(95),t(96),t(3)),k=t.n(w),C=t(48),P=t.n(C),D=t(37),I=t.n(D),M=t(97),B={gateway:""},A={m:"Male",f:"Female"},O={2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},x=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={occupationList:[],accessToken:"",policyHolder:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,policyCoverage:[],paymentStatus:[],relationArr:{},request_data:[],paymentgateway:[],policyHolder_refNo:I.a.parse(e.props.location.search).access_id?I.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo"),ipaInfo:[],nomineeDetails:[],nomineeLength:0},e.sendPaymentLink=function(){new N.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),f.a.post("send-payment-link",a).then((function(a){b()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchData=function(){e.props.match.params.productId;var a=e.state.policyHolder_refNo?e.state.policyHolder_refNo:"0";new N.a;e.props.loadingStart(),f.a.get("renewal/policy-details/".concat(a)).then((function(a){var t=a.data;console.log("decrypt",t);var n=t.data.policyHolder?t.data.policyHolder:[],r=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},l=t.data.policyHolder&&t.data.policyHolder.request_data?t.data.policyHolder.request_data:{},o=t.data.policyHolder?t.data.policyHolder.step_no:"",s=t.data.policyHolder?t.data.policyHolder.bcmaster:{},c=t.data.policyHolder?t.data.policyHolder.menumaster:{},i=t.data.policyHolder&&t.data.policyHolder.renewalinfo&&t.data.policyHolder.renewalinfo.renewalcoverage?t.data.policyHolder.renewalinfo.renewalcoverage:[],m=t.data.policyHolder&&t.data.policyHolder.bcmaster&&t.data.policyHolder.bcmaster.paymentgateway;e.setState({policyHolder:n,vehicleDetails:r,request_data:l,menumaster:c,step_completed:o,bcMaster:s,policyCoverage:i,paymentgateway:m,paymentStatus:t.data.policyHolder.payment?t.data.policyHolder.payment[0]:[],nomineeDetails:l&&l.nominee?l.nominee[0]:[],nomineeLength:l&&l.nominee?l.nominee.length:0}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.policyHolder_refNo,r=t.policyHolder,l=e.props.match.params.productId;Object(M.b)(a,r,n,l)},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=(this.props.match.params.productId,this.state),n=(a.fulQuoteResp,a.error),r=(a.show,a.policyHolder),l=a.nomineeDetails,o=a.paymentStatus,s=a.policyCoverage,f=a.request_data,h=a.bcMaster,v=(a.menumaster,a.vehicleDetails),E=a.paymentgateway,y=a.nomineeLength,b=s&&s.length>0?c.a.createElement("div",null,c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,s.map((function(e,a){return e.renewalsubcoverage&&e.renewalsubcoverage.length>0?e.renewalsubcoverage.map((function(e,a){return c.a.createElement("li",null,e.interest_name)})):c.a.createElement("li",null,e.cover_name)})))):null,N=v&&v.vehicletype&&1==v.vehicletype.is_helth&&f&&f.family_members.length>0?f.family_members.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+(e.last_name?e.last_name:"")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,k()(e.dob).format("DD-MM-YYYY")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.relation_with))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[e.gender]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):v&&v.vehicletype&&3==v.vehicletype.is_helth?c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,r.first_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,k()(r.dob).format("DD-MM-YYYY")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,A[r.gender]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))):null,w=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l?l.first_name+" "+(l.last_name?l.last_name:""):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l?k()(l.dob).format("DD-MM-YYYY"):null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,v&&"12"==v.vehicletype_id||v&&"5"==v.vehicletype_id?O[l.relation_with]:v&&13==v.vehicletype_id&&l&&l.relation?l.relation.ipa_relation_name:v&&14==v.vehicletype_id&&l&&l.relation?l.relation.gsb_appointee_relation:v&&10==v.vehicletype_id&&l&&l.relation?l.relation.ksb_label:null))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),C=c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l&&l.appointee_name?l.appointee_name:null))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,l?O[l.appointee_relation_with]:[]))))),c.a.createElement(i.a,null,c.a.createElement("p",null))),D=n&&n.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,I=o&&103==o.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premium3"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"SBI General Insurance Company Limited"),c.a.createElement(S.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){var n=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return c.a.createElement(S.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,D),c.a.createElement("h5",null,I),c.a.createElement("h4",null,"Policy Reference Number ",f.quote_id)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(P.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,f&&f.start_date?k()(f.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,f&&f.end_date?k()(f.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,v&&v.vehicletype?v.vehicletype.description:null)))))),v&&"5"==v.vehicletype_id?c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(P.a,{trigger:"Default Covered Coverages & Benefit",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},v&&"12"==v.vehicletype_id?c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Day Care expenses for 142 daycare procedures"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 60 and 90 days respectively"))):v&&"10"==v.vehicletype_id?c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("b",null,"Base"),c.a.createElement("li",null,"24 Doctor consultation calls in a year"),c.a.createElement("li",null,"1 lakh PA Cover to Primary Insured ")),c.a.createElement("ul",null,c.a.createElement("b",null,"Medium"),c.a.createElement("li",null,"36 Doctor Consultation calls in a year"),c.a.createElement("li",null,"Hospital Daily Cash Benefit of Rs 250/day up to 30 Days "),c.a.createElement("li",null,"3 Lakhs PA Cover to Primary Insured  ")),c.a.createElement("ul",null,c.a.createElement("b",null,"Top"),c.a.createElement("li",null,"60 Doctor Consultation calls in a year"),c.a.createElement("li",null,"Hospital Daily Cash Benefit of Rs 250/day up to 60 Days "),c.a.createElement("li",null,"5 Lakhs PA Cover to Primary Insured"))):v&&"5"==v.vehicletype_id?c.a.createElement("div",{className:"justify-content-left align-items-center list m-b-30"},c.a.createElement("p",null,"Your Health Insurance covers you for following :"),c.a.createElement("ul",null,c.a.createElement("li",null,"Your hospital room rent,boarding expenses and doctor fees"),c.a.createElement("li",null,"Nursing expenses.Operation theatre and ICU charges"),c.a.createElement("li",null,"Medicines that you consume during the hospital stay"),c.a.createElement("li",null,"Road Ambulance Charges"),c.a.createElement("li",null,"Pre and Post hospitalization expenses up to 30 and 60 days respectively"))):b))):null,c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(P.a,{trigger:"Premium Summary",open:!0},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(f.sum_insured))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(f.service_tax))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Net Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(f.gross_premium))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Gross Premium:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",f.payable_premium)))))),c.a.createElement("div",{className:"rghtsideTrigr custom_widthadd"},c.a.createElement(P.a,{trigger:" Member Details"},c.a.createElement("strong",null,"Member Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},N),c.a.createElement("strong",null,"Nominee Details :"),c.a.createElement("div",{className:"listrghtsideTrigr"},w),console.log("nomineeDetails.appointee_name ---------- ",l.appointee_name),l&&y>0&&1==l.is_appointee&&"null"!=l.appointee_name?c.a.createElement("strong",null,"Appointee Details :"):null,l&&y>0&&1==l.is_appointee&&"null"!=l.appointee_name?c.a.createElement("div",{className:"listrghtsideTrigr"},C):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(P.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:6},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},r.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},r.email_id))))))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",E&&E.length>0?E.map((function(e,a){return c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(S.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.slug)},checked:n.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.logo?c.a.createElement("img",{src:t(137)("./"+e.logo),alt:""}):null)))})):null)))),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},h&&1==h.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,f.quote_id&&""!=n.gateway?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component);a.default=Object(h.g)(Object(E.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(v.a)())},loadingStop:function(){return e(Object(v.b)())}}}))(x))},1329:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(20),v=t.n(h),E=t(37),y=t.n(E),b=t(9),N=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(){var e;Object(n.a)(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",response_text:[],policyNo:"",vehicletype:[],receipt_no:"",quoteNo:"",retry:2,retryCount:0,refNumber:y.a.parse(e.props.location.search).access_id?y.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.generateDoc=function(){var a=e.state.policyNo,t=new FormData;t.append("policyNo",a),e.props.loadingStart(),p.a.post("/policy-download/renewal-policy-pdf",t).then((function(a){e.props.loadingStop(),0==a.data.error?e.downloadDoc():v()("Document not found")}))},e.downloadDoc=function(){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?refrence_no=").concat(e.state.refNumber),t=document.createElement("a");t.style.display="none",t.href=a,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(a)},e.getAccessToken=function(){e.props.loadingStart(),p.a.post("/callTokenService").then((function(a){return e.setState({accessToken:a.data.access_token}),new Promise((function(t){setTimeout((function(){e.getPolicyDoc(a.data.access_token)}),5e3)}))})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyDoc=function(a){var t=e.state.policyNo,n=new FormData,r={access_token:a,policyNo:t,policyHolder_Id:e.state.refNumber},l=new b.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),e.props.loadingStart(),p.a.post("/callDocApi",n).then((function(a){e.props.loadingStop(),1==a.data.error?v()({title:"Alert",text:"PDF Generation process is taking longer time than expected. Please have patience.",icon:"warning",dangerMode:!0}).then((function(a){a&&e.getAccessToken()})):"No Results found for the given Criteria"==a.data.data.getPolicyDocumentResponseBody.payload.URL[0]?v()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy document online. Please call 180 22 1111"):(e.setState({response_text:a.data,res_error:!1}),e.generate_pdf(a.data.data,e.state.refNumber))})).catch((function(a){e.setState({response_text:[]}),e.props.loadingStop()}))},e.generate_pdf=function(a,t){var n=e.state.policyNo;if(a&&t){var r=new FormData,l={policy_holder_id:t,policy_no:n,response_text:JSON.stringify(a)},o=new b.a;r.append("enc_data",o.encrypt(JSON.stringify(l))),e.props.loadingStart(),p.a.post("/generate-pdf",r).then((function(a){e.props.loadingStop(),e.downloadDoc(a.data.data.uploded_path)})).catch((function(a){e.setState({}),e.props.loadingStop()}))}else v()("Could not get policy document")},e.downloadDoc=function(){var a="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/policy_pdf_download.php?refrence_no=").concat(e.state.refNumber);console.log(a);e.state.policyNo;var t=a,n=document.createElement("a");n.style.display="none",n.href=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t)},e.fetchData=function(){e.props.match.params.productId;var a=new b.a;e.props.loadingStart(),p.a.get("policy-holder-additional-details/".concat(e.state.refNumber)).then((function(t){var n=JSON.parse(a.decrypt(t.data));if(console.log("decrypt",n),0==n.error){var r=n.data.policyHolder&&n.data.policyHolder.vehiclebrandmodel?n.data.policyHolder.vehiclebrandmodel.vehicletype:{};localStorage.removeItem("policyHolder_id"),localStorage.removeItem("policyHolder_refNo"),localStorage.removeItem("policy_type"),localStorage.removeItem("brandEdit"),localStorage.removeItem("newBrandEdit"),sessionStorage.removeItem("pan_data"),sessionStorage.removeItem("email_data"),sessionStorage.removeItem("proposed_insured"),sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),e.getAgentReceipt(),e.setState({vehicletype:r})}else v()(n.msg),e.props.loadingStop();setTimeout(function(){this.noBackButton()}.bind(Object(l.a)(e)),300)})).catch((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decryptErr",n),e.props.loadingStop()}))},e.getAgentReceipt=function(){var a=new FormData;a.append("policy_ref_no",e.state.refNumber),e.state.retryCount<3?(e.setState({retryCount:e.state.retryCount+1}),e.props.loadingStart(),null===e.state.receipt_no||""==e.state.receipt_no?p.a.post("/renewal/agent-receipt",a).then((function(a){!1===a.data.error?(e.setState({receipt_no:a.data.data.receipt_no,quoteNo:a.data.data.quoteNo}),e.issuePolicy()):(e.props.loadingStop(),v()(a.data.msg))})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()})):e.issuePolicy()):e.props.loadingStop()},e.issuePolicy=function(){var a=new FormData;a.append("policy_ref_no",e.state.refNumber),e.props.loadingStart(),p.a.post("/renewal/issue-policy",a).then((function(a){!1===a.data.error?(e.setState({policyNo:a.data.data.PolicyNumber,retry:0}),e.getCustomerMsg(a.data.data.PolicyNumber),e.props.loadingStop()):e.state.retryCount<=1?e.getAgentReceipt():(e.setState({retry:1}),e.props.loadingStop(),v()("Due to some reason, policy could not be created at this moment. Please retry in some time."))})).catch((function(a){e.setState({accessToken:[],retry:1}),e.props.loadingStop()}))},e.CSCRefund=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/ConnectPG/sme_fire_refund.php?refrence_no=").concat(a)},e.RazorpayRefund=function(){var a=e.state.refNumber;window.location="".concat("https://uatcld.sbigeneral.in/sbig-bc","/razorpay/sme_fire_refund.php?refrence_no=").concat(a)},e.getCustomerMsg=function(a){e.props.match.params.productId;var t=new FormData;t.append("policy_no",a),p.a.post("customer-msg",t).then((function(e){})).catch((function(a){e.props.loadingStop()}))},e.downloadWording=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?ipa_wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e.downloadWordingGSB=function(){var e="".concat("https://uatcld.sbigeneral.in/sbig-bc","/policy_pdf_download.php?gsb_wording=1"),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)},e}return Object(r.a)(c,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"noBackButton",value:function(){window.history.replaceState(null,null,window.location.href),window.onpopstate=function(e){window.history.go(1),e.preventDefault()}}},{key:"render",value:function(){var e=this.state,a=(e.vehicletype,e.policyNo),n=e.retry,r=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,r?i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid fg"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(d.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10"},i.a.createElement("section",{className:"thankuBox"},i.a.createElement("div",{className:"thankuinfo"},i.a.createElement("div",{className:"text-center custtxt"},i.a.createElement("img",{src:t(393),alt:"",className:"m-b-30"}),i.a.createElement("p",null,r.ThankYouSBI),i.a.createElement("p",{className:"fs-16 m-b-30"},r.PolicyNo," ",i.a.createElement("span",{className:"lghtBlue"}," ",a)),i.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},1===n?i.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},i.a.createElement("button",{className:"policy m-l-20",onClick:this.getAgentReceipt},"Retry Policy Creation")):null,this.state.policyNo?i.a.createElement("button",{className:"policy m-l-20",onClick:this.generateDoc},r.PolicyCopy," "):null)))),i.a.createElement(u.a,null))))):null))}}]),c}(c.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(N))},1330:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N={policy_number:"",claim_number:""},S=h.object().shape({claim_number:h.string().test("policyNumberCheck",(function(){return"Please enter claim number"}),(function(e){return!!(e||""!=this.parent.policy_number&&void 0!=this.parent.policy_number)})),policy_number:h.string().test("claimNumberCheck",(function(){return"Please enter policy number"}),(function(e){return!!(e||""!=this.parent.claim_number&&void 0!=this.parent.claim_number)}))}),w=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={claim_search:[]},e.fetchData=function(a){e.props.match.params.productId;var t=new y.a,n=new FormData,r="",l="",o=sessionStorage.getItem("users")?sessionStorage.getItem("users"):"",s=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";if(s)r=(s=JSON.parse(t.decrypt(s)))?s.bc_agent_id:"",l=s?s.agent_id:"";else if(o&&sessionStorage.getItem("csc_id")){var c=new y.a;o=(o=JSON.parse(o)).user,r=(o=JSON.parse(c.decrypt(o))).csc_digital_seva_id,l="5"}a.policy_number&&n.append("policy_number",a.policy_number),a.claim_number&&n.append("claim_number",a.claim_number),n.append("user_id",r),n.append("bcmaster_id",l),e.props.loadingStart(),p.a.post("/claim/search",n).then((function(a){if(0==a.data.error){var t=a.data.data.claim_search;e.setState({claim_search:t}),e.props.loadingStop()}else E()(a.data.msg),e.setState({claim_search:[]}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.state.claim_search,t=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,t?c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},t.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},t.AboutVehicle),c.a.createElement(b.e,{initialValues:N,onSubmit:this.fetchData,validationSchema:S},(function(n){var r=n.values,l=n.errors,o=n.setFieldValue,s=(n.setFieldTouched,n.isValid,n.isSubmitting,n.touched);return c.a.createElement(b.d,null,c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Claim Number :"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement(b.b,{name:"claim_number",type:"text",placeholder:"Claim Number",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:r.claim_number,maxLength:e.state.length,onChange:function(e){o("policy_number"),o("policy_number",""),o("claim_number",e.target.value)}}),l.claim_number&&s.claim_number?c.a.createElement("span",{className:"errorMsg"},l.claim_number):null)),c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},t.Go)),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Insured Name :"),c.a.createElement("label",{className:"col-md-4"},a&&a.InsuredName)),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Claim Status :"),c.a.createElement("label",{className:"col-md-4"},a&&a.RuralPortalStatus)),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Claim Handler Name :"),c.a.createElement("label",{className:"col-md-4"},a&&a.IHAName)),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Claim Handler Number :"),c.a.createElement("label",{className:"col-md-4"},a&&a.IHAContactNO)))})))),c.a.createElement(u.a,null))))):null))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading,data:e.processData.data}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(w))},1331:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(377),m=t(31),d=t(34),u=t(40),p=t(7),_=t(38),g=t(19),f=t(22),h=t(1),v=t(20),E=t.n(v),y=t(9),b=t(2),N=t(25),S={regNumber:"",reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:"",check_registration:2,lapse_duration:""},w=h.object().shape({check_registration:h.string().notRequired(),reg_number_part_one:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("firstDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.f)(e)})),otherwise:h.string().nullable()}),reg_number_part_two:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("secondDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.h)(e)})),otherwise:h.string().nullable()}),reg_number_part_three:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().test("thirdDigitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.i)(e)})),otherwise:h.string().nullable()}),reg_number_part_four:h.string().when(["check_registration"],{is:function(e){return"2"==e},then:h.string().required("RegistrationNumber").test("last4digitcheck",(function(){return"InvalidRegistrationNumber"}),(function(e){return Object(N.g)(e)})),otherwise:h.string().nullable()}),policy_type:h.string().required("PleaseSPT"),policy_for:h.string().required("PleasePIC"),subclass_id:h.string().required("PleaseSSP"),lapse_duration:h.string().when("policy_type",{is:"3",then:h.string().required("LapseDuration"),otherwise:h.string()})}),k=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={motorInsurance:"",regno:"",length:14,fastLaneData:[],fastlanelog:[],subVehicleList:[]},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new y.a;p.a.get("pcv-tp/policy-holder/details/".concat(a)).then((function(a){console.log("value is=======",a.data);var n=JSON.parse(t.decrypt(a.data));if(console.log("decrypt",n),n.data.policyHolder){var r=n.data.policyHolder,l=0;for(var o in r)r.hasOwnProperty(o)&&l++}var s=l>0?n.data.policyHolder.motorinsurance:[];e.setState({motorInsurance:s}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.fetchSubVehicle=function(){e.props.match.params.productId;var a=new y.a;e.props.loadingStart(),p.a.get("gcv/sub-vehical-list/".concat(12)).then((function(t){var n=JSON.parse(a.decrypt(t.data));console.log("decrypt--fetchSubVehicle------ ",n);var r=n.data;e.setState({subVehicleList:r}),e.fetchData()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.props.match.params.productId,n=new FormData,r=new y.a,l=e.state,o=(l.fastLaneData,l.fastlanelog),s={},c={},i="";"2"==a.check_registration?(c={reg_number_part_one:a.reg_number_part_one,reg_number_part_two:a.reg_number_part_two,reg_number_part_three:a.reg_number_part_three,reg_number_part_four:a.reg_number_part_four},i=a.reg_number_part_one+a.reg_number_part_two+a.reg_number_part_three+a.reg_number_part_four):(c={reg_number_part_one:"",reg_number_part_two:"",reg_number_part_three:"",reg_number_part_four:""},i="NEW");var m=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,d=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";d&&(d=JSON.parse(r.decrypt(d))),a.check_registration&&1==a.check_registration?sessionStorage.setItem("check_registration",1):sessionStorage.setItem("check_registration",2),m>0?(s=sessionStorage.getItem("csc_id")?{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:12,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bc_token:"5",lapse_duration:a.lapse_duration,policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:"",page_name:"Registration_PCV_TP/".concat(t)}:{policy_holder_id:m,registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:12,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:"",page_name:"Registration_PCV_TP/".concat(t)},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("pcv-tp/update-registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),0==n.error?e.props.history.push("/SelectBrand_PCV_TP/".concat(t)):E()(n.msg),e.props.loadingStop()})).catch((function(a){var t=JSON.parse(r.decrypt(a.data));console.log("decryptResp--err---",t),t&&a.data&&E()("Registration number required..."),e.props.loadingStop()}))):(s=sessionStorage.getItem("csc_id")?{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,menumaster_id:12,vehicle_type_id:t,csc_id:sessionStorage.getItem("csc_id")?sessionStorage.getItem("csc_id"):"",agent_name:sessionStorage.getItem("agent_name")?sessionStorage.getItem("agent_name"):"",product_id:sessionStorage.getItem("product_id")?sessionStorage.getItem("product_id"):"",bcmaster_id:"5",lapse_duration:a.lapse_duration,page_name:"Registration_PCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""}:{registration_no:i,registration_part_numbers:JSON.stringify(c),check_registration:a.check_registration,lapse_duration:a.lapse_duration,menumaster_id:12,vehicle_type_id:t,bcmaster_id:d?d.agent_id:"",bc_token:d?d.token:"",bc_agent_id:d?d.user_info.data.user.username:"",page_name:"Registration_PCV_TP/".concat(t),policy_type_id:a.policy_type,policy_for:a.policy_for,subclass_id:a.subclass_id,fastlaneLog_id:e.state.fastLaneData&&e.state.fastLaneData.fastlaneLog_id?e.state.fastLaneData.fastlaneLog_id:o&&o.id?o.id:""},console.log("post_data",s),n.append("enc_data",r.encrypt(JSON.stringify(s))),e.props.loadingStart(),p.a.post("pcv-tp/registration",n).then((function(a){var n=JSON.parse(r.decrypt(a.data));console.log("decrypt",n),e.props.loadingStop(),0==n.error?(localStorage.setItem("policyHolder_id",n.data.policyHolder_id),localStorage.setItem("policyHolder_refNo",n.data.policyHolder_refNo),e.props.history.push("/SelectBrand_PCV_TP/".concat(t))):E()(n.msg)})).catch((function(a){e.props.loadingStop();var t=JSON.parse(r.decrypt(a.data));console.log("decrypt",t),a&&a.data&&E()("Please check..something went wrong!!")})))},e.setValueData=function(){var e=document.getElementsByClassName("user-self");for(var a in e)if(e[a].checked)return!0;return!1},e.handleChange=function(e,a,t){"NEW"==e.regNumber&&t("regNumber","")},e.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchSubVehicle()}},{key:"render",value:function(){var e=this,a=this.state,t=a.motorInsurance,n=a.subVehicleList,r=t&&t.registration_part_numbers&&JSON.parse(t.registration_part_numbers);console.log("tempreg",t);var l=Object.assign(S,{reg_number_part_one:"undefined"==typeof r?"":r&&r.reg_number_part_one,reg_number_part_two:"undefined"==typeof r?"":r&&r.reg_number_part_two,reg_number_part_three:"undefined"==typeof r?"":r&&r.reg_number_part_three,reg_number_part_four:"undefined"==typeof r?"":r&&r.reg_number_part_four,regNumber:t&&t.registration_no?t.registration_no:"",policy_type:t&&t.policytype_id?t.policytype_id:"",policy_for:t&&t.policy_for?t.policy_for:"",subclass_id:t&&t.subclass_id?t.subclass_id:"",check_registration:t&&"NEW"==t.registration_no?"1":"2",lapse_duration:t&&t.lapse_duration?t.lapse_duration:""}),o=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid asd"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(d.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},o.SBIGICL),c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("h4",{className:"m-b-30"},o.About),c.a.createElement(b.e,{initialValues:l,onSubmit:this.handleSubmit,validationSchema:w},(function(a){var t=a.values,r=a.errors,l=a.setFieldValue,s=a.setFieldTouched,m=(a.isValid,a.isSubmitting,a.touched);return console.log("values",t),console.log("errors",r),c.a.createElement(b.d,null,c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.customerType),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"1",key:"1",checked:"1"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Individual))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_for",value:"2",key:"1",checked:"2"==t.policy_for,onChange:function(){s("policy_for"),l("policy_for","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.Corporate)),r.policy_for&&m.policy_for?c.a.createElement("span",{className:"errorMsg"},o[r.policy_for]):null)))),c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.businessType),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"1",key:"1",checked:"1"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","1"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.NewPolicy))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"2",key:"1",checked:"2"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","2"),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.RollOver)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"policy_type",value:"3",key:"1",checked:"3"==t.policy_type,onChange:function(){s("policy_type"),l("policy_type","3"),l("check_registration","2"),e.handleChange(t,s,l)}}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.LapsedPolicy)),r.policy_type&&m.policy_type?c.a.createElement("span",{className:"errorMsg"},o[r.policy_type]):null)))),"3"==t.policy_type?c.a.createElement("div",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"brandhead"},c.a.createElement("p",null,o.LapseDuration),c.a.createElement("div",{className:"d-inline-flex m-b-15"},c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"1",key:"1",checked:"1"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.BeforeNinety))),c.a.createElement("div",{className:"p-r-25"},c.a.createElement("label",{className:"customRadio3"},c.a.createElement(b.b,{type:"radio",name:"lapse_duration",value:"2",key:"1",checked:"2"==t.lapse_duration}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"}," ",o.OverNinety)),r.lapse_duration&&m.lapse_duration?c.a.createElement("span",{className:"errorMsg"},o[r.lapse_duration]):null)))):null,c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.SubProduct,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(b.b,{name:"subclass_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.subclass_id},c.a.createElement("option",{value:""},o.SelectProduct),n.map((function(e,a){return c.a.createElement("option",{value:e.subclass_id,key:a,disabled:"2"!=e.subclass_id},e.subclass_title)}))),r.subclass_id&&m.subclass_id?c.a.createElement("span",{className:"errorMsg"},o[r.subclass_id]):null))),c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"col-md-4"},o.RegName," :"),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_one",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_one,disabled:"1"==t.check_registration,maxLength:"2",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_two",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_two,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_three",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_three,disabled:"1"==t.check_registration,maxLength:"3",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),c.a.createElement("div",{className:"col-md-1"},c.a.createElement(b.b,{name:"reg_number_part_four",type:"text",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.reg_number_part_four,disabled:"1"==t.check_registration,maxLength:"4",onInput:function(a){e.regnoFormat(a,s,l),s("check_registration"),l("check_registration","2")}})),(r.reg_number_part_one||r.reg_number_part_two||r.reg_number_part_three||r.reg_number_part_four)&&(m.reg_number_part_one||m.reg_number_part_two||m.reg_number_part_three||m.reg_number_part_four)?c.a.createElement("span",{className:"errorMsg"},o.InvalidRegistrationNumber):null),"1"==t.policy_type?c.a.createElement("div",{className:"row formSection"},c.a.createElement("label",{className:"customCheckBox formGrp formGrp"},o.WithoutNo,c.a.createElement(b.b,{type:"checkbox",name:"check_registration",value:"1",className:"user-self",onChange:function(a){!0===a.target.checked?(s("regNumber"),l("regNumber","NEW"),s("reg_number_part_one"),l("reg_number_part_one",""),s("reg_number_part_two"),l("reg_number_part_two",""),s("reg_number_part_three"),l("reg_number_part_three",""),s("reg_number_part_four"),l("reg_number_part_four",""),s("check_registration"),l("check_registration",a.target.value)):(l("check_registration","2"),l("regNumber","")),e.setValueData()?e.setState({check_registration:1}):e.setState({check_registration:2})},checked:"1"==t.check_registration}),c.a.createElement("span",{className:"checkmark mL-0"})),r.check_registration&&(m.looking_for_2||m.looking_for_3||m.looking_for_4)?c.a.createElement("span",{className:"error-message"},r.check_registration):""):null,c.a.createElement("div",{className:"cntrbtn"},c.a.createElement(i.a,{className:"btnPrimary",type:"submit"},o.Go)))})))),c.a.createElement(u.a,null)))))))}}]),t}(s.Component);a.default=Object(_.g)(Object(f.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(g.a)())},loadingStop:function(){return e(Object(g.b)())}}}))(k))},1332:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=(t(386),t(903)),d=t(904),u=t(377),p=t(910),_=t(913),g=t(239),f=t(31),h=t(34),v=t(2),E=t(1),y=t(7),b=t(38),N=t(19),S=t(22),w=t(20),k=t.n(w),C=t(173),P=t.n(C),D=t(9),I=t(61),M={selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedVarientId:""},B=(E.object().shape({selectedBrandId:E.string().required("Please enter the brand name"),selectedModelId:E.string().required("Please enter the model name")}),function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).change=function(e){t.state.searchitem=[],t.setState({searchText:e}),t.state.brandModelList.map((function(a,n){var r=new RegExp(e.toUpperCase(),"g");a.name.toUpperCase().match(r)&&null!=a.name.toUpperCase().match(r)&&t.state.searchitem.push(a)})),t.state.searchitem&&t.state.searchitem.length>0&&t.setState({searchitem:t.state.searchitem,search:e})},t.getBrands=function(){t.props.match.params.productId;var e=t.state.vehicleDetails;console.log("vehicleDetails---\x3e",e);var a=e&&e.vehiclebrand_id?e.vehiclebrand_id:"",n=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,r=new D.a;return new Promise((function(e){y.a.get("pcv-tp/vehicle/brand-with-image/".concat(12,"/").concat(n)).then((function(e){console.log("value is=====",e.data);var n=JSON.parse(r.decrypt(e.data));console.log("decryptResp",n);var l=e&&n.data.list?n.data.list:[];t.setState({brandList:l,otherBrands:"2"==localStorage.getItem("brandEdit")}),t.props.loadingStop(),"1"==localStorage.getItem("newBrandEdit")?t.setBrandName(a):"2"==localStorage.getItem("newBrandEdit")&&t.getOtherBrands()})).catch((function(e){var a=JSON.parse(r.decrypt(e.data));console.log("decryptErr-- ",a),t.props.loadingStop()}))}))},t.getOtherBrands=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;t.props.loadingStart();var a=new D.a;y.a.get("pcv-tp/vehicle/brand-without-image/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptResp",n);var r=n&&n.data?n.data:{},l=n&&n.data?n.data.list:[];t.setState({selectedBrandDetails:r,brandModelList:l,show:!0,otherBrands:!0,searchitem:[],modelName:[],vehicleDetails:[],selectedBrandId:"",selectedModelId:[],selectedVarientId:[],brandName:""}),t.props.loadingStop()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.fetchData=function(){t.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;t.props.loadingStart(),y.a.get("pcv-tp/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{};t.setState({motorInsurance:r,vehicleDetails:l}),t.getBrands()})).catch((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decryptErr-- ",n),t.props.loadingStop()}))},t.registration=function(e){t.props.history.push("/Registration_PCV_TP/".concat(e))},t.selectBrand=function(e){var a=t.state,n=a.selectedBrandId,r=a.vehicleDetails,l=a.otherBrands,o=n||(r&&r.vehiclebrand_id?r.vehiclebrand_id:"");"1"==localStorage.getItem("brandEdit")?t.setBrandName(o):"2"==localStorage.getItem("brandEdit")?t.getOtherBrands():0==l?t.setBrandName(o):t.getOtherBrands()},t.selectVehicle=function(e){t.state.brandName="",console.log("check",t.state.brandName,e),t.props.history.push("/SelectBrand_PCV_TP/".concat(e))},t.setBrandName=function(e){var a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,n=(new FormData,new D.a);t.props.loadingStart(),y.a.get("pcv-tp/vehicle/model-with-varient/".concat(e,"/").concat(a)).then((function(a){var r=JSON.parse(n.decrypt(a.data));console.log("decryptResp",r);var l=r&&r.data?r.data:{},o=r&&r.data.brand_models?r.data.brand_models:[];t.setState({selectedBrandDetails:l,brandModelList:o,show:!0,otherBrands:!1,selectedBrandId:e,brandName:l.name,searchitem:[],modelName:"",vehicleDetails:[]}),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.setVarient=function(e,a,n,r,l,o,s){t.setState({selectedVarientId:e,selectedModelId:a,modelName:n,fuelType:r,carrying:o,body_style:l&&l.DESCRIPTION,wheels_capacity:s.wheels,power:s.horse_power})},t.setOtherVarient=function(e,a,n,r,l,o,s,c,i){t.setState({selectedVarientId:e,selectedModelId:a,selectedBrandId:n,brandName:r,modelName:l,fuelType:o,carrying:c,body_style:s&&s.DESCRIPTION,wheels_capacity:i.wheels,power:i.horse_power})},t.handleSubmit=function(e){var a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,n=t.props.match.params.productId,r=t.state,l=(r.selectedVarientId,r.selectedModelId,r.selectedBrandId),o=r.modelName,s=r.vehicleDetails,c=r.carrying,i=r.wheels_capacity,m=c||(l?"":s&&s.varientmodel&&s.varientmodel.carrying?s.varientmodel.carrying:""),d=i||(s&&s.varientmodel?s.varientmodel.wheels:""),u=o||(l?"":s&&s.vehiclemodel&&s.vehiclemodel.description?s.vehiclemodel.description+" "+s.varientmodel.varient:"");if(""==u||null==u||void 0==u)return k()(a.PleaseVBrand),!1;if(!(3==d&&m<=6))return k()("Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"),!1;var p=new FormData,_=new D.a,g={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,brand_id:e.selectedBrandId,brand_model_id:e.selectedModelId,model_varient_id:e.selectedVarientId,page_name:"SelectBrand_PCV_TP/".concat(n)};p.append("enc_data",_.encrypt(JSON.stringify(g))),console.log("Post Date---------- ",g),t.props.loadingStart(),y.a.post("pcv-tp/insert-brand-model-varient",p).then((function(e){t.props.loadingStop();var a=JSON.parse(_.decrypt(e.data));console.log("decrypt",a),0==a.error&&(t.state.otherBrands?(localStorage.setItem("brandEdit",2),localStorage.removeItem("newBrandEdit")):(localStorage.setItem("brandEdit",1),localStorage.removeItem("newBrandEdit")),t.props.history.push("/VehicleDetails_PCV_TP/".concat(n)))})).catch((function(e){var a=JSON.parse(_.decrypt(e.data));console.log("decrypt",a),"422"==e.status&&k()("Please select vehicle model"),t.props.loadingStop()}))},t.handleShow=t.handleShow.bind(Object(l.a)(t)),t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,brandList:[],motorInsurance:{},selectedBrandId:"",selectedBrandName:"",selectedModelId:"",selectedModelName:"",selectedBrandDetails:{},brandModelList:[],selectedVarientId:"",searchitem:[],search:"",otherBrands:"2"==localStorage.getItem("brandEdit"),brandName:"",modelName:"",fuelType:"",vehicleDetails:[],carrying:"",body_style:"",searchText:"",power:""},t}return Object(r.a)(c,[{key:"handleClose",value:function(){this.setState({show:!1,searchText:"",searchitem:[]})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,a=this.state,n=a.brandList,r=a.motorInsurance,l=a.selectedBrandDetails,o=a.brandModelList,s=a.selectedBrandId,c=a.selectedModelId,E=a.selectedVarientId,y=a.otherBrands,b=a.brandName,N=a.modelName,S=a.fuelType,w=a.vehicleDetails,k=a.carrying,C=a.body_style,D=this.props.match.params.productId,B=Object.assign(M,{selectedBrandId:s||(w&&w.vehiclebrand_id?w.vehiclebrand_id:""),selectedModelId:c||(s?"":w&&w.vehiclemodel_id?w.vehiclemodel_id:""),selectedBrandName:"",selectedModelName:"",selectedVarientId:E||(s?"":w&&w.varientmodel_id?w.varientmodel_id:"")}),A=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(h.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},A.SBIGICL),i.a.createElement(v.e,{initialValues:B,onSubmit:this.handleSubmit},(function(a){a.values,a.errors,a.setFieldValue,a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(v.d,null,i.a.createElement("section",{className:"brand"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead"},i.a.createElement("h4",null,A.PCVSelectBrand," "),i.a.createElement("p",null,A.PCVDetails))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:9},i.a.createElement(g.a,{brandList:n&&n.length>0?n:[],selectBrandFunc:e.setBrandName,otherBrandFunc:e.getOtherBrands}),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(u.a,{className:"backBtn",type:"button",onClick:e.registration.bind(e,D)},A.Back),i.a.createElement(u.a,{className:"proceedBtn",type:"submit"},A.Continue))),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"regisBox"},i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.RegNo,".",i.a.createElement("br",null),r&&r.registration_no),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr resmb-15"},A.PCVBrand,"- ",i.a.createElement("strong",null,b||(w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicle.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.PCVModel,i.a.createElement("br",null),i.a.createElement("strong",null,N||(s?"":w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement("div",null," ",i.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,D)},A.Edit))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.BodyStyle,i.a.createElement("br",null),i.a.createElement("strong",null,C||(s?"":w&&w.varientmodel&&w.varientmodel.bodystyle?w.varientmodel.bodystyle.DESCRIPTION:"")))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.carryingCapacity,i.a.createElement("br",null),i.a.createElement("strong",null,k||(s?"":w&&w.varientmodel&&w.varientmodel.carrying?w.varientmodel.carrying:"")," "))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Power,i.a.createElement("br",null),i.a.createElement("strong",null,e.state.power?e.state.power+" BHP":w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":""))),i.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},i.a.createElement("div",{className:"txtRegistr"},A.Fuel,i.a.createElement("br",null),i.a.createElement("strong",null,I.a[S]?I.a[S]:w&&w.varientmodel&&w.varientmodel.fueltype?I.a[w.varientmodel.fueltype.id]:null," ")))))))))}))))))),i.a.createElement(p.a,{className:"customModal brandModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},i.a.createElement(p.a.Header,{closeButton:!0,className:"custmModlHead"},i.a.createElement("div",{className:"cntrbody"},i.a.createElement("h3",null,A.SelectModel," "),l.image?i.a.createElement("img",{src:"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/image/car_brand_image/")+l.image,alt:l.name}):i.a.createElement("img",{src:t(174),alt:""}))),i.a.createElement(p.a.Body,null,i.a.createElement("div",{className:"modalForm"},i.a.createElement(_.a,null,i.a.createElement("div",{className:"main"},i.a.createElement("input",{name:"search",type:"search",className:"srchimg",placeholder:A.SearchYourVariant,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){return e.change(a.target.value)}}))),0==y?i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.bodystyle,t.carrying,t)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):o&&o.length>0&&o.map((function(a,t){return a.varientmodel&&a.varientmodel.length>0&&a.varientmodel.map((function(t,n){return i.a.createElement("div",{key:n,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.varient+" "+t.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:t.id,"aria-invalid":"false",onClick:function(n){return e.setVarient(n.target.value,a.id,a.name+" "+t.varient,t.fuel_type,t.bodystyle,t.carrying,t)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))):i.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1},this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchText.length>0?this.state.searchitem&&this.state.searchitem.length>0&&this.state.searchitem.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.carrying,n)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})):this.state.searchitem&&0==this.state.searchitem.length&&this.state.searchText.length>0?i.a.createElement("div",{key:"1",className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},i.a.createElement("span",{className:"grey ml-5"},"No such variant found")))):this.state.brandModelList&&this.state.brandModelList.length>0&&this.state.brandModelList.map((function(a,t){return a.brand_models&&a.brand_models.length>0&&a.brand_models.map((function(t,n){return t.varientmodel&&t.varientmodel.length>0&&t.varientmodel.map((function(n,r){return i.a.createElement("div",{key:r,className:"brdrbottom"},i.a.createElement("label",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"modalboxInfo"},a.name,i.a.createElement("span",{className:"grey ml-5"},t.name+" "+n.varient+" "+n.cc+"cc")),i.a.createElement("div",{className:"customCheckBox formGrp formGrp"},i.a.createElement("input",{type:"radio",name:"varient",className:"user-self",id:"varient",value:n.id,"aria-invalid":"false",onClick:function(r){return e.setOtherVarient(r.target.value,t.id,t.brand_id,a.name,t.name+" "+n.varient,n.fuel_type,n.body_style,n.carrying,n)}}),i.a.createElement("span",{className:"checkmark mL-0"}),i.a.createElement("span",{className:"error-message"}))))}))}))})))),E?i.a.createElement("button",{className:"proceedBtn",href:"#",onClick:function(a){return e.handleClose()}},A.Continue):null)))}}]),c}(c.Component));a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(B))},1333:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(11),s=t(13),c=t(14),i=t(18),m=t(17),d=t(0),u=t.n(d),p=t(903),_=t(904),g=t(913),f=t(377),h=t(41),v=t.n(h),E=t(31),y=t(34),b=t(40),N=t(38),S=t(19),w=t(22),k=t(1),C=t(2),P=t(7),D=t(3),I=t.n(D),M=t(9),B=t(28),A=t(138),O=t.n(A),x=t(61),H=t(25),R=t(20),L=t.n(R),j=(new Date("Y"),new B.a,I()(I()().subtract(20,"years").calendar()).add(1,"day").calendar()),F=I()(I()().subtract(1,"years").calendar()).add(0,"day").calendar(),q=I()(I()().subtract(1,"years").calendar()).subtract(89,"day").calendar(),T=I()(I()().subtract(1,"years").calendar()).add(30,"day").calendar(),V=I()(I()().subtract(1,"month").calendar()).add(1,"day").calendar(),G=I()().subtract(20,"years").calendar(),Y=I()().subtract(9,"months").calendar(),J=I()(I()().subtract(1,"years").calendar()).add(31,"day").calendar(),z={registration_date:"",location_id:"",previous_is_claim:"",previous_city:"",insurance_company_id:"",previous_policy_name:"",previous_end_date:"",previous_start_date:"",previous_claim_bonus:1,no_of_claim:"",previous_policy_no:"",proposed_used_id:"",averagemonthlyusages_id:"",permittypes_id:"",valid_previous_policy:"",claim_array:[],duration:""},Z=k.object().shape({registration_date:k.string().nullable().required("RegistrationRequired").test("checkMaxDateRollover","RegistrationDateOld",(function(e){return!e||"2"!=this.parent.policy_type_id||Object(H.b)(e,J)})).test("checkMinDate_MaxDate_NewPolicy","RegistrationDateOneMonth",(function(e){return!e||"1"!=this.parent.policy_type_id||Object(H.b)(e,new Date)&&Math.floor(I()(Y).diff(e,"days",!0)<=0)})).test("checkGreaterTimes","RegistrationLessPrevious",(function(e){return!e||Object(H.b)(e,this.parent.previous_start_date)})),location_id:k.string().nullable().required((function(){return"CityRequired"})).matches(/^([0-9]*)$/,(function(){return"NoCharacterAllowed"})),previous_start_date:k.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.date(),otherwise:k.date().test("currentMonthChecking",(function(){return"PleaseESD"}),(function(e){new B.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","StartDateLessEnd",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||"1"!=this.parent.valid_previous_policy||Object(H.b)(e,this.parent.previous_end_date)})).test("checkStartDate","PleaseESD",(function(e){return void 0==this.parent.previous_end_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_end_date:k.date().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.date(),otherwise:k.date().test("currentMonthChecking",(function(){return"PleaseEED"}),(function(e){new B.a;return!(!e&&"2"==this.parent.policy_type_id&&"1"==this.parent.valid_previous_policy)})).test("checkGreaterTimes","EndDateGreaterStart",(function(e){return!e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy||Object(H.c)(e,this.parent.previous_start_date)})).test("checkEndDate","PleaseEED",(function(e){return void 0==this.parent.previous_start_date||void 0!=e||"2"!=this.parent.policy_type_id||"1"!=this.parent.valid_previous_policy}))}),previous_policy_name:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseSPT"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).test("currentMonthChecking",(function(){return"PreviousPolicyLiabilityPolicy"}),(function(e){return!0}))}),insurance_company_id:k.number().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.number(),otherwise:k.number().test("currentMonthChecking",(function(){return"PleaseEPIC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)}))}),previous_city:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseEPICC"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9][a-zA-Z0-9-/\\a.,\s]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"}))}),previous_policy_no:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().test("currentMonthChecking",(function(){return"PleaseEPPN"}),(function(e){return!("2"==this.parent.policy_type_id&&!e&&"1"==this.parent.valid_previous_policy)})).matches(/^[a-zA-Z0-9]*$/,(function(){return"ValidPolicyNumber"})).min(6,(function(){return"PolicyMinCharacter"})).max(28,(function(){return"PolicyMaxCharacter"}))}),valid_previous_policy:k.string().when(["policy_type_id","lapse_duration"],{is:function(e,a){return"3"==e&&"2"==a},then:k.string(),otherwise:k.string().required((function(){return"RequiredField"}))}),proposed_used_id:k.string().required("PleaseSPUID"),averagemonthlyusages_id:k.string().required("PleaseSAM"),permittypes_id:k.string().required("PleaseSTOP"),duration:k.string().when(["previous_policy_name","valid_previous_policy"],{is:function(e,a){return"3"==e&&"1"==a},then:k.string().required("Previous policy duration required"),otherwise:k.string()})}),$=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=a.call.apply(a,[this].concat(l))).state=(e={insurerList:[],showClaim:!1,previous_is_claim:"",motorInsurance:{},previousPolicy:{},CustomerID:"",suggestions:[],customerDetails:[],selectedCustomerRecords:[],CustIdkeyword:"",RTO_location:""},Object(o.a)(e,"previous_is_claim",""),Object(o.a)(e,"vehicleDetails",[]),Object(o.a)(e,"averagemonthlyusages",[]),Object(o.a)(e,"proposedUse",[]),Object(o.a)(e,"permittypes",[]),Object(o.a)(e,"location_reset_flag",0),Object(o.a)(e,"changeFlag",0),Object(o.a)(e,"no_of_claim",[]),e),n.dateRange=function(){return"2008"},n.onChange=function(e,a){console.log("onchange",e.target.value),a("location_id","")},n.selectVehicleBrand=function(e){"1"==localStorage.getItem("brandEdit")?localStorage.setItem("newBrandEdit",1):"2"==localStorage.getItem("brandEdit")&&localStorage.setItem("newBrandEdit","2"),n.props.history.push("/SelectBrand_PCV_TP/".concat(e))},n.selectBrand=function(e){n.props.history.push("/SelectBrand_PCV_TP/".concat(e))},n.showClaimText=function(e,a){1==e?n.setState({showClaim:!0,previous_is_claim:1}):(n.setState({showClaim:!1,previous_is_claim:0}),a.claim_array=[])},n.onSuggestionsClearRequested=function(e,a){console.log("clear"),n.setState({suggestions:[]})},n.onChangeCustomerID=function(e,a){var t=a.newValue,r=(a.method,n.state.motorInsurance&&n.state.motorInsurance.location_id?1:0);n.setState({CustomerID:t,RTO_location:"",location_reset_flag:r,changeFlag:1})},n.SuggestionSelected=function(e,a,t){n.setState({changeFlag:0}),e("location_id"),a("location_id",t.id)},n.onSuggestionsFetchCustomerID=function(e){var a=e.value;n.setState({suggestions:n.getCustomerIDSuggestions(a)})},n.getCustomerIDSuggestionValue=function(e,a){return console.log("check",e.id),n.setState({selectedCustomerRecords:e,changeFlag:0}),e.RTO_LOCATION+" - "+e.RTO_Cluster},n.handleSubmit=function(e,a){var t=n.props.match.params.productId,r=n.state,l=r.motorInsurance,s=r.changeFlag,c=Math.floor(I()().diff(e.registration_date,"months",!0));if(1==s)return L()("Registration city is required"),!1;if(e.no_of_claim!=e.claim_array.length&&1==e.previous_is_claim)return L()("Please fill all claim details"),!1;(Math.floor(I()().diff(e.previous_end_date,"days",!0))>90||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(e.previous_claim_bonus=1);var i,m=new FormData,d=new M.a,u={};"2"==e.policy_type_id||"3"==e.policy_type_id&&"1"==e.lapse_duration?(i={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:I()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_start_date:e.previous_start_date?I()(e.previous_start_date).format("YYYY-MM-DD"):"",previous_end_date:e.previous_end_date?I()(e.previous_end_date).format("YYYY-MM-DD"):"",previous_policy_name:e.previous_policy_name,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city,previous_policy_no:e.previous_policy_no,previous_is_claim:e.previous_is_claim?e.previous_is_claim:"0",previous_claim_bonus:e.previous_claim_bonus?e.previous_claim_bonus:1,no_of_claim:e.no_of_claim,vehicleAge:c,policy_type:1,prev_policy_flag:1,valid_previous_policy:e.valid_previous_policy,claim_array:JSON.stringify(e.claim_array)},Object(o.a)(i,"no_of_claim",e.no_of_claim),Object(o.a)(i,"page_name","VehicleDetails_PCV_TP/".concat(t)),Object(o.a)(i,"duration",e.duration),Object(o.a)(i,"proposed_used_id",e.proposed_used_id),Object(o.a)(i,"averagemonthlyusage_id",e.averagemonthlyusages_id),Object(o.a)(i,"permittype_id",e.permittypes_id),Object(o.a)(i,"is_new_policy",0),u=i):("1"==e.policy_type_id||"3"==e.policy_type_id&&"2"==e.lapse_duration)&&(u={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:4,registration_date:I()(e.registration_date).format("YYYY-MM-DD"),location_id:e.location_id,previous_is_claim:"0",previous_claim_bonus:1,vehicleAge:c,policy_type:1,prev_policy_flag:0,valid_previous_policy:0,claim_array:JSON.stringify(e.claim_array),no_of_claim:e.no_of_claim,page_name:"VehicleDetails_PCV_TP/".concat(t),duration:e.duration,proposed_used_id:e.proposed_used_id,averagemonthlyusage_id:e.averagemonthlyusages_id,permittype_id:e.permittypes_id,is_new_policy:0});l&&"1"==l.policytype_id&&l&&""==l.registration_no?localStorage.setItem("registration_number","NEW"):localStorage.removeItem("registration_number"),console.log("post_data",u),m.append("enc_data",d.encrypt(JSON.stringify(u))),n.props.loadingStart(),P.a.post("pcv-tp/insert-vehicle-details",m).then((function(e){var r=JSON.parse(d.decrypt(e.data));console.log("decrypt",r),n.props.loadingStop(),0==r.error?n.props.history.push("/OtherComprehensive_PCV_TP/".concat(t)):a.setSubmitting(!1)})).catch((function(e){n.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt",t),a.setSubmitting(!1)}))},n.getInsurerList=function(){var e=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0;n.props.loadingStart(),P.a.get("/company/1/".concat(e)).then((function(e){n.setState({insurerList:e.data.data}),n.getAllAddress()})).catch((function(e){n.setState({insurerList:[]}),n.props.loadingStop()}))},n.fetchProposedUse=function(){n.props.match.params.productId;var e=new M.a;n.props.loadingStart(),P.a.post("pcv-tp/proposed-use").then((function(a){var t=JSON.parse(e.decrypt(a.data));console.log("decrypt--fetchProposedUse------ ",t);var r=t.data;n.setState({proposedUse:r}),n.fetchData()})).catch((function(e){n.props.loadingStop()}))},n.fetchVehicleCarryingList=function(){n.props.match.params.productId;var e=new M.a;n.props.loadingStart(),P.a.get("gcv/carrying-capacity-list/12 ").then((function(a){var t=JSON.parse(e.decrypt(a.data)),r=t.data?t.data.averagemonthlyusages:[],l=t.data?t.data.permittypes:[];console.log("decrypt--fetchSubVehicle------ ",r),n.setState({averagemonthlyusages:r,permittypes:l}),n.fetchProposedUse()})).catch((function(e){n.props.loadingStop()}))},n.fetchData=function(){n.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new M.a;P.a.get("pcv-tp/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt",t);var r=t.data.policyHolder?t.data.policyHolder.motorinsurance:{};r.valid_previous_policy=r.policytype_id&&"1"==r.policytype_id?"0":r.valid_previous_policy;var l=t.data.policyHolder&&t.data.policyHolder.previouspolicy?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{};console.log("vehicleDetails",o.varientmodel.horse_power);var s=l&&l.previouspoliciesclaims?l.previouspoliciesclaims.length:"",c=r&&r.rtolocation&&r.rtolocation.RTO_LOCATION?r.rtolocation.RTO_LOCATION:"",i=!l||0!=l.is_claim&&1!=l.is_claim?"":l.is_claim;n.setState({motorInsurance:r,previousPolicy:l,vehicleDetails:o,RTO_location:c,previous_is_claim:i,no_of_claim:s}),n.props.loadingStop()})).catch((function(e){n.props.loadingStop()}))},n.handleChange=function(e){var a=I()(e).add(1,"years").format("YYYY-MM-DD");n.setState({EndDate:a,endDateFlag:!0,serverResponse:[],error:[]})},n.registration=function(e){n.props.history.push("/Registration_PCV/".concat(e))},n}return Object(c.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"escapeRegexCharacters",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"getCustomerIDSuggestions",value:function(e){var a=this.escapeRegexCharacters(e.trim());if(""===a)return[];var t=new RegExp(a,"i");return this.state.customerDetails&&a.length>1?this.state.customerDetails.filter((function(e){return t.test(e.RTO_LOCATION)})):0}},{key:"renderCustomerIDSuggestion",value:function(e){return u.a.createElement("span",null,e.RTO_LOCATION+" - "+e.RTO_Cluster)}},{key:"getAllAddress",value:function(){var e=this,a=localStorage.getItem("policyHolder_id")?localStorage.getItem("policyHolder_id"):0,t=new M.a;P.a.get("gcv/location-list/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));e.setState({customerDetails:n.data}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},{key:"componentDidMount",value:function(){this.getInsurerList(),this.fetchVehicleCarryingList()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,t=this.state,n=t.insurerList,o=(t.showClaim,t.previous_is_claim),s=t.motorInsurance,c=t.previousPolicy,i=t.CustomerID,m=t.suggestions,h=t.vehicleDetails,N=t.RTO_location,S=t.averagemonthlyusages,w=t.proposedUse,k=t.permittypes,P=t.location_reset_flag,D=new Date,M=c&&c.start_date?new Date(c.start_date):"",B=c&&c.start_date?M.getDate():D.getDate(),A=c&&c.start_date?M.getMonth():D.getMonth(),H=c&&c.start_date?M.getFullYear():D.getFullYear()-1,R=(new Date(H,A,B),Object.assign(z,{registration_date:s&&s.registration_date?new Date(s.registration_date):"",location_id:s&&s.location_id&&0==P?s.location_id:"",previous_start_date:c&&c.start_date?new Date(c.start_date):"",previous_end_date:c&&c.end_date?new Date(c.end_date):"",previous_policy_name:c&&c.name?c.name:"",insurance_company_id:c&&c.insurancecompany&&c.insurancecompany.Id?c.insurancecompany.Id:"",previous_city:c&&c.city?c.city:"",previous_policy_no:c&&c.policy_no?c.policy_no:"",previous_is_claim:o,previous_claim_bonus:c&&(c.claim_bonus||0==c.claim_bonus)?c.claim_bonus.toString():"1",no_of_claim:c&&c.previouspoliciesclaims?c.previouspoliciesclaims.length:"",policy_type_id:s&&s.policytype_id?s.policytype_id:"",valid_previous_policy:!s||0!=s.valid_previous_policy&&1!=s.valid_previous_policy?"":s.valid_previous_policy,duration:c&&c.duration?c.duration:"",lapse_duration:s&&s.lapse_duration?s.lapse_duration:"",averagemonthlyusages_id:s&&s.averagemonthlyusage_id?s.averagemonthlyusage_id:"",proposed_used_id:h&&h.proposed_used_id?h.proposed_used_id:"",permittypes_id:s&&s.permittype_id?s.permittype_id:""})),L=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,J={placeholder:L.SearchCity,value:i||N,onChange:this.onChangeCustomerID};return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("aside",{className:"left-sidebar"},u.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},u.a.createElement(y.a,null))),u.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox sbbrand2"},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},L.SBIGICL),u.a.createElement("section",{className:"brand m-b-25"},u.a.createElement("div",{className:"d-flex justify-content-left"},u.a.createElement("div",{className:"brandhead"},u.a.createElement("h4",{className:"fs-18 m-b-30"},L.PleaseVehicleDetails,"."))),u.a.createElement("div",{className:"brand-bg"},u.a.createElement(C.e,{initialValues:R,enableReinitialize:!0,onSubmit:this.handleSubmit,validationSchema:Z},(function(t){var o=t.values,c=t.errors,i=t.setFieldValue,E=t.setFieldTouched,y=(t.isValid,t.isSubmitting),b=t.touched;return console.log("errors-------------- ",c),console.log("values==",o),u.a.createElement(C.d,{enableReinitialize:!0},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:9,lg:9},u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"fs-18"},L.FirstRegDate))),u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"registration_date",minDate:"1"==o.policy_type_id?new Date(Y):new Date(G),maxDate:"1"==o.policy_type_id?new Date:new Date(F),dateFormat:"dd MMM yyyy",placeholderText:L.RegDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:o.registration_date,onChange:function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("registration_date"),e.next=3,i("registration_date",a);case 3:i("previous_end_date",""),i("previous_start_date","");case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),c.registration_date&&b.registration_date?u.a.createElement("span",{className:"errorMsg"},L[c.registration_date]):null))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:4,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"fs-18"},L.RegCity))),u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(O.a,{suggestions:m,onSuggestionsFetchRequested:e.onSuggestionsFetchCustomerID,onSuggestionsClearRequested:function(){return e.onSuggestionsClearRequested(i,o)},getSuggestionValue:e.getCustomerIDSuggestionValue,shouldRenderSuggestions:e.customerIDRender,renderSuggestion:e.renderCustomerIDSuggestion,inputProps:J,onChange:function(a){return e.onChange(a,i)},onSuggestionSelected:function(a,t){var n=t.suggestion;t.suggestionValue;console.log("change",a,n),e.SuggestionSelected(E,i,n)}}),c.location_id&&b.location_id?u.a.createElement("span",{className:"errorMsg"},L[c.location_id]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"proposed_used_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.proposed_used_id},u.a.createElement("option",{value:""},L.SelectProposedUsage),w.map((function(e,a){return u.a.createElement("option",{value:e.id},e.description)}))),c.proposed_used_id&&b.proposed_used_id?u.a.createElement("span",{className:"errorMsg"},L[c.proposed_used_id]):null))),u.a.createElement(_.a,{sm:12,md:11,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"averagemonthlyusages_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.averagemonthlyusages_id},u.a.createElement("option",{value:""},L.GCVMonthlyUse),S.map((function(e,a){return u.a.createElement("option",{value:e.averagemonthlyusage_id},e.usage_description)}))),c.averagemonthlyusages_id&&b.averagemonthlyusages_id?u.a.createElement("span",{className:"errorMsg"},L[c.averagemonthlyusages_id]):null))),u.a.createElement(_.a,{sm:12,md:11,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"permittypes_id",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.permittypes_id},u.a.createElement("option",{value:""},L.GCVPermit),k.map((function(e,a){return u.a.createElement("option",{value:e.id},e.permittype)}))),c.permittypes_id&&b.permittypes_id?u.a.createElement("span",{className:"errorMsg"},L[c.permittypes_id]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null,"\xa0 "))))),"2"==o.policy_type_id||"3"==o.policy_type_id&&"1"==o.lapse_duration?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ",L.GCVValidPolicy,"  ? "))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"d-inline-flex m-b-35"},u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"valid_previous_policy",value:"0",key:"1",onChange:function(e){E("valid_previous_policy"),i("valid_previous_policy",e.target.value)},checked:"0"==o.valid_previous_policy}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",L.No))),u.a.createElement("div",{className:""},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(C.b,{type:"radio",name:"valid_previous_policy",value:"1",key:"1",onChange:function(e){E("valid_previous_policy"),i("valid_previous_policy",e.target.value)},checked:"1"==o.valid_previous_policy}),u.a.createElement("span",{className:"checkmark"}),u.a.createElement("span",{className:"fs-14"},L.Yes)),c.valid_previous_policy&&b.valid_previous_policy?u.a.createElement("span",{className:"errorMsg"},L[c.valid_previous_policy]):null)))))):null,("2"==o.policy_type_id||"3"==o.policy_type_id&&"1"==o.lapse_duration)&&"1"==o.valid_previous_policy?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," "))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ",L.PPD))))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:11,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"previous_policy_name",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.previous_policy_name,onChange:function(e){if("3"==e.target.value)if(o.duration&&o.previous_start_date){var a;a=I()(I()(o.previous_start_date).add(o.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"),i("previous_end_date",new Date(a))}else i("previous_end_date","");else if(o.previous_start_date){var t=new Date(o.previous_start_date);t=t.setFullYear(t.getFullYear()+1);var n=new Date(t);n=n.setDate(n.getDate()-1),i("previous_policy_name",e.target.value),i("previous_end_date",new Date(n))}i("previous_policy_name",e.target.value)}},u.a.createElement("option",{value:""},L.SPT),u.a.createElement("option",{value:"1"},L.Package),u.a.createElement("option",{value:"2"},L.LiabilityOnly)),c.previous_policy_name&&b.previous_policy_name?u.a.createElement("span",{className:"errorMsg"},L[c.previous_policy_name]):null))),"3"==o.previous_policy_name?u.a.createElement(_.a,{sm:12,md:5,lg:3},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"duration",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.duration,onChange:function(e){var a=new Date;o.previous_start_date&&(a=I()(I()(o.previous_start_date).add(e.target.value,"month")).subtract(1,"day").format("YYYY-MM-DD"),i("previous_end_date",new Date(a))),i("duration",e.target.value)}},u.a.createElement("option",{value:""},"Select Duration"),u.a.createElement("option",{value:"1"}," One Month"),u.a.createElement("option",{value:"2"}," Two Month"),u.a.createElement("option",{value:"3"}," Three Month"),u.a.createElement("option",{value:"4"}," Four Month"),u.a.createElement("option",{value:"5"}," Five Month"),u.a.createElement("option",{value:"6"}," Six Month"),u.a.createElement("option",{value:"7"}," Seven Month"),u.a.createElement("option",{value:"8"}," Eight Month")),c.duration&&b.duration?u.a.createElement("span",{className:"errorMsg"},c.duration):null))):null,u.a.createElement(_.a,{sm:12,md:11,lg:"3"==o.previous_policy_name?3:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"previous_start_date",minDate:"3"==o.policy_type_id?new Date(q):new Date(j),maxDate:"3"==o.previous_policy_name?new Date(V):new Date(T),dateFormat:"dd MMM yyyy",placeholderText:L.PPSD,peekPreviousMonth:!0,autoComplete:"off",peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:o.previous_start_date,onChange:function(e){var a=new Date(e),t=new Date(e);new Date(e);if("3"==o.previous_policy_name)o.duration&&(t=I()(I()(e).add(o.duration,"month")).subtract(1,"day").format("YYYY-MM-DD"));else if("1"==o.previous_policy_name||"2"==o.previous_policy_name){a=a.setFullYear(a.getFullYear()+1),t=(t=new Date(a)).setDate(t.getDate()-1)}E("previous_start_date"),i("previous_end_date",new Date(t)),i("previous_start_date",e)}}),c.previous_start_date&&b.previous_start_date?u.a.createElement("span",{className:"errorMsg"},L[c.previous_start_date]):null)),u.a.createElement(_.a,{sm:12,md:11,lg:"3"==o.previous_policy_name?3:4},u.a.createElement(g.a,null,u.a.createElement(v.a,{name:"previous_end_date",dateFormat:"dd MMM yyyy",placeholderText:L.PPED,disabled:!0,dropdownMode:"select",className:"datePckr inputfs12",selected:o.previous_end_date}),c.previous_end_date&&b.previous_end_date?u.a.createElement("span",{className:"errorMsg"},L[c.previous_end_date]):null))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:6,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(C.b,{name:"insurance_company_id",component:"select",autoComplete:"off",className:"formGrp"},u.a.createElement("option",{value:""},L.SelectInsurer),n.map((function(e,a){return u.a.createElement("option",{key:a,value:e.Id},e.name)}))),c.insurance_company_id&&b.insurance_company_id?u.a.createElement("span",{className:"errorMsg"},L[c.insurance_company_id]):null))),u.a.createElement(_.a,{sm:12,md:5,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(C.b,{name:"previous_city",type:"text",placeholder:L.PInsurerAddress,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),c.previous_city&&b.previous_city?u.a.createElement("span",{className:"errorMsg"},L[c.previous_city]):null)))),u.a.createElement(p.a,null,u.a.createElement(_.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(C.b,{name:"previous_policy_no",type:"text",placeholder:L.PPolicyNumber,autoComplete:"off",maxLength:"28",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)}}),c.previous_policy_no&&b.previous_policy_no?u.a.createElement("span",{className:"errorMsg"},L[c.previous_policy_no]):null))))):null,u.a.createElement("div",{className:"d-flex justify-content-left resmb"},u.a.createElement(f.a,{className:"backBtn",type:"button",disabled:!!y,onClick:e.selectBrand.bind(e,a)},y?L.Wait:L.Back),u.a.createElement(f.a,{className:"proceedBtn",type:"submit",disabled:!!y},y?L.Wait:L.Next))),u.a.createElement(_.a,{sm:12,md:3},u.a.createElement("div",{className:"regisBox"},u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr resmb-15"},L.RegNo,".",u.a.createElement("br",null),s&&s.registration_no),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.registration.bind(e,a)},L.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr resmb-15"},L.PCVBrand,"- ",u.a.createElement("strong",null,h&&h.vehiclebrand&&h.vehiclebrand.name?h.vehiclebrand.name:"")),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectBrand.bind(e,a)},L.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},L.PCVModel,u.a.createElement("br",null),u.a.createElement("strong",null,h&&h.vehiclemodel&&h.vehiclemodel.description?h.vehiclemodel.description+" "+h.varientmodel.varient:"")),u.a.createElement("div",null," ",u.a.createElement("button",{type:"button",className:"rgistrBtn",onClick:e.selectVehicleBrand.bind(e,a)},L.Edit))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},L.BodyStyle,u.a.createElement("br",null),u.a.createElement("strong",null,h&&h.varientmodel&&h.varientmodel.bodystyle?h.varientmodel.bodystyle.DESCRIPTION:""))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},L.carryingCapacity,u.a.createElement("br",null),u.a.createElement("strong",null,h&&h.varientmodel&&h.varientmodel.carrying?h.varientmodel.carrying:""))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},L.Power,u.a.createElement("br",null),u.a.createElement("strong",null,h&&h.varientmodel&&h.varientmodel.horse_power?h.varientmodel.horse_power+" BHP":""))),u.a.createElement("div",{className:"d-flex justify-content-between flex-lg-row flex-md-column m-b-25"},u.a.createElement("div",{className:"txtRegistr"},L.Fuel,u.a.createElement("br",null),u.a.createElement("strong",null,h&&h.varientmodel&&h.varientmodel.fueltype?x.a[h.varientmodel.fueltype.id]:null," ")))))))})))),u.a.createElement(b.a,null)))))))}}]),t}(d.Component);a.default=Object(N.g)(Object(w.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(S.a)())},loadingStop:function(){return e(Object(S.b)())}}}))($))},1334:function(e,a,t){"use strict";t.r(a);var n=t(51),r=t.n(n),l=t(72),o=t(13),s=t(14),c=t(46),i=t(18),m=t(17),d=t(0),u=t.n(d),p=t(904),_=t(903),g=t(913),f=t(377),h=t(910),v=t(48),E=t.n(v),y=(t(172),t(95),t(96),t(2)),b=t(31),N=t(34),S=t(40),w=t(38),k=t(19),C=t(22),P=t(7),D=t(9),I=t(1),M=t(20),B=t.n(M),A=t(3),O=t.n(A),x=t(25),H=t(99),R=new D.a,L=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],j=I.object().shape({registration_no:I.string().when("newRegistrationNo",{is:"NEW",then:I.string(),otherwise:I.string().required("PleaseProRegNum").test("last4digitcheck",(function(){return"InvalidRegNumber"}),(function(e){return!e||""==e&&void 0==e||Object(x.j)(e)}))}),puc:I.string().required("Please verify pollution certificate to proceed"),chasis_no_last_part:I.string().required("RequiredField").matches(/^([a-zA-Z0-9]*)$/,(function(){return"InvalidNumber"})).min(5,(function(){return"ChasisLastDigit"})).max(5,(function(){return"ChasisLastDigit"})),engine_no:I.string().required("EngineRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidEngineNumber"})).min(5,(function(){return"EngineMin"})).max(17,(function(){return"EngineMax"})),chasis_no:I.string().required("ChasisRequired").matches(/^[a-zA-Z0-9]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"})),vahanVerify:I.boolean().notRequired("PleaseNumber").test("vahanVerifyChecking",(function(){return"PleaseNumber"}),(function(e){return 0!=e||!this.parent.chasis_no_last_part||5!=this.parent.chasis_no_last_part.length})),PA_Cover:I.string().when(["PA_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide PA coverage"),otherwise:I.string()}),ATC_value:I.string().when(["ATC_flag"],{is:function(e){return"1"==e},then:I.string().required("Please select additional towing charges"),otherwise:I.string()}),B00070_value:I.string().when(["LL_workman_flag"],{is:function(e){return"1"==e},then:I.string().required("Please enter No. of workman").matches(/^[0-9]*$/,"Please provide valid No."),otherwise:I.string()}),B00018_value:I.string().when(["enhance_PA_OD_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide enhance PA coverage").test("isLoanChecking",(function(){return"Value should be 16L to 50L"}),(function(e){return!(parseInt(e)<16e5||e>5e6)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:I.string()}),B00069_value:I.string().when(["LL_Coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvidePerson").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00012_value:I.string().when(["LL_Emp_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideEmployee").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00013_value:I.string().when(["LL_PD_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideDriver"),otherwise:I.string()}),B00022_value:I.string().when(["hospital_cash_PD_flag"],{is:function(e){return"1"==e},then:I.string().required("This field is required"),otherwise:I.string()}),B00020_value:I.string().when(["hospital_cash_OD_flag"],{is:function(e){return"1"==e},then:I.string().required("This field is required"),otherwise:I.string()}),B00004_value:I.string().when(["electric_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:I.string()}),B00004_description:I.string().when(["electric_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:I.string()}),B00003_value:I.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideNonElecIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV").max(8,(function(){return"valueMax8Char"})),otherwise:I.string()}),B00003_description:I.string().when(["nonElectric_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideAccessory").matches(/^[a-zA-Z0-9]+[a-zA-Z0-9\s]*$/,"PleaseValidDescription"),otherwise:I.string()}),B00073_value:I.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide PA value").matches(/^[0-9]*$/,"Please provide valid PA value"),otherwise:I.string()}),B00073_description:I.string().when(["pa_coolie_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide No. of paid driver").matches(/^[0-9]$/,"Please provide valid number"),otherwise:I.string()}),B00007_value:I.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideTrailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00007_description:I.string().when(["trailer_flag"],{is:function(e){return"1"==e},then:I.string().required("pleaseProvideTrailerIDV").matches(/^[0-9]*$/,"PleaseProvideValidIDV"),otherwise:I.string()}),B00011_value:I.string().when(["trailer_flag_TP"],{is:function(e){return"1"==e},then:I.string().required("Please provide No. of trailer").matches(/^[0-9]$/,"Please provide valid No."),otherwise:I.string()}),B00010:I.string().when(["fuel_type"],{is:function(e){return"3"==e||"4"==e},then:I.string().test("isLoanChecking",(function(e){return""!=e&&null!=e&&void 0!=e||(B()("If Fuel type is CNG/LPG ,then CNG/LPG Kit-Liability cover is mandatory."),!1)})),otherwise:I.string()}),B00005_value:I.string().when(["CNG_OD_flag"],{is:function(e){return"1"==e},then:I.string().required("Please provide IDV").test("isLoanChecking",(function(){return"Value should be 1K to 5L"}),(function(e){return!(parseInt(e)<1e3||e>5e5)})).matches(/^[0-9]*$/,(function(){return"Please enter valid IDV"})),otherwise:I.string()}),fuel_type:I.string().required("Select fuel type"),trailer_array:I.array().of(I.object().shape({regNo:I.string().required("Please provide registration number").test("last4digitcheck",(function(){return"Invalid Registration number"}),(function(e){return!e||""==e&&void 0==e||Object(x.j)(e)})),chassisNo:I.string().required("Chassis no is required").matches(/^[0-9a-zA-Z]*$/,(function(){return"InvalidChasisNumber"})).min(5,(function(){return"ChasisMin"})).max(25,(function(){return"ChasisMax"}))}))}),F={B00002:L.B00002,B00003:L.B00003,B00004:L.B00004,B00005:L.B00005,B00006:L.B00006,B00007:L.B00007,B00008:L.B00008,B00009:L.B00009,B00010:L.B00010,B00011:L.B00011,B00012:L.B00012,B00013:L.B00013,B00069:L.B00069,B00070:L.B00070,B00071:L.B00071,B00015:L.B00015,B00073:L.B00073,B00018:L.B00018,B00019:L.B00019,B00020:L.B00020,B00022:L.B00022},q=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleChange=function(){n.setState({serverResponse:[],error:[]})},n.showCNGText=function(e){1==e?n.setState({showCNG:!0,is_CNG_account:1,serverResponse:[],error:[]}):n.setState({showCNG:!1,is_CNG_account:0,serverResponse:[],error:[]})},n.sliderValue=function(e){n.setState({sliderVal:e,userIdvStatus:1,bodyIdvStatus:0,serverResponse:[],error:[]})},n.bodySliderValue=function(e){n.setState({bodySliderVal:e,bodyIdvStatus:1,userIdvStatus:0,serverResponse:[],error:[]})},n.vehicleDetails=function(e){n.props.history.push("/VehicleDetails_PCV_TP/".concat(e))},n.fetchData=function(){n.props.match.params.productId;var e=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,a=new D.a;P.a.get("pcv-tp/policy-holder/details/".concat(e)).then((function(e){var t=JSON.parse(a.decrypt(e.data));console.log("decrypt--fetchData-- ",t);var r=t.data.policyHolder?t.data.policyHolder.motorinsurance:{},l=t.data.policyHolder?t.data.policyHolder.previouspolicy:{},o=t.data.policyHolder?t.data.policyHolder.request_data:{},s=t.data.policyHolder?t.data.policyHolder.vehiclebrandmodel:{},c=r.trailers&&null!=r.trailers?r.trailers:null,i=r&&r.registration_date?r.registration_date:"",m=l&&l.end_date?l.end_date:"",d=r?r.valid_previous_policy:"0",u=r?r.policytype_id:"",p=0,_=r&&r.body_idv_value?r.body_idv_value:0,g=r&&r.idv_value?r.idv_value:0;if(Math.floor(O()().diff(m,"months",!0))>1||"0"==d||"1"==u){var f=O()().format("YYYY-MM-DD");p=O()(f).diff(i,"days",!0)}else p=O()(m).add(1,"day").diff(i,"days",!0);console.log("vehicle_age---------- ",p),c=null!=c?JSON.parse(c):[];var h=[],v=[];if(s&&s.varientmodel&&(8==s.varientmodel.fueltype.id||9==s.varientmodel.fueltype.id))if(r&&"1"==r.policy_for&&null==r.add_more_coverage){var E=["B00015"];v.push(E)}else if(r&&"2"==r.policy_for&&null==r.add_more_coverage){E=[];v.push(E)}else{E=r.add_more_coverage.split(",");v.push(E)}else if(s&&s.varientmodel&&(3==s.varientmodel.fueltype.id||4==s.varientmodel.fueltype.id))if(r&&"1"==r.policy_for&&null==r.add_more_coverage){E=["B00015","B00006","B00010"];v.push(E)}else if(r&&"2"==r.policy_for&&null==r.add_more_coverage){E=["B00006","B00010"];v.push(E)}else{E=r.add_more_coverage.split(",");v.push(E)}else if(r&&"1"==r.policy_for&&null==r.add_more_coverage){E=["B00015"];v.push(E)}else if(r&&"2"==r.policy_for&&null==r.add_more_coverage){E=[];v.push(E)}else{E=r.add_more_coverage.split(",");v.push(E)}v=v.flat(),h.PA_flag=r&&""!=r.pa_cover?"1":"0",h.PA_Cover=r&&""!=r.pa_cover?r.pa_cover:"0";var y=r&&null!=r.add_more_coverage_request_json?r.add_more_coverage_request_json:"",b=""!=y?JSON.parse(y):[];h.ATC_value=b.ATC?b.ATC.value:"",h.B00018_value=b.B00018?b.B00018.value:"",h.B00069_value=b.B00069?b.B00069.value:"",h.B00012_value=b.B00012?b.B00012.value:"",h.B00013_value=b.B00013?b.B00013.value:"",h.B00022_value=b.B00022?b.B00022.value:"",h.B00020_value=b.B00020?b.B00020.value:"",h.B00004_value=b.B00004?b.B00004.value:"",h.B00004_description=b.B00004?b.B00004.description:"",h.B00003_value=b.B00003?b.B00003.value:"",h.B00003_description=b.B00003?b.B00003.description:"",h.B00073_value=b.B00073?b.B00073.value:"",h.B00073_description=b.B00073?b.B00073.description:"",h.B00007_value=b.B00007?b.B00007.value:"",h.B00007_description=b.B00007?b.B00007.description:"",h.B00070_value=b.B00070?b.B00070.value:"",h.B00011_value=b.B00011?b.B00011.value:"",h.trailer_array=c,n.setState({motorInsurance:r,add_more_coverage:v,request_data:o,vehicleDetails:s,bodySliderVal:_,sliderVal:g,showCNG:1==r.cng_kit,vahanVerify:!(!r.chasis_no||!r.engine_no),selectFlag:r&&null!=r.add_more_coverage?"0":"1",no_of_claim:b.B00007?b.B00007.value:"",add_more_coverage_request_array:b,trailer_array:c,vehicle_age:p}),n.props.loadingStop(),n.fullQuote(h)})).catch((function(e){n.props.loadingStop()}))},n.getFuelList=function(e){n.props.loadingStart(),P.a.get("/fuel-list").then((function(e){n.setState({fuelList:e.data.data.fuellist}),n.fetchData()})).catch((function(e){n.setState({fuelList:[]}),n.props.loadingStop()}))},n.getMoreCoverage=function(){n.props.loadingStart();var e=new D.a;P.a.get("gcv/coverage-list/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=JSON.parse(e.decrypt(a.data));n.setState({moreCoverage:t.data}),n.getFuelList()})).catch((function(a){JSON.parse(e.decrypt(a.data));n.setState({moreCoverage:[]}),n.props.loadingStop()}))},n.getVahanDetails=function(){var e=Object(l.a)(r.a.mark((function e(a,t,l,o){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new FormData,"NEW"==a.newRegistrationNo?(s.append("regnNo",a.newRegistrationNo),t("registration_no"),l("registration_no",a.newRegistrationNo)):s.append("regnNo",a.registration_no),s.append("chasiNo",a.chasis_no_last_part),s.append("policy_holder_id",n.state.request_data.policyholder_id),!o.registration_no&&!o.chasis_no_last_part){e.next=8;break}B()("Please provide correct Registration number and Chasis number"),e.next=19;break;case 8:if("NEW"==a.newRegistrationNo){e.next=14;break}return n.props.loadingStart(),e.next=12,P.a.post("/getVahanDetails",s).then((function(e){n.setState({vahanDetails:e.data,vahanVerify:!0}),n.state.vahanDetails.data[0].chasiNo&&n.setState({chasiNo:n.state.vahanDetails.data[0].chasiNo}),n.state.vahanDetails.data[0].engineNo&&n.setState({engineNo:n.state.vahanDetails.data[0].engineNo}),t("vahanVerify"),l("vahanVerify",!0),t("engine_no"),l("engine_no",n.state.engineNo),t("chasis_no"),l("chasis_no",n.state.chasiNo),n.props.loadingStop()})).catch((function(e){n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop()}));case 12:e.next=19;break;case 14:n.props.loadingStart(),n.setState({vahanDetails:[],vahanVerify:!0}),t("vahanVerify"),l("vahanVerify",!0),n.props.loadingStop();case 19:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}(),n.fullQuote=function(e){var a,t=n.state,r=t.PolicyArray,l=t.sliderVal,o=t.add_more_coverage,s=t.motorInsurance,c=(t.bodySliderVal,t.vehicleDetails),i=(t.chasis_price,t.userIdvStatus,t.bodyIdvStatus,r.length>0&&Math.round(r[0].PolicyRiskList[0].IDV_User),{}),m=new FormData,d=new D.a,u=0;o&&(i={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00011:{value:e.B00011_value},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}},e.B00004_value&&(u+=parseInt(e.B00004_value)),e.B00003_value&&(u+=parseInt(e.B00003_value)));var p={ref_no:localStorage.getItem("policyHolder_refNo"),id:localStorage.getItem("policyHolder_id"),policy_type:s.policy_type,add_more_coverage:o.toString(),PA_Cover:e.PA_flag?e.PA_Cover:"0",coverage_data:JSON.stringify(i),trailer_array:e.trailer_array,fuel_type:e.fuel_type?e.fuel_type:c&&c.varientmodel&&c.varientmodel.fueltype?c.varientmodel.fueltype.id:"",idv_value:l||0};console.log("fullQuote_post_data",p),a=parseInt(u)+parseInt(p.idv_value)+parseInt(p.body_idv_value);var _=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";if(_&&(_=JSON.parse(d.decrypt(_.user)),a>5e6&&"POSP"==_.user_type))return B()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1;m.append("enc_data",d.encrypt(JSON.stringify(p))),n.props.loadingStart(),P.a.post("pcv-tp/full-quote",m).then((function(e){if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status){var a=e.data.PolicyObject.PolicyLobList,t=e.data.PolicyObject.PolicyLobList&&e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IsNCB?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].OD_NCBAmount:0;n.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:a,chasis_price:e.data.chasis_price,error:[],validation_error:[],userIdvStatus:1,bodyIdvStatus:1,sliderVal:e.data.PolicyObject.PolicyLobList?Math.round(e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].IDV_User):0,ncbDiscount:t,serverResponse:e.data.PolicyObject,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.PolicyObject&&e.data.UnderwritingResult&&"Fail"==e.data.UnderwritingResult.Status){var r=[];for(var l in e.data.UnderwritingResult.MessageList)r.push(e.data.UnderwritingResult.MessageList[l].Message);n.setState({fulQuoteResp:e.data.PolicyObject,error:{message:0},validation_error:r,serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,policyCoverage:e.data.PolicyObject.PolicyLobList?e.data.PolicyObject.PolicyLobList[0].PolicyRiskList[0].PolicyCoverageList:[]})}else if(e.data.code&&e.data.message&&"validation failed"==e.data.code&&"validation failed"==e.data.message){r=[];for(var s in e.data.messages){var c="";e.data.messages[s].message.match(/blacklisted/gi)&&"SBIG-PA-Validation-B1064"==e.data.messages[s].code?(c="It is blacklisted vehicle. Please contact Relationship manager",B()(c)):c=e.data.messages[s].message,r.push(c)}n.setState({fulQuoteResp:[],add_more_coverage:o,validation_error:r,error:{message:0},userIdvStatus:1,bodyIdvStatus:1,serverResponse:[]})}else n.setState({fulQuoteResp:[],add_more_coverage:o,error:{message:1},serverResponse:[],userIdvStatus:1,bodyIdvStatus:1,validation_error:[]});n.props.loadingStop()})).catch((function(e){n.setState({serverResponse:[]}),n.props.loadingStop()}))},n.handleSubmit=function(e){var a=n.props.match.params.productId,t=n.state,r=(t.motorInsurance,t.PolicyArray),l=t.sliderVal,o=t.add_more_coverage,s=t.bodySliderVal,c=r.length>0?Math.round(r[0].PolicyRiskList[0].IDV_User):0,i={};o&&(i={B00018:{value:e.B00018_value},B00069:{value:e.B00069_value},B00012:{value:e.B00012_value},B00013:{value:e.B00013_value},B00022:{value:e.B00022_value},B00020:{value:e.B00020_value},ATC:{value:e.ATC_value},B00004:{value:e.B00004_value,description:e.B00004_description},B00003:{value:e.B00003_value,description:e.B00003_description},B00073:{value:e.B00073_value,description:e.B00073_description},B00007:{value:e.B00007_value,description:e.B00007_description},B00011:{value:e.B00011_value},B00070:{value:e.B00070_value},B00005:{value:e.B00005_value}});var m=new FormData,d=new D.a,u=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";u.user&&(u=JSON.parse(d.decrypt(u.user)));var p=0,_=0,g={};if(o.length>0?(g={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():c.toString(),add_more_coverage:o,puc:e.puc,pa_cover:e.PA_flag?e.PA_Cover:"0",pa_flag:e.PA_cover_flag,coverage_data:JSON.stringify(i),body_idv_value:s||0,fuel_type:e.fuel_type,trailer_array:e.trailer_array,page_name:"OtherComprehensive_PCV_TP/".concat(a)},e.B00004_value&&(_+=parseInt(e.B00004_value)),e.B00003_value&&(_+=parseInt(e.B00003_value)),p=parseInt(g.idv_value)+parseInt(g.body_idv_value)+_):(g={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:12,registration_no:e.registration_no,chasis_no:e.chasis_no,chasis_no_last_part:e.chasis_no_last_part,cng_kit:e.cng_kit,engine_no:e.engine_no,idv_value:l?l.toString():c.toString(),puc:e.puc,body_idv_value:s||0,fuel_type:e.fuel_type,page_name:"OtherComprehensive_PCV_TP/".concat(a)},p=parseInt(g.idv_value)+parseInt(g.body_idv_value)),console.log("post_data",g),u){if(H.a.includes(u.login_type)&&o.indexOf("B00015")<0)return B()("This cover is mandated by IRDAI, it is compulsory for Owner-Driver to possess a PA cover of minimum Rs 15 Lacs, except in certain conditions. By not choosing this cover, you confirm that you hold an existing PA cover or you do not possess a valid driving license."),!1;if(p>5e6&&"POSP"==u.user_type)return B()("Quote cannot proceed with IDV greater than 5000000"),n.props.loadingStop(),!1;e.chasis_no.slice(e.chasis_no.length-5)===e.chasis_no_last_part?(m.append("enc_data",d.encrypt(JSON.stringify(g))),n.props.loadingStart(),P.a.post("pcv-tp/update-insured-value",m).then((function(e){n.props.loadingStop();var t=JSON.parse(d.decrypt(e.data));console.log("decrypt--fetchData-- ",t),0==t.error?n.props.history.push("/AdditionalDetails_PCV_TP/".concat(a)):B()(t.msg)})).catch((function(e){var a=JSON.parse(d.decrypt(e.data));console.log("decryptErr--fetchData-- ",a),n.props.loadingStop()}))):B()("Chasis no mismatch")}},n.onRowSelect=function(e,a,t,r,l){var o=n.state.add_more_coverage;if(t)o.push(e),n.setState({add_more_coverage:o,serverResponse:[],error:[]}),"B00016"==e&&(r("PA_flag"),l("PA_flag","1")),"B00015"==e&&(r("PA_cover_flag"),l("PA_cover_flag","1")),"B00007"==e&&(r("trailer_flag"),l("trailer_flag","1")),"B00073"==e&&(r("pa_coolie_flag"),l("pa_coolie_flag","1")),"B00003"==e&&(r("nonElectric_flag"),l("nonElectric_flag","1")),"B00004"==e&&(r("electric_flag"),l("electric_flag","1")),"B00020"==e&&(r("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","1")),"B00022"==e&&(r("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","1")),"B00013"==e&&(r("LL_PD_flag"),l("LL_PD_flag","1")),"B00012"==e&&(r("LL_Emp_flag"),l("LL_Emp_flag","1")),"B00069"==e&&(r("LL_Coolie_flag"),l("LL_Coolie_flag","1")),"B00018"==e&&(r("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","1")),"B00070"==e&&(r("LL_workman_flag"),l("LL_workman_flag","1")),"ATC"==e&&(r("ATC_flag"),l("ATC_flag","1")),"B00011"==e&&(r("trailer_flag_TP"),l("trailer_flag_TP","1")),"B00005"==e&&(r("CNG_OD_flag"),l("CNG_OD_flag","1"));else{var s=o.indexOf(e);-1!==s&&(o.splice(s,1),n.setState({serverResponse:[],error:[]})),"B00016"==e&&(r("PA_flag"),l("PA_flag","0"),r("PA_Cover"),l("PA_Cover","")),"B00015"==e&&(r("PA_cover_flag"),l("PA_cover_flag","0")),"B00007"==e&&(r("trailer_flag"),l("trailer_flag","0")),"B00073"==e&&(r("pa_coolie_flag"),l("pa_coolie_flag","0")),"B00003"==e&&(r("nonElectric_flag"),l("nonElectric_flag","0")),"B00004"==e&&(r("electric_flag"),l("electric_flag","0")),"B00020"==e&&(r("hospital_cash_OD_flag"),l("hospital_cash_OD_flag","0")),"B00022"==e&&(r("hospital_cash_PD_flag"),l("hospital_cash_PD_flag","0")),"B00013"==e&&(r("LL_PD_flag"),l("LL_PD_flag","0")),"B00012"==e&&(r("LL_Emp_flag"),l("LL_Emp_flag","0")),"B00069"==e&&(r("LL_Coolie_flag"),l("LL_Coolie_flag","0")),"B00018"==e&&(r("enhance_PA_OD_flag"),l("enhance_PA_OD_flag","0")),"B00070"==e&&(r("LL_workman_flag"),l("LL_workman_flag","0")),"ATC"==e&&(r("ATC_flag"),l("ATC_flag","0")),"B00011"==e&&(r("trailer_flag_TP"),l("trailer_flag_TP","0")),"B00005"==e&&(r("CNG_OD_flag"),l("CNG_OD_flag","0"))}},n.regnoFormat=function(e,a,t){var n=e.target.value;e.target.value=n.toUpperCase()},n.handleNoOfClaims=function(e,a){var t=e.trailer_array.length;if(e.trailer_array.length>a)for(var r=t;r>=a;r--)e.trailer_array.splice(r,1);else if(e.trailer_array.length<a)for(r=e.trailer_array.length;r<a;r++)e.trailer_array.push({chassisNo:"",regNo:""});n.setState({no_of_claim:a,serverResponse:[],error:[]})},n.initClaimDetailsList=function(){for(var e=[],a=n.state.trailer_array,t=0;t<n.state.no_of_claim;t++)e.push({chassisNo:a&&a[t]&&a[t].chassisNo?a[t].chassisNo:"",regNo:a&&a[t]&&a[t].regNo?a[t].regNo:""});return e},n.handleClaims=function(e,a,t,r,l,o){for(var s=[],c=0;c<e.B00007_value;c++)s.push(u.a.createElement(p.a,{sm:12,md:12,lg:12},u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:1,md:1,lg:1},u.a.createElement("span",{className:"indexing"}," ",c+1," ")),u.a.createElement(p.a,{sm:12,md:5,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"trailer_array[".concat(c,"].regNo"),type:"text",placeholder:"Registration No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)},onInput:function(e){n.regnoFormat(e,r,l)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].regNo?u.a.createElement("span",{className:"errorMsg"},a.trailer_array[c].regNo):null))),u.a.createElement(p.a,{sm:12,md:5,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"trailer_array[".concat(c,"].chassisNo"),type:"text",placeholder:"Chassis No",autoComplete:"off",onFocus:function(e){return n.changePlaceHoldClassAdd(e)},onBlur:function(e){return n.changePlaceHoldClassRemove(e)}}),a.trailer_array&&a.trailer_array[c]&&a.trailer_array[c].chassisNo?u.a.createElement("span",{className:"errorMsg"},o[a.trailer_array[c].chassisNo]):null))))));return s},n.handleShow=n.handleShow.bind(Object(c.a)(n)),n.handleClose=n.handleClose.bind(Object(c.a)(n)),n.state={showCNG:!1,is_CNG_account:"",accessToken:"",serverResponse:[],fulQuoteResp:[],PolicyArray:[],chasis_price:"",show:!1,sliderVal:"",motorInsurance:[],add_more_coverage:["B00015"],vahanDetails:[],vahanVerify:!1,policyCoverage:[],regno:"",length:14,moreCoverage:[],engine_no:"",chasis_no:"",chasiNo:"",engineNo:"",selectFlag:"",initialValue:{registration_no:"",chasis_no:"",chasis_no_last_part:"",add_more_coverage:"",cng_kit:0,engine_no:"",vahanVerify:!1,newRegistrationNo:"",puc:"1",fuel_type:""},request_data:[],add_more_coverage_request_array:[],bodySliderVal:"",fuelList:[],vehicleDetails:[],no_of_claim:[],trailer_array:[],ncbDiscount:0,validation_error:[],vehicle_age:"",depreciationPercentage:"",bodyIdvStatus:1,userIdvStatus:1},n}return Object(s.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.getMoreCoverage()}},{key:"render",value:function(){var e=this,a=this.state,t=(a.showCNG,a.is_CNG_account,a.vahanDetails,a.error),n=a.policyCoverage,r=a.vahanVerify,l=a.selectFlag,o=a.fulQuoteResp,s=a.PolicyArray,c=(a.fuelList,a.depreciationPercentage),i=a.vehicleDetails,m=a.validation_error,v=a.moreCoverage,w=a.sliderVal,k=(a.bodySliderVal,a.motorInsurance),C=a.serverResponse,P=a.engine_no,D=a.chasis_no,I=a.initialValue,M=a.add_more_coverage_request_array,A=a.ncbDiscount,O=this.props.match.params.productId;console.log("coverage",v);var x=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";x.user&&(x=JSON.parse(R.decrypt(x.user)));var L=w,q=s.length>0?s[0].PolicyRiskList[0].MinIDV_Suggested:0,T=s.length>0?s[0].PolicyRiskList[0].MaxIDV_Suggested:0;s.length>0&&Math.floor(T);0==Number.isInteger(q)&&(s.length>0?Math.floor(s[0].PolicyRiskList[0].MinIDV_Suggested):null);var V=s.length>0?s[0].PolicyRiskList[0].MSP-s[0].PolicyRiskList[0].MSP*(c/100):0,G=(s.length>0&&Math.floor(V/2),k&&k.add_more_coverage?k.add_more_coverage.split(","):""),Y={},J=!k||null!=k.pa_cover&&""!=k.pa_cover?"1":"0",z=k&&null!=k.pa_cover?k.pa_cover:"",Z=i&&i.varientmodel&&i.varientmodel.fueltype?i.varientmodel.fueltype.id:"",$=M.B00007&&M.B00007.value?"1":"0",U=M.B00073&&M.B00073.value?"1":"0",Q=M.B00004&&M.B00004.value?"1":"0",W=M.B00003&&M.B00003.value?"1":"0",K=M.B00020&&M.B00020.value?"1":"0",X=M.B00022&&M.B00022.value?"1":"0",ee=M.B00013&&M.B00013.value?"1":"0",ae=M.B00012&&M.B00012.value?"1":"0",te=M.B00069&&M.B00069.value?"1":"0",ne=M.B00018&&M.B00018.value?"1":"0",re=M.ATC&&M.ATC.value?"1":"0",le=M.B00070&&M.B00070.value?"1":"0",oe=M.B00011&&M.B00011.value?"1":"0",se=M.B00005&&M.B00005.value?"1":"0",ce=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):[],ie={};ie="1"==l?Object.assign(I,{registration_no:k.registration_no?k.registration_no:"",chasis_no:k.chasis_no?k.chasis_no:D||"",chasis_no_last_part:k.chasis_no_last_part?k.chasis_no_last_part:"",add_more_coverage:k.add_more_coverage?k.add_more_coverage:"",engine_no:k.engine_no?k.engine_no:P||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",B00015:k&&"2"==k.policy_for?"":"B00015",B00006:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00006":"",B00010:i&&i.varientmodel&&(3==i.varientmodel.fueltype.id||4==i.varientmodel.fueltype.id)?"B00010":"",PA_Cover:"",PA_cover_flag:k&&"2"==k.policy_for?"0":"1",PA_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:Z,trailer_flag_TP:"0",trailer_array:this.initClaimDetailsList()}):Object.assign(I,{registration_no:k.registration_no?k.registration_no:"",chasis_no:k.chasis_no?k.chasis_no:D||"",chasis_no_last_part:k.chasis_no_last_part?k.chasis_no_last_part:"",add_more_coverage:k.add_more_coverage?k.add_more_coverage:"",engine_no:k.engine_no?k.engine_no:P||"",vahanVerify:r,newRegistrationNo:"NEW"==localStorage.getItem("registration_number")?localStorage.getItem("registration_number"):"",PA_flag:"0",PA_Cover:"",PA_cover_flag:k&&k.pa_flag?k.pa_flag:"0",trailer_flag:"0",pa_coolie_flag:"0",electric_flag:"0",nonElectric_flag:"0",hospital_cash_OD_flag:"0",hospital_cash_PD_flag:"0",LL_PD_flag:"0",LL_Emp_flag:"0",LL_Coolie_flag:"0",enhance_PA_OD_flag:"0",ATC_flag:"0",LL_workman_flag:"0",fuel_type:Z,trailer_flag_TP:"0",B00015:"",B00010:"",trailer_array:this.initClaimDetailsList()});for(var me=0;me<G.length;me++)Y[G[me]]=G[me];Y.slider=L,Y.PA_flag=J,Y.trailer_flag=$,Y.pa_coolie_flag=U,Y.electric_flag=Q,Y.nonElectric_flag=W,Y.hospital_cash_OD_flag=K,Y.hospital_cash_PD_flag=X,Y.LL_PD_flag=ee,Y.LL_Emp_flag=ae,Y.LL_Coolie_flag=te,Y.enhance_PA_OD_flag=ne,Y.ATC_flag=re,Y.LL_workman_flag=le,Y.PA_Cover=z,Y.trailer_flag_TP=oe,Y.CNG_OD_flag=se,Y.ATC_value=M.ATC?M.ATC.value:"",Y.B00018_value=M.B00018?M.B00018.value:"",Y.B00069_value=M.B00069?M.B00069.value:"",Y.B00012_value=M.B00012?M.B00012.value:"",Y.B00013_value=M.B00013?M.B00013.value:"",Y.B00022_value=M.B00022?M.B00022.value:"",Y.B00020_value=M.B00020?M.B00020.value:"",Y.B00004_value=M.B00004?M.B00004.value:"",Y.B00004_description=M.B00004?M.B00004.description:"",Y.B00003_value=M.B00003?M.B00003.value:"",Y.B00003_description=M.B00003?M.B00003.description:"",Y.B00073_value=M.B00073?M.B00073.value:"",Y.B00073_description=M.B00073?M.B00073.description:"",Y.B00007_value=M.B00007?M.B00007.value:"",Y.B00007_description=M.B00007?M.B00007.description:"",Y.B00011_value=M.B00011?M.B00011.value:"",Y.B00070_value=M.B00070?M.B00070.value:"",Y.B00005_value=M.B00005?M.B00005.value:"",ie=Object.assign(I,Y);C.PolicyLobList&&C.PolicyLobList[0].PolicyRiskList[0];var de=0;n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"==e.ProductElementCode?de+=e.AnnualPremium:0}))}));var ue=1,pe=1,_e=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return u.a.createElement("div",{key:a},"B00007"!=e.ProductElementCode?u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:6},u.a.createElement(g.a,null,F[e.ProductElementCode])),u.a.createElement(p.a,{sm:12,md:6},u.a.createElement(g.a,null,"\u20b9 ",Math.round(e.AnnualPremium)))):"B00007"==e.ProductElementCode&&1==ue?u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:6},u.a.createElement(g.a,null,F[e.ProductElementCode])),u.a.createElement(p.a,{sm:12,md:6,data:ue+=1},u.a.createElement(g.a,null,"\u20b9 ",Math.round(de)))):null)}))})):null,ge=(A&&0!=A&&1==pe&&(_.a,p.a,g.a,ce.NCBDiscount,p.a,pe+=1,g.a,Math.round(A)),o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?u.a.createElement("div",null,u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:6},u.a.createElement(g.a,null,ce.IMT)),u.a.createElement(p.a,{sm:12,md:6},u.a.createElement(g.a,null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))))):null);ue=1,pe=1;var fe=n&&n.length>0?n.map((function(e,a){return e.PolicyBenefitList&&e.PolicyBenefitList.map((function(e,a){return"B00007"!=e.ProductElementCode?u.a.createElement("tr",null,u.a.createElement("td",null,F[e.ProductElementCode],":"),u.a.createElement("td",null,"\u20b9 ",Math.round(e.AnnualPremium))):"B00007"==e.ProductElementCode&&1==ue?u.a.createElement("tr",{label:ue+=1},u.a.createElement("td",null,F[e.ProductElementCode],":"),u.a.createElement("td",null,"\u20b9 ",Math.round(de))):null}))})):null,he=(A&&0!=A&&1==pe&&(pe+=1,ce.NCBDiscount,Math.round(A)),o&&o.PolicyLobList&&Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem)>0?u.a.createElement("tr",null,u.a.createElement("td",null,ce.IMT,":"),u.a.createElement("td",null,"\u20b9 ",Math.round(o.PolicyLobList[0].PolicyRiskList[0].imt23prem))):null),ve=t&&t.message?u.a.createElement("span",{className:"errorMsg"},u.a.createElement("h6",null,u.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,Ee=m?m.map((function(e,a){return u.a.createElement("span",{className:"errorMsg",key:a},u.a.createElement("li",null,u.a.createElement("strong",null,e)))})):null;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("aside",{className:"left-sidebar"},u.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},u.a.createElement(N.a,null))),u.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox otherComprehens"},u.a.createElement("h4",{className:"text-center mt-3 mb-3"},ce.SBIGICL),u.a.createElement("section",{className:"brand colpd m-b-25"},u.a.createElement("div",{className:"d-flex justify-content-left"},u.a.createElement("div",{className:"brandhead m-b-10"},u.a.createElement("h4",{className:"m-b-30"},ce.GCVDamage),u.a.createElement("h5",null,ve),u.a.createElement("h5",null,Ee))),u.a.createElement(y.e,{initialValues:ie,onSubmit:C&&""!=C?C.message?this.fullQuote:this.handleSubmit:this.fullQuote,validationSchema:j},(function(a){var t=a.values,n=a.errors,r=a.setFieldValue,l=a.setFieldTouched,s=(a.isValid,a.isSubmitting,a.touched);return u.a.createElement(y.d,null,u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:9,lg:9},u.a.createElement("div",{className:"rghtsideTrigr W-90 m-b-30"},u.a.createElement(E.a,{trigger:ce.DefaultCovered,open:!0},u.a.createElement("div",{className:"listrghtsideTrigr"},_e,ge))),u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:12,lg:5},u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:5,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},ce.RegNo))),u.a.createElement(p.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},"NEW"!=t.newRegistrationNo?u.a.createElement(y.b,{name:"registration_no",type:"text",placeholder:"",autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.registration_no,maxLength:e.state.length,onInput:function(a){e.regnoFormat(a,l,r)}}):u.a.createElement(y.b,{type:"text",name:"registration_no",autoComplete:"off",className:"premiumslid",value:t.newRegistrationNo,disabled:!0}),n.registration_no?u.a.createElement("span",{className:"errorMsg"},ce[n.registration_no]):null))))),u.a.createElement(p.a,{sm:12,md:12,lg:5},u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:5,lg:6},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},ce.ChassisNo))),u.a.createElement(p.a,{sm:12,md:5,lg:4},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{type:"text",name:"chasis_no_last_part",autoComplete:"off",className:"premiumslid",value:t.chasis_no_last_part,maxLength:"5",onChange:function(e){r("vahanVerify",!1),l("chasis_no_last_part"),r("chasis_no_last_part",e.target.value.toUpperCase())}}),n.chasis_no_last_part&&s.chasis_no_last_part?u.a.createElement("span",{className:"errorMsg"},ce[n.chasis_no_last_part]):null))),u.a.createElement(p.a,{sm:12,md:5,lg:2},u.a.createElement(f.a,{className:"btn btn-primary vrifyBtn",onClick:n.chasis_no_last_part?null:e.getVahanDetails.bind(e,t,l,r,n)},ce.Verify),n.vahanVerify?u.a.createElement("span",{className:"errorMsg"},ce[n.vahanVerify]):null)))),t.vahanVerify&&!n.chasis_no_last_part?u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:6,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{name:"engine_no",type:"text",placeholder:ce.EngineNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.engine_no.toUpperCase(),maxLength:"17",onChange:function(e){l("engine_no"),r("engine_no",e.target.value)}}),n.engine_no&&s.engine_no?u.a.createElement("span",{className:"errorMsg"},ce[n.engine_no]):null))),u.a.createElement(p.a,{sm:12,md:6,lg:5},u.a.createElement(g.a,null,u.a.createElement("div",{className:"insurerName"},u.a.createElement(y.b,{name:"chasis_no",type:"text",placeholder:ce.ChasisNumber,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},value:t.chasis_no.toUpperCase(),maxLength:"25",onChange:function(e){l("chasis_no"),r("chasis_no",e.target.value.toUpperCase())}}),n.chasis_no&&s.chasis_no?u.a.createElement("span",{className:"errorMsg"},ce[n.chasis_no]):null)))):null,u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12,md:12,lg:12},u.a.createElement(g.a,null,u.a.createElement("span",{className:"fs-18"},ce.AddMoreCoverage)))),n.B00007||n.B00011?u.a.createElement("span",{className:"errorMsg"},n.B00007," \xa0 \xa0",n.B00011):null,v&&v.length>0?v.map((function(a,o){return u.a.createElement(_.a,{key:o},k&&"2"==k.policy_for&&"B00015"!=a.code&&"B00018"!=a.code||k&&"1"==k.policy_for?u.a.createElement(p.a,{sm:12,md:11,lg:5,key:o+"a"},u.a.createElement("label",{className:"customCheckBox formGrp formGrp"},a.name,u.a.createElement(y.b,{type:"checkbox",name:a.code,value:a.code,className:"user-self",disabled:!(!H.a.includes(x.login_type)||"B00015"!=t[a.code]),onClick:function(n){0==n.target.checked&&"B00015"==t[a.code]&&B()(ce.SwalIRDAI,{button:ce.OK}),e.onRowSelect(n.target.value,t,n.target.checked,l,r)},checked:t[a.code]==a.code}),u.a.createElement("span",{className:"checkmark mL-0"}),u.a.createElement("span",{className:"error-message"}))):null,"1"==t.PA_cover_flag&&"B00015"==t[a.code]?u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"PA_Cover_OD",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.PA_Cover_OD,onChange:function(a){l("PA_Cover_OD"),r("PA_Cover_OD",a.target.value),e.handleChange()}},u.a.createElement("option",{value:"1500000"},"1500000")),n.PA_Cover_OD?u.a.createElement("span",{className:"errorMsg"},n.PA_Cover_OD):null))):null,"0"==t.trailer_flag?t.trailer_array=[]:null,"0"==t.trailer_flag?t.B00007_value="":null,"1"==t.trailer_flag&&"B00007"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00007_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00007_value,onChange:function(a){l("B00007_value"),r("B00007_value",a.target.value),e.handleNoOfClaims(t,a.target.value)}},u.a.createElement("option",{value:""},ce.NoOfTrailer),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{key:a,value:e},e)}))),n.B00007_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00007_value]):null))),u.a.createElement(p.a,{sm:12,md:11,lg:3,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00007_description",type:"text",placeholder:ce.TrailerIDV,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00007_description"),r("B00007_description",a.target.value),e.handleChange()}}),n.B00007_description?u.a.createElement("span",{className:"errorMsg"},ce[n.B00007_description]):null)))):null,"1"==t.trailer_flag_TP&&"B00011"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00011_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00011_value,onChange:function(a){l("B00011_value"),r("B00011_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},"No of Trailer"),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00011_value?u.a.createElement("span",{className:"errorMsg"},n.B00011_value):null)))):null,"1"==t.pa_coolie_flag&&"B00073"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00073_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00073_value,onChange:function(a){l("B00073_value"),r("B00073_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},ce.Select),JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00073_value?u.a.createElement("span",{className:"errorMsg"},n.B00073_value):null))),u.a.createElement(p.a,{sm:12,md:11,lg:3,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00073_description",type:"text",placeholder:ce.PaidDrivers,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00073_description"),r("B00073_description",a.target.value),e.handleChange()}}),n.B00073_description?u.a.createElement("span",{className:"errorMsg"},n.B00073_description):null)))," "):null,"1"==t.nonElectric_flag&&"B00003"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00003_value",type:"text",placeholder:ce.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_value"),r("B00003_value",a.target.value),e.handleChange()}}),n.B00003_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00003_value]):null))),u.a.createElement(p.a,{sm:12,md:11,lg:3,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00003_description",type:"text",placeholder:ce.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00003_description"),r("B00003_description",a.target.value),e.handleChange()}}),n.B00003_description?u.a.createElement("span",{className:"errorMsg"},ce[n.B00003_description]):null)))," "):null,"1"==t.electric_flag&&"B00004"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00004_value",type:"text",placeholder:ce.ValueOfAccessory,autoComplete:"off",maxLength:"8",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_value"),r("B00004_value",a.target.value),e.handleChange()}}),n.B00004_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00004_value]):null))),u.a.createElement(p.a,{sm:12,md:11,lg:3,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00004_description",type:"text",placeholder:ce.AccessoryDescription,autoComplete:"off",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00004_description"),r("B00004_description",a.target.value),e.handleChange()}}),n.B00004_description?u.a.createElement("span",{className:"errorMsg"},ce[n.B00004_description]):null)))," "):null,"1"==t.CNG_OD_flag&&"B00005"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00005_value",type:"text",placeholder:"IDV",autoComplete:"off",maxLength:"6",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00005_value"),r("B00005_value",a.target.value),e.handleChange()}}),n.B00005_value?u.a.createElement("span",{className:"errorMsg"},n.B00005_value):null)))):null,"1"==t.hospital_cash_OD_flag&&"B00020"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00020_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00020_value,onChange:function(a){l("B00020_value"),r("B00020_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},ce.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00020_value?u.a.createElement("span",{className:"errorMsg"},n.B00020_value):null)))):null,"1"==t.hospital_cash_PD_flag&&"B00022"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00022_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00022_value,onChange:function(a){l("B00022_value"),r("B00022_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},ce.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00022_value?u.a.createElement("span",{className:"errorMsg"},n.B00022_value):null)))):null,"1"==t.LL_PD_flag&&"B00013"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00013_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.B00013_value,onChange:function(a){l("B00013_value"),r("B00013_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},ce.NoOfDrivers),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.B00013_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00013_value]):null)))):null,"1"==t.LL_Emp_flag&&"B00012"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00012_value",type:"text",placeholder:ce.NoOfEmployees,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00012_value"),r("B00012_value",a.target.value),e.handleChange()}}),n.B00012_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00012_value]):null)))):null,"1"==t.LL_Coolie_flag&&"B00069"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00069_value",type:"text",placeholder:ce.NoOfPerson,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00069_value"),r("B00069_value",a.target.value),e.handleChange()}}),n.B00069_value?u.a.createElement("span",{className:"errorMsg"},ce[n.B00069_value]):null)))):null,"1"==t.enhance_PA_OD_flag&&"B00018"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00018_value",type:"text",placeholder:ce.ValueShould,autoComplete:"off",maxLength:"7",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00018_value"),r("B00018_value",a.target.value),e.handleChange()}}),n.B00018_value?u.a.createElement("span",{className:"errorMsg"},n.B00018_value):null)))):null,"1"==t.LL_workman_flag&&"B00070"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"b"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"B00070_value",type:"text",placeholder:ce.NoOfWorkman,autoComplete:"off",maxLength:"1",onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){l("B00070_value"),r("B00070_value",a.target.value),e.handleChange()}}),n.B00070_value?u.a.createElement("span",{className:"errorMsg"},n.B00070_value):null)))):null,"1"==t.ATC_flag&&"ATC"==t[a.code]?u.a.createElement(d.Fragment,null,u.a.createElement(p.a,{sm:12,md:11,lg:4,key:o+"c"},u.a.createElement(g.a,null,u.a.createElement("div",{className:"formSection"},u.a.createElement(y.b,{name:"ATC_value",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:t.ATC_value,onChange:function(a){l("ATC_value"),r("ATC_value",a.target.value),e.handleChange()}},u.a.createElement("option",{value:""},ce.Select),null!=a.covarage_value&&JSON.parse(a.covarage_value).value.length>0&&JSON.parse(a.covarage_value).value.map((function(e,a){return u.a.createElement("option",{value:e},e)}))),n.ATC_value?u.a.createElement("span",{className:"errorMsg"},n.ATC_value):null)))):null,"1"==t.trailer_flag&&"B00007"==t[a.code]&&""!=t.B00007_value?e.handleClaims(t,n,s,l,r,ce):null)})):null,u.a.createElement(_.a,null,u.a.createElement(p.a,{sm:12},u.a.createElement(g.a,null,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ")),u.a.createElement("div",{className:"col-md-15"},u.a.createElement("div",{className:"brandhead"},ce.EffectivePUC,u.a.createElement("div",{className:"carloan"},u.a.createElement("h4",null," ")),u.a.createElement("div",{className:"d-inline-flex m-b-15"},u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(y.b,{type:"radio",name:"puc",value:"1",key:"1",checked:"1"==t.puc,onChange:function(){l("puc"),r("puc","1")}}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",ce.Yes))),u.a.createElement("div",{className:"p-r-25"},u.a.createElement("label",{className:"customRadio3"},u.a.createElement(y.b,{type:"radio",name:"puc",value:"2",key:"1",checked:"2"==t.puc,onChange:function(){l("puc"),r("puc","2")}}),u.a.createElement("span",{className:"checkmark "}),u.a.createElement("span",{className:"fs-14"}," ",ce.No)),n.puc&&s.puc?u.a.createElement("span",{className:"errorMsg"},n.puc):null))))))),u.a.createElement("div",{className:"d-flex justify-content-left resmb"},u.a.createElement(f.a,{className:"backBtn",type:"button",onClick:e.vehicleDetails.bind(e,O)},ce.Back),C&&""!=C?C.message?u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},ce.Recalculate):"1"==t.puc?u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},ce.Continue):null:u.a.createElement(f.a,{className:"proceedBtn",type:"submit"},ce.Recalculate))),u.a.createElement(p.a,{sm:12,md:3},u.a.createElement("div",{className:"justify-content-left regisBox"},u.a.createElement("h3",{className:"premamnt"}," ",ce.TPAmount),u.a.createElement("div",{className:"rupee"}," \u20b9 ",o.DuePremium),u.a.createElement("div",{className:"text-center"},u.a.createElement(f.a,{className:"brkbtn",type:"button",onClick:e.handleShow},ce.Breakup))))))}))),u.a.createElement(S.a,null)))))),u.a.createElement(h.a,{className:"customModal",bsSize:"md",show:this.state.show,onHide:this.handleClose},u.a.createElement(h.a.Header,{closeButton:!0,className:"custmModlHead modalhd"},u.a.createElement("div",{className:"cntrbody"},u.a.createElement("h3",null,ce.PremiumBreakup," "))),u.a.createElement(h.a.Body,null,u.a.createElement("table",{class:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,ce.Premium,":"),u.a.createElement("th",null,"\u20b9 ",o.DuePremium))),u.a.createElement("tbody",null,fe,he,u.a.createElement("tr",null,u.a.createElement("td",null,ce.GrossPremium,":"),u.a.createElement("td",null,"\u20b9 ",Math.round(o.BeforeVatPremium))),u.a.createElement("tr",null,u.a.createElement("td",null,ce.GST,":"),u.a.createElement("td",null,"\u20b9 ",Math.round(o.TGST))))))))}}]),t}(d.Component);a.default=Object(w.g)(Object(C.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(k.a)())},loadingStop:function(){return e(Object(k.b)())}}}))(q))},1335:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(13),l=t(14),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(912),_=t(909),g=t(377),f=t(41),h=t.n(f),v=(t(95),t(96),t(40)),E=t(31),y=t(34),b=t(2),N=t(1),S=t(38),w=t(19),k=t(22),C=t(7),P=t(3),D=t.n(P),I=t(28),M=t(9),B=t(25),A=(D()(D()().subtract(100,"years").calendar()),D()().subtract(18,"years").calendar(),D()(D()().subtract(100,"years").calendar()),D()().subtract(3,"months").calendar(),new Date),O=D()(D()().subtract(100,"years").calendar()),x={first_name:"",last_name:"",gender:"",dob:"",pancard:"",pincode:"",is_carloan:"",bank_name:"",bank_branch:"",nominee_relation_with:"",nominee_first_name:"",nominee_last_name:"test",nominee_gender:"",nominee_dob:"",phone:"",email:"",address:"",is_eia_account:"0",is_eia_account2:"",eia_no:"",stateName:"",pinDataArr:[],pincode_id:"",org_level:"",net_premium:"0",salutation_id:"",age:"",nominee_age:""},H=N.object().shape({first_name:N.string().test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("NameRequired").min(3,(function(){return"FirstNameMin"})).max(40,(function(){return"FullNameMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().required("CompanyNameReq").min(3,(function(){return"CompanyNameMin"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"}))}),salutation_id:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("TitleIsRequired"),otherwise:N.string().nullable()}),nominee_salutation:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("paFlagChecking",(function(){return"TitleIsRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().required("GenderRequired"),otherwise:N.string().nullable()}),dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().required("DOBRequired").test("18YearsChecking",(function(){return"Age should me minium 18 years and maximum 100 years"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAge(e)>=18}return!0})),otherwise:N.date().nullable()}),age:N.mixed().when(["policy_for"],{is:function(e){return"1"==e},then:N.mixed().required("RequiredField").test("18YearsChecking",(function(){return"AgeRange"}),(function(e){return!e||e<=100&&e>=18})),otherwise:N.mixed().nullable()}),nominee_age:N.mixed().when(["policy_for","pa_flag"],{is:function(e,a){return"1"==e&&"1"==a},then:N.mixed().required("This field is required").test("18YearsChecking",(function(){return"Age should be minimum 3 months & maximum 100 years"}),(function(e){return!e||e<=100&&e>=.3})),otherwise:N.mixed().nullable()}),pancard:N.string().when(["is_eia_account2","net_premium"],{is:function(e,a){return"1"==e||a>=1e5},then:N.string().required("EnterPan").test("1LakhChecking",(function(){return"EnterPan"}),(function(e){return!!e||this.parent.net_premium<=1e5})).matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"})),otherwise:N.string().matches(/^[A-Z]{3}[CPHFATBLJG]{1}[A-Z]{1}[0-9]{4}[A-Z]{1}$/,(function(){return"ValidPan"}))}),pincode_id:N.string().required("LocationRequired"),pincode:N.string().required("PincodeRequired").matches(/^[0-9]{6}$/,(function(){return"ValidPin"})),address:N.string().required("AddressRequired").matches(/^[a-zA-Z0-9][a-zA-Z0-9\s,/.-]*$/,(function(){return"PleaseValidAddress"})).max(100,(function(){return"AddressMustBeMaximum100Chracters"})),phone:N.string().matches(/^[6-9][0-9]{9}$/,"ValidMobile").required("PhoneRequired"),email:N.string().email().required("EmailRequired").min(8,(function(){return"EmainMin"})).max(75,(function(){return"EmailMax"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"InvalidEmail"),nominee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeReltnRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),nominee_first_name:N.string().test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomineeNameRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})),otherwise:N.string().nullable()}),nominee_gender:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().test("18YearsChecking",(function(){return"NomGenderRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})),otherwise:N.string()}),nominee_dob:N.date().when(["policy_for"],{is:function(e){return"1"==e},then:N.date().test("18YearsChecking",(function(){return"DOBRequired"}),(function(e){return!(1==this.parent.pa_flag&&!e)})).test("3monthsChecking",(function(){return"NomineeMinAge"}),(function(e){if(e){var a=new I.a;return a.whatIsMyAge(e)<=100&&a.whatIsMyAgeMonth(e)>=3}return!0})),otherwise:N.date()}),is_eia_account:N.string().required("RequiredField"),eia_no:N.string().test("isEIAchecking",(function(){return"PleaseEiaN"}),(function(e){return!(1==this.parent.is_eia_account&&!e)})).min(13,(function(){return"EIAMin"})).max(13,(function(){return"EIAMax"})).matches(/^[1245][0-9]{0,13}$/,"EIAValidReq").notRequired(),appointee_name:N.string().test("fullnamecheck",(function(){return"ValidName"}),(function(e){return!e||e.split(" ").length>1})).when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired().min(3,(function(){return"NameReqMin"})).max(40,(function(){return"NameReqMax"})).matches(/^[a-zA-Z]+([\s]?[a-zA-Z]+)([\s]?[a-zA-Z]+)$/,(function(){return"ValidName"})).test("18YearsChecking",(function(){return"AppoNameRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),appointee_relation_with:N.string().when(["policy_for"],{is:function(e){return"1"==e},then:N.string().notRequired("Please select relation").test("18YearsChecking",(function(){return"AppoReltnRequired"}),(function(e){return!((new I.a).whatIsMyAge(this.parent.nominee_dob)<18&&1==this.parent.pa_flag&&!e)})),otherwise:N.string().nullable()}),date_of_incorporation:N.date().when(["policy_for"],{is:function(e){return"2"==e},then:N.date().required("PleaseIncorporationDate"),otherwise:N.date().nullable()}),org_level:N.string().when(["policy_for"],{is:function(e){return"2"==e},then:N.string().required("OrganizationLevel"),otherwise:N.string()}),gstn_no:N.string().test("first2digitcheck",(function(){return"Invalid GSTIN"}),(function(e){return!e||""==e&&void 0==e||Object(B.k)(e)})).nullable(),is_carloan:N.mixed().required("RequiredField"),bank_name:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBank"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Name"})),bank_branch:N.string().notRequired().test("isLoanChecking",(function(){return"PleaseEnterBranch"}),(function(e){return!(1==this.parent.is_carloan&&!e)})).matches(/^[A-Za-z][A-Za-z\s]*$/,(function(){return"Invalid Bank Branch"})),is_eia_account2:N.string().when(["is_eia_account"],{is:function(e){return 0==e},then:N.string().required("RequiredField")}),tpaInsurance:N.string().when(["is_eia_account2"],{is:function(e){return 1==e},then:N.string().required("RequiredField")})}),R=function(e){Object(o.a)(f,e);var a=Object(s.a)(f);function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={showEIA:!1,showEIA2:!1,is_eia_account:"",is_eia_account2:"",showLoan:!1,is_loan_account:"",insurerList:[],policyHolder:{},nomineeDetails:{},quoteId:"",bankDetails:{},addressDetails:[],relation:[],step_completed:"0",appointeeFlag:!1,is_appointee:0,request_data:[],titleList:[],tpaInsurance:[]},e.ageCheck=function(a){(new I.a).whatIsMyAge(a)<18?e.setState({appointeeFlag:!0,is_appointee:1}):e.setState({appointeeFlag:!1,is_appointee:0})},e.showEIAText=function(a){1==a?e.setState({showEIA:!0,is_eia_account:1,showEIA2:!1,is_eia_account2:0}):e.setState({showEIA:!1,is_eia_account:0})},e.showEIAText2=function(a){1==a?e.setState({showEIA2:!0,is_eia_account2:1}):e.setState({showEIA2:!1,is_eia_account2:0})},e.showLoanText=function(a){1==a?e.setState({showLoan:!0,is_loan_account:1}):e.setState({showLoan:!1,is_loan_account:0})},e.otherComprehensive=function(a){e.props.history.push("/OtherComprehensive_PCV_TP/".concat(a))},e.handleSubmit=function(a,t){console.log("hello");var n,r=e.props.match.params.productId,l=e.state,o=l.motorInsurance,s=l.request_data,c=new FormData,i=new M.a;n=""===a.is_eia_account2?2:a.is_eia_account2;var m={policy_holder_id:s.policyholder_id,menumaster_id:12,first_name:a.first_name,last_name:a.last_name,pancard:a.pancard,pincode_id:a.pincode_id,district:a.district,pincode:a.pincode.toString(),is_carloan:a.is_carloan,bank_name:a.bank_name,bank_branch:a.bank_branch,phone:a.phone,email:a.email,is_eia_account:a.is_eia_account,is_eia_account2:a.is_eia_account2,eia_no:a.eia_no,address:a.address,gstn_no:a.gstn_no,salutation_id:a.salutation_id,nominee_title_id:a.nominee_salutation,page_name:"AdditionalDetails_PCV_TP/".concat(r),create_eia_account:n,tpaInsurance:a.tpaInsurance};"1"==o.policy_for?(m.dob=D()(a.dob).format("YYYY-MM-DD"),m.gender=a.gender,"1"==o.pa_flag&&(m.nominee_relation_with=a.nominee_relation_with,m.nominee_first_name=a.nominee_first_name,m.nominee_last_name=a.nominee_last_name,m.nominee_gender=a.nominee_gender,m.nominee_dob=D()(a.nominee_dob).format("YYYY-MM-DD"),m.appointee_name=a.appointee_name,m.appointee_relation_with=a.appointee_relation_with,m.is_appointee=e.state.is_appointee)):(m.gender="cc",m.date_of_incorporation=D()(a.date_of_incorporation).format("YYYY-MM-DD"),m.org_level=a.org_level,m.salutation_id="5"),console.log("post_data",m),c.append("enc_data",i.encrypt(JSON.stringify(m))),e.props.loadingStart(),C.a.post("pcv-tp/owner-details",c).then((function(a){console.log("value is====",a.data);var t=JSON.parse(i.decrypt(a.data));console.log("decryptResp-----",t),e.props.loadingStop(),0==t.error&&e.props.history.push("/Premium_PCV_TP/".concat(r))})).catch((function(a){e.props.loadingStop(),t.setSubmitting(!1);var n=JSON.parse(i.decrypt(a.data));console.log("decryptErr-----",n)}))},e.fetchData=function(){e.props.match.params.productId;var a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0,t=new M.a;e.props.loadingStart(),C.a.get("pcv-tp/policy-holder/details/".concat(a)).then((function(a){var n=JSON.parse(t.decrypt(a.data));console.log("decrypt---",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder:{},c=n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:{},i=n.data.policyHolder?n.data.policyHolder.is_carloan:0,m=n.data.policyHolder?n.data.policyHolder.request_data.quote_id:"",d=!s||0!=s.is_eia_account&&1!=s.is_eia_account?"":s.is_eia_account,u=!s||0!=s.create_eia_account&&1!=s.create_eia_account?"":s.create_eia_account,p=(s.T_Insurance_Repository_id&&s.T_Insurance_Repository_id,n.data.policyHolder&&n.data.policyHolder.bankdetail?n.data.policyHolder.bankdetail[0]:{}),_=JSON.parse(n.data.policyHolder.pincode_response),g=n.data.policyHolder?n.data.policyHolder.step_no:"",f=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("is_appointee",c?c.is_appointee:"efg"),e.setState({quoteId:m,motorInsurance:r,previousPolicy:l,vehicleDetails:o,policyHolder:s,nomineeDetails:c,is_loan_account:i,is_eia_account:d,is_eia_account2:u,bankDetails:p,addressDetails:_,step_completed:g,request_data:f,is_appointee:c?c.is_appointee:""}),e.props.loadingStop(),e.fetchSalutation(_,r)})).catch((function(a){e.props.loadingStop()}))},e.fetchAreadetails=function(a){var t=a.target.value;if(6==t.length){var n=new FormData;e.props.loadingStart();new M.a;n.append("pincode",t),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchPrevAreaDetails=function(a){if(a){var t=a.PIN_CD,n=new FormData;n.append("pincode",t),e.props.loadingStart(),C.a.post("pincode-details",n).then((function(a){var t=a.data.data&&a.data.data[0]&&a.data.data[0].pinstate.STATE_NM?a.data.data[0].pinstate.STATE_NM:"";e.setState({pinDataArr:a.data.data,stateName:t}),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))}},e.fetchRelationships=function(){e.props.loadingStart(),C.a.get("relations").then((function(a){var t=a.data.data?a.data.data:[];e.setState({relation:t}),e.fetchData()})).catch((function(a){e.props.loadingStop(),e.setState({relation:[]})}))},e.fetchSalutation=function(a,t){var n=new FormData,r=t&&t.policy_for?t.policy_for:"1";e.props.loadingStart(),n.append("policy_for_flag",r),C.a.post("salutation-list",n).then((function(t){var n=t.data.data.salutationlist?t.data.data.salutationlist:[];e.setState({titleList:n}),e.props.loadingStop(),e.fetchPrevAreaDetails(a)})).catch((function(a){e.props.loadingStop(),e.setState({titleList:[]})}))},e.tpaInsuranceRepository=function(){C.a.get("/tpaInsuranceRepository").then((function(a){var t=a.data?a.data:{};console.log("tpaInsuranceRepository===",t),e.setState({tpaInsurance:t})}))},e}return Object(l.a)(f,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships(),this.tpaInsuranceRepository()}},{key:"render",value:function(){var e,a=this,r=this.state,l=r.showLoan,o=r.showEIA,s=r.showEIA2,f=r.is_eia_account,N=r.is_eia_account2,S=r.is_loan_account,w=r.nomineeDetails,k=r.motorInsurance,C=r.appointeeFlag,P=r.is_appointee,I=r.titleList,M=r.tpaInsurance,B=r.bankDetails,R=r.policyHolder,L=r.stateName,j=r.pinDataArr,F=r.quoteId,q=r.addressDetails,T=r.relation,V=r.step_completed,G=r.vehicleDetails,Y=r.request_data,J=this.props.match.params.productId,z=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,Z=Object.assign(x,(e={first_name:R&&R.first_name?R.first_name:"",gender:R&&R.gender?R.gender:"",dob:R&&R.dob?new Date(R.dob):"",age:R&&R.dob?Math.floor(D()().diff(R.dob,"years",!0)):"",pancard:R&&R.pancard?R.pancard:"",pincode_id:q&&q.id?q.id:"",pincode:R&&R.pincode?R.pincode:"",address:R&&R.address?R.address:"",is_carloan:S,bank_name:B?B.bank_name:"",bank_branch:B?B.bank_branch:"",nominee_relation_with:w&&w.relation_with?w.relation_with.toString():"",nominee_first_name:w&&w.first_name?w.first_name:"",nominee_gender:w&&w.gender?w.gender:"",nominee_dob:w&&w.dob?new Date(w.dob):"",nominee_age:w&&w.dob?Math.floor(D()().diff(w.dob,"years",!0)):"",gstn_no:R&&R.gstn_no?R.gstn_no:"",phone:R&&R.mobile?R.mobile:"",email:R&&R.email_id?R.email_id:""},Object(n.a)(e,"address",R&&R.address?R.address:""),Object(n.a)(e,"is_eia_account",f),Object(n.a)(e,"is_eia_account2",N),Object(n.a)(e,"eia_no",R&&R.eia_no?R.eia_no:""),Object(n.a)(e,"policy_for",k?k.policy_for:""),Object(n.a)(e,"appointee_relation_with",w&&w.appointee_relation_with?w.appointee_relation_with:""),Object(n.a)(e,"appointee_name",w&&w.appointee_name?w.appointee_name:""),Object(n.a)(e,"date_of_incorporation",R&&R.date_of_incorporation?new Date(R.date_of_incorporation):""),Object(n.a)(e,"org_level",R&&R.org_level?R.org_level:""),Object(n.a)(e,"pa_flag",k&&k.pa_flag?k.pa_flag:""),Object(n.a)(e,"net_premium",Y&&Y.net_premium?Y.net_premium:"0"),Object(n.a)(e,"salutation_id",R&&R.salutation_id?R.salutation_id:""),Object(n.a)(e,"nominee_salutation",w&&w.gender?w.title_id:""),Object(n.a)(e,"tpaInsurance",R&&R.T_Insurance_Repository_id?R.T_Insurance_Repository_id:""),e)),$=F?i.a.createElement("h4",null,z.PolicyReady,": ",F," ",z.MoreDetailsPolicy," "):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(y.a,null))),i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox adiDetail"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},z.SBIGICL),V>="4"&&"27"==G.vehicletype_id?i.a.createElement("section",{className:"brand m-b-25"},i.a.createElement("div",{className:"brand-bg"},i.a.createElement(b.e,{initialValues:Z,onSubmit:this.handleSubmit,validationSchema:H},(function(e){var r,v=e.values,E=e.errors,y=e.setFieldValue,w=e.setFieldTouched,B=(e.isValid,e.isSubmitting),x=e.touched;return console.log("values=",v),console.log("error",E),i.a.createElement(b.d,null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"d-flex justify-content-left brandhead"},$),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.VehicleLoan)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"1",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(1)},checked:"1"==v.is_carloan}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_carloan",value:"0",key:"1",onChange:function(e){y("is_carloan",e.target.value),a.showLoanText(0)},checked:"0"==v.is_carloan}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No)),E.is_carloan&&x.is_carloan?i.a.createElement("span",{className:"errorMsg"},E.is_carloan):null))),l||1==S?i.a.createElement(c.Fragment,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_name",type:"text",placeholder:z.BankName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_name}),E.bank_name&&x.bank_name?i.a.createElement("span",{className:"errorMsg"},z[E.bank_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"bank_branch",type:"text",placeholder:z.BankBranch,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.bank_branch}),E.bank_branch&&x.bank_branch?i.a.createElement("span",{className:"errorMsg"},z[E.bank_branch]):null)))):""),i.a.createElement(m.a,null,i.a.createElement(d.a,null,"\xa0")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.OwnersDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"salutation_id",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),E.salutation_id&&x.salutation_id?i.a.createElement("span",{className:"errorMsg"},z[E.salutation_id]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"first_name",type:"text",placeholder:"2"==v.policy_for?z.CompanyName:z.FullName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.first_name}),E.first_name&&x.first_name?i.a.createElement("span",{className:"errorMsg"},z[E.first_name]):null))),k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"gstn_no",type:"text",placeholder:z.GSTIN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.gstn_no.toUpperCase(),onChange:function(e){return y("gstn_no",e.target.value.toUpperCase())}}),E.gstn_no&&x.gstn_no?i.a.createElement("span",{className:"errorMsg"},E.gstn_no):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.gender&&x.gender?i.a.createElement("span",{className:"errorMsg"},z[E.gender]):null))):null),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.age,maxLength:"10",onChange:function(e){var a=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");y("dob",a),y("age",e.target.value)}}),E.age&&x.age?i.a.createElement("span",{className:"errorMsg"},z[E.age]):null))):null,k&&"2"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement(h.a,{name:"date_of_incorporation",dateFormat:"dd MMM yyyy",placeholderText:z.IncorporationDate,peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(A),minDate:new Date(O),className:"datePckr",selected:v.date_of_incorporation,onChange:function(e){w("date_of_incorporation"),y("date_of_incorporation",e)}}),E.date_of_incorporation&&x.date_of_incorporation?i.a.createElement("span",{className:"errorMsg"},z[E.date_of_incorporation]):null)):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName nmbract"},i.a.createElement("span",null,"+91"),i.a.createElement(b.b,{name:"phone",type:"text",placeholder:z.Mobile,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.phone,maxLength:"10",className:"phoneinput pd-l-25"}),E.phone&&x.phone?i.a.createElement("span",{className:"errorMsg msgpositn"},z[E.phone]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"address",type:"text",placeholder:z.Address,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.address}),E.address&&x.address?i.a.createElement("span",{className:"errorMsg"},z[E.address]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,(r={name:"pincode",type:"test",placeholder:z.Pincode,autoComplete:"off",maxLength:"6",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},onKeyUp:function(e){return a.fetchAreadetails(e)},value:v.pincode},Object(n.a)(r,"maxLength","6"),Object(n.a)(r,"onInput",(function(e){w("state"),w("pincode"),y("pincode",e.target.value),y("state",L?L[0]:v.state),y("pincode_id","")})),r)),E.pincode&&x.pincode?i.a.createElement("span",{className:"errorMsg"},z[E.pincode]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"pincode_id",component:"select",autoComplete:"off",value:v.pincode_id,className:"formGrp"},i.a.createElement("option",{value:""},z.SelectArea),j&&j.length>0&&j.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.LCLTY_SUBRB_TALUK_TEHSL_NM)}))),E.pincode_id&&x.pincode_id?i.a.createElement("span",{className:"errorMsg"},z[E.pincode_id]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"state",type:"text",placeholder:z.State,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:L||v.state,disabled:!0}),E.state&&x.state?i.a.createElement("span",{className:"errorMsg"},z[E.state]):null)))),k&&"2"==k.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"org_level",component:"select",autoComplete:"off",value:v.org_level,className:"formGrp"},i.a.createElement("option",{value:""},z.Organization),i.a.createElement("option",{value:"1"},"Corporate Public"),i.a.createElement("option",{value:"2"},"Corporate (PSU)"),i.a.createElement("option",{value:"3"},"Corporate (Private)"),i.a.createElement("option",{value:"4"},"Firm"),i.a.createElement("option",{value:"5"},"HUF"),i.a.createElement("option",{value:"6"},"Society"),i.a.createElement("option",{value:"7"},"NGO"),i.a.createElement("option",{value:"8"},"Trust"),i.a.createElement("option",{value:"9"},"BOA"),i.a.createElement("option",{value:"10"},"Government"),i.a.createElement("option",{value:"11"},"SME")),E.org_level&&x.org_level?i.a.createElement("span",{className:"errorMsg"},z[E.org_level]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))),s||"1"==N?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null):null,i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"pancard",type:"text",placeholder:z.PAN,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.pancard.toUpperCase(),onChange:function(e){return y("pancard",e.target.value.toUpperCase())}}),E.pancard&&x.pancard?i.a.createElement("span",{className:"errorMsg"},z[E.pancard]):null))):null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"email",type:"email",placeholder:z.Email,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.email}),E.email&&x.email?i.a.createElement("span",{className:"errorMsg"},z[E.email]):null))):null),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),k&&"1"==k.policy_for&&"1"==k.pa_flag?i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null,z.NomineeDetails)),i.a.createElement(m.a,null,k&&"1"==k.policy_for?i.a.createElement(d.a,{sm:12,md:4,lg:2},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_salutation",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.Title),I.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.displayvalue)}))),E.nominee_salutation&&x.nominee_salutation?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_salutation]):null))):null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_first_name",type:"text",placeholder:z.NomineeName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_first_name}),E.nominee_first_name&&x.nominee_first_name?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_first_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_gender",component:"select",autoComplete:"off",className:"formGrp"},i.a.createElement("option",{value:""},z.SelectGender),i.a.createElement("option",{value:"m"},z.Male),i.a.createElement("option",{value:"f"},z.Female)),E.nominee_gender&&x.nominee_gender?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_gender]):null)))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,{className:"m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"nominee_age",type:"number",placeholder:z.Age,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.nominee_age,maxLength:"10",onChange:function(e){var t=D()().subtract(e.target.value,"year").format("YYYY-MM-DD");a.ageCheck(t),y("nominee_dob",t),y("nominee_age",e.target.value)}}),E.nominee_age&&x.nominee_age?i.a.createElement("span",{className:"errorMsg"},E.nominee_age):null))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"nominee_relation_with",component:"select",autoComplete:"off",value:v.nominee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.PrimaryRelation),T.map((function(e,a){return 1!=e.id?i.a.createElement("option",{value:e.id,key:a},e.pcv_relation_name):null}))),E.nominee_relation_with&&x.nominee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.nominee_relation_with]):null)))),C||"1"==P?i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ",z.AppoDetails)),i.a.createElement(m.a,{className:"m-b-45"},i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"appointee_name",type:"text",placeholder:z.AppoName,autoComplete:"off",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)},value:v.appointee_name}),E.appointee_name&&x.appointee_name?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_name]):null))),i.a.createElement(d.a,{sm:12,md:4,lg:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"appointee_relation_with",component:"select",autoComplete:"off",value:v.appointee_relation_with,className:"formGrp"},i.a.createElement("option",{value:""},z.NomineeRelation),T.map((function(e,a){return i.a.createElement("option",{value:e.id,key:a},e.pcv_relation_name)}))),E.appointee_relation_with&&x.appointee_relation_with?i.a.createElement("span",{className:"errorMsg"},z[E.appointee_relation_with]):null))))):null):null,i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.EIANumber,i.a.createElement(p.a,{overlay:i.a.createElement(_.a,{id:"tooltip-disabled"},"The e-Insurance account or Electronic Insurance Account offers policyholders online space to hold all their insurance policies electronically under one e-insurance account number. This allows the policyholder to access all their policies with a few clicks and no risk of losing the physical insurance policy")},i.a.createElement("a",{className:"infoIcon"},i.a.createElement("img",{src:t(119),alt:"",className:"premtool"}))))))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"1",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(1)},checked:"1"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account",value:"0",key:"1",onChange:function(e){y("is_eia_account",e.target.value),a.showEIAText(0)},checked:"0"==v.is_eia_account}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account&&x.is_eia_account?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account]):null))))),o||"1"==f?i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement(b.b,{name:"eia_no",type:"text",placeholder:z.EIANumber,autoComplete:"off",value:v.eia_no,maxLength:"13",onFocus:function(e){return a.changePlaceHoldClassAdd(e)},onBlur:function(e){return a.changePlaceHoldClassRemove(e)}}),E.eia_no&&x.eia_no?i.a.createElement("span",{className:"errorMsg"},z[E.eia_no]):null))):""),0==o&&"0"==f?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.wish_to_create_EIA_Account)))),i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-inline-flex m-b-35"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"1",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(1)},checked:"1"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," ",z.Yes))),i.a.createElement("div",{className:""},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(b.b,{type:"radio",name:"is_eia_account2",value:"0",key:"1",onChange:function(e){y("is_eia_account2",e.target.value),a.showEIAText2(0)},checked:"0"==v.is_eia_account2}),i.a.createElement("span",{className:"checkmark"}),i.a.createElement("span",{className:"fs-14"},z.No),E.is_eia_account2&&x.is_eia_account2?i.a.createElement("span",{className:"errorMsg"},z[E.is_eia_account2]):null)))))):"",s||"1"==N?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:4,lg:4},i.a.createElement(u.a,null,i.a.createElement("div",{className:"insurerName"},i.a.createElement("h4",{className:"fs-16"},z.Your_preferred_TPA)))),i.a.createElement(d.a,{sm:12,md:4,lg:5},i.a.createElement(u.a,null,i.a.createElement("div",{className:"formSection"},i.a.createElement(b.b,{name:"tpaInsurance",component:"select",autoComplete:"off",value:v.tpaInsurance,className:"formGrp"},i.a.createElement("option",{value:""},z.SELECT_TPA),M.map((function(e,a){return i.a.createElement("option",{value:e.repository_id,key:a},e.name)}))),E.tpaInsurance&&x.tpaInsurance?i.a.createElement("span",{className:"errorMsg"},z[E.tpaInsurance]):null)))):"",i.a.createElement("div",{className:"d-flex justify-content-left carloan"},i.a.createElement("h4",null," ")),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(g.a,{className:"backBtn",type:"button",disabled:!!B,onClick:a.otherComprehensive.bind(a,J)},B?z.Wait:z.Back),i.a.createElement(g.a,{className:"proceedBtn",type:"submit",disabled:!!B},B?z.Wait:z.Next))),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""})))))})))):""==V?"Forbidden":null),i.a.createElement(v.a,null))))))}}]),f}(c.Component);a.default=Object(S.g)(Object(k.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(w.a)())},loadingStop:function(){return e(Object(w.b)())}}}))(R))},1336:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(1008),u=t(903),p=t(904),_=t(1007),g=t(22),f=t(19),h=t(38),v=t(7),E=t(9),y=(t(20),t(59)),b=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).buy_policy=function(a){e.props.loadingStart(),"2"==a?e.props.history.push("/Registration/".concat(a)):"3"==a?e.props.history.push("/two_wheeler_Select-brandTP/".concat(a)):"4"==a?e.props.history.push("/two_wheeler_Select-brand/".concat(a)):"6"==a?e.props.history.push("/four_wheeler_Select-brandTP/".concat(a)):"7"==a?e.props.history.push("/Registration_GCV_TP/".concat(a)):"8"==a?e.props.history.push("/Registration_GCV/".concat(a)):"11"==a?e.props.history.push("/Registration_MISCD/".concat(a)):"15"==a?e.props.history.push("/RegistrationOD/".concat(a)):"16"==a?e.props.history.push("/two_wheeler_Select-brandOD/".concat(a)):"17"==a?e.props.history.push("/Registration_GCVST/".concat(a)):"18"==a?e.props.history.push("/Registration_MISCDST/".concat(a)):"1"==a?e.props.history.push("/Registration_PCV/".concat(a)):"27"==a&&e.props.history.push("/Registration_PCV_TP/".concat(a))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props.product_list,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,"1"==this.props.tabId?c.a.createElement("tbody",null,a.map((function(a,r){return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"W-10"},c.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),c.a.createElement("td",{className:"W-70"},a.name),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.buy_policy.bind(e,a.id)},n.Buy)))}))):null):null,c.a.createElement("form",{action:"https://secure.sbigeneral.in/SBIGTP/csc/display",target:"_self",id:"bootstrapForm",method:"POST"}," `",c.a.createElement("input",{type:"hidden",id:"csc_id",name:"csc_id",value:sessionStorage.getItem("csc_id")}),c.a.createElement("input",{type:"hidden",id:"agent_name",name:"agent_name",value:sessionStorage.getItem("agent_name")})))))}}]),s}(s.Component),N=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},logout:function(){return e(Object(y.a)())}}}))(b)),S=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).buy_policy=function(a){e.props.loadingStart(),localStorage.removeItem("policy_holder_ref_no"),"5"==a&&e.props.history.push("/Health/".concat(a)),"10"==a&&e.props.history.push("/Health_KSB/".concat(a)),"12"==a&&e.props.history.push("/arogya_Health/".concat(a)),"20"==a&&e.props.history.push("/Health_Micro/".concat(a)),"21"==a&&e.props.history.push("/Health_Group/".concat(a)),"22"==a&&e.props.history.push("/Health_KSB_Micro/".concat(a)),"23"==a&&e.props.history.push("/Health_KSB_Micro_Group/".concat(a)),"26"==a&&e.props.history.push("/Arogya_Plus/".concat(a)),"28"==a&&e.props.history.push("/dailycash_Health/".concat(a))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props.product_list,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,"2"==this.props.tabId?c.a.createElement("tbody",null,a.map((function(a,r){return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"W-10"},c.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),c.a.createElement("td",{className:"W-70"},a.name),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.buy_policy.bind(e,a.id)},n.Buy)))}))):null):null)))}}]),s}(s.Component),w=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},logout:function(){return e(Object(y.a)())}}}))(S)),k=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).buy_policy=function(a){"9"==a&&(localStorage.removeItem("policy_holder_ref_no"),e.props.history.push("/Registration_SME/".concat(a))),"19"==a&&(localStorage.removeItem("policy_holder_ref_no"),e.props.history.push("/Registration_Sookshma/".concat(a)),window.location.reload(!0))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props.product_list,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,"3"==this.props.tabId?c.a.createElement("tbody",null,a.map((function(a,r){return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"W-10"},c.a.createElement("img",{src:t(394),alt:""})),c.a.createElement("td",{className:"W-70"},a.name),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.buy_policy.bind(e,a.id)},n.Buy)))}))):null):null)))}}]),s}(s.Component),C=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},logout:function(){return e(Object(y.a)())}}}))(k)),P=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).buy_policy=function(a){e.props.loadingStart(),localStorage.removeItem("policy_holder_ref_no"),"13"==a&&e.props.history.push("/AccidentSelectPlan/".concat(a)),"24"==a&&e.props.history.push("/AccidentSelectPlan_Micro/".concat(a)),"25"==a&&e.props.history.push("/AccidentSelectPlan_Micro_Group/".concat(a))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props.product_list,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,"4"==this.props.tabId?c.a.createElement("tbody",null,a.map((function(a,r){return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"W-10"},c.a.createElement("img",{src:t(394),alt:""})),c.a.createElement("td",{className:"W-70"},a.name),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.buy_policy.bind(e,a.id)},n.Buy)))}))):null):null)))}}]),s}(s.Component),D=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},logout:function(){return e(Object(y.a)())}}}))(P)),I=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).buy_policy=function(a){e.props.loadingStart(),"14"==a&&e.props.history.push("/SelectPlan_GSB/".concat(a))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,a=this.props.product_list,n=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,"5"==this.props.tabId?c.a.createElement("tbody",null,a.map((function(a,r){return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"W-10"},c.a.createElement("img",{src:t(137)("./".concat(a.logo)),alt:""})),c.a.createElement("td",{className:"W-70"},a.name),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.buy_policy.bind(e,a.id)},n.Buy)))}))):null):null)))}}]),s}(s.Component),M=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},logout:function(){return e(Object(y.a)())}}}))(I)),B=t(40),A=t(77),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={product_id:"",motor_list:[],health_list:[],misc_list:[],personalAccident_list:[],fire_list:[],defaultTab:""},e.getPolicyList=function(){var a=new E.a,t=new FormData,n=(sessionStorage.getItem("bcLoginData")&&sessionStorage.getItem("bcLoginData"),sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):""),r="";n&&(r=JSON.parse(a.decrypt(n.user))),t.append("user_id",r.master_user_id),t.append("role_id",r.role_id),t.append("login_type",r.login_type),t.append("bc_id",r.bc_master_id),e.props.loadingStart(),v.a.post("visible/products",t).then((function(a){if(0==a.data.error){var t="",n=a.data.data.Motor,r=a.data.data.Health,l=a.data.data.MiscellaneousLOB,o=a.data.data.PersonalAccident,s=a.data.data.FireInsurance;n&&n.length>0?t="first":r&&r.length>0?t="second":s&&s.length>0?t="third":o&&o.length>0?t="fourth":l&&l.length>0&&(t="fifth"),e.setState({motor_list:n,health_list:r,misc_list:l,personalAccident_list:o,fire_list:s,defaultTab:t}),localStorage.removeItem("policyHolder_id"),localStorage.removeItem("policyHolder_refNo"),localStorage.removeItem("display_gender"),sessionStorage.removeItem("pan_data"),sessionStorage.removeItem("email_data"),sessionStorage.removeItem("proposed_insured"),sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),localStorage.removeItem("newBrandEdit"),localStorage.removeItem("brandEdit"),localStorage.removeItem("registration_number"),localStorage.removeItem("policy_type"),localStorage.removeItem("check_registration"),localStorage.removeItem("confirm"),e.props.loadingStop()}else e.props.loadingStop()})).catch((function(a){e.setState({motor_list:[],health_list:[],misc_list:[],personalAccident_list:[],fire_list:[]}),e.props.loadingStop()}))},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getPolicyList();var e=sessionStorage.getItem("product_id");this.props.setData([]),this.setState({product_id:e})}},{key:"render",value:function(){var e=this.state,a=(e.product_id,e.motor_list),t=e.health_list,n=e.misc_list,r=e.personalAccident_list,l=e.fire_list,o=e.defaultTab,s=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return console.log("product_id",o),c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("section",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"flex-fill w-100"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),o?c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("div",{className:"messageDeskSec"},c.a.createElement(d.a.Container,{id:"left-tabs-example",defaultActiveKey:o},c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement(_.a,{variant:"pills",className:"flex-column"},c.a.createElement("div",{className:"d-flex justify-content-left messageDeskTab"},a&&a.length>0?c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"first"},s.Motor))):null,t&&t.length>0?c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"second"},s.Health))):null,l&&l.length>0?c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"third"},s.FireInsurance))):null,r&&r.length>0?c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"fourth"},s.PersonalAccident))):null,n&&n.length>0?c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"fifth"},s.MiscellaneousLOB))):null))),c.a.createElement(p.a,{sm:12},c.a.createElement(d.a.Content,null,a&&a.length>0?c.a.createElement(d.a.Pane,{eventKey:"first"},c.a.createElement(N,{product_list:a,tabId:"1"}),c.a.createElement(B.a,null)):null,t&&t.length>0?c.a.createElement(d.a.Pane,{eventKey:"second"},c.a.createElement(w,{product_list:t,tabId:"2"}),c.a.createElement(B.a,null)):null,l&&l.length>0?c.a.createElement(d.a.Pane,{eventKey:"third"},c.a.createElement(C,{product_list:l,tabId:"3"}),c.a.createElement(B.a,null)):null,r&&r.length>0?c.a.createElement(d.a.Pane,{eventKey:"fourth"},c.a.createElement(D,{product_list:r,tabId:"4"}),c.a.createElement(B.a,null)):null,n&&n.length>0?c.a.createElement(d.a.Pane,{eventKey:"fifth"},c.a.createElement(M,{product_list:n,tabId:"5"}),c.a.createElement(B.a,null)):null)))))):null)))))))}}]),t}(s.Component);a.default=Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())},setData:function(a){return e(Object(A.a)(a))}}}))(O)},1340:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(903),m=t(904),d=t(913),u=t(377),p=t(31),_=t(34),g=t(40),f=t(48),h=t.n(f),v=t(7),E=t(36),y=t(38),b=t(19),N=t(22),S=t(3),w=t.n(S),k=t(2),C=t(9),P={otp1:"",otp2:"",otp3:"",otp4:"",otp5:""},D=function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={otp:"",errorMsg:"",seconds:90,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"2"},l=new C.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),v.a.post("/otp/check-status",n).then((function(n){0==n.data.error?(t.setSubmitting(!1),e.handleSubmit(a,t,n.data.data.otp)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.data.msg}),t.setFieldValue("otp1",""),t.setFieldValue("otp2",""),t.setFieldValue("otp3",""),t.setFieldValue("otp4",""),t.setFieldValue("otp5","")),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.handleSubmit=function(a,t,n){var r=Number(a.otp1+a.otp2+a.otp3+a.otp4+a.otp5);r==Number(n)?e.props.reloadPage(r):(t.setFieldValue("otp1",""),t.setFieldValue("otp2",""),t.setFieldValue("otp3",""),t.setFieldValue("otp4",""),t.setFieldValue("otp5",""),e.setState({errorMsg:"Wrong OTP"}))},e.toUnicode=function(e,a){if("Delete"===e.key||"Backspace"===e.key){var t=e.target.tabIndex-2;console.log(e.target.tabIndex),t>-1&&e.target.form.elements[t].focus()}else if(console.log("next"),a.length==e.target.maxLength){var n=e.target.tabIndex;n<5&&e.target.form.elements[n].focus()}},e.onKeyUp=function(e){},e.generateOtp=function(){e.props.loadingStart();var a=new FormData,t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"2"},n=new C.a;a.append("enc_data",n.encrypt(JSON.stringify(t))),e.setState({seconds:90,errorMsg:""}),v.a.post("/otp/generate",a).then((function(a){e.props.loadingStop(),e.getOtp()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.getOtp=function(){e.props.loadingStart();var a=new FormData,t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"2"},n=new C.a;a.append("enc_data",n.encrypt(JSON.stringify(t))),v.a.post("/otp/check-status",a).then((function(a){0==a.data.error?e.setState({otp:a.data.data.otp}):e.setState({otp:"",errorMsg:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e}return Object(r.a)(s,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp(),this.coundown()}},{key:"render",value:function(){var e=this,a=this.state,n=a.otp,r=a.errorMsg,l=a.seconds;Object.assign(P,{otp1:"",otp2:"",otp3:"",otp4:"",otp5:""});return c.a.createElement(k.e,{initialValues:P,onSubmit:this.checkOtp},(function(a){var o=a.values,s=(a.errors,a.setFieldValue),i=(a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return console.log(o),e.state.disable=!0,""!=o.otp1&&""!=o.otp2&&""!=o.otp3&&""!=o.otp4&&""!=o.otp5&&(e.state.disable=!1),c.a.createElement(k.d,null,c.a.createElement("div",{className:"text-center boxotpmodl"},c.a.createElement("img",{src:t(176),alt:"",className:"m-b-25"}),c.a.createElement("div",{className:"verfy"},"Verify OTP"),c.a.createElement("div",{className:"mobotp"},"Your one time password (OTP)  is sent to your registered mobile number XXXXXXX 445."),c.a.createElement("span",{className:"errorMsg"},n),c.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},c.a.createElement("div",{className:"mr-1 ml-1"},c.a.createElement(k.b,{name:"otp1",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp1,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp1",e.target.value)},onKeyPress:e.keyPressed,tabindex:"1",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),c.a.createElement("div",{className:"mr-1 ml-1"},c.a.createElement(k.b,{name:"otp2",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp2,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp2",e.target.value)},tabindex:"2",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),c.a.createElement("div",{className:"mr-1 ml-1"},c.a.createElement(k.b,{name:"otp3",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp3,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp3",e.target.value)},tabindex:"3",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),c.a.createElement("div",{className:"mr-1 ml-1"},c.a.createElement(k.b,{name:"otp4",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp4,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp4",e.target.value)},tabindex:"4",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),c.a.createElement("div",{className:"mr-1 ml-1"},c.a.createElement(k.b,{name:"otp5",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp5,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp5",e.target.value)},tabindex:"5",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}}))),c.a.createElement("div",{className:"m-b-25"},c.a.createElement("div",{className:"sndSms"},"Resend OTP via SMS"),c.a.createElement("div",null,"You can resend OTP in ",l>=0?l:0," seconds"),r?c.a.createElement("span",{className:"errorMsg"},r):null),c.a.createElement("div",{className:"text-center"},c.a.createElement(u.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"Resend OTP"),c.a.createElement(u.a,{className:"proceedBtn",type:"submit",disabled:!!e.state.disable},i?"Wait..":"Continue"))))}))}}]),s}(s.Component),I=(Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(D)),t(20)),M=t.n(I),B=t(37),A=t.n(B),O=t(97),x={M:"Male",F:"Female"},H={m:"Male",f:"Female"},R={1:"Self",2:"Spouse",3:"Son",4:"Daughter",5:"Father",6:"Mother",7:"Father In Law",8:"Mother In Law"},L={gateway:""},j=(w()().format("D-MMMM-YYYY-h:mm:ss"),w()().format("YYYY-mm-D"),function(e){Object(l.a)(s,e);var a=Object(o.a)(s);function s(){var e;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={accessToken:"",policyHolderDetails:[],familyMember:[],fulQuoteResp:[],error:[],purchaseData:[],error1:[],show:!1,refNumber:"",nomineedetails:[],paymentStatus:[],serverResponse:!1,paymentgateway:[],policyHolder_refNo:A.a.parse(e.props.location.search).access_id?A.a.parse(e.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.policySummery=function(a){e.props.history.push("/ThankYou/".concat(a))},e.nomineeDetails=function(a){e.props.history.push("/NomineeDetails/".concat(a))},e.getPolicyHolderDetails=function(){e.props.loadingStart(),v.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},r=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineedetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,menumaster:n,request_data:r,paymentgateway:l}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?M()("Session out. Please login"):M()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.getAccessToken=function(a,t){v.a.post("/callTokenService").then((function(n){e.setState({accessToken:n.data.access_token}),e.fullQuote(n.data.access_token,a,t)})).catch((function(a){e.setState({accessToken:[]}),e.props.loadingStop()}))},e.getPolicyHolderId=function(a){e.props.loadingStart(),v.a.get("/health-policy/".concat(a)).then((function(a){var t=a.data.data.policyHolder?a.data.data.policyHolder.bcmaster:{},n=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{},r=a.data.data.policyHolder?a.data.data.policyHolder.menumaster:{},l=a.data.data.policyHolder&&a.data.data.policyHolder.bcmaster&&a.data.data.policyHolder.bcmaster.bcpayment;e.setState({policyHolderDetails:a.data.data.policyHolder?a.data.data.policyHolder:[],familyMember:a.data.data.policyHolder.request_data.family_members,refNumber:a.data.data.policyHolder.reference_no,paymentStatus:a.data.data.policyHolder.payment?a.data.data.policyHolder.payment[0]:[],nomineedetails:a.data.data.policyHolder?a.data.data.policyHolder.request_data.nominee[0]:[],bcMaster:t,request_data:n,menumaster:r,paymentgateway:l}),e.getAccessToken(a.data.data.policyHolder,a.data.data.policyHolder.request_data.family_members)})).catch((function(a){401==a.status?M()("Session out. Please login"):M()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.updatePolicyHolderDetails=function(){e.props.loadingStart(),v.a.get("/policy-holder/".concat(localStorage.getItem("policyHolder_id"))).then((function(a){var t=a.data.data.policyHolder&&a.data.data.policyHolder.request_data?a.data.data.policyHolder.request_data:{};e.setState({request_data:t})})).catch((function(a){401==a.status?M()("Session out. Please login"):M()("Something wrong happened. Please try after some"),e.setState({policyHolderDetails:[]}),e.props.loadingStop()}))},e.fullQuote=function(a,t){var n=t.id,r=Math.floor(t.request_data.sum_insured),l=new FormData,o=new C.a,s={id:n,insureValue:r,access_token:a};l.append("enc_data",o.encrypt(JSON.stringify(s))),v.a.post("/fullQuoteServiceArogyaSeries",l).then((function(a){a.data.PolicyObject&&a.data.UnderwritingResult&&"Success"==a.data.UnderwritingResult.Status?(e.setState({fulQuoteResp:a.data.PolicyObject,serverResponse:!0,error:[]}),e.updatePolicyHolderDetails()):a.data.PolicyObject&&a.data.UnderwritingResult&&"Fail"==a.data.UnderwritingResult.Status?e.setState({fulQuoteResp:a.data.PolicyObject,error:{message:1},serverResponse:!1}):e.setState({fulQuoteResp:[],error:a.data,serverResponse:!1}),e.props.loadingStop()})).catch((function(a){e.setState({serverResponse:!1}),e.props.loadingStop()}))},e.handleSubmit=function(a){var t=e.state,n=t.refNumber,r=t.policyHolderDetails,l=e.props.match.params.productId;Object(O.b)(a,r,n,l)},e.sendPaymentLink=function(){new C.a;var a=new FormData,t=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;a.append("reference_no",t),e.props.loadingStart(),v.a.post("send-payment-link",a).then((function(a){M()(a.data.msg),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){A.a.parse(this.props.location.search).access_id?this.getPolicyHolderId(A.a.parse(this.props.location.search).access_id):this.getPolicyHolderDetails()}},{key:"render",value:function(){var e=this,a=this.props.match.params.productId,n=this.state,r=n.fulQuoteResp,l=n.error,o=n.serverResponse,s=n.policyHolderDetails,f=(n.refNumber,n.paymentStatus),v=n.bcMaster,y=n.paymentgateway,b=n.menumaster,N=n.request_data,S=n.nomineedetails,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=r&&r.PolicyLobList&&r.PolicyLobList.length>0&&r.PolicyLobList[0].PolicyRiskList?r.PolicyLobList[0].PolicyRiskList.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.FirstName+" "+e.LastName))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.DateOfBirth))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"F"==e.GenderCode&&e.ArgInsuredRelToProposer>2&&(3==e.ArgInsuredRelToProposer||5==e.ArgInsuredRelToProposer||7==e.ArgInsuredRelToProposer)?R[parseInt(e.ArgInsuredRelToProposer)+1]:R[e.ArgInsuredRelToProposer]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,x[e.GenderCode]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,D=s.request_data?s.request_data.nominee.map((function(e,a){return c.a.createElement("div",null,c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Nominee")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.first_name+" "+e.last_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Date Of Birth:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,w()(e.dob).format("DD-MM-yyy")))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Proposer:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,R[e.relation_with]))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Gender")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,H[e.gender]))))),c.a.createElement(i.a,null,c.a.createElement("p",null)))})):null,I=s.request_data?s.request_data.nominee.map((function(e,a){return c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement("h6",null,c.a.createElement("strong",null,"Appointee ")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Name:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,e.appointee_name))),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,"Relation With Nominee:")),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,R[e.appointee_relation_with])))))})):null,M=l&&l.message?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,B=f&&103==f.transaction_status?c.a.createElement("span",{className:"errorMsg"},c.a.createElement("h6",null,c.a.createElement("strong",null,"Payment failed. Please try again"))):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(_.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox helpolicy"},c.a.createElement("h4",{className:"text-center mt-3 mb-3"},"Arogya Sanjeevani Policy"),c.a.createElement(k.e,{initialValues:L,onSubmit:this.handleSubmit},(function(n){var l=n.values,p=(n.errors,n.setFieldValue);n.setFieldTouched,n.isValid,n.isSubmitting,n.touched;return c.a.createElement(k.d,null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement("div",{className:"d-flex justify-content-left carloan"},c.a.createElement("h4",null," Details of your Policy Premium")),c.a.createElement("div",{className:"brandhead m-b-30"},c.a.createElement("h5",null,M),c.a.createElement("h5",null,B),c.a.createElement("h4",null,"Policy Reference Number ",r.QuotationNo)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:9,lg:9},c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Policy Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy Start date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.start_date?w()(N.start_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Policy End Date:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,N&&N.end_date?w()(N.end_date).format("DD-MM-yyy"):null)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Product Name:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,b&&b.name?b.name:null)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:"Arogya Sanjeevani Policy, SBI General Insurance Company Limited"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Sum Insured:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.SumInsured)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,"Applicable Taxes:")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.TGST)),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.GrossPremium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",Math.round(r.GrossPremium+r.AlcoholLoadingAmount+r.SmokerLoadingAmount+r.TobaccoLoadingAmount))),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,C.Premium,":")),c.a.createElement(m.a,{sm:12,md:6,lg:3},c.a.createElement(d.a,null,c.a.createElement("strong",null,"Rs:")," ",r.DuePremium)))))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Member Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},P))),c.a.createElement("div",{className:"rghtsideTrigr"},c.a.createElement(h.a,{trigger:" Nominee Details"},c.a.createElement("div",{className:"listrghtsideTrigr"},D),S&&"1"==S.is_appointee?c.a.createElement("div",{className:"listrghtsideTrigr"},I):null)),c.a.createElement("div",{className:"rghtsideTrigr m-b-40"},c.a.createElement(h.a,{trigger:" Contact information"},c.a.createElement("div",{className:"listrghtsideTrigr"},c.a.createElement("div",{className:"d-flex justify-content-end carloan"},c.a.createElement(E.b,{to:"/Address/".concat(a)}," Edit")),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:12},c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Mobile number:"),c.a.createElement(m.a,{sm:12,md:6},s.mobile)),c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6},"Email:"),c.a.createElement(m.a,{sm:12,md:6},s.email_id))))))),o?c.a.createElement(i.a,null,c.a.createElement(m.a,{sm:12,md:6}),c.a.createElement(m.a,{sm:12,md:6},c.a.createElement(d.a,null,c.a.createElement("div",{className:"paymntgatway"},"Select Payment Gateway",y&&y.length>0?y.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?c.a.createElement("div",null,c.a.createElement("label",{className:"customRadio3"},c.a.createElement(k.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){p("gateway",a.target.value),p("slug",e.paymentgateway.slug)},checked:l.gateway=="".concat(a+1)}),c.a.createElement("span",{className:"checkmark "}),c.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?c.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,c.a.createElement(i.a,null,"\xa0"),c.a.createElement("div",{className:"d-flex justify-content-left resmb"},c.a.createElement(u.a,{className:"backBtn",onClick:e.nomineeDetails.bind(e,a)},"Back"),v&&1==v.eligible_for_payment_link?c.a.createElement("div",null,c.a.createElement(u.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  Send Payment Link  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=l.gateway&&o?c.a.createElement(u.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),c.a.createElement(m.a,{sm:12,md:3},c.a.createElement("div",{className:"regisBox"},c.a.createElement("h3",{className:"medihead"},"Assurance of Insurance. Everywhere in India, for every Indian"," ")))))))})),c.a.createElement(g.a,null)))))))}}]),s}(s.Component));a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(j))},1341:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(48),g=t.n(_),f=t(2),h=t(31),v=t(34),E=t(40),y=t(38),b=t(19),N=t(22),S=t(7),w=t(9),k={otp1:"",otp2:"",otp3:"",otp4:"",otp5:""},C=function(e){Object(o.a)(l,e);var a=Object(s.a)(l);function l(){var e;Object(n.a)(this,l);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={otp:"",errorMsg:"",seconds:180,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"1"},l=new w.a;n.append("enc_data",l.encrypt(JSON.stringify(r))),S.a.post("/otp/check-status",n).then((function(n){0==n.data.error?(t.setSubmitting(!1),e.handleSubmit(a,t,n.data.data.otp)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.data.msg}),t.setFieldValue("otp1",""),t.setFieldValue("otp2",""),t.setFieldValue("otp3",""),t.setFieldValue("otp4",""),t.setFieldValue("otp5","")),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.handleSubmit=function(a,t,n){var r=Number(a.otp1+a.otp2+a.otp3+a.otp4+a.otp5);r==Number(n)?e.props.reloadPage(r):(t.setFieldValue("otp1",""),t.setFieldValue("otp2",""),t.setFieldValue("otp3",""),t.setFieldValue("otp4",""),t.setFieldValue("otp5",""),e.setState({errorMsg:"Wrong OTP"}))},e.toUnicode=function(e,a){if("Delete"===e.key||"Backspace"===e.key){var t=e.target.tabIndex-2;console.log(e.target.tabIndex),t>-1&&e.target.form.elements[t].focus()}else if(console.log("next"),a.length==e.target.maxLength){var n=e.target.tabIndex;n<5&&e.target.form.elements[n].focus()}},e.onKeyUp=function(e){},e.generateOtp=function(){e.props.loadingStart();var a=new FormData,t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"1"},n=new w.a;a.append("enc_data",n.encrypt(JSON.stringify(t))),e.setState({seconds:180,errorMsg:""}),S.a.post("/otp/generate",a).then((function(a){e.props.loadingStop(),e.getOtp()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.getOtp=function(){e.props.loadingStart();var a=new FormData,t={policy_holder_id:localStorage.getItem("policyHolder_id"),menumaster_id:"1"},n=new w.a;a.append("enc_data",n.encrypt(JSON.stringify(t))),S.a.post("/otp/check-status",a).then((function(a){0==a.data.error?e.setState({otp:a.data.data.otp}):e.setState({otp:"",errorMsg:a.data.msg}),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e}return Object(r.a)(l,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp(),this.coundown()}},{key:"render",value:function(){var e=this,a=this.state,n=a.otp,r=a.errorMsg,l=a.seconds;Object.assign(k,{otp1:"",otp2:"",otp3:"",otp4:"",otp5:""});return i.a.createElement(f.e,{initialValues:k,onSubmit:this.checkOtp},(function(a){var o=a.values,s=(a.errors,a.setFieldValue),c=(a.setFieldTouched,a.isValid,a.isSubmitting);a.touched;return console.log(o),e.state.disable=!0,""!=o.otp1&&""!=o.otp2&&""!=o.otp3&&""!=o.otp4&&""!=o.otp5&&(e.state.disable=!1),i.a.createElement(f.d,null,i.a.createElement("div",{className:"text-center boxotpmodl"},i.a.createElement("img",{src:t(176),alt:"",className:"m-b-25"}),i.a.createElement("div",{className:"verfy"},"Verify OTP"),i.a.createElement("div",{className:"mobotp"},"Your one time password (OTP)  is sent to your registered mobile number XXXXXXX 445."),i.a.createElement("span",{className:"errorMsg"},n),i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"mr-1 ml-1"},i.a.createElement(f.b,{name:"otp1",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp1,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp1",e.target.value)},onKeyPress:e.keyPressed,tabindex:"1",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),i.a.createElement("div",{className:"mr-1 ml-1"},i.a.createElement(f.b,{name:"otp2",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp2,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp2",e.target.value)},tabindex:"2",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),i.a.createElement("div",{className:"mr-1 ml-1"},i.a.createElement(f.b,{name:"otp3",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp3,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp3",e.target.value)},tabindex:"3",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),i.a.createElement("div",{className:"mr-1 ml-1"},i.a.createElement(f.b,{name:"otp4",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp4,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp4",e.target.value)},tabindex:"4",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}})),i.a.createElement("div",{className:"mr-1 ml-1"},i.a.createElement(f.b,{name:"otp5",type:"text",autoComplete:"off",className:"form-control placeHCenter",value:o.otp5,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(e){s("otp5",e.target.value)},tabindex:"5",maxlength:"1",onKeyUp:function(a){return e.toUnicode(a,a.target.value)}}))),i.a.createElement("div",{className:"m-b-25"},i.a.createElement("div",{className:"sndSms"},"Resend OTP via SMS"),i.a.createElement("div",null,"You can resend OTP in ",l>=0?l:0," seconds"),r?i.a.createElement("span",{className:"errorMsg"},r):null),i.a.createElement("div",{className:"text-center"},i.a.createElement(p.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"Resend OTP"),i.a.createElement(p.a,{className:"proceedBtn",type:"submit",disabled:!!e.state.disable},c?"Wait..":"Continue"))))}))}}]),l}(c.Component),P=(Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(C)),t(1)),D=t(37),I=t.n(D),M=t(61),B=t(20),A=t.n(B),O=t(3),x=t.n(O),H=t(97),R={gateway:""},L=P.object().shape({refNo:P.string().notRequired("Reference number is required").matches(/^[a-zA-Z0-9]*$/,(function(){return"Please enter valid reference number"}))}),j=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/two_wheeler_additional_detailsTP/".concat(e))},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(H.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new w.a;S.a.get("two-wh/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},o=n.data.policyHolder?n.data.policyHolder.step_no:"",s=n.data.policyHolder?n.data.policyHolder:[],c=n.data.policyHolder?n.data.policyHolder.bcmaster:{},i=n.data.policyHolder?n.data.policyHolder.request_data:{};console.log("value1 is=======",i.start_date,i.end_date);var m=n.data.policyHolder?n.data.policyHolder.menumaster:{},d=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,vehicleDetails:l,step_completed:o,policyHolder:s,bcMaster:c,request_data:i,menumaster:m,paymentgateway:d,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new w.a;S.a.get("two-wh/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e){S.a.post("/callTokenService").then((function(a){t.setState({accessToken:a.data.access_token}),t.fullQuote(a.data.access_token,e)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a){var n=new FormData;new w.a,localStorage.getItem("policyHolder_id"),a.idv_value,a&&a.policy_type,a.add_more_coverage,a&&a.policy_for;n.append("id",t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0"),n.append("access_token",e),n.append("idv_value",a.idv_value),n.append("policy_type",a?a.policy_type:""),n.append("add_more_coverage",JSON.stringify(a.add_more_coverage)),n.append("policytype_id",a?a.policytype_id:""),n.append("policy_for",a?a.policy_for:""),n.append("PA_Cover",a?a.pa_cover:"0"),S.a.post("fullQuotePM2WTP",n).then((function(e){e.data.PolicyObject&&e.data.UnderwritingResult&&"Success"==e.data.UnderwritingResult.Status?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):t.setState({fulQuoteResp:[],error:e.data}),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),S.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new w.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),S.a.post("send-payment-link",e).then((function(e){A()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,show1:!0,refNo:"",whatsapp:"",fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],vehicleDetails:[],step_completed:"0",paymentgateway:[],policyHolder_refNo:I.a.parse(t.props.location.search).access_id?I.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.paymentgateway),r=(a.show,a.fulQuoteResp),l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber,a.request_data),c=(a.menumaster,a.paymentStatus),_=a.relation,y=a.memberdetails,b=a.nomineedetails,N=a.vehicleDetails,S=a.step_completed,w=a.bcMaster,k=this.props.match.params.productId,C=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null,P=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,D=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(v.a,null))),S>="4"&&"3"==N.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox twowheelTp2"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},C.SBIGICL),i.a.createElement(f.e,{initialValues:R,onSubmit:this.handleSubmit,validationSchema:L},(function(a){var o=a.values,c=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(f.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,C.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,P),i.a.createElement("h5",null,D),i.a.createElement("h4",null,C.PolRefNumber," ",r.QuotationNo?r.QuotationNo:"")),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},s&&s.start_date?x()(s.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},s&&s.end_date?x()(s.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},N&&N.vehicletype?N.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(g.a,{trigger:C.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.Premium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(r.BeforeVatPremium))),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"motopremium"},C.GST,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},"\u20b9 ",Math.round(r.TGST))))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.TwoWheelBrand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclebrand&&N.vehiclebrand.name?N.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.TwoWheelModel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.vehiclemodel&&N.vehiclemodel.description?N.vehiclemodel.description+" "+N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.varient?N.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.fuel_type?M.a[parseInt(N.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,N&&N.varientmodel&&N.varientmodel.seating?N.varientmodel.seating:null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(g.a,{trigger:C.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},y?i.a.createElement("div",null,i.a.createElement("strong",null,C.OwnerDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,C.Name,":"):i.a.createElement(u.a,null,C.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y&&y.dob?Math.floor(x()().diff(y.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y?x()(y.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==y.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,y.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?b.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(x()().diff(b.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},b&&_.map((function(e,a){return e.id==b.relation_with?i.a.createElement(u.a,null,e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&"m"==b.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&b&&"1"==b.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,C.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.appointee_name?b.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,C.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},b&&b.appointee_relation_with&&_.map((function(e,a){return e.id==b.appointee_relation_with?i.a.createElement(u.a,null,e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},C.SelectPayGateway,n&&n.length>0?n.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(f.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){c("gateway",a.target.value),c("slug",e.paymentgateway.slug)},checked:o.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,k)},C.Back),w&&1==w.eligible_for_payment_link?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",C.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,r.QuotationNo&&""!=o.gateway?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},C.MakePayment):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(175),alt:""}))))))}))):""==S?"Forbidden":null,i.a.createElement(E.a,null))))))}}]),c}(c.Component);a.default=Object(y.g)(Object(N.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(b.a)())},loadingStop:function(){return e(Object(b.b)())}}}))(j))},1342:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(910),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(38),N=t(19),S=t(22),w=t(7),k=t(9),C=t(1),P={otp:"",appCodeRadio:"1"},D=C.object().shape({appCodeRadio:C.number().required("Please select one option"),otp:C.string().when(["appCodeRadio"],{is:function(e){return"1"==e},then:C.string().required("Please enter policy App Code").matches(/^[0-9]*$/,(function(){return"Invalid App code"})).min(6,(function(){return"App code should be minimum 6 characters"})).max(6,(function(){return"App code should be maximum 6 characters"})),otherwise:C.string()})}),I=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={otp:"",errorMsg:"",seconds:180,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r=Number(a.otp),l={policy_ref_no:e.props.refNumber,app_code:r},o=new k.a;n.append("enc_data",o.encrypt(JSON.stringify(l))),w.a.post("verify-appcode",n).then((function(a){var n=JSON.parse(o.decrypt(a.data));console.log("decrypt",n),0==n.error?(e.setState({errorMsg:""}),t.setSubmitting(!1),e.props.reloadPage(!0)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.msg})),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.generateOtp=function(){e.props.loadingStart();new FormData;var a=new k.a;e.setState({seconds:180,errorMsg:""}),w.a.get("sent-appcode/".concat(e.props.refNumber)).then((function(t){JSON.parse(a.decrypt(t.data));e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e.changeError=function(){e.setState({errorMsg:""})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp()}},{key:"render",value:function(){var e=this,a=this.state,t=a.otp,n=a.errorMsg;a.seconds,Object.assign(P,{otp:""});return i.a.createElement(h.e,{initialValues:P,onSubmit:this.checkOtp,validationSchema:D},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting),m=a.touched;return e.state.disable=!0,""!=r.otp1&&""!=r.otp2&&""!=r.otp3&&""!=r.otp4&&""!=r.otp5&&(e.state.disable=!1),i.a.createElement(h.d,null,i.a.createElement("div",{className:"text-center boxotpmodl"},i.a.createElement("div",{className:"verfy"},"Digital consent form"),i.a.createElement("div",{className:"mobotp"},"An automated SMS & e-mail has been sent to customer with a Policy App code and Proposal link."),i.a.createElement("span",{className:"errorMsg"},t),i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"appCodeRadio",value:"1",key:"1",checked:"1"==r.appCodeRadio,onChange:function(){s("appCodeRadio"),o("appCodeRadio","1")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Call customer and enter Policy App Code")),l.appCodeRadio&&m.appCodeRadio?i.a.createElement("span",{className:"errorMsg"},l.appCodeRadio):null)),"1"==r.appCodeRadio?i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"otp",type:"text",autoComplete:"off",className:"premiumslid",value:r.otp,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){e.changeError(),o("otp",a.target.value)},tabIndex:"1",maxLength:"6"}),l.otp&&m.otp?i.a.createElement("span",{className:"errorMsg"},l.otp):null,n?i.a.createElement("span",{className:"errorMsg"},n):null)):null,i.a.createElement("div",{className:"text-center"},i.a.createElement(p.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"ReGenerate App code"),"\xa0\xa0",i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},c?"Wait..":"Submit"))))}))}}]),t}(c.Component),M=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(I)),B=t(37),A=t.n(B),O=t(61),x=t(20),H=t.n(x),R=t(3),L=t.n(R),j=t(97),F={gateway:""},q=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_MISCD/".concat(e))},t.handleModal=function(){t.setState({show:!0})},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(j.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,bcMaster:m,menumaster:d,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder&&n.data.policyHolder.request_data.nominee?n.data.policyHolder.request_data.nominee[0]:[]}),t.fullQuote(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(j.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";return m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),a.append("page_name","Premium_MISCD/".concat(t.props.match.params.productId)),t.props.loadingStart(),new Promise((function(e,n){w.a.post("breakin/create",a).then((function(a){0==a.data.error?(H()("Your breakin request has been raised. Your inspection Number: ".concat(a.data.data.inspection_no)),e(a.data.data.inspection_no),t.props.loadingStop()):(H()("Error: ".concat(a.data.msg)),n(Error("Promise rejected")),t.props.loadingStop())})).catch((function(e){n(Error("Promise rejected")),t.props.loadingStop()}))}))},t.fullQuote=function(e){var a=new FormData,n=new k.a,r=t.state,l=r.previousPolicy,o=r.request_data,s=r.policyHolder,c=e.trailers?e.trailers:null;c=c?JSON.parse(c):[],t.breakinService(e,l,o,s).then((function(r){var l={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",idv_value:t.state.request_data.IDV_Suggested?t.state.request_data.IDV_Suggested:"0",policy_type:e.policy_type,add_more_coverage:e.add_more_coverage,PA_Cover:e&&e.pa_cover?e.pa_cover:"0",coverage_data:e&&null!=e.add_more_coverage_request_json?e.add_more_coverage_request_json:"",body_idv_value:t.state.request_data.VehicleBodyPrice?t.state.request_data.VehicleBodyPrice:"0",userIdvStatus:1,bodyIdvStatus:1,trailer_array:c};a.append("enc_data",n.encrypt(JSON.stringify(l))),w.a.post("fullQuoteMISCD",a).then((function(e){e.data.data.PolicyObject?(t.setState({fulQuoteResp:e.data.data.PolicyObject,PolicyArray:e.data.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.data.ValidateResult?H()(e.data.data.ValidateResult.message):(t.setState({fulQuoteResp:[],error:e.data.data}),H()(e.data.msg)),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))}))},t.breakinService=function(e,a,n,r){var l=e&&e.policytype_id?e.policytype_id:"",o=0;return new Promise((function(s,c){if(a&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status||"3"==l&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status){o=a?Math.floor(L()().diff(a.end_date,"days",!0)):"";var i=a?a.name:"";if(o>0||"2"==i||"3"==l){var m=new FormData,d=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";m.append("policy_ref_no",d),w.a.post("breakin/checking",m).then((function(a){var r=a.data.data.break_in_checking,l=a.data.data.break_in_inspection_no,o=a.data.data.break_in_status;1==r?(t.setState({breakin_flag:1}),""!=l||null!=o&&"0"!=o?(s({inspectionNumber:l,inspection:1}),H()({title:"Breakin",text:"Breakin already raised. \nBreaking number ".concat(l,"."),icon:"warning"})):H()({title:"Breakin",text:"Your Quotation number is ".concat(n.quote_id,". Your vehicle needs inspection. Do you want to raise inspection."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a?t.callBreakin(e&&e.registration_no).then((function(e){s({inspectionNumber:e,inspection:1})})).catch((function(e){c(e)})):t.props.loadingStop()}))):s({inspectionNumber:"",inspection:2})})).catch((function(e){t.setState({breakin_flag:1}),t.props.loadingStop()}))}else s({inspectionNumber:"",inspection:0})}else s({inspectionNumber:"",inspection:0})}))},t.fetchRelationships=function(){t.props.loadingStart(),w.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),w.a.post("send-payment-link",e).then((function(e){H()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,paymentButton:!1,smsButton:!0,fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:A.a.parse(t.props.location.search).access_id?A.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){!0===e?this.setState({show:!1,paymentButton:!0,smsButton:!1}):this.setState({show:!1,paymentButton:!1,smsButton:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show),r=a.fulQuoteResp,l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber),c=a.paymentStatus,g=a.relation,b=a.memberdetails,N=a.paymentgateway,S=a.nomineedetails,w=a.vehicleDetails,k=a.breakin_flag,C=a.step_completed,P=a.paymentButton,D=a.smsButton,I=a.bcMaster,B=(a.menumaster,a.request_data),A=this.props.match.params.productId,x=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null,R=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(E.a,null))),C>="4"&&"11"==w.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumMisd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},R.SBIGICL),i.a.createElement(h.e,{initialValues:F,onSubmit:this.handleSubmit},(function(a){var n=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(h.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,R.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,x),i.a.createElement("h5",null,H),i.a.createElement("h4",null,R.PolRefNumber," ",r.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.start_date?L()(B.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.end_date?L()(B.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},w&&w.vehicletype?w.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium?r.DuePremium:0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.BeforeVatPremium?Math.round(r.BeforeVatPremium):0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.TGST?Math.round(r.TGST):0)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.varient?w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.fuel_type?O.a[parseInt(w.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.body_style?w.varientmodel.body_style:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.HorsePower)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement("strong",null,"Owner Details "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,R.Name,":"):i.a.createElement(u.a,null,R.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(L()().diff(b.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?L()(b.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==b.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S?S.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.dob?Math.floor(L()().diff(S.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},S&&g.map((function(e,a){return e.id==S.relation_with?i.a.createElement(u.a,{key:a},e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&"m"==S.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&S&&"1"==S.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.appointee_name?S.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},S&&S.appointee_relation_with&&g.map((function(e,a){return e.id==S.appointee_relation_with?i.a.createElement(u.a,{key:a},e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),r.QuotationNo&&0==k?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},R.SelectPayGateway,N&&N.length>0?N.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:n.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,A)},R.Back),I&&1==I.eligible_for_payment_link&&0==k?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",R.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,!0===D&&0==k?i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.handleModal.bind(e)},R.SendSMS):null,r.QuotationNo&&0==k&&""!=n.gateway&&!0===P?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))})),i.a.createElement(_.a,{className:"",bsSize:"md",show:n,onHide:this.handleClose},i.a.createElement("div",{className:"otpmodal"},i.a.createElement(_.a.Header,{closeButton:!0}),i.a.createElement(_.a.Body,null,i.a.createElement(M,{quoteNo:r.QuotationNo,duePremium:r.DuePremium,refNumber:s,reloadPage:function(a){return e.handleOtp(a)}}))))):""==C?"Forbidden":null,i.a.createElement(y.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(q))},1343:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(910),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(38),N=t(19),S=t(22),w=t(7),k=t(9),C=t(1),P={otp:"",appCodeRadio:"1"},D=C.object().shape({appCodeRadio:C.number().required("Please select one option"),otp:C.string().when(["appCodeRadio"],{is:function(e){return"1"==e},then:C.string().required("Please enter policy App Code").matches(/^[0-9]*$/,(function(){return"Invalid App code"})).min(6,(function(){return"App code should be minimum 6 characters"})).max(6,(function(){return"App code should be maximum 6 characters"})),otherwise:C.string()})}),I=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={otp:"",errorMsg:"",seconds:180,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r=Number(a.otp),l={policy_ref_no:e.props.refNumber,app_code:r},o=new k.a;n.append("enc_data",o.encrypt(JSON.stringify(l))),w.a.post("verify-appcode",n).then((function(a){var n=JSON.parse(o.decrypt(a.data));console.log("decrypt",n),0==n.error?(e.setState({errorMsg:""}),t.setSubmitting(!1),e.props.reloadPage(!0)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.msg})),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.generateOtp=function(){e.props.loadingStart();new FormData;var a=new k.a;e.setState({seconds:180,errorMsg:""}),w.a.get("sent-appcode/".concat(e.props.refNumber)).then((function(t){JSON.parse(a.decrypt(t.data));e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e.changeError=function(){e.setState({errorMsg:""})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp()}},{key:"render",value:function(){var e=this,a=this.state,t=a.otp,n=a.errorMsg;a.seconds,Object.assign(P,{otp:""});return i.a.createElement(h.e,{initialValues:P,onSubmit:this.checkOtp,validationSchema:D},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting),m=a.touched;return e.state.disable=!0,""!=r.otp1&&""!=r.otp2&&""!=r.otp3&&""!=r.otp4&&""!=r.otp5&&(e.state.disable=!1),i.a.createElement(h.d,null,i.a.createElement("div",{className:"text-center boxotpmodl"},i.a.createElement("div",{className:"verfy"},"Digital consent form"),i.a.createElement("div",{className:"mobotp"},"An automated SMS & e-mail has been sent to customer with a Policy App code and Proposal link."),i.a.createElement("span",{className:"errorMsg"},t),i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"appCodeRadio",value:"1",key:"1",checked:"1"==r.appCodeRadio,onChange:function(){s("appCodeRadio"),o("appCodeRadio","1")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Call customer and enter Policy App Code")),l.appCodeRadio&&m.appCodeRadio?i.a.createElement("span",{className:"errorMsg"},l.appCodeRadio):null)),"1"==r.appCodeRadio?i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"otp",type:"text",autoComplete:"off",className:"premiumslid",value:r.otp,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){e.changeError(),o("otp",a.target.value)},tabIndex:"1",maxLength:"6"}),l.otp&&m.otp?i.a.createElement("span",{className:"errorMsg"},l.otp):null,n?i.a.createElement("span",{className:"errorMsg"},n):null)):null,i.a.createElement("div",{className:"text-center"},i.a.createElement(p.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"ReGenerate App code"),"\xa0\xa0",i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},c?"Wait..":"Submit"))))}))}}]),t}(c.Component),M=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(I)),B=t(37),A=t.n(B),O=t(61),x=t(20),H=t.n(x),R=t(3),L=t.n(R),j=t(97),F={gateway:""},q=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_MISCDST/".concat(e))},t.handleModal=function(){t.setState({show:!0})},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(j.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,bcMaster:m,menumaster:d,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder&&n.data.policyHolder.request_data.nominee?n.data.policyHolder.request_data.nominee[0]:[]}),t.fullQuote(r)})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(j.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";return m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),a.append("page_name","Premium_MISCDST/".concat(t.props.match.params.productId)),t.props.loadingStart(),new Promise((function(e,n){w.a.post("breakin/create",a).then((function(a){0==a.data.error?(H()("Your breakin request has been raised. Your inspection Number: ".concat(a.data.data.inspection_no)),e(a.data.data.inspection_no),t.props.loadingStop()):(H()("Error: ".concat(a.data.msg)),n(Error("Promise rejected")),t.props.loadingStop())})).catch((function(e){n(Error("Promise rejected")),t.props.loadingStop()}))}))},t.fullQuote=function(e){var a=new FormData,n=new k.a,r=t.state,l=r.previousPolicy,o=r.request_data,s=r.policyHolder,c=e.trailers?e.trailers:null;c=c?JSON.parse(c):[],t.breakinService(e,l,o,s).then((function(r){var l={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",idv_value:t.state.request_data.IDV_Suggested?t.state.request_data.IDV_Suggested:"0",policy_type:e.policy_type,add_more_coverage:e.add_more_coverage,PA_Cover:e&&e.pa_cover?e.pa_cover:"0",coverage_data:e&&null!=e.add_more_coverage_request_json?e.add_more_coverage_request_json:"",body_idv_value:t.state.request_data.VehicleBodyPrice?t.state.request_data.VehicleBodyPrice:"0",userIdvStatus:1,bodyIdvStatus:1,trailer_array:c};console.log("post_Data MISDST_Summery--------- ",l),a.append("enc_data",n.encrypt(JSON.stringify(l))),w.a.post("fullQuoteMISCDShortTerm",a).then((function(e){e.data.data.PolicyObject?(t.setState({fulQuoteResp:e.data.data.PolicyObject,PolicyArray:e.data.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.data.ValidateResult?H()(e.data.data.ValidateResult.message):(t.setState({fulQuoteResp:[],error:e.data.data}),H()(e.data.msg)),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))}))},t.breakinService=function(e,a,n,r){var l=e&&e.policytype_id?e.policytype_id:"",o=0;return new Promise((function(s,c){if(a&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status||"3"==l&&"Vehicle Recommended and Reports Uploaded"!=r.break_in_status){o=a?Math.floor(L()().diff(a.end_date,"days",!0)):"";var i=a?a.name:"";if(o>0||"2"==i||"3"==l){var m=new FormData,d=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";m.append("policy_ref_no",d),w.a.post("breakin/checking",m).then((function(a){var r=a.data.data.break_in_checking,l=a.data.data.break_in_inspection_no,o=a.data.data.break_in_status;1==r?(t.setState({breakin_flag:1}),""!=l||null!=o&&"0"!=o?(s({inspectionNumber:l,inspection:1}),H()({title:"Breakin",text:"Breakin already raised. \nBreaking number ".concat(l,"."),icon:"warning"})):H()({title:"Breakin",text:"Your Quotation number is ".concat(n.quote_id,". Your vehicle needs inspection. Do you want to raise inspection."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a?t.callBreakin(e&&e.registration_no).then((function(e){s({inspectionNumber:e,inspection:1})})).catch((function(e){c(e)})):t.props.loadingStop()}))):s({inspectionNumber:"",inspection:2})})).catch((function(e){t.setState({breakin_flag:1}),t.props.loadingStop()}))}else s({inspectionNumber:"",inspection:0})}else s({inspectionNumber:"",inspection:0})}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("miscd/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),w.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),w.a.post("send-payment-link",e).then((function(e){H()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,paymentButton:!1,smsButton:!0,fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,paymentgateway:[],policyHolder_refNo:A.a.parse(t.props.location.search).access_id?A.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){!0===e?this.setState({show:!1,paymentButton:!0,smsButton:!1}):this.setState({show:!1,paymentButton:!1,smsButton:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show),r=a.fulQuoteResp,l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber),c=a.paymentStatus,g=a.relation,b=a.memberdetails,N=a.paymentgateway,S=a.nomineedetails,w=a.vehicleDetails,k=a.breakin_flag,C=a.step_completed,P=a.paymentButton,D=a.smsButton,I=a.bcMaster,B=(a.menumaster,a.request_data),A=this.props.match.params.productId,x=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null,R=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(E.a,null))),C>="4"&&"18"==w.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumMisd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},R.SBIGICL),i.a.createElement(h.e,{initialValues:F,onSubmit:this.handleSubmit},(function(a){var n=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(h.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,R.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,x),i.a.createElement("h5",null,H),i.a.createElement("h4",null,R.PolRefNumber," ",r.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.start_date?L()(B.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.end_date?L()(B.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},w&&w.vehicletype?w.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium?r.DuePremium:0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.BeforeVatPremium?Math.round(r.BeforeVatPremium):0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.TGST?Math.round(r.TGST):0)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.varient?w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.fuel_type?O.a[parseInt(w.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.body_style?w.varientmodel.body_style:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.HorsePower)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement("strong",null,"Owner Details "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,R.Name,":"):i.a.createElement(u.a,null,R.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(L()().diff(b.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?L()(b.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==b.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S?S.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.dob?Math.floor(L()().diff(S.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},S&&g.map((function(e,a){return e.id==S.relation_with?i.a.createElement(u.a,{key:a},e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&"m"==S.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&S&&"1"==S.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.appointee_name?S.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},S&&S.appointee_relation_with&&g.map((function(e,a){return e.id==S.appointee_relation_with?i.a.createElement(u.a,{key:a},e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),r.QuotationNo&&0==k?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},R.SelectPayGateway,N&&N.length>0?N.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",null,i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:n.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,A)},R.Back),I&&1==I.eligible_for_payment_link&&0==k?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",R.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,!0===D&&0==k?i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.handleModal.bind(e)},R.SendSMS):null,r.QuotationNo&&0==k&&""!=n.gateway&&!0===P?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))})),i.a.createElement(_.a,{className:"",bsSize:"md",show:n,onHide:this.handleClose},i.a.createElement("div",{className:"otpmodal"},i.a.createElement(_.a.Header,{closeButton:!0}),i.a.createElement(_.a.Body,null,i.a.createElement(M,{quoteNo:r.QuotationNo,duePremium:r.DuePremium,refNumber:s,reloadPage:function(a){return e.handleOtp(a)}}))))):""==C?"Forbidden":null,i.a.createElement(y.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(q))},1344:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(910),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(38),N=t(19),S=t(22),w=t(7),k=t(9),C=t(1),P={otp:"",appCodeRadio:"1"},D=C.object().shape({appCodeRadio:C.number().required("Please select one option"),otp:C.string().when(["appCodeRadio"],{is:function(e){return"1"==e},then:C.string().required("Please enter policy App Code").matches(/^[0-9]*$/,(function(){return"Invalid App code"})).min(6,(function(){return"App code should be minimum 6 characters"})).max(6,(function(){return"App code should be maximum 6 characters"})),otherwise:C.string()})}),I=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={otp:"",errorMsg:"",seconds:180,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r=Number(a.otp),l={policy_ref_no:e.props.refNumber,app_code:r},o=new k.a;n.append("enc_data",o.encrypt(JSON.stringify(l))),w.a.post("verify-appcode",n).then((function(a){var n=JSON.parse(o.decrypt(a.data));console.log("decrypt",n),0==n.error?(e.setState({errorMsg:""}),t.setSubmitting(!1),e.props.reloadPage(!0)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.msg})),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.generateOtp=function(){e.props.loadingStart();new FormData;var a=new k.a;e.setState({seconds:180,errorMsg:""}),w.a.get("sent-appcode/".concat(e.props.refNumber)).then((function(t){JSON.parse(a.decrypt(t.data));e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e.changeError=function(){e.setState({errorMsg:""})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp()}},{key:"render",value:function(){var e=this,a=this.state,t=a.otp,n=a.errorMsg;a.seconds,Object.assign(P,{otp:""});return i.a.createElement(h.e,{initialValues:P,onSubmit:this.checkOtp,validationSchema:D},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting),m=a.touched;return e.state.disable=!0,""!=r.otp1&&""!=r.otp2&&""!=r.otp3&&""!=r.otp4&&""!=r.otp5&&(e.state.disable=!1),i.a.createElement(h.d,null,i.a.createElement("div",{className:"text-center boxotpmodl"},i.a.createElement("div",{className:"verfy"},"Digital consent form"),i.a.createElement("div",{className:"mobotp"},"An automated SMS & e-mail has been sent to customer with a Policy App code and Proposal link."),i.a.createElement("span",{className:"errorMsg"},t),i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"appCodeRadio",value:"1",key:"1",checked:"1"==r.appCodeRadio,onChange:function(){s("appCodeRadio"),o("appCodeRadio","1")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Call customer and enter Policy App Code")),l.appCodeRadio&&m.appCodeRadio?i.a.createElement("span",{className:"errorMsg"},l.appCodeRadio):null)),"1"==r.appCodeRadio?i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"otp",type:"text",autoComplete:"off",className:"premiumslid",value:r.otp,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){e.changeError(),o("otp",a.target.value)},tabIndex:"1",maxLength:"6"}),l.otp&&m.otp?i.a.createElement("span",{className:"errorMsg"},l.otp):null,n?i.a.createElement("span",{className:"errorMsg"},n):null)):null,i.a.createElement("div",{className:"text-center"},i.a.createElement(p.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"ReGenerate App code"),"\xa0\xa0",i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},c?"Wait..":"Submit"))))}))}}]),t}(c.Component),M=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(I)),B=t(37),A=t.n(B),O=t(61),x=t(20),H=t.n(x),R=t(3),L=t.n(R),j=t(97),F={gateway:""},q=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_PCV/".concat(e))},t.handleModal=function(){t.setState({show:!0})},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(j.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("pcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,bcMaster:m,menumaster:d,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder&&n.data.policyHolder.request_data.nominee?n.data.policyHolder.request_data.nominee[0]:[]}),t.getAccessToken(r,o)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("pcv/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.callBreakin=function(e){for(var a=new FormData,n=new k.a,r=e,l=r.length,o="",s=r.substring(0,1),c=0;c<=14;c++)s=o+r.substring(c,c+1),o=Object(j.d)(s,l);var i=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",m=sessionStorage.getItem("bcLoginData")?sessionStorage.getItem("bcLoginData"):"";m&&(m=JSON.parse(n.decrypt(m))),a.append("bcmaster_id",sessionStorage.getItem("csc_id")?"5":m?m.agent_id:""),a.append("ref_no",i),a.append("registrationNo",o),a.append("page_name","Premium_PCV/".concat(t.props.match.params.productId)),console.log("product_id=====",t.props.match.params.productId),t.props.loadingStart(),w.a.post("breakin/create",a).then((function(e){console.log("insep===",e.data),H()("Your breakin request has been raised. Your inspection Number: ".concat(e.data.data.inspection_no)),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.getAccessToken=function(e,a){w.a.post("/callTokenService").then((function(n){t.setState({accessToken:n.data.access_token}),t.fullQuote(n.data.access_token,e,a)})).catch((function(e){t.setState({accessToken:""}),t.props.loadingStop()}))},t.fullQuote=function(e,a,n){var r=new FormData,l=new k.a,o=t.state,s=o.previousPolicy,c=o.request_data,i=o.policyHolder,m=0,d=a.trailers?a.trailers:null;d=d?JSON.parse(d):[];var u=a&&a.policytype_id?a.policytype_id:"",p=a.policytype_id&&"1"==a.policytype_id?"0":a.valid_previous_policy,_={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",access_token:e,id:localStorage.getItem("policyHolder_id"),idv_value:a.idv_value?a.idv_value:"0",policy_type:a.policy_type,add_more_coverage:a.add_more_coverage,body_idv_value:t.state.request_data.VehicleBodyPrice?t.state.request_data.VehicleBodyPrice:"0",PA_Cover:a&&a.pa_cover?a.pa_cover:"0",coverage_data:a&&null!=a.add_more_coverage_request_json?a.add_more_coverage_request_json:"",trailer_array:d,userIdvStatus:1,bodyIdvStatus:1};r.append("enc_data",l.encrypt(JSON.stringify(_))),w.a.post("pcv/full-quote",r).then((function(e){if(e.data.PolicyObject?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.ValidateResult?H()(e.data.ValidateResult.message):(t.setState({fulQuoteResp:[],error:e.data}),H()(e.data.msg)),t.props.loadingStop(),s&&"Vehicle Recommended and Reports Uploaded"!=i.break_in_status||"3"==u&&"Vehicle Recommended and Reports Uploaded"!=i.break_in_status||"0"==p&&"2"==u&&"Vehicle Recommended and Reports Uploaded"!=i.break_in_status){m=s?Math.floor(L()().diff(s.end_date,"days",!0)):"";var r=s?s.name:"",l=n&&n.varientmodel?n.varientmodel.carrying:"",o=n&&n.varientmodel?n.varientmodel.wheels:"";if((m>0||"2"==r||"3"==u||"0"==p)&&!(3==o&&l<=4)){var d=new FormData,_=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0";d.append("policy_ref_no",_),w.a.post("breakin/checking",d).then((function(e){var n=e.data.data.break_in_checking,r=e.data.data.break_in_inspection_no,l=e.data.data.break_in_status;1==n&&(t.setState({breakin_flag:1}),""!=r||null!=l&&"0"!=l?H()({title:"Breakin",text:"Breakin already raised. \nBreaking number ".concat(r,"."),icon:"warning"}):H()({title:"Breakin",text:"Your Quotation number is ".concat(c.quote_id,". Your vehicle needs inspection. Do you want to raise inspection."),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?t.callBreakin(a&&a.registration_no):t.props.loadingStop()})))})).catch((function(e){t.setState({breakin_flag:1}),t.props.loadingStop()}))}}})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),w.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),w.a.post("send-payment-link",e).then((function(e){H()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,paymentButton:!1,smsButton:!0,fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:A.a.parse(t.props.location.search).access_id?A.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){!0===e?this.setState({show:!1,paymentButton:!0,smsButton:!1}):this.setState({show:!1,paymentButton:!1,smsButton:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show),r=a.fulQuoteResp,l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber),c=a.paymentStatus,g=a.relation,b=a.memberdetails,N=a.paymentgateway,S=a.nomineedetails,w=a.vehicleDetails,k=a.breakin_flag,C=a.step_completed,P=a.paymentButton,D=a.smsButton,I=a.bcMaster,B=(a.menumaster,a.request_data),A=this.props.match.params.productId;console.log("seating",w&&w.varientmodel);var x=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null,R=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(E.a,null))),C>="4"&&"1"==w.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumMisd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},R.SBIGICL),i.a.createElement(h.e,{initialValues:F,onSubmit:this.handleSubmit},(function(a){var n=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(h.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,R.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,x),i.a.createElement("h5",null,H),i.a.createElement("h4",null,R.PolRefNumber," ",r.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.start_date?L()(B.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.end_date?L()(B.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},w&&w.vehicletype?w.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium?r.DuePremium:0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.BeforeVatPremium?Math.round(r.BeforeVatPremium):0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.TGST?Math.round(r.TGST):0)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.varient?w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.fuel_type?O.a[parseInt(w.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.bodystyle&&w.varientmodel.bodystyle.DESCRIPTION?w.varientmodel.bodystyle.DESCRIPTION:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.HorsePower)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement("strong",null,"Owner Details "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,R.Name,":"):i.a.createElement(u.a,null,R.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(L()().diff(b.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?L()(b.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==b.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S?S.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.dob?Math.floor(L()().diff(S.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},S&&g.map((function(e,a){return e.id==S.relation_with?i.a.createElement(u.a,{key:a},e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&"m"==S.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&S&&"1"==S.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.appointee_name?S.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},S&&S.appointee_relation_with&&g.map((function(e,a){return e.id==S.appointee_relation_with?i.a.createElement(u.a,{key:a},e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),r.QuotationNo&&0==k?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},R.SelectPayGateway,N&&N.length>0?N.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",{key:a},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:n.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,A)},R.Back),I&&1==I.eligible_for_payment_link&&0==k?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",R.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,!0===D&&0==k?i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.handleModal.bind(e)},R.SendSMS):null,r.QuotationNo&&0==k&&""!=n.gateway&&!0===P?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))})),i.a.createElement(_.a,{className:"",bsSize:"md",show:n,onHide:this.handleClose},i.a.createElement("div",{className:"otpmodal"},i.a.createElement(_.a.Header,{closeButton:!0}),i.a.createElement(_.a.Body,null,i.a.createElement(M,{quoteNo:r.QuotationNo,duePremium:r.DuePremium,refNumber:s,reloadPage:function(a){return e.handleOtp(a)}}))))):""==C?"Forbidden":null,i.a.createElement(y.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(q))},1345:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(1008),u=t(903),p=t(904),_=t(1007),g=t(22),f=t(19),h=t(38),v=(t(7),function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={doc_list:[{id:"1",product:"ClaimIntimation",image:"Miscellaneous-car.svg"},{id:"2",product:"ClaimStatus",image:"Miscellaneous-car.svg"}]},e.dload_doc=function(a){"".concat("https://uatcld.sbigeneral.in/sbig-bc","/core/public/pdf_files/");"1"==a?window.open("https://www.sbigeneral.in/portal/claim/claims-intimation"):"2"==a&&e.props.history.push("/ClaimStatus")},e.downloadDoc=function(e,a){var t=document.createElement("a");t.href=e+a,t.target="_blank",t.click()},e.getPolicyList=function(){localStorage.removeItem("policyHolder_id"),localStorage.removeItem("policyHolder_refNo"),localStorage.removeItem("display_gender"),sessionStorage.removeItem("pan_data"),sessionStorage.removeItem("email_data"),sessionStorage.removeItem("proposed_insured"),sessionStorage.removeItem("display_looking_for"),sessionStorage.removeItem("display_dob"),localStorage.removeItem("newBrandEdit"),localStorage.removeItem("brandEdit"),localStorage.removeItem("registration_number"),localStorage.removeItem("policy_type"),localStorage.removeItem("check_registration")},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getPolicyList()}},{key:"render",value:function(){var e=this,a=this.state.doc_list,t=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement("div",{className:"tablecontent"},a.length>0?c.a.createElement("table",null,c.a.createElement("tbody",null,a.map((function(a,n){return c.a.createElement("tr",{key:n},c.a.createElement("td",{className:"W-70"},t[a.product]),c.a.createElement("td",{className:"W-10 text-right"}," ",c.a.createElement("button",{className:"buy",onClick:e.dload_doc.bind(e,a.id)},t.Go)))})))):null)))}}]),t}(s.Component)),E=Object(h.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(v)),y=t(40),b=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={product_id:""},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("product_id");this.setState({product_id:e})}},{key:"render",value:function(){var e=this.state.product_id,a=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return console.log("product_id",e),c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("section",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"flex-fill w-100"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("div",{className:"messageDeskSec"},c.a.createElement(d.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement(_.a,{variant:"pills",className:"flex-column"},c.a.createElement("div",{className:"d-flex justify-content-left messageDeskTab"},c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"first"},a.ClaimModule)))))),c.a.createElement(p.a,{sm:12},c.a.createElement(d.a.Content,null,c.a.createElement(d.a.Pane,{eventKey:"first"},c.a.createElement(E,{tabId:"1"}),c.a.createElement(y.a,null)))))))))))))))}}]),t}(s.Component);a.default=Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(b)},1346:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(18),o=t(17),s=t(0),c=t.n(s),i=t(31),m=t(34),d=t(1008),u=t(903),p=t(904),_=t(1007),g=t(22),f=t(19),h=t(51),v=t.n(h),E=t(72),y=t(15),b=t(913),N=t(377),S=t(41),w=t.n(S),k=t(40),C=t(7),P=t(38),D=(t(3),t(1)),I=t(20),M=t.n(I),B=t(9),A=t(2),O=(t(919),t(988),{makeEndorsement:[],email_id:"",mobile_no:"",product_category:"",product:"",policy_no:"",endorsement_type:"",endorsement_sub_type:"",Old_values:"",Document_List:[],upload_count:0}),x=D.object().shape({makeEndorsement:D.array().of(D.object().shape({New_values:D.string().required("This field is required").test("validation_rules",(function(){return"Invalid Input"}),(function(e){if(!e||""==e&&void 0==e)return!1;var a=new RegExp(this.parent.validation_rules);return!("at"!=this.parent.validation_rules&&!e.match(a))}))})),additionalEndorsement:D.array().of(D.object().shape({add_endorsement_sub_type:D.string().required("This field is required"),add_endorsement_type:D.string().required("This field is required"),addEndorsementInitValues:D.array().of(D.object().shape({add_endorsement_new_value:D.string().required("This field is required").test("validation_rules",(function(){return"Invalid Input"}),(function(e){if(!e||""==e&&void 0==e)return!1;var a=new RegExp(this.parent.add_endorsement_validation_rules);return!("at"!=this.parent.add_endorsement_validation_rules&&!e.match(a))}))}))})),email_id:D.string().email().required("This field is required").min(8,(function(){return"Min 8 characters required"})).max(75,(function(){return"Max 75 characters required"})).matches(/^[a-zA-Z0-9]+([._\-]?[a-zA-Z0-9]+)*@\w+([-]?\w+)*(\.\w{2,3})+$/,"Invalid Email"),mobile_no:D.string().matches(/^[6-9][0-9]{9}$/,"Invalid mobile number").required("This field is required"),product_category:D.string().required("This field is required"),product:D.string().required("This field is required"),policy_no:D.string().required("This field is required"),endorsement_type:D.string().required("This field is required"),endorsement_sub_type:D.string().required("This field is required"),fileData:D.array().of(D.object().shape({fileSize:D.string().test("filesize",(function(){return"Max file size below 2MB"}),(function(e){return!(e&&e.size>2097152)})),fileName:D.string().test("type",(function(){return"Only Jpeg, Jpg, Png, Pdf file format is allowed"}),(function(e){if(console.log("test Value ------------- ",e),e){var a=e.split(".").pop();return"jpeg"===a||"JPEG"===a||"png"===a||"PNG"===a||"pdf"===a||"jpg"===a||"JPG"===a}return!0}))}))}),H=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).check=0,e.maxDate=new Date,e.field_check=!1,e.state={product_category_list:[],product_list:[],request_receive_date:[],selectedFile:[],selectedFileName:[],endorsement_info_id:"",endorsement_data_id:"",product_endorsement_list:"",endorsement_sub_type_list:"",endorsementfields:{},addEndorsementFields:[],additionalEndorsement_sub_type_list:[],endorsement_array:[],type2_info_id:"",count:0,add_endorsement_received_date:[],Document_List:[],endorsementValidationRules:[],addEndorsementValidationRules:[]},e.forwardNextPage=function(){e.props.history.push("/AdditionalDetails_GSB/".concat(e.props.match.params.productId))},e.getProductCategoryList=function(){e.props.loadingStart(),C.a.get("/dyi-endorsement/product-category-list").then((function(a){if(0==a.data.error){var t=a.data.data.product_categories?a.data.data.product_categories:[];e.setState({product_category_list:t})}e.props.loadingStop()})).catch((function(a){e.setState({product_category_list:[]}),e.props.loadingStop()}))},e.getProductList=function(a){var t=new FormData,n=new B.a,r=sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):"";r.user&&(r=JSON.parse(n.decrypt(r.user))),t.append("product_category_id",a),t.append("user_id",r.bc_master_id),4==r.login_type?5==r.bc_master_id?t.append("user_type","csc"):(t.append("user_type","bc"),t.append("agent_id",r.user_name)):t.append("user_type",r.user_type),e.props.loadingStart(),C.a.post("dyi-endorsement/product-list",t).then((function(a){if(0==a.data.error){var t=a.data.data.products?a.data.data.products:[];e.setState({product_list:t,endorsement_info_id:a.data.data.endorsementinfo_id,endorsement_data_id:a.data.data.endrosment_data_id})}e.props.loadingStop()})).catch((function(a){e.setState({product_category_list:[]}),e.props.loadingStop()}))},e.getEndorsementSubtypeList=function(a){console.log("max date=",e.maxDate.toLocaleString());var t=new FormData;t.append("endrosment_data_id",e.state.endorsement_data_id),t.append("endorsementinfo_id",e.state.endorsement_info_id),t.append("product_endorsement_id",a),t.append("additional_index",0),t.append("type",1),e.props.loadingStart(),C.a.post("dyi-endorsement/endorsement-value",t).then((function(a){var t=a.data.data.endorsement_field_value,n=[];console.log("list",t);for(var r=0;r<t.length;r++){for(var l=0,o=r+1;o<t.length;o++)if(t[r].Sub_Type==t[o].Sub_Type){l=1;break}0==l&&n.push(t[r])}console.log("final_list==",n),e.setState(Object(y.a)(Object(y.a)({},e.state),{},{endorsement_sub_type_list:n})),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getEndorsmentList=function(a){var t=new FormData;t.append("endorsementinfo_id",e.state.endorsement_info_id),t.append("product_id",a),e.props.loadingStart(),C.a.post("dyi-endorsement/endorsement-type-list",t).then((function(a){e.setState(Object(y.a)(Object(y.a)({},e.state),{},{product_endorsement_list:a.data.data.product_endorsement_list})),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getAddEndorsementFields=function(a,t,n,r,l,o,s){var c=new FormData,i=e.state,m=i.addEndorsementFields,d=i.addEndorsementValidationRules;c.append("endorsementinfo_id",e.state.type2_info_id),c.append("endrosment_data_id",e.state.endorsement_data_id),c.append("field_id",a),c.append("policy_number",t.policy_no),e.props.loadingStart(),C.a.post("dyi-endorsement/fields",c).then((function(a){0==a.data.error?(e.field_check=!0,m[s]=a.data.data.fields,d[s]=a.data.data.validation_rules?a.data.data.validation_rules:[],e.initAddClaimDetailsList(t,l,o,a.data.data.fields,s,d)):(e.field_check=!1,M()("Invalid Policy no")),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.getEndorsementFields=function(a,t,n,r){var l=new FormData;l.append("endorsementinfo_id",e.state.endorsement_info_id),l.append("endrosment_data_id",e.state.endorsement_data_id),l.append("field_id",a),l.append("policy_number",t.policy_no),e.props.loadingStart(),C.a.post("dyi-endorsement/fields",l).then((function(a){if(0==a.data.error){e.field_check=!0;var l=a.data.data.Document_List;e.setState({endorsementfields:a.data.data.fields,Document_List:l.split("/"),upload_count:a.data.data.upload_count,endorsementValidationRules:a.data.data.validation_rules}),e.props.loadingStop(),e.initEndorsementUpdate(t,n,r,a.data.data.fields,a.data.data.validation_rules)}else e.field_check=!1,M()("Invalid Policy no"),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.makeAddEndorsementOldField=function(a,t,n,r,l,o){var s=[];e.state.addEndorsementFields;return s.push(c.a.createElement(b.a,{key:"oldAdd".concat(o)},c.a.createElement(A.b,{name:"additionalEndorsement[".concat(o,"]add_endorsement_old_value"),type:"text",autoComplete:"off",placeholder:"Additional Old Values",className:"formGrp inputfs12",onChange:function(e){l("additionalEndorsement[".concat(o,"]add_endorsement_old_value"),e.target.value)}}),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].add_endorsement_old_value&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].add_endorsement_old_value?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].add_endorsement_old_value):null)),s},e.makeAddEndorsementNewField=function(a,t,n,r,l,o){var s=[],i=e.state.addEndorsementFields;return console.log("1=",i),i&&i[o]&&Object.keys(i[o]).map((function(r,m){s.push(i[o][r].includes("Date")||i[o][r].includes("DOB")?c.a.createElement(b.a,{key:"newAdd".concat(m)},c.a.createElement(w.a,{name:"additionalEndorsement[".concat(o,"]addEndorsementInitValues[").concat(m,"]add_endorsement_new_value"),placeholderText:"Additional New ".concat(i[o][r]),dateFormat:"dd MMM yyyy",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(e.maxDate.toLocaleString()),className:"datePckr",selected:a.additionalEndorsement&&a.additionalEndorsement[o]&&a.additionalEndorsement[o].addEndorsementInitValues&&a.additionalEndorsement[o].addEndorsementInitValues[m]&&a.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value,onChange:function(e){l("additionalEndorsement[".concat(o,"]addEndorsementInitValues[").concat(m,"]add_endorsement_new_value"),e)}}),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].addEndorsementInitValues&&t.additionalEndorsement[o].addEndorsementInitValues[m]&&t.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].addEndorsementInitValues&&n.additionalEndorsement[o].addEndorsementInitValues[m]&&n.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value):null):c.a.createElement(b.a,{key:"newAdd".concat(m)},c.a.createElement(A.b,{name:"additionalEndorsement[".concat(o,"]addEndorsementInitValues[").concat(m,"]add_endorsement_new_value"),type:"text",autoComplete:"off",placeholder:"Additional New ".concat(i[o][r]),className:"formGrp inputfs12",onChange:function(e){l("additionalEndorsement[".concat(o,"]addEndorsementInitValues[").concat(m,"]add_endorsement_new_value"),e.target.value)}}),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].addEndorsementInitValues&&t.additionalEndorsement[o].addEndorsementInitValues[m]&&t.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].addEndorsementInitValues&&n.additionalEndorsement[o].addEndorsementInitValues[m]&&n.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].addEndorsementInitValues[m].add_endorsement_new_value):null))})),s},e.makeEndorsementOldField=function(a,t,n,r,l){var o=[];e.state.endorsementfields;return o.push(c.a.createElement(b.a,{key:"old0"},c.a.createElement(A.b,{name:"Old_values",type:"text",autoComplete:"off",placeholder:"Old Value",className:"formGrp inputfs12",onChange:function(e){l("Old_values",e.target.value)}}),t.Old_values&&n.Old_values?c.a.createElement("span",{className:"errorMsg"},t.Old_values):null)),o},e.makeEndorsementNewField=function(a,t,n,r,l){var o=[],s=e.state,i=s.endorsementfields;s.endorsementValidationRules;return i&&Object.keys(i).map((function(r,s){console.log("field1==",i[r]),o.push(i[r].includes("Date")||i[r].includes("DOB")?c.a.createElement(b.a,{key:"new".concat(s)},c.a.createElement(w.a,{name:"makeEndorsement[".concat(s,"].New_values"),placeholderText:"New ".concat(i[r]),dateFormat:"dd MMM yyyy",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date(e.maxDate.toLocaleString()),className:"datePckr",selected:a.makeEndorsement&&a.makeEndorsement[s]&&a.makeEndorsement[s].New_values,onChange:function(e){l("makeEndorsement[".concat(s,"].New_values"),e),console.log("1",a.makeEndorsement[s].New_values)}}),t.makeEndorsement&&t.makeEndorsement[s]&&t.makeEndorsement[s].New_values&&n.makeEndorsement&&n.makeEndorsement[s]&&n.makeEndorsement[s].New_values?c.a.createElement("span",{className:"errorMsg"},t.makeEndorsement[s].New_values):null):c.a.createElement(b.a,{key:"new".concat(s)},c.a.createElement(A.b,{name:"makeEndorsement[".concat(s,"].New_values"),type:"text",autoComplete:"off",placeholder:"New ".concat(i[r]),className:"formGrp inputfs12",onChange:function(e){l("makeEndorsement[".concat(s,"].New_values"),e.target.value)}}),t.makeEndorsement&&t.makeEndorsement[s]&&t.makeEndorsement[s].New_values&&n.makeEndorsement&&n.makeEndorsement[s]&&n.makeEndorsement[s].New_values?c.a.createElement("span",{className:"errorMsg"},t.makeEndorsement[s].New_values):null))})),o},e.initEndorsementUpdate=function(){var e=Object(E.a)(v.a.mark((function e(a,t,n,r,l){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],r&&l&&Object.keys(r).map((function(e,a){var t=l[e].length;o.push({New_values:"",validation_rules:l[e].substring(2,t-2)})})),n("makeEndorsement",o);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n,r,l){return e.apply(this,arguments)}}(),e.initAddClaimDetailsList=function(e,a,t,n,r,l){t("additionalEndorsement[".concat(r,"]add_endorsement_old_value"),""),n&&l&&Object.keys(n).map((function(e,a){var n=l[r][e].length;t("additionalEndorsement[".concat(r,"]addEndorsementInitValues[").concat(a,"]add_endorsement_new_value"),""),t("additionalEndorsement[".concat(r,"]addEndorsementInitValues[").concat(a,"]add_endorsement_validation_rules"),l[r][e].substring(2,n-2))}))},e.onFileChange=function(){var a=Object(E.a)(v.a.mark((function a(t,n,r,l){var o,s,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("fileSize ================== ",t),!t[0]||""===t[0].name){a.next=15;break}if(0,o=t[0].size,n("fileData[".concat(0,"]fileSize"),o),n("fileData[".concat(0,"]fileName"),t[0].name),!(o<=2097152)){a.next=13;break}s=t[0],c=t[0].name,e.state.selectedFile[0]=s,e.state.selectedFileName[0]=c,a.next=15;break;case 13:return a.next=15,e.setState({selectedFile:[],selectedFileName:[]});case 15:case"end":return a.stop()}}),a)})));return function(e,t,n,r){return a.apply(this,arguments)}}(),e.upload=function(){var a=new FormData;a.append("endorsementinfo_id",e.state.endorsement_info_id),a.append("endrosment_data_id",e.state.endorsement_data_id),Object.keys(e.state.selectedFile).map((function(t,n){a.append("attachment_file[".concat(n,"]"),e.state.selectedFile[t])})),e.props.loadingStart(),C.a.post("dyi-endorsement/document",a).then((function(a){M()(a.data.msg),e.props.loadingStop()})).catch((function(a){M()("Unable to upload"),e.props.loadingStop()}))},e.getAddEndorsementSubTypeList=function(a,t,n,r,l,o,s){var c=e.state.additionalEndorsement_sub_type_list,i=new FormData;i.append("endrosment_data_id",e.state.endorsement_data_id),i.append("endorsementinfo_id",e.state.endorsement_info_id),i.append("product_endorsement_id",a),i.append("additional_index",s+1),i.append("type",2),e.props.loadingStart(),C.a.post("dyi-endorsement/endorsement-value",i).then((function(a){c[s]=a.data.data.endorsement_field_value,e.setState({type2_info_id:a.data.data.new_endorsement_info}),e.additionalEndorsement(t,n,r,l,o),e.props.loadingStop()})).catch((function(a){e.props.loadingStop()}))},e.handleSubmit=function(a,t){var n=new FormData;n.append("user_email",a.email_id),n.append("user_mobile",a.mobile_no),n.append("endorsementdata_id",e.state.endorsement_data_id);var r=[];a.makeEndorsement&&a.makeEndorsement.length>0&&a.makeEndorsement.map((function(e,a){r.push(e.New_values)})),n.append("new_endrosment_values",JSON.stringify(r)),n.append("old_endrosment_values",a.Old_values),a.additionalEndorsement&&a.additionalEndorsement.length>0&&a.additionalEndorsement.map((function(e,a){var t=[];e.addEndorsementInitValues&&e.addEndorsementInitValues.length>0&&e.addEndorsementInitValues.map((function(e,a){t.push(e.add_endorsement_new_value)})),n.append("new_additional_endrosment_values[".concat(a,"]"),JSON.stringify(t)),n.append("old_additional_endrosment_values[".concat(a,"]"),e.add_endorsement_old_value)})),e.props.loadingStart(),1==e.field_check?C.a.post("dyi-endorsement/create",n).then((function(a){0==a.data.error?(M()({title:a.data.msg,text:"Serial number: "+a.data.data.sr_no,icon:"success",dangerMode:!1}).then((function(a){a&&(t.setSubmitting(!1),t.resetForm(!0),e.setState({product_category_list:[],addEndorsementFields:[],endorsementfields:[]}),e.props.history.push("/ViewEndorsement"))})),e.props.loadingStop()):(M()(a.data.msg),e.props.loadingStop())})).catch((function(a){e.props.loadingStop()})):(M()("Policy No Invalid"),e.props.loadingStop())},e.endorsement=function(a,t,n,r,l,o){var s=[],i=e.state,m=i.endorsementfields,d=i.endorsement_sub_type_list,p=i.product_endorsement_list;return s.push(c.a.createElement(b.a,{key:2},c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Endorsement Type:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"endorsement_type",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:a.endorsement_type,onChange:function(a){e.getEndorsementSubtypeList(a.target.value),l("endorsement_type",a.target.value),r("endorsement_type")}},c.a.createElement("option",{value:""},"List Of Endorsement Type "),p&&p.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.endorsement_type_name)}))),t.endorsement_type&&n.endorsement_type?c.a.createElement("span",{className:"errorMsg"},t.endorsement_type):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Endorsement Sub type:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"endorsement_sub_type",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:a.endorsement_sub_type,onChange:function(t){e.getEndorsementFields(t.target.value,a,r,l),l("endorsement_sub_type",t.target.value),r("endorsement_sub_type")}},c.a.createElement("option",{value:""},"List Of Endorsement Sub Type "),d&&d.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.Sub_Type)}))),t.endorsement_sub_type&&n.endorsement_sub_type?c.a.createElement("span",{className:"errorMsg"},t.endorsement_sub_type):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Request Receive Date:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(w.a,{name:"endorsement_received_date",dateFormat:"dd MMM yyyy",placeholderText:"Request Receive Date",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr",disabled:!0,selected:new Date,onChange:function(e){r("endorsement_received_date"),l("endorsement_received_date",e)}}),t.endorsement_received_date?c.a.createElement("span",{className:"errorMsg"},t.endorsement_received_date):null))),m&&Object.keys(m).length>0?c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Old Value:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},e.makeEndorsementOldField(a,t,n,r,l)))):null,m&&Object.keys(m).length>0?c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"New Value:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},e.makeEndorsementNewField(a,t,n,r,l)))):null)),s},e.additionalEndorsement=function(a,t,n,r,l){for(var o=e.state,s=o.addEndorsementFields,i=o.add_endorsement_received_date,m=o.count,d=o.product_endorsement_list,p=o.additionalEndorsement_sub_type_list,_=[],g=function(o){_.push(c.a.createElement(b.a,{key:o},c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Endorsement Type:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"additionalEndorsement[".concat(o,"].add_endorsement_type"),component:"select",autoComplete:"off",className:"formGrp inputfs12",onChange:function(s){l("additionalEndorsement[".concat(o,"].add_endorsement_type"),s.target.value),e.getAddEndorsementSubTypeList(s.target.value,a,t,n,r,l,o)}},c.a.createElement("option",{value:""},"List Of Endorsement Type "),d&&d.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.endorsement_type_name)}))),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].add_endorsement_type&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].add_endorsement_type?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].add_endorsement_type):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Endorsement Sub type:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"additionalEndorsement[".concat(o,"].add_endorsement_sub_type"),component:"select",autoComplete:"off",className:"formGrp inputfs12",onChange:function(s){l("additionalEndorsement[".concat(o,"].add_endorsement_sub_type"),s.target.value),e.getAddEndorsementFields(s.target.value,a,t,n,r,l,o)}},c.a.createElement("option",{value:""},"List Of Endorsement Sub Type "),p&&p[o]&&p[o].map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.Sub_Type)}))),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].add_endorsement_sub_type&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].add_endorsement_sub_type?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].add_endorsement_sub_type):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Request Receive Date:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(w.a,{name:"additionalEndorsement[".concat(o,"].add_endorsement_received_date"),dateFormat:"dd MMM yyyy",placeholderText:"Request Receive Date",peekPreviousMonth:!0,peekPreviousYear:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"datePckr",disabled:!0,selected:new Date,onChange:function(e){i[o]=e,r("additionalEndorsement[".concat(o,"].add_endorsement_received_date")),l("additionalEndorsement[".concat(o,"].add_endorsement_received_date"),e)}}),t.additionalEndorsement&&t.additionalEndorsement[o]&&t.additionalEndorsement[o].add_endorsement_received_date&&n.additionalEndorsement&&n.additionalEndorsement[o]&&n.additionalEndorsement[o].add_endorsement_received_date?c.a.createElement("span",{className:"errorMsg"},t.additionalEndorsement[o].add_endorsement_received_date):null))),s&&s[o]&&Object.keys(s[o]).length>0?c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Old Value:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},e.makeAddEndorsementOldField(a,t,n,r,l,o)))):null,s&&s[o]&&Object.keys(s[o]).length>0?c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"New Value:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},e.makeAddEndorsementNewField(a,t,n,r,l,o)))):null))},f=0;f<m;f++)g(f);return _},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.getProductCategoryList()}},{key:"render",value:function(){var e=this,a=this.state,t=a.product_category_list,n=a.product_list,r=a.count,l=a.Document_List,o=(a.upload_count,a.endorsementValidationRules,a.addEndorsementValidationRules,Object.assign(O,{makeEndorsement:[],additionalEndorsement:[]}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("section",{className:"brand"},c.a.createElement("div",{className:"boxpd"},c.a.createElement(A.e,{initialValues:o,onSubmit:this.handleSubmit,validationSchema:x},(function(a){var o=a.values,s=a.errors,i=a.setFieldValue,m=a.setFieldTouched,d=(a.isValid,a.isSubmitting,a.touched);return console.log("values ---------- ",o),c.a.createElement(A.d,null,c.a.createElement("div",{className:"brandhead"},c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Email Address:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"email_id",type:"text",autoComplete:"off",placeholder:"Email Address",className:"formGrp inputfs12",value:o.email_id}),s.email_id&&d.email_id?c.a.createElement("span",{className:"errorMsg"},s.email_id):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Mobile Number:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"mobile_no",type:"text",autoComplete:"off",placeholder:"Mobile Number",className:"formGrp inputfs12",maxLength:"10",value:o.mobile_no}),s.mobile_no&&d.mobile_no?c.a.createElement("span",{className:"errorMsg"},s.mobile_no):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Product Category:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"product_category",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.product_category,onChange:function(a){e.getProductList(a.target.value),i("product_category",a.target.value)}},c.a.createElement("option",{value:""},"Select product category"),t&&t.map((function(e,a){return c.a.createElement("option",{value:e.id,key:e.id}," ",e.category_name)}))),s.product_category&&d.product_category?c.a.createElement("span",{className:"errorMsg"},s.product_category):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Product:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"product",component:"select",autoComplete:"off",className:"formGrp inputfs12",value:o.product,onChange:function(a){e.getEndorsmentList(a.target.value),i("product",a.target.value)}},c.a.createElement("option",{value:""},"Select product "),n&&n.map((function(e,a){return c.a.createElement("option",{value:e.id,key:e.id}," ",e.product_name)}))),s.product&&d.product?c.a.createElement("span",{className:"errorMsg"},s.product):null))),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Policy Number:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"formSection"},c.a.createElement(A.b,{name:"policy_no",type:"text",autoComplete:"off",placeholder:"Policy Number",className:"formGrp inputfs12",value:o.policy_no}),s.policy_no&&d.policy_no?c.a.createElement("span",{className:"errorMsg"},s.policy_no):null))),e.endorsement(o,s,d,m,i),c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Add another endorsement:"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement(N.a,{type:"button",onClick:function(){var a=r+1;e.setState({count:a}),i("newCount",a)}},"+"))),o.newCount>0?e.additionalEndorsement(o,s,d,m,i):null,l&&l.length>0?c.a.createElement(u.a,{className:"row formSection"},c.a.createElement("label",{className:"col-md-3"},"Attach Documents:")):null,l&&l.length>0&&l.map((function(a,t){return c.a.createElement(u.a,{className:"row formSection",key:t},c.a.createElement("label",{className:"col-md-3"},a,":"),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("input",{type:"file",key:t,name:"file",accept:".png, .jpeg, .jpg, .pdf",onChange:function(a){a.target.value.length>0&&e.onFileChange(a.target.files,i,m,t)}}),s.fileData&&s.fileData[t]&&s.fileData[t].fileSize?c.a.createElement("span",{className:"errorMsg"},s.fileData[t].fileSize):null,s.fileData&&s.fileData[t]&&s.fileData[t].fileName?c.a.createElement("span",{className:"errorMsg"},s.fileData[t].fileName):null))})),c.a.createElement(N.a,{className:"proceedBtn",type:"submit"},"Submit"),l&&l.length>0?c.a.createElement(N.a,{type:"button",onClick:function(){return e.upload()}},"Upload Document"):null))}))))))}}]),t}(s.Component),R=Object(P.g)(Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(H)),L=(t(1175),t(1006),function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={product_id:"",tabId:1},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("product_id");this.setState({product_id:e})}},{key:"render",value:function(){var e=this.state;e.product_id,e.tabId,localStorage.getItem("phrases")&&JSON.parse(localStorage.getItem("phrases"));return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-wrapper"},c.a.createElement("section",{className:"d-flex justify-content-left"},c.a.createElement("div",{className:"flex-fill w-100"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("aside",{className:"left-sidebar"},c.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},c.a.createElement(m.a,null))),c.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox"},c.a.createElement("div",{className:"messageDeskSec"},c.a.createElement(d.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},c.a.createElement(u.a,null,c.a.createElement(p.a,{sm:12},c.a.createElement(_.a,{variant:"pills",className:"flex-column"},c.a.createElement("div",{className:"d-flex justify-content-left messageDeskTab"},c.a.createElement("div",null,c.a.createElement(_.a.Item,null,c.a.createElement(_.a.Link,{eventKey:"first"},"Basic Information Endorsement")))))),c.a.createElement(p.a,{sm:12},c.a.createElement(d.a.Content,null,c.a.createElement(d.a.Pane,{eventKey:"first"},c.a.createElement(R,{tabId:"1"}),c.a.createElement(k.a,null)))))))))))))))}}]),t}(s.Component));a.default=Object(g.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(f.a)())},loadingStop:function(){return e(Object(f.b)())}}}))(L)},1347:function(e,a,t){"use strict";t.r(a);var n=t(13),r=t(14),l=t(46),o=t(18),s=t(17),c=t(0),i=t.n(c),m=t(903),d=t(904),u=t(913),p=t(377),_=t(910),g=t(48),f=t.n(g),h=t(2),v=t(31),E=t(34),y=t(40),b=t(38),N=t(19),S=t(22),w=t(7),k=t(9),C=t(1),P={otp:"",appCodeRadio:"1"},D=C.object().shape({appCodeRadio:C.number().required("Please select one option"),otp:C.string().when(["appCodeRadio"],{is:function(e){return"1"==e},then:C.string().required("Please enter policy App Code").matches(/^[0-9]*$/,(function(){return"Invalid App code"})).min(6,(function(){return"App code should be minimum 6 characters"})).max(6,(function(){return"App code should be maximum 6 characters"})),otherwise:C.string()})}),I=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={otp:"",errorMsg:"",seconds:180,disable:!0},e.checkOtp=function(a,t){e.props.loadingStart();var n=new FormData,r=Number(a.otp),l={policy_ref_no:e.props.refNumber,app_code:r},o=new k.a;n.append("enc_data",o.encrypt(JSON.stringify(l))),w.a.post("verify-appcode",n).then((function(a){var n=JSON.parse(o.decrypt(a.data));console.log("decrypt",n),0==n.error?(e.setState({errorMsg:""}),t.setSubmitting(!1),e.props.reloadPage(!0)):(t.setSubmitting(!1),e.setState({otp:"",errorMsg:n.msg})),e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.generateOtp=function(){e.props.loadingStart();new FormData;var a=new k.a;e.setState({seconds:180,errorMsg:""}),w.a.get("sent-appcode/".concat(e.props.refNumber)).then((function(t){JSON.parse(a.decrypt(t.data));e.props.loadingStop()})).catch((function(a){e.setState({otp:""}),e.props.loadingStop()}))},e.coundown=function(){e.myInterval=setInterval((function(){e.setState((function(e){return{seconds:e.seconds-1}}))}),1e3)},e.changeError=function(){e.setState({errorMsg:""})},e}return Object(r.a)(t,[{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.generateOtp()}},{key:"render",value:function(){var e=this,a=this.state,t=a.otp,n=a.errorMsg;a.seconds,Object.assign(P,{otp:""});return i.a.createElement(h.e,{initialValues:P,onSubmit:this.checkOtp,validationSchema:D},(function(a){var r=a.values,l=a.errors,o=a.setFieldValue,s=a.setFieldTouched,c=(a.isValid,a.isSubmitting),m=a.touched;return e.state.disable=!0,""!=r.otp1&&""!=r.otp2&&""!=r.otp3&&""!=r.otp4&&""!=r.otp5&&(e.state.disable=!1),i.a.createElement(h.d,null,i.a.createElement("div",{className:"text-center boxotpmodl"},i.a.createElement("div",{className:"verfy"},"Digital consent form"),i.a.createElement("div",{className:"mobotp"},"An automated SMS & e-mail has been sent to customer with a Policy App code and Proposal link."),i.a.createElement("span",{className:"errorMsg"},t),i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"p-r-25"},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"appCodeRadio",value:"1",key:"1",checked:"1"==r.appCodeRadio,onChange:function(){s("appCodeRadio"),o("appCodeRadio","1")}}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"}," Call customer and enter Policy App Code")),l.appCodeRadio&&m.appCodeRadio?i.a.createElement("span",{className:"errorMsg"},l.appCodeRadio):null)),"1"==r.appCodeRadio?i.a.createElement("div",{className:"d-flex justify-content-center otpInputWrap mx-auto m-b-25"},i.a.createElement("div",{className:"insurerName"},i.a.createElement(h.b,{name:"otp",type:"text",autoComplete:"off",className:"premiumslid",value:r.otp,onFocus:function(a){return e.changePlaceHoldClassAdd(a)},onBlur:function(a){return e.changePlaceHoldClassRemove(a)},onChange:function(a){e.changeError(),o("otp",a.target.value)},tabIndex:"1",maxLength:"6"}),l.otp&&m.otp?i.a.createElement("span",{className:"errorMsg"},l.otp):null,n?i.a.createElement("span",{className:"errorMsg"},n):null)):null,i.a.createElement("div",{className:"text-center"},i.a.createElement(p.a,{className:"proceedBtn",type:"button",onClick:e.generateOtp},"ReGenerate App code"),"\xa0\xa0",i.a.createElement(p.a,{className:"proceedBtn",type:"submit"},c?"Wait..":"Submit"))))}))}}]),t}(c.Component),M=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(I)),B=t(37),A=t.n(B),O=t(61),x=t(20),H=t.n(x),R=t(3),L=t.n(R),j=t(97),F={gateway:""},q=function(e){Object(o.a)(c,e);var a=Object(s.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).additionalDetails=function(e){t.props.history.push("/AdditionalDetails_PCV_TP/".concat(e))},t.handleModal=function(){t.setState({show:!0})},t.handleSubmit=function(e){var a=t.state,n=a.refNumber,r=a.policyHolder,l=t.props.match.params.productId;Object(j.b)(e,r,n,l)},t.fetchData=function(){t.props.match.params.productId;var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("pcv-tp/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data));console.log("decrypt",n);var r=n.data.policyHolder?n.data.policyHolder.motorinsurance:{},l=n.data.policyHolder?n.data.policyHolder:[],o=n.data.policyHolder?n.data.policyHolder.vehiclebrandmodel:{},s=n.data.policyHolder?n.data.policyHolder.previouspolicy:{},c=n.data.policyHolder?n.data.policyHolder.request_data:{},i=n.data.policyHolder?n.data.policyHolder.step_no:"",m=n.data.policyHolder?n.data.policyHolder.bcmaster:{},d=n.data.policyHolder?n.data.policyHolder.menumaster:{},u=n.data.policyHolder&&n.data.policyHolder.bcmaster&&n.data.policyHolder.bcmaster.bcpayment;t.setState({motorInsurance:r,policyHolder:l,vehicleDetails:o,previousPolicy:s,request_data:c,step_completed:i,bcMaster:m,menumaster:d,paymentgateway:u,refNumber:n.data.policyHolder.reference_no,paymentStatus:n.data.policyHolder.payment?n.data.policyHolder.payment[0]:[],memberdetails:n.data.policyHolder?n.data.policyHolder:[],nomineedetails:n.data.policyHolder&&n.data.policyHolder.request_data.nominee?n.data.policyHolder.request_data.nominee[0]:[]}),t.fullQuote(r)})).catch((function(e){t.props.loadingStop()}))},t.fetchRequestData=function(){var e=t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",a=new k.a;w.a.get("pcv-tp/policy-holder/details/".concat(e)).then((function(e){var n=JSON.parse(a.decrypt(e.data)),r=n.data.policyHolder?n.data.policyHolder.request_data:{};t.setState({request_data:r})})).catch((function(e){t.props.loadingStop()}))},t.fullQuote=function(e){var a=new FormData,n=new k.a,r=t.state,l=(r.previousPolicy,r.request_data,r.policyHolder,e.trailers?e.trailers:null);l=l?JSON.parse(l):[];e&&e.policytype_id&&e.policytype_id;var o={ref_no:t.state.policyHolder_refNo?t.state.policyHolder_refNo:"0",id:localStorage.getItem("policyHolder_id"),idv_value:t.state.request_data.IDV_Suggested?t.state.request_data.IDV_Suggested:"0",policy_type:e.policy_type,add_more_coverage:e.add_more_coverage,PA_Cover:e&&e.pa_cover?e.pa_cover:"0",coverage_data:e&&null!=e.add_more_coverage_request_json?e.add_more_coverage_request_json:"",trailer_array:l};a.append("enc_data",n.encrypt(JSON.stringify(o))),w.a.post("pcv-tp/full-quote",a).then((function(e){e.data.PolicyObject?(t.setState({fulQuoteResp:e.data.PolicyObject,PolicyArray:e.data.PolicyObject.PolicyLobList,error:[]}),t.fetchRequestData()):e.data.ValidateResult?H()(e.data.ValidateResult.message):(t.setState({fulQuoteResp:[],error:e.data}),H()(e.data.msg)),t.props.loadingStop()})).catch((function(e){t.setState({serverResponse:[]}),t.props.loadingStop()}))},t.fetchRelationships=function(){t.props.loadingStart(),w.a.get("relations").then((function(e){var a=e.data.data?e.data.data:[];t.setState({relation:a}),t.fetchData()})).catch((function(e){t.props.loadingStop(),t.setState({relation:[]})}))},t.sendPaymentLink=function(){new k.a;var e=new FormData,a=localStorage.getItem("policyHolder_refNo")?localStorage.getItem("policyHolder_refNo"):0;e.append("reference_no",a),t.props.loadingStart(),w.a.post("send-payment-link",e).then((function(e){H()(e.data.msg),t.props.loadingStop()})).catch((function(e){t.props.loadingStop()}))},t.handleClose=t.handleClose.bind(Object(l.a)(t)),t.state={show:!1,paymentButton:!1,smsButton:!0,fulQuoteResp:[],motorInsurance:[],error:[],purchaseData:[],error1:[],refNumber:"",paymentStatus:[],accessToken:"",PolicyArray:[],memberdetails:[],nomineedetails:[],relation:[],policyHolder:[],step_completed:"0",vehicleDetails:[],previousPolicy:[],request_data:[],breakin_flag:0,policyHolder_refNo:A.a.parse(t.props.location.search).access_id?A.a.parse(t.props.location.search).access_id:localStorage.getItem("policyHolder_refNo")},t}return Object(r.a)(c,[{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"handleOtp",value:function(e){!0===e?this.setState({show:!1,paymentButton:!0,smsButton:!1}):this.setState({show:!1,paymentButton:!1,smsButton:!0})}},{key:"changePlaceHoldClassAdd",value:function(e){e.target.parentElement.classList.add("active")}},{key:"changePlaceHoldClassRemove",value:function(e){var a=e.target.parentElement;0===e.target.value.length&&a.classList.remove("active")}},{key:"componentDidMount",value:function(){this.fetchRelationships()}},{key:"render",value:function(){var e=this,a=this.state,n=(a.policyHolder,a.show),r=a.fulQuoteResp,l=a.motorInsurance,o=a.error,s=(a.error1,a.refNumber),c=a.paymentStatus,g=a.relation,b=a.memberdetails,N=a.paymentgateway,S=a.nomineedetails,w=a.vehicleDetails,k=a.breakin_flag,C=a.step_completed,P=a.paymentButton,D=a.smsButton,I=a.bcMaster,B=(a.menumaster,a.request_data),A=this.props.match.params.productId;console.log("vehicleDetails",w.varientmodel);var x=o&&o.message?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Thank you for showing your interest for buying product.Due to some reasons, we are not able to issue the policy online.Please call 1800 22 1111"))):null,H=c&&103==c.transaction_status?i.a.createElement("span",{className:"errorMsg"},i.a.createElement("h6",null,i.a.createElement("strong",null,"Payment failed. Please try again"))):null,R=localStorage.getItem("phrases")?JSON.parse(localStorage.getItem("phrases")):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,null,i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("aside",{className:"left-sidebar"},i.a.createElement("div",{className:"scroll-sidebar ps-container ps-theme-default ps-active-y"},i.a.createElement(E.a,null))),C>="4"&&"27"==w.vehicletype_id?i.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 infobox premiumMisd"},i.a.createElement("h4",{className:"text-center mt-3 mb-3"},R.SBIGICL),i.a.createElement(h.e,{initialValues:F,onSubmit:this.handleSubmit},(function(a){var n=a.values,o=(a.errors,a.setFieldValue);a.setFieldTouched,a.isValid,a.isSubmitting,a.touched;return i.a.createElement(h.d,null,i.a.createElement("section",{className:"brand m-t-11 m-b-25"},i.a.createElement("div",{className:"d-flex justify-content-left"},i.a.createElement("div",{className:"brandhead m-b-10"},i.a.createElement("h4",null,R.PremiumDetails," "))),i.a.createElement("div",{className:"brandhead m-b-30"},i.a.createElement("h5",null,x),i.a.createElement("h5",null,H),i.a.createElement("h4",null,R.PolRefNumber," ",r.QuotationNo)),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:12,lg:9},i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.PolicyDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy Start date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.start_date?L()(B.start_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Policy End Date:")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},B&&B.end_date?L()(B.end_date).format("DD-MM-yyy"):null)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},"Product Name:")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement("div",{className:"premamount"},w&&w.vehicletype?w.vehicletype.description:null)))))),i.a.createElement("div",{className:"rghtsideTrigr"},i.a.createElement(f.a,{trigger:R.RMPolicy,open:!0},i.a.createElement("div",{className:"listrghtsideTrigr"},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.Premium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.DuePremium?r.DuePremium:0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GrossPremium,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.BeforeVatPremium?Math.round(r.BeforeVatPremium):0)),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"motopremium"},R.GST,":")),i.a.createElement(d.a,{sm:12,md:3},i.a.createElement("div",{className:"premamount"},"\u20b9 ",r.TGST?Math.round(r.TGST):0)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.VehicleDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RegNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.registration_no))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Brand,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclebrand&&w.vehiclebrand.name?w.vehiclebrand.name:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Model)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.vehiclemodel&&w.vehiclemodel.description?w.vehiclemodel.description+" "+w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Variant)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.varient?w.varientmodel.varient:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ChasisNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.chasis_no?l.chasis_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EngineNumber)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,l&&l.engine_no?l.engine_no:""))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Fuel)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.fuel_type?O.a[parseInt(w.varientmodel.fuel_type)]:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Seating)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.seating?w.varientmodel.seating:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.BodyStyle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.bodystyle?w.varientmodel.bodystyle.DESCRIPTION:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.HorsePower)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,w&&w.varientmodel&&w.varientmodel.horse_power?w.varientmodel.horse_power+" BHP":null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IDVofVehicle)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,e.state.request_data.IDV_Suggested?parseInt(e.state.request_data.IDV_Suggested):null))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),i.a.createElement("div",null,i.a.createElement(m.a,null,i.a.createElement("p",null)))))),i.a.createElement("div",{className:"rghtsideTrigr m-b-30"},i.a.createElement(f.a,{trigger:R.MemberDetails},i.a.createElement("div",{className:"listrghtsideTrigr"},b?i.a.createElement("div",null,i.a.createElement("strong",null,"Owner Details "),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},"1"==l.policy_for?i.a.createElement(u.a,null,R.Name,":"):i.a.createElement(u.a,null,R.CompanyName,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.first_name))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b&&b.dob?Math.floor(L()().diff(b.dob,"years",!0)):null))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.IncorporationDate,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b?L()(b.date_of_incorporation).format("DD-MM-YYYY"):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.MobileNo,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.mobile))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.EmailId,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.email_id))),"1"==l.policy_for?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,"m"==b.gender?"Male":"Female"))):i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.GSTIN,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,b.gstn_no))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):i.a.createElement("p",null),"1"==l.policy_for&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.NomineeDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S?S.first_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Age,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.dob?Math.floor(L()().diff(S.dob,"years",!0)):null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.ProposerRelation,":")),i.a.createElement(d.a,{sm:12,md:6},S&&g.map((function(e,a){return e.id==S.relation_with?i.a.createElement(u.a,{key:a},e.name):null})))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Gender)),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&"m"==S.gender?"Male":"Female"))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null,"1"==l.policy_for&&S&&"1"==S.is_appointee&&"1"==l.pa_flag?i.a.createElement("div",null,i.a.createElement("strong",null,R.AppoDetails," :"),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.Name,":")),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,S&&S.appointee_name?S.appointee_name:null))),i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,R.RelationNominee,":")),i.a.createElement(d.a,{sm:12,md:6},S&&S.appointee_relation_with&&g.map((function(e,a){return e.id==S.appointee_relation_with?i.a.createElement(u.a,{key:a},e.name):null})))))),i.a.createElement(m.a,null,i.a.createElement("p",null))):null))),r.QuotationNo&&0==k?i.a.createElement(m.a,null,i.a.createElement(d.a,{sm:12,md:6}),i.a.createElement(d.a,{sm:12,md:6},i.a.createElement(u.a,null,i.a.createElement("div",{className:"paymntgatway"},R.SelectPayGateway,N&&N.length>0?N.map((function(e,a){return e.hasOwnProperty("paymentgateway")&&e.paymentgateway?i.a.createElement("div",{key:a},i.a.createElement("label",{className:"customRadio3"},i.a.createElement(h.b,{type:"radio",name:"gateway",value:a+1,key:a,onChange:function(a){o("gateway",a.target.value),o("slug",e.paymentgateway.slug)},checked:n.gateway=="".concat(a+1)}),i.a.createElement("span",{className:"checkmark "}),i.a.createElement("span",{className:"fs-14"},e.paymentgateway.logo?i.a.createElement("img",{src:t(137)("./"+e.paymentgateway.logo),alt:""}):null))):null})):null)))):null,i.a.createElement(m.a,null,"\xa0"),i.a.createElement("div",{className:"d-flex justify-content-left resmb"},i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.additionalDetails.bind(e,A)},R.Back),I&&1==I.eligible_for_payment_link&&0==k?i.a.createElement("div",null,i.a.createElement(p.a,{type:"button",className:"proceedBtn",onClick:e.sendPaymentLink.bind(e)},"  ",R.PaymentLink,"  "),"\xa0\xa0\xa0\xa0"):null,!0===D&&0==k?i.a.createElement(p.a,{className:"backBtn",type:"button",onClick:e.handleModal.bind(e)},R.SendSMS):null,r.QuotationNo&&0==k&&""!=n.gateway&&!0===P?i.a.createElement(p.a,{type:"submit",className:"proceedBtn"},"Make Payment"):null)),i.a.createElement(d.a,{sm:12,md:3,lg:3},i.a.createElement("div",{className:"motrcar"},i.a.createElement("img",{src:t(171),alt:""}))))))})),i.a.createElement(_.a,{className:"",bsSize:"md",show:n,onHide:this.handleClose},i.a.createElement("div",{className:"otpmodal"},i.a.createElement(_.a.Header,{closeButton:!0}),i.a.createElement(_.a.Body,null,i.a.createElement(M,{quoteNo:r.QuotationNo,duePremium:r.DuePremium,refNumber:s,reloadPage:function(a){return e.handleOtp(a)}}))))):""==C?"Forbidden":null,i.a.createElement(y.a,null))))))}}]),c}(c.Component);a.default=Object(b.g)(Object(S.b)((function(e){return{loading:e.loader.loading}}),(function(e){return{loadingStart:function(){return e(Object(N.a)())},loadingStop:function(){return e(Object(N.b)())}}}))(q))},922:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"f",(function(){return o})),t.d(a,"e",(function(){return s})),t.d(a,"c",(function(){return c})),t.d(a,"d",(function(){return i})),t.d(a,"a",(function(){return m})),t.d(a,"g",(function(){return d}));var n=t(11),r=t(24),l=function(e){return function(a){a({type:r.i,payload:{start_date:e.start_date,end_date:e.end_date,policy_holder_id:e.policy_holder_id,policy_holder_ref_no:e.policy_holder_ref_no,request_data_id:e.request_data_id,completed_step:e.completed_step,menumaster_id:e.menumaster_id,payment_link_status:e.payment_link_status}})}},o=function(e){return function(a){a({type:r.m,payload:{start_date:e.start_date,end_date:e.end_date}})}},s=function(e){return function(a){var t;a({type:r.l,payload:(t={house_building_name:e.house_building_name,block_no:e.block_no,content_sum_insured:e.content_sum_insured,house_flat_no:e.house_flat_no,pincode:e.pincode,pincode_id:e.pincode_id,buildings_sum_insured:e.buildings_sum_insured},Object(n.a)(t,"content_sum_insured",e.content_sum_insured),Object(n.a)(t,"stock_sum_insured",e.stock_sum_insured),t)})}},c=function(e){return function(a){a({type:r.j,payload:{Commercial_consideration:e.Commercial_consideration,previous_start_date:e.previous_start_date,previous_end_date:e.previous_end_date,Previous_Policy_No:e.Previous_Policy_No,insurance_company_id:e.insurance_company_id,previous_city:e.previous_city}})}},i=function(e){return function(a){a({type:r.k,payload:{first_name:e.first_name,last_name:e.last_name,salutation_id:e.salutation_id,date_of_birth:e.date_of_birth,email_id:e.email_id,mobile:e.mobile,gender:e.gender,gstn_no:e.gstn_no,pan_no:e.pan_no,com_street_name:e.com_street_name,com_plot_no:e.com_plot_no,com_building_name:e.com_building_name,com_pincode:e.com_pincode,com_pincode_id:e.com_pincode_id,com_block_no:e.com_block_no,com_house_flat_no:e.com_house_flat_no}})}},m=function(e){return function(a){a({type:r.e,payload:{com_street_name:e.street_name,com_plot_no:e.plot_no,com_building_name:e.building_name,com_pincode:e.pincode,com_pincode_id:e.pincode_id,com_block_no:e.block_no,com_house_flat_no:e.house_flat_no}})}},d=function(e){return function(a){a({type:r.v,payload:{receipt_no:e.receipt_no,quoteNo:e.quoteNo}})}}},929:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"f",(function(){return l})),t.d(a,"e",(function(){return o})),t.d(a,"c",(function(){return s})),t.d(a,"d",(function(){return c})),t.d(a,"a",(function(){return i}));var n=t(24),r=function(e){return function(a){a({type:n.o,payload:{start_date:e.start_date,end_date:e.end_date,policy_holder_id:e.policy_holder_id,policy_holder_ref_no:e.policy_holder_ref_no,request_data_id:e.request_data_id,completed_step:e.completed_step,menumaster_id:e.menumaster_id,payment_link_status:e.payment_link_status}})}},l=function(e){return function(a){a({type:n.s,payload:{start_date:e.start_date,end_date:e.end_date}})}},o=function(e){return function(a){a({type:n.r,payload:{shop_building_name:e.shop_building_name,block_no:e.block_no,house_flat_no:e.house_flat_no,pincode:e.pincode,pincode_id:e.pincode_id,buildings_si:e.buildings_si,plant_machinary_si:e.plant_machinary_si,furniture_fixture_si:e.furniture_fixture_si,stock_raw_mat:e.stock_raw_mat,finish_goods:e.finish_goods,stock_wip:e.stock_wip,content_sum_insured:e.content_sum_insured,stock_sum_insured:e.stock_sum_insured}})}},s=function(e){return function(a){a({type:n.p,payload:{Commercial_consideration:e.Commercial_consideration,previous_start_date:e.previous_start_date,previous_end_date:e.previous_end_date,Previous_Policy_No:e.Previous_Policy_No,insurance_company_id:e.insurance_company_id,address:e.address,financial_party:e.financial_party,is_claim:e.is_claim,previous_policy_check:e.previous_policy_check,financial_modgaged:e.financial_modgaged,financer_name:e.financer_name}})}},c=function(e){return function(a){a({type:n.q,payload:{first_name:e.first_name,last_name:e.last_name,salutation_id:e.salutation_id,date_of_birth:e.date_of_birth,email_id:e.email_id,mobile:e.mobile,gender:e.gender,gstn_no:e.gstn_no,pan_no:e.pan_no,com_street_name:e.com_street_name,com_plot_no:e.com_plot_no,com_building_name:e.com_building_name,com_pincode:e.com_pincode,com_pincode_id:e.com_pincode_id,com_block_no:e.com_block_no,com_house_flat_no:e.com_house_flat_no}})}},i=function(e){return function(a){a({type:n.n,payload:{com_pincode:e.pincode,com_pincode_id:e.pincode_id}})}}}}]);